import{B as A,m as O,u as R,r as p,a,g as l,q as d,w,s as h,F as c,N as U,o as n,H,b as e,e as Y,v as E,x as G,t as r,i as u,h as P,n as W,L as J}from"./app.db3c5b1f.js";import{_ as K}from"./AuthenticatedLayout.7b3c75da.js";import{_ as M}from"./TextInput.41c95fc1.js";import{p as Q}from"./print.ab93e2fe.js";import{t as X}from"./trash.d5d0b0b2.js";import{e as Z}from"./edit.e9b158eb.js";import{M as ee}from"./ModalDelCar.5e2390f9.js";import{a as I}from"./index.bfdbbc3c.js";/* empty css                                                                 *//* empty css                                                       */import{W as te}from"./v3-infinite-loading.es.2c2e6b43.js";import{d as se}from"./debounce.c8748994.js";import"./_plugin-vue_export-helper.cdc0426e.js";/* empty css                                                    */const oe={key:0,class:"py-2"},re={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},ae={class:"bg-white overflow-hidden shadow-sm"},le={class:"p-6 dark:bg-gray-900"},de={class:"flex flex-col"},ne={class:"grid grid-cols-2 md:grid-cols-5 lg:grid-cols-5 gap-2 lg:gap-1"},ie={class:"flex items-center max-w-5xl mt-1"},pe={class:"relative w-full"},ce={class:"px-4"},ue={class:"px-4"},xe={className:" mr-5 print:hidden"},ye={key:0},ge={key:1},be={className:" mr-5 print:hidden"},_e=["href"],me={key:0},he={key:1},fe={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},ve={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},ke={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},we={scope:"col",class:"px-1 py-3 text-base"},Ce={scope:"col",class:"px-1 py-3 text-base"},$e={scope:"col",class:"px-1 py-3 text-base"},Ne={scope:"col",class:"px-1 py-3 text-base"},De={scope:"col",class:"px-1 py-3 text-base"},Me={scope:"col",class:"px-1 py-3 text-base"},Ie={scope:"col",class:"px-1 py-3 text-base"},Be={scope:"col",class:"px-1 py-3 text-base"},Se={scope:"col",class:"px-1 py-3 text-base"},Ve={scope:"col",class:"px-1 py-3 text-base"},Le={scope:"col",class:"px-1 py-3 text-base"},qe={scope:"col",class:"px-1 py-3 text-base"},Fe={scope:"col",class:"px-1 py-3 text-base"},Te={scope:"col",class:"px-1 py-3 text-base",style:{width:"150px"}},je={className:"border dark:border-gray-800 text-center px-1 py-2 "},ze={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ae={className:"border dark:border-gray-800 text-center px-1 py-2 "},Oe={className:"border dark:border-gray-800 text-center px-1 py-2 "},Re={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ue={className:"border dark:border-gray-800 text-center px-1 py-2 "},He={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ye={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ee={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ge={className:"border dark:border-gray-800 text-center px-1 py-2 "},Pe={className:"border dark:border-gray-800 text-center px-1 py-2 "},We={className:"border dark:border-gray-800 text-center px-1 py-2 "},Je={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ke={className:"border dark:border-gray-800 text-center px-1 py-2 "},Qe={className:"border dark:border-gray-800 text-center px-1 py-2 "},Xe={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ze={className:"border dark:border-gray-800 text-center px-1 py-2 "},et={className:"border dark:border-gray-800 text-start px-1 py-2"},tt=["onClick"],st=["href"],ot={class:"spaner"},rt={class:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-4 lg:grid-cols-5 xl:grid-cols-7"},at={class:"flex items-start rounded-xl dark:bg-gray-600 dark:text-gray-300 bg-white p-4 shadow-lg"},lt={class:"mr-4"},dt={class:"mt-2 text-sm text-gray-500 dark:text-gray-200"},wt={__name:"index",props:{client:Array,user:String,showBrokerage:{type:Boolean,default:!1}},setup(B){A();const C=B,x=O(()=>C.showBrokerage),S=R();p(!1),p(!1),p(!1);let y=p(!1);p(0);let $=p(0),g=p(T()),b=p(F());const N=p({}),m=p([]);let f=p(!1),V=0,v=1,_=C.user;const k=()=>{v=0,m.value.length=0,f.value=!f.value},L=async o=>{console.log(o);try{const t=await I.get("/api/getIndexContractCar",{params:{limit:100,page:v,q:_,from:g.value,to:b.value,user_id:V}}),i=t.data;$.value=t.data.total,i.data.length<100?(m.value.push(...i.data),o.complete()):(m.value.push(...i.data),o.loaded()),v++}catch(t){console.log(t)}};function q(o){I.post("/api/DelCarContract",o).then(t=>{y.value=!1,S.success("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0639\u0642\u062F \u0628\u0646\u062C\u0627\u062D",{timeout:3e3,position:"bottom-right",rtl:!0}),k()}).catch(t=>{console.error(t)})}const D=se(k,500);function F(){const o=new Date,t=o.getFullYear(),i=String(o.getMonth()+1).padStart(2,"0"),s=String(o.getDate()).padStart(2,"0");return`${t}-${i}-${s}`}function T(){const o=new Date,t=o.getFullYear(),i=String(o.getMonth()+1).padStart(2,"0");return`${t}-${i}-01`}function j(o){N.value=o,y.value=!0}return(o,t)=>{const i=U("InputLabel");return n(),a(c,null,[l(d(H),{title:"Dashboard"}),l(ee,{show:!!d(y),formData:N.value,onA:t[0]||(t[0]=s=>q(s)),onClose:t[1]||(t[1]=s=>h(y)?y.value=!1:y=!1)},{header:w(()=>[...t[7]||(t[7]=[e("h2",{class:"my-5 dark:text-white text-center"},"\u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0639\u0642\u062F \u061F",-1)])]),_:1},8,["show","formData"]),l(K,null,{default:w(()=>[o.$page.props.auth.user.type_id==8?(n(),a("div",oe,[e("div",re,[e("div",ae,[e("div",le,[e("div",de,[e("div",ne,[e("div",null,[e("form",ie,[t[9]||(t[9]=e("label",{class:"dark:text-gray-200",for:"simple-search"},null,-1)),e("div",pe,[t[8]||(t[8]=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[e("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-200 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),Y(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>h(_)?_.value=s:_=s),onInput:t[3]||(t[3]=(...s)=>d(D)&&d(D)(...s)),type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"\u0628\u062D\u062B",required:""},null,544),[[E,d(_)]])])])]),e("div",ce,[e("div",null,[l(i,{for:"from",value:"\u0645\u0646 \u062A\u0627\u0631\u064A\u062E"}),l(M,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:d(g),"onUpdate:modelValue":t[4]||(t[4]=s=>h(g)?g.value=s:g=s)},null,8,["modelValue"])])]),e("div",ue,[e("div",null,[l(i,{for:"to",value:"\u062D\u062A\u0649 \u062A\u0627\u0631\u064A\u062E"}),l(M,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:d(b),"onUpdate:modelValue":t[5]||(t[5]=s=>h(b)?b.value=s:b=s)},null,8,["modelValue"])])]),e("div",xe,[l(i,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),e("button",{onClick:t[6]||(t[6]=G(s=>{k(),o.getcountTotalInfo()},["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},[o.isLoading?(n(),a("span",ge,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(n(),a("span",ye,"\u0641\u0644\u062A\u0631\u0629"))])]),e("div",be,[l(i,{for:"pay",value:"\u062A\u0642\u0631\u064A\u0631 \u0627\u0644\u0639\u0642\u0648\u062F"}),e("a",{class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-blue-500 rounded",style:{display:"block","text-align":"center"},href:`api/contract_account_report?type=contract-report&from=${d(g)}&to=${d(b)}&print=2&q=${d(_)}`,target:"_blank"},[o.isLoading?(n(),a("span",he,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(n(),a("span",me,"\u0637\u0628\u0627\u0639\u0629"))],8,_e)])]),e("div",null,[t[14]||(t[14]=e("div",null,null,-1)),e("div",fe,[e("table",ve,[e("thead",ke,[e("tr",null,[t[12]||(t[12]=e("th",{scope:"col",class:"px-1 py-3 text-base"},"no",-1)),e("th",we,r(o.$t("seller")),1),x.value?(n(),a(c,{key:0},[e("th",Ce,r(o.$t("debt")),1),e("th",$e,r(o.$t("debtInDinars")),1)],64)):u("",!0),e("th",Ne,r(o.$t("car_type")),1),e("th",De,r(o.$t("vin")),1),e("th",Me,r(o.$t("color")),1),e("th",Ie,r(o.$t("carPrice")),1),e("th",Be,r(o.$t("paid")),1),e("th",Se,r(o.$t("remaining")),1),e("th",Ve,r(o.$t("Buyer")),1),x.value?(n(),a(c,{key:1},[e("th",Le,r(o.$t("debt")),1),e("th",qe,r(o.$t("debtInDinars")),1)],64)):u("",!0),x.value?(n(),a(c,{key:2},[t[10]||(t[10]=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0648\u0627\u0635\u0644 \u062F\u0648\u0644\u0627\u0631 ",-1)),t[11]||(t[11]=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0648\u0627\u0635\u0644 \u062F\u064A\u0646\u0627\u0631 ",-1))],64)):u("",!0),e("th",Fe,r(o.$t("note")),1),t[13]||(t[13]=e("th",{scope:"col",class:"px-1 py-3 text-base"},"\u0628\u062A\u0627\u0631\u064A\u062E",-1)),e("th",Te,r(o.$t("execute")),1)])]),e("tbody",null,[(n(!0),a(c,null,P(m.value,(s,z)=>(n(),a("tr",{key:s.id,class:W([s.status==0?"":s.status==1?"bg-red-100 dark:bg-red-900":"bg-green-100 dark:bg-green-900","bg-white border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[e("td",je,r(z+1),1),e("td",ze,r(s.name_seller),1),x.value?(n(),a(c,{key:0},[e("td",Ae,r(s.tex_seller-s.tex_seller_paid),1),e("td",Oe,r(s.tex_seller_dinar-s.tex_seller_dinar_paid),1)],64)):u("",!0),e("td",Re,r(s.car_name),1),e("td",Ue,r(s.vin),1),e("td",He,r(s.color),1),e("td",Ye,r(s.car_price),1),e("td",Ee,r(s.car_paid),1),e("td",Ge,r(s.car_price-s.car_paid),1),e("td",Pe,r(s.name_buyer),1),x.value?(n(),a(c,{key:1},[e("td",We,r(s.tex_buyer-s.tex_buyer_paid),1),e("td",Je,r(s.tex_buyer_dinar-s.tex_buyer_dinar_paid),1)],64)):u("",!0),x.value?(n(),a(c,{key:2},[e("td",Ke,r(s.tex_seller_paid+s.tex_buyer_paid),1),e("td",Qe,r(s.tex_seller_dinar_paid+s.tex_buyer_dinar_paid),1)],64)):u("",!0),e("td",Xe,r(s.system_note),1),e("td",Ze,r(s.created_at.slice(0,10)),1),e("td",et,[l(d(J),{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-slate-500 rounded inline-flex",href:`/contract/${s.id}`},{default:w(()=>[l(Z)]),_:1},8,["href"]),e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-orange-500 rounded",onClick:nt=>j(s)},[l(X)],8,tt),e("a",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-blue-600 rounded inline-flex",href:`/contract_print/${s.id}`,target:"_blank"},[l(Q)],8,st)])],2))),128))])])])]),e("div",ot,[l(d(te),{car:m.value,onInfinite:L,identifier:d(f)},null,8,["car","identifier"])]),e("div",null,[e("div",rt,[e("div",at,[t[16]||(t[16]=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-full border border-red-100 bg-red-50"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1)),e("div",lt,[t[15]||(t[15]=e("h2",{class:"font-semibold"},"\u062C\u0645\u064A\u0639 \u0627\u0644\u0639\u0642\u0648\u062F",-1)),e("p",dt,r(d($)),1)])])])])])])])])])):u("",!0),t[17]||(t[17]=e("div",null,null,-1))]),_:1})],64)}}};export{wt as default};
