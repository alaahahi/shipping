import{o as d,c as pe,w as $,a as u,b as e,f as rt,t as l,d as ge,e as F,v as V,i as v,T as be,x as ye,r as c,m as fe,E as ve,u as xe,g as n,j as s,F as Y,H as he,k as x,A as _e,h as st,l as Q,s as ke,n as we}from"./app.6263fc0a.js";import{a as $e,_ as De}from"./AuthenticatedLayout.e2ac5138.js";import{M as Ce}from"./Modal.303e4965.js";import{t as Ne}from"./laravel-vue-pagination.es.59cb8e95.js";import{_ as f}from"./InputLabel.1547050e.js";import{_ as h}from"./TextInput.7b775f55.js";import{a as w}from"./index.31e92846.js";import{M as dt}from"./ModalDelCar.22316a92.js";import{_ as Ae}from"./ModalEditCar_S.0ac18018.js";import{_ as Me}from"./ModalAddCarPayment.cdfd3605.js";import{_ as Pe,a as Se,b as Ie,c as Fe,e as Ee}from"./exit.cad3abbc.js";import{p as it}from"./print.4e2b4d19.js";import{p as Et}from"./pay.e4bd3809.js";import{t as Te}from"./trash.4c969891.js";import{e as Be}from"./edit.0f736919.js";import{s as Ue}from"./show.d27607ea.js";import{n as Ve}from"./new.75eabbb5.js";import"./lodash.69fa09b4.js";/* empty css                                              *//* empty css                                                    */import"./Uploader.43651ac7.js";/* empty css                                                                 *//* empty css                                                       */const je={key:0,class:"modal-mask"},qe={class:"modal-wrapper max-h-[80vh]"},He={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},Re={class:"modal-header text-center py-4 dark:text-gray-300"},ze={class:"modal-body"},Le={class:"grid grid-cols-2 gap-3 lg:gap-2"},Oe={class:"mb-4 mx-5"},We={class:"mb-4 mx-5"},Ye={class:"mb-4 mx-5"},Ze={class:"mb-4 mx-5"},Ge={class:"mb-4 mx-5"},Je={class:"mb-4 mx-5"},Ke={class:"mb-4 mx-5"},Qe={class:"mb-4 mx-5"},Xe={class:"modal-footer my-2"},to={class:"flex flex-row"},eo={class:"basis-1/2 px-4"},oo={class:"basis-1/2 px-4"},ao=["disabled"],so={__name:"ModalShowDriving",props:{show:Boolean,formDriving:Object},setup(m){return(p,r)=>(d(),pe(be,{name:"modal"},{default:$(()=>[m.show?(d(),u("div",je,[e("div",qe,[e("div",He,[e("div",Re,[rt(" \u062A\u062E\u0648\u064A\u0644 \u0642\u064A\u0627\u062F\u0629 "+l(m.formDriving.car_typeDriving)+" "+l(m.formDriving.yearDriving)+" "+l(m.formDriving.car_colorDriving)+" \u0631\u0642\u0645 \u0634\u0627\u0646\u0635\u0649 "+l(m.formDriving.vinDriving)+" ",1),ge(p.$slots,"header")]),e("div",ze,[e("div",Le,[e("div",Oe,[r[10]||(r[10]=e("label",{class:"dark:text-gray-200",for:"amountTotal"},"\u0627\u0644\u0627\u0633\u0645 \u0643\u0627\u0645\u0644",-1)),F(e("input",{id:"amountTotal",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":r[0]||(r[0]=y=>m.formDriving.nameDriving=y)},null,512),[[V,m.formDriving.nameDriving]])]),e("div",We,[r[11]||(r[11]=e("label",{class:"dark:text-gray-200",for:"carType"},"\u0627\u0644\u0633\u064A\u0627\u0631\u0629",-1)),F(e("input",{id:"carType",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":r[1]||(r[1]=y=>m.formDriving.car_typeDriving=y)},null,512),[[V,m.formDriving.car_typeDriving]])]),e("div",Ye,[r[12]||(r[12]=e("label",{class:"dark:text-gray-200",for:"vin"},"\u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0646\u0635\u064A",-1)),F(e("input",{id:"vin",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":r[2]||(r[2]=y=>m.formDriving.vinDriving=y)},null,512),[[V,m.formDriving.vinDriving]])]),e("div",Ze,[r[13]||(r[13]=e("label",{class:"dark:text-gray-200",for:"carNumber"},"\u0631\u0642\u0645 \u0627\u0644\u0633\u064A\u0627\u0631\u0629",-1)),F(e("input",{id:"carNumber",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":r[3]||(r[3]=y=>m.formDriving.car_numberDriving=y)},null,512),[[V,m.formDriving.car_numberDriving]])]),e("div",Ge,[r[14]||(r[14]=e("label",{class:"dark:text-gray-200",for:"color"},"\u0627\u0644\u0644\u0648\u0646",-1)),F(e("input",{id:"color",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":r[4]||(r[4]=y=>m.formDriving.car_colorDriving=y)},null,512),[[V,m.formDriving.car_colorDriving]])]),e("div",Je,[r[15]||(r[15]=e("label",{class:"dark:text-gray-200",for:"model"},"\u0645\u0648\u062F\u064A\u0644",-1)),F(e("input",{id:"model",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":r[5]||(r[5]=y=>m.formDriving.yearDriving=y)},null,512),[[V,m.formDriving.yearDriving]])]),e("div",Ke,[r[16]||(r[16]=e("label",{class:"dark:text-gray-200",for:"exitDate"},"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062A\u062E\u0648\u064A\u0644",-1)),F(e("input",{id:"exitDate",type:"date",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":r[6]||(r[6]=y=>m.formDriving.createdDriving=y)},null,512),[[V,m.formDriving.createdDriving]])])]),e("div",Qe,[r[17]||(r[17]=e("label",{class:"dark:text-gray-200",for:"note"},"\u062A\u062E\u0648\u064A\u0644 \u0627\u0644\u0642\u064A\u0627\u062F\u0629",-1)),F(e("textarea",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":r[7]||(r[7]=y=>m.formDriving.noteDriving=y)},null,512),[[V,m.formDriving.noteDriving]])])]),e("div",Xe,[e("div",to,[e("div",eo,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:r[8]||(r[8]=y=>{p.$emit("close")})},l(p.$t("cancel")),1)]),e("div",oo,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:r[9]||(r[9]=y=>p.$emit("a",m.formDriving)),disabled:!m.formDriving.noteDriving},l(p.$t("yes")),9,ao)])])])])])])):v("",!0)]),_:3}))}},ro={},lo={class:"w-6 h-6 text-white dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"};function no(m,p){return d(),u("svg",lo,[...p[0]||(p[0]=[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7h1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V5a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h11.5M7 14h6m-6 3h6m0-10h.5m-.5 3h.5M7 7h3v3H7V7Z"},null,-1)])])}const io=$e(ro,[["render",no]]);const uo={class:"mb-5 dark:text-gray-400 text-center"},mo={class:"mb-5 dark:text-gray-400 text-center"},co={key:0},po={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},go={class:"ml-3 text-sm font-medium text-red-700 dark:text-red-800"},bo={key:1,class:"py-4"},yo={class:"text-center pb-2 dark:text-gray-400"},fo={class:"max-w-9xl mx-auto sm:px-6 lg:px-8 p-6 dark:bg-gray-900"},vo={class:"overflow-hidden shadow-sm sm:rounded-lg"},xo={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 lg:gap-1"},ho={class:"pr-4"},_o={value:"undefined",disabled:""},ko=["value"],wo={className:"mb-4  mr-5"},$o={class:"flex items-center ps-4 rounded-lg border border-gray-300 text-gray-900 mt-1"},Do=["value","checked"],Co={for:"bordered-checkbox-1",class:"w-full pt-3 py-2 mx-4 text-sm font-medium text-gray-900 dark:text-gray-300"},No={class:"px-4"},Ao={className:"mb-4 mx-5"},Mo={class:"px-4"},Po={className:"mb-4 mx-5"},So={className:"mb-4  mr-5 print:hidden"},Io={className:"mb-4  mr-5 print:hidden"},Fo=["href"],Eo={className:"mb-4  mr-5 print:hidden"},To=["href"],Bo={className:"mb-4  mr-5"},Uo={className:"mb-4  mr-5"},Vo={className:"mb-4  mr-5"},jo={className:"mb-4  mr-5"},qo={className:"mb-4  mr-5"},Ho={key:0,className:"mb-4  mr-5 print:hidden"},Ro=["disabled"],zo=["disabled"],Lo={className:"mb-4  mr-5 print:hidden"},Oo=["disabled"],Wo={key:1,className:"mb-4  mr-5"},Yo={className:"mb-4  mr-5"},Zo={className:"mb-4  mr-5"},Go={className:"mb-4  mr-5"},Jo={className:"mb-4  mr-5"},Ko={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 lg:gap-1"},Qo={className:"mb-4  mr-5"},Xo={className:"mb-4  mr-5"},ta={className:"mb-4  mr-5"},ea={className:"mb-4  mr-5 print:hidden"},oa=["disabled"],aa={key:0},sa={key:1},ra={key:2},la={key:1,class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},na={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},da={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},ia={class:"bg-rose-500 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},ua={className:"px-1 py-2 text-base"},ma={className:"px-1 py-2 text-base"},ca={className:"px-1 py-2 text-base"},pa={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},ga={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ba={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ya=["href"],fa={key:0,class:"text-center"},va={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},xa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ha={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},_a={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ka={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},wa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},$a=["href"],Da={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ca={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Na={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},Aa={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},Ma={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Pa={class:"rounded-l-lg mb-2 sm:mb-0"},Sa={scope:"col",class:"px-1 py-2 text-base"},Ia={scope:"col",class:"px-1 py-2 text-base"},Fa={scope:"col",class:"px-1 py-2 text-base"},Ea={scope:"col",class:"px-1 py-2 text-base"},Ta={scope:"col",class:"px-1 py-2 text-base"},Ba={scope:"col",class:"px-1 py-2 text-base"},Ua={scope:"col",class:"px-1 py-2 text-base"},Va={scope:"col",class:"px-1 py-2 text-base"},ja={scope:"col",class:"px-1 py-2 text-base print:hidden"},qa={scope:"col",class:"px-1 py-2 text-base print:hidden"},Ha={scope:"col",class:"px-1 py-2 text-base"},Ra={scope:"col",class:"px-1 py-2 text-base"},za={scope:"col",class:"px-1 py-2 text-base"},La={scope:"col",class:"px-1 py-2 text-base"},Oa={scope:"col",class:"px-1 py-2 text-base"},Wa={scope:"col",class:"px-1 py-2 text-base"},Ya={scope:"col",class:"px-1 py-2 text-base"},Za={scope:"col",class:"px-1 py-2 text-base"},Ga={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},Ja={className:"border dark:border-gray-800 text-center px-2 py-1"},Ka={className:"border dark:border-gray-800 text-center px-2 py-1"},Qa={className:"border dark:border-gray-800 text-center px-2 py-1"},Xa={className:"border dark:border-gray-800 text-center px-2 py-1"},ts={className:"border dark:border-gray-800 text-center px-2 py-1"},es={className:"border dark:border-gray-800 text-center px-2 py-1"},os={className:"border dark:border-gray-800 text-center px-2 py-1"},as={className:"border dark:border-gray-800 text-center px-2 py-1"},ss={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},rs={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},ls={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},ns={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},ds={className:"border dark:border-gray-800 text-center px-2 py-1"},is={className:"border dark:border-gray-800 text-center px-2 py-1"},us={className:"border dark:border-gray-800 text-center px-2 py-1"},ms={className:"border dark:border-gray-800 text-center px-2 py-1"},cs={className:"border dark:border-gray-800 text-center px-2 py-1"},ps={className:"border dark:border-gray-800 text-center px-2 py-1"},gs={className:"border dark:border-gray-800 text-center px-2 py-1"},bs={className:"border dark:border-gray-800 text-center px-1 py-2 "},ys={className:"border dark:border-gray-800 text-center px-2 py-1"},fs={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},vs=["onClick"],xs=["onClick"],hs=["onClick"],_s=["onClick"],ks=["onClick"],ws=["onClick"],$s=["onClick"],Ds=["onClick"],Cs=["href"],Ns={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},As=["href"],Ms=["src"],Ps={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},Ss=["onClick"],Is=["onClick"],Fs={class:"mt-3 text-center",style:{direction:"ltr"}},Es={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 dark:text-gray-400 hidden print:block"},Ts={class:"flex flex-row"},Bs={class:"basis-1/2"},lr={__name:"Show",props:{url:String,clients:Array,client_id:String,client:Object,q:String},setup(m){let p=ye();c(0);let r=c({}),y=c(0),N=c(0),A=c(0),et=1,B=c(!1),Z=c(!1),G=c(!1),j=c(!1),lt=c(!1),q=c(!1),_=c(!1),H=c(!1),R=c(!1),z=c(!1),ot=c(!1),L=c(!1);c(0);let g=c({}),S=c({}),U=c(0),O=c(""),M=c(0),D=c(0);c(0);let J=c(!1),K=c(!1);const E=m;let X=async(a=1)=>{w.get(`/api/getIndexAccountsSelas?page=${a}&user_id=${E.client_id}&from=${N.value}&to=${A.value}`).then(t=>{r.value=t.data,D.value=t.data.client.id,de(t.data.cars_sum)}).catch(t=>{console.error(t)})};function I(){let a="",t="";try{a=r.value.transactions.filter(i=>i.type==="out"&&i.amount<0&&i.is_pay===1)}catch{}try{t=a.reduce((i,b)=>i+b.amount,0)}catch{}return{totalAmount:t}}function Tt(a={}){g.value=a,J.value=!0}function Bt(a={}){g.value=a,K.value=!0}function Ut(a){var t,i;a.balance=I().totalAmount*-1-((t=r.value)==null?void 0:t.cars_paid)-((i=r.value)==null?void 0:i.cars_discount),w.post("/api/AddPayFromBalanceCar",a).then(b=>{J.value=!1,P()}).catch(b=>{console.error(b)})}function Vt(a){w.post("/api/DelPayFromBalanceCar",a).then(t=>{K.value=!1,P()}).catch(t=>{console.error(t)})}const P=async(a=1)=>{w.get(`/api/getIndexAccountsSelas?page=${a}&user_id=${D.value}&from=${N.value}&to=${A.value}`).then(t=>{r.value=t.data,D.value=t.data.client.id}).catch(t=>{console.error(t)})};fe(()=>{X()}),ve(()=>E.client_id,(a,t)=>{a&&a!==t&&(N.value=0,A.value=0,B.value=!1,q.value=!1,_.value=!1,M.value=0,U.value=0,O.value="",et=1,X())},{immediate:!1});const jt=xe();let T=c(!1);function qt(a){jt.get(route("sentToCourt",a)),X(),T.value=!1}function Ht(a={}){g.value=a,G.value=!0}function Rt(a={}){g.value=a,g.value.dinar_s==0&&(g.value.dinar_s=g.value.dinar),Z.value=!0}function zt(a={}){g.value=a,g.value.notePayment=" \u0628\u064A\u062F ",j.value=!0}function Lt(a){w.post("/api/DelCar",a).then(t=>{G.value=!1,p.success("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),P()}).catch(t=>{console.error(t),p.error("\u0641\u0634\u0644 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Ot(a){Z.value=!1,w.post("/api/updateCarsS",a).then(t=>{T.value=!1,p.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),P()}).catch(t=>{p.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),P()})}function Wt(a){var t,i;a.discountPayment||(a.discountPayment=0),w.get(`/api/addPaymentCar?car_id=${a.id}&discount=${a.discountPayment}&amount=${(t=a.amountPayment)!=null?t:0}&note=${(i=a.notePayment)!=null?i:""}`).then(b=>{j.value=!1,p.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+a.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),P();let k=b.data;window.open(`/api/getIndexAccountsSelas?user_id=${E.client_id}&print=2&transactions_id=${k.id}`,"_blank")}).catch(b=>{T.value=!1,console.log(b),p.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Yt(a,t,i,b){y.value=!0,w.get(`/api/addPaymentCarTotal?amount=${a!=null?a:0}&discount=${i!=null?i:0}&note=${b}&client_id=${t!=null?t:0}`).then(k=>{j.value=!1,p.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+a+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),B.value=!1,y.value=!1,P(),Zt();let W=k.data;window.open(`/api/getIndexAccountsSelas?user_id=${E.client_id}&print=2&transactions_id=${W.id}`,"_blank")}).catch(k=>{console.log(k),T.value=!1,y.value=!1,p.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Zt(){M.value=0,U.value=0,O.value=""}function Gt(){B.value=!0,q.value=!1}function Jt(){B.value=!1}function Kt(){q.value=!0,B.value=!1}function Qt(){q.value=!1}function Xt(a={}){g.value=a,g.value.prices=100,g.value.price_dinars=5e4,H.value=!0}function te(a={}){g.value=formshowModalShowExitCar,R.value=!0}function ee(a={}){g.value=a,g.value.createdExit=mt(),z.value=!0}function oe(a={}){g.value=a.value=!0}function ae(a={}){S.value.car_typeDriving=a.car_type,S.value.yearDriving=a.year,S.value.car_colorDriving=a.car_color,S.value.vinDriving=a.vin,S.value.nameDriving=E.client.name,S.value.clientIdDriving=D.value,S.value.car_numberDriving=a.car_number,S.value.createdDriving=mt(),S.value.noteDriving="\u0627\u0646\u0627 \u0643\u0627\u0631\u0632\u0627\u0646 \u0633\u0631\u0647\u0646\u0643 \u0645\u062D\u0645\u062F (\u0648\u0643\u064A\u0644 \u0639\u0627\u0645 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 \u0627\u064A\u0648\u0628 ) (\u0645\u062F\u064A\u0631 \u0645\u0641\u0648\u0636 \u0634\u0631\u0643\u0629 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 \u0627\u064A\u0648\u0628) \u0642\u062F \u062E\u0648\u0644\u062A \u0627\u0644\u0633\u064A\u062F(name) \u0628\u0642\u064A\u0627\u062F\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0630\u0627\u062A \u0627\u0644\u0645\u0648\u0627\u0635\u0641\u0627\u062A \u0627\u062F\u0646\u0627\u0647 \u0644\u0647 \u062D\u0642  \u0646\u0642\u0644\u0647\u0627  \u0645\u0646 \u0645\u062D\u0627\u0641\u0638\u0629 \u0627\u0644\u0649 \u0645\u062D\u0627\u0641\u0638\u0629 \u0627\u062E\u0631\u0649 \u0648\u062F\u0641\u0639 \u0627\u0644\u0631\u0633\u0648\u0645 \u0648\u0627\u0644\u063A\u0631\u0645\u0627\u062A \u0628\u064A\u0639 \u0648\u0634\u0631\u0627\u0621 \u0627\u0644\u0642\u0628\u0636 \u0627\u0644\u062B\u0645\u0646.",L.value=!0}function se(){var t,i,b;let a=(b=(i=(t=r==null?void 0:r.value)==null?void 0:t.client)==null?void 0:i.wallet)==null?void 0:b.balance;M.value=a-U.value}function re(){var t,i,b;let a=(b=(i=(t=r==null?void 0:r.value)==null?void 0:t.client)==null?void 0:i.wallet)==null?void 0:b.balance;console.log(a),M.value>a?(M.value=a,lt.value=!0,p.info(" \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u062F\u064A\u0646 \u0627\u0644\u0645\u0637\u0644\u0648\u0628 "+M.value,{timeout:4e3,position:"bottom-right",rtl:!0})):lt.value=!1}function le(a){var t,i,b,k,W,tt;w.get(`/api/addCarContracts?car_id=${a.id}&price=${(t=a.prices)!=null?t:0}&price_dinar=${(i=a.price_dinars)!=null?i:0}&paid=${(b=a.paids)!=null?b:0}&paid_dinar=${(k=a.paid_dinars)!=null?k:0}&phone=${(W=a.phone)!=null?W:""}&note=${(tt=a.note)!=null?tt:""}`).then(at=>{H.value=!1,p.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u0628\u0646\u062C\u0627\u062D ",{timeout:4e3,position:"bottom-right",rtl:!0}),P()}).catch(at=>{H.value=!1,p.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function ne(a){var t,i,b;w.get(`/api/editCarContracts?car_id=${a.id}&paid=${(t=a.paids)!=null?t:0}&paid_dinar=${(i=a.paid_dinars)!=null?i:0}&note=${(b=a.notePayment)!=null?b:""}`).then(k=>{R.value=!1,p.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+a.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),P()}).catch(k=>{R.value=!1,p.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function ut(a){w.get(`/api/makeCarExit?car_id=${a.id}&created=${a.createdExit}&phone=${a.phoneExit}&note=${a.noteExit}`).then(t=>{z.value=!1,p.success("\u062A\u0645 \u0627\u0636\u0627\u0641\u0629 \u062E\u0631\u0648\u062C\u064A\u0629 \u0644\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:5e3,position:"bottom-right",rtl:!0}),P()}).catch(t=>{z.value=!1,p.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function de(a){w.get(`/api/checkClientBalance?userId=${E.client_id}&currentBalance=${a+I().totalAmount}`).then(t=>{console.log(t),t.status==201&&p.success(" \u062A\u0645 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u062D\u0633\u0627\u0628 \u0628\u0646\u062C\u0627\u062D  "+t.data,{timeout:5e3,position:"bottom-right",rtl:!0})}).catch(t=>{p.error("\u0644\u0645 \u064A\u062A\u0645 \u0627\u0639\u0627\u062F\u0629 \u0641\u062D\u0635 \u0627\u0644\u062D\u0633\u0627\u0628  \u0628\u0646\u062C\u0627\u062D ",{timeout:5e3,position:"bottom-right",rtl:!0})})}function ie(a){w.post("/api/makeDrivingDocument",a).then(t=>{L.value=!1,window.open(`/api/makeDrivingDocumentPdf?doc_id=${t.data.id}`,"_blank")}).catch(t=>{L.value=!1,p.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function mt(){const a=new Date,t=a.getFullYear(),i=String(a.getMonth()+1).padStart(2,"0"),b=String(a.getDate()).padStart(2,"0");return`${t}-${i}-${b}`}function ue(a){return`/public/uploadsResized/${a}`}function me(a){return`/public/uploads/${a}`}return(a,t)=>(d(),u(Y,null,[n(s(he),{title:"Dashboard"}),n(De,null,{header:$(()=>[...t[36]||(t[36]=[e("h2",{class:"font-semibold text-xl dark:text-gray-400 text-gray-800 leading-tight"}," \u0634\u0631\u0643\u0629 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 ",-1)])]),default:$(()=>{var i,b,k,W,tt,at,ct,pt,gt,bt,yt,ft,vt,xt,ht,_t,kt,wt,$t,Dt;return[n(Pe,{formData:s(g),show:!!s(H),onA:t[0]||(t[0]=o=>le(o)),onClose:t[1]||(t[1]=o=>x(H)?H.value=!1:H=!1)},{header:$(()=>[...t[37]||(t[37]=[])]),_:1},8,["formData","show"]),n(dt,{show:!!s(J),formData:s(g),onA:t[2]||(t[2]=o=>Ut(o)),onClose:t[3]||(t[3]=o=>x(J)?J.value=!1:J=!1)},{header:$(()=>[e("h2",uo," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062F\u0641\u0639 "+l(s(g).car_type)+" \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",1)]),_:1},8,["show","formData"]),n(dt,{show:!!s(K),formData:s(g),onA:t[4]||(t[4]=o=>Vt(o)),onClose:t[5]||(t[5]=o=>x(K)?K.value=!1:K=!1)},{header:$(()=>[e("h2",mo," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0639\u0627\u062F\u0629 \u062F\u0641\u0639\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 "+l(s(g).car_type)+" \u0644\u0644\u0631\u0635\u064A\u062F \u061F ",1)]),_:1},8,["show","formData"]),n(Se,{formData:s(g),show:!!s(R),onA:t[6]||(t[6]=o=>ne(o)),onClose:t[7]||(t[7]=o=>x(R)?R.value=!1:R=!1)},{header:$(()=>[...t[38]||(t[38]=[])]),_:1},8,["formData","show"]),n(Ie,{formData:s(g),show:!!s(z),onA:t[8]||(t[8]=o=>ut(o)),onClose:t[9]||(t[9]=o=>x(z)?z.value=!1:z=!1)},{header:$(()=>[...t[39]||(t[39]=[])]),_:1},8,["formData","show"]),n(Fe,{formData:s(g),show:!!s(ot),onA:t[10]||(t[10]=o=>ut(o)),onClose:t[11]||(t[11]=o=>x(ot)?ot.value=!1:ot=!1)},{header:$(()=>[...t[40]||(t[40]=[])]),_:1},8,["formData","show"]),n(so,{formDriving:s(S),show:!!s(L),onA:t[12]||(t[12]=o=>ie(o)),onClose:t[13]||(t[13]=o=>x(L)?L.value=!1:L=!1)},{header:$(()=>[...t[41]||(t[41]=[])]),_:1},8,["formDriving","show"]),n(Ae,{formData:s(g),show:!!s(Z),client:m.clients,onA:t[14]||(t[14]=o=>Ot(o)),onClose:t[15]||(t[15]=o=>x(Z)?Z.value=!1:Z=!1)},{header:$(()=>[...t[42]||(t[42]=[])]),_:1},8,["formData","show","client"]),n(Me,{formData:s(g),show:!!s(j),onA:t[16]||(t[16]=o=>Wt(o)),onClose:t[17]||(t[17]=o=>x(j)?j.value=!1:j=!1)},{header:$(()=>[...t[43]||(t[43]=[])]),_:1},8,["formData","show"]),n(dt,{show:!!s(G),formData:s(g),onA:t[18]||(t[18]=o=>Lt(o)),onClose:t[19]||(t[19]=o=>x(G)?G.value=!1:G=!1)},{header:$(()=>[...t[44]||(t[44]=[e("h2",{class:"mb-5 dark:text-gray-400 text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1)])]),_:1},8,["show","formData"]),n(Ce,{show:!!s(T),data:s(T).toString(),onA:t[20]||(t[20]=o=>qt(o,a.arg1)),onClose:t[21]||(t[21]=o=>x(T)?T.value=!1:T=!1)},null,8,["show","data"]),a.$page.props.success?(d(),u("div",co,[e("div",po,[e("div",go,l(a.$page.props.success),1)])])):v("",!0),a.$page.props.auth.user.type_id==1||a.$page.props.auth.user.type_id==6?(d(),u("div",bo,[e("h2",yo,l(a.$t("sales_bill")),1),e("div",fo,[e("div",vo,[e("div",xo,[e("div",ho,[n(f,{class:"mb-1",for:"invoice_number",value:a.$t("Account")},null,8,["value"]),F(e("select",{onChange:t[22]||(t[22]=o=>P()),"onUpdate:modelValue":t[23]||(t[23]=o=>x(D)?D.value=o:D=o),id:"default",class:"pr-8 border border-gray-300 text-gray-900 mb-6 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:border-gray-400 dark:placeholder-gray-400 dark:text-gray-600 dark:focus:ring-red-500 dark:focus:border-red-500"},[e("option",_o,l(a.$t("selectCustomer")),1),(d(!0),u(Y,null,st(m.clients,(o,nt)=>(d(),u(Y,{key:nt},[o.wallet.balance>0||o.id==s(D)?(d(),u("option",{key:0,value:o.id},l(o.name),9,ko)):v("",!0)],64))),128))],544),[[_e,s(D)]])]),e("div",null,[e("div",wo,[n(f,{for:"totalAmount",value:"\u0641\u0644\u062A\u0631\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u0643\u062A\u0645\u0644\u0629"}),e("div",$o,[e("input",{id:"bordered-checkbox-1",type:"checkbox",onChange:t[24]||(t[24]=o=>s(_)==!0?x(_)?_.value=!1:_=!1:x(_)?_.value=!0:_=!0),value:s(_),checked:!s(_),name:"bordered-checkbox",class:"w-4 h-4 mx-2 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,Do),e("label",Co,l(s(_)==!1?" \u062A\u0645 \u0627\u0644\u0641\u0644\u062A\u0631":"\u062A\u0645 \u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0629"),1)])])]),e("div",No,[e("div",Ao,[n(f,{for:"from",value:a.$t("from_date")},null,8,["value"]),n(h,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:s(N),"onUpdate:modelValue":t[25]||(t[25]=o=>x(N)?N.value=o:N=o)},null,8,["modelValue"])])]),e("div",Mo,[e("div",Po,[n(f,{for:"to",value:a.$t("to_date")},null,8,["value"]),n(h,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:s(A),"onUpdate:modelValue":t[26]||(t[26]=o=>x(A)?A.value=o:A=o)},null,8,["modelValue"])])]),e("div",So,[n(f,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),e("button",{onClick:t[27]||(t[27]=Q(o=>s(X)(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},[...t[45]||(t[45]=[e("span",null,"\u0641\u0644\u062A\u0631\u0629",-1)])])]),e("div",Io,[n(f,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),e("a",{href:`/api/getIndexAccountsSelas?user_id=${s(D)}&from=${s(N)}&to=${s(A)}&print=1&showComplatedCars=${s(_)?0:1}`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-orange-500 rounded block text-center",style:{width:"100%"}},[...t[46]||(t[46]=[e("span",null,"\u0637\u0628\u0627\u0639\u0629",-1)])],8,Fo)]),e("div",Eo,[n(f,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),e("a",{href:`/api/getIndexAccountsSelas?user_id=${s(D)}&from=${s(N)}&to=${s(A)}&print=1&printExcel=1&showComplatedCars=${s(_)?0:1}`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded block text-center",style:{width:"100%"}},[...t[47]||(t[47]=[e("span",null,"Excel",-1)])],8,To)]),e("div",Bo,[n(f,{for:"car_total",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A"}),n(h,{id:"car_total",type:"text",class:"mt-1 block w-full",value:s(r).car_total,disabled:""},null,8,["value"])]),e("div",Uo,[n(f,{for:"cars_sum",value:a.$t("Total_in_dollars")+" \u062C\u0645\u0631\u0643 "},null,8,["value"]),n(h,{id:"cars_sum",type:"text",class:"mt-1 block w-full",value:(i=s(r))==null?void 0:i.cars_sum,disabled:""},null,8,["value"])]),e("div",Vo,[n(f,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u062F\u0641\u0648\u0639  \u062C\u0645\u0631\u0643 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),n(h,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:parseFloat((b=s(r))==null?void 0:b.cars_sum)-(parseFloat((tt=(W=(k=s(r))==null?void 0:k.client)==null?void 0:W.wallet)==null?void 0:tt.balance)+parseFloat((at=s(r))==null?void 0:at.cars_discount)),disabled:""},null,8,["value"])]),e("div",jo,[n(f,{for:"cars_discount",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A  \u062C\u0645\u0631\u0643 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),n(h,{id:"cars_discount",type:"text",class:"mt-1 block w-full",value:(ct=s(r))==null?void 0:ct.cars_discount,disabled:""},null,8,["value"])]),e("div",qo,[n(f,{for:"cars_need_paid",value:"  \u0627\u0644\u0631\u0635\u064A\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),n(h,{id:"cars_need_paid",type:"number",class:"mt-1 block w-full",value:I().totalAmount*-1-((pt=s(r))==null?void 0:pt.cars_sum),disabled:""},null,8,["value"])]),I().totalAmount*-1-((gt=s(r))==null?void 0:gt.cars_sum)!=0?(d(),u("div",Ho,[n(f,{for:"pay",value:"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629"}),s(B)?v("",!0):(d(),u("button",{key:0,onClick:t[28]||(t[28]=Q(o=>Gt(),["prevent"])),disabled:s(y),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},[...t[48]||(t[48]=[e("span",null,"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629",-1)])],8,Ro)),s(B)?(d(),u("button",{key:1,onClick:t[29]||(t[29]=Q(o=>Jt(),["prevent"])),disabled:s(y),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},[...t[49]||(t[49]=[e("span",null,"\u0627\u062E\u0641\u0627\u0621 \u062F\u0641\u0639\u0629",-1)])],8,zo)):v("",!0)])):v("",!0),e("div",Lo,[n(f,{for:"pay",value:"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A"}),s(q)?v("",!0):(d(),u("button",{key:0,onClick:t[30]||(t[30]=Q(o=>Kt(),["prevent"])),disabled:s(y),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-purple-500 rounded",style:{width:"100%"}},[...t[50]||(t[50]=[e("span",null,"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1)])],8,Oo)),s(q)?(d(),u("button",{key:1,onClick:t[31]||(t[31]=Q(o=>Qt(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},[...t[51]||(t[51]=[e("span",null,"\u0627\u062E\u0641\u0627\u0621 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1)])])):v("",!0)]),I().totalAmount*-1-((bt=s(r))==null?void 0:bt.cars_discount)-((yt=s(r))==null?void 0:yt.cars_paid)!=0?(d(),u("div",Wo,[n(f,{for:"cars_need_paid",value:"\u0627\u0644\u0631\u0635\u064A\u062F \u063A\u064A\u0631 \u0645\u0648\u0632\u0639 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),n(h,{id:"cars_need_paid",type:"number",class:"mt-1 block w-full",value:I().totalAmount*-1-((ft=s(r))==null?void 0:ft.cars_discount)-((vt=s(r))==null?void 0:vt.cars_paid)},null,8,["value"])])):v("",!0),e("div",Yo,[n(f,{for:"contract_total",value:"\u0627\u0644\u0639\u0642\u0648\u062F \u0627\u0644\u0645\u0646\u062C\u0632\u0629"}),n(h,{id:"contract_total",type:"text",class:"mt-1 block w-full",value:s(r).contract_total,disabled:""},null,8,["value"])]),e("div",Zo,[n(f,{for:"exit_car_total",value:"\u0627\u0644\u062E\u0631\u0648\u062C\u064A\u0627\u062A \u0627\u0644\u0645\u0646\u062C\u0632\u0629"}),n(h,{id:"exit_car_total",type:"text",class:"mt-1 block w-full",value:s(r).exit_car_total,disabled:""},null,8,["value"])]),e("div",Go,[n(f,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u064A\u0646 \u0639\u0642\u0648\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),n(h,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:(xt=s(r))==null?void 0:xt.contract_total_debit_Dollar,disabled:""},null,8,["value"])]),e("div",Jo,[n(f,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u064A\u0646 \u0639\u0642\u0648\u062F \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631"}),n(h,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:(ht=s(r))==null?void 0:ht.contract_total_debit_Dinar,disabled:""},null,8,["value"])])]),s(B)?(d(),u("div",Ko,[e("div",Qo,[n(f,{for:"discount",value:"\u0627\u0644\u062E\u0635\u0645"}),n(h,{id:"discount",type:"number",onInput:se,class:"mt-1 block w-full",modelValue:s(U),"onUpdate:modelValue":t[32]||(t[32]=o=>x(U)?U.value=o:U=o)},null,8,["modelValue"])]),e("div",Xo,[n(f,{for:"percentage",value:" \u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0645\u0631\u0627\u062F \u062F\u0641\u0639\u0647"}),n(h,{id:"percentage",type:"number",onInput:re,class:"mt-1 block w-full",modelValue:s(M),"onUpdate:modelValue":t[33]||(t[33]=o=>x(M)?M.value=o:M=o)},null,8,["modelValue"])]),e("div",ta,[n(f,{for:"discount",value:"\u0645\u0644\u0627\u062D\u0638\u0629"}),n(h,{id:"discount",type:"text",class:"mt-1 block w-full",modelValue:s(O),"onUpdate:modelValue":t[34]||(t[34]=o=>x(O)?O.value=o:O=o)},null,8,["modelValue"])]),e("div",ea,[n(f,{for:"pay",value:"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062F\u0641\u0639"}),e("button",{onClick:t[35]||(t[35]=Q(o=>Yt(s(M),s(D),s(U),s(O)),["prevent"])),disabled:s(y),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},[s(lt)?(d(),u("span",aa,"\u064A\u0631\u062C\u0649 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u0645\u0628\u0644\u063A \u0644")):v("",!0),s(y)?(d(),u("span",ra,"\u062C\u0627\u0631\u064A \u0627\u0644\u0637\u0628\u0627\u0639\u0629...")):(d(),u("span",sa,"\u062F\u0641\u0639"))],8,oa)])])):v("",!0),s(q)?(d(),u("div",la,[e("table",na,[e("thead",da,[e("tr",ia,[t[52]||(t[52]=e("th",{className:"px-1 py-2 text-base"},"#",-1)),e("th",ua,l(a.$t("date")),1),e("th",ma,l(a.$t("description")),1),e("th",ca,l(a.$t("amount")),1),e("th",pa,l(a.$t("execute")),1)])]),e("tbody",null,[e("tr",ga,[t[54]||(t[54]=e("td",null,null,-1)),t[55]||(t[55]=e("td",null,null,-1)),t[56]||(t[56]=e("td",null,null,-1)),t[57]||(t[57]=e("td",null,null,-1)),e("td",ba,[e("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${s(r).client.id}&from=${s(N)}&to=${s(A)}&print=4`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-blue-500 rounded"},[t[53]||(t[53]=rt(" \u062C\u0645\u064A\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A ",-1)),n(it)],8,ya)])]),(d(!0),u(Y,null,st(((_t=s(r))==null?void 0:_t.transactions)||[],o=>(d(),u(Y,{key:o.id},[o.type=="out"&&o.amount<0&&o.is_pay==1?(d(),u("tr",fa,[e("td",va,l(x(et)?et.value++:et++),1),e("td",xa,l(o.id),1),e("td",ha,l(o.created),1),e("td",_a,l(o.description),1),e("td",ka,l(o.amount*-1),1),e("td",wa,[o.type=="out"&&o.amount<0?(d(),u("a",{key:0,target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${s(r).client.id}&from=${s(N)}&to=${s(A)}&print=2&transactions_id=${o.id}`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-green-500 rounded"},[n(it)],8,$a)):v("",!0)])])):v("",!0)],64))),128)),e("tr",Da,[t[58]||(t[58]=e("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A",-1)),e("td",null,l((kt=s(r))==null?void 0:kt.cars_discount),1),t[59]||(t[59]=e("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1)),e("td",Ca,l(I().totalAmount*-1),1),e("td",null,"\u0627\u0644\u0646\u062A\u0627\u062A\u062C : "+l(I().totalAmount*-1-parseInt((wt=s(r))==null?void 0:wt.cars_discount)),1)])])])])):v("",!0),e("div",null,[e("div",Na,[e("table",Aa,[e("thead",Ma,[e("tr",Pa,[e("th",Sa,l(a.$t("no")),1),e("th",Ia,l(a.$t("car_type")),1),e("th",Fa,l(a.$t("year")),1),e("th",Ea,l(a.$t("color")),1),e("th",Ta,l(a.$t("vin")),1),e("th",Ba,l(a.$t("car_number")),1),e("th",Ua,l(a.$t("dinar")),1),e("th",Va,l(a.$t("dolar_price")),1),e("th",ja,l(a.$t("dolar_custom")),1),e("th",qa,l(a.$t("note")),1),t[60]||(t[60]=e("th",{scope:"col",class:"px-1 py-2 text-base print:hidden"}," \u062C\u0645\u0631\u0643 \u0645\u0646\u0641\u0633\u062A ",-1)),t[61]||(t[61]=e("th",{scope:"col",class:"px-1 py-2 text-base print:hidden"}," \u062E\u0635\u0645 \u0645\u0628\u0627\u0634\u0631 ",-1)),e("th",Ha,l(a.$t("shipping_dolar")),1),e("th",Ra,l(a.$t("coc_dolar")),1),e("th",za,l(a.$t("checkout")),1),e("th",La,l(a.$t("expenses")),1),t[62]||(t[62]=e("th",{scope:"col",class:"px-1 py-2 text-base"}," \u0646\u0642\u0644 \u0628\u0631\u064A ",-1)),e("th",Oa,l(a.$t("total")),1),e("th",Wa,l(a.$t("paid")),1),e("th",Ya,l(a.$t("discount")),1),e("th",Za,l(a.$t("date")),1),e("th",Ga,l(a.$t("execute")),1),t[63]||(t[63]=e("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"100px"}}," \u062A\u062E\u0632\u064A\u0646 ",-1)),t[64]||(t[64]=e("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"120px"}}," \u0627\u0644\u0631\u0635\u064A\u062F ",-1))])]),e("tbody",null,[(d(!0),u(Y,null,st((($t=s(r))==null?void 0:$t.data)||[],(o,nt)=>{var Ct,Nt,At,Mt,Pt,St,It,Ft;return F((d(),u("tr",{key:o.id,class:we([{"bg-red-100 dark:bg-red-900":o.results==0,"bg-red-100 dark:bg-red-900":o.results==1,"bg-green-100 dark:bg-green-900":o.results==2,"bg-yellow-100 dark:bg-yellow-900":E.q&&(o.vin.startsWith(E.q)||(o.car_number?o.car_number.toString().startsWith(E.q):!1))},"border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[e("td",Ja,l(nt+1),1),e("td",Ka,l(o.car_type),1),e("td",Qa,l(o.year),1),e("td",Xa,l(o.car_color),1),e("td",ts,l(o.vin),1),e("td",es,l(o.car_number),1),e("td",os,l(o.dinar_s),1),e("td",as,l(o.dolar_price_s),1),e("td",ss,l((o.dinar_s/o.dolar_price_s*100).toFixed(0)||0),1),e("td",rs,l(o.note),1),e("td",ls,l((o.dinar_s/13e4*100).toFixed(0)||0),1),e("td",ns,l(((o.dinar_s/13e4*100).toFixed(0)||0)-((o.dinar_s/o.dolar_price_s*100).toFixed(0)||0)),1),e("td",ds,l(o.shipping_dolar_s),1),e("td",is,l(o.coc_dolar_s),1),e("td",us,l(o.checkout_s),1),e("td",ms,l(o.expenses_s),1),e("td",cs,l(o.land_shipping_s),1),e("td",ps,l(o.total_s.toFixed(0)),1),e("td",gs,l(o.paid),1),e("td",bs,l(o.discount),1),e("td",ys,l(o.date),1),e("td",fs,[e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-slate-500 rounded",onClick:C=>Rt(o)},[n(Be)],8,vs),e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-orange-500 rounded",onClick:C=>Ht(o)},[n(Te)],8,xs),o.total_s!=o.paid+o.discount?(d(),u("button",{key:0,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:C=>zt(o)},[n(Et)],8,hs)):v("",!0),((Ct=o.contract)==null?void 0:Ct.price)!=((Nt=o.contract)==null?void 0:Nt.paid)||((At=o.contract)==null?void 0:At.price_dinar)!=((Mt=o.contract)==null?void 0:Mt.paid_dinar)?(d(),u("button",{key:1,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-pink-500 rounded",onClick:C=>te(o)},[n(Et)],8,_s)):v("",!0),o.contract?v("",!0):(d(),u("button",{key:2,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-yellow-500 rounded",onClick:C=>Xt(o)},[n(Ve)],8,ks)),o.is_exit?v("",!0):(d(),u("button",{key:3,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-red-500 rounded",onClick:C=>ee(o)},[n(Ee)],8,ws)),o.is_exit?(d(),u("button",{key:4,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-blue-500 rounded",onClick:C=>oe(o)},[n(Ue)],8,$s)):v("",!0),e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-violet-500 rounded",onClick:C=>ae(o)},[n(io)],8,Ds),e("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${s(r).client.id}&print=6&car_id=${o.id}`,tabIndex:"1",class:"px-1 py-1 text-white m-1 bg-gray-900 rounded"},[n(it,{class:"inline-flex"})],8,Cs)]),e("td",Ns,[(d(!0),u(Y,null,st(o.car_images,(C,ce)=>(d(),u("a",{key:ce,href:me(C.name),style:{cursor:"pointer"},target:"_blank"},[e("img",{src:ue(C.name),alt:"",class:"px-1",style:{"max-width":"80px","max-height":"50px",display:"inline"}},null,8,Ms)],8,As))),128))]),e("td",Ps,[I().totalAmount*-1-((Pt=s(r))==null?void 0:Pt.cars_discount)-((St=s(r))==null?void 0:St.cars_paid)!=0?(d(),u("button",{key:0,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:C=>Tt(o)}," \u062F\u0641\u0639 \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",8,Ss)):v("",!0),I().totalAmount*-1-((It=s(r))==null?void 0:It.cars_discount)-((Ft=s(r))==null?void 0:Ft.cars_sum)!=0&&o.paid?(d(),u("button",{key:1,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 mt-1 text-white mx-1 bg-red-500 rounded",onClick:C=>Bt(o)}," \u0627\u0639\u0627\u062F\u0629 \u0644\u0644\u0631\u0635\u064A\u062F ",8,Is)):v("",!0)])],2)),[[ke,o.results==2&&s(_)||o.results!=2]])}),128))])])])]),e("div",Fs,[n(s(Ne),{data:s(r),onPaginationChangePage:s(X),limit:2},null,8,["data","onPaginationChangePage"])])])])])):v("",!0),e("div",Es,[e("div",Ts,[e("div",Bs,[t[65]||(t[65]=rt(" \u062A\u0648\u0642\u064A\u0639 \u0635\u0627\u062D\u0628 \u0627\u0644\u062D\u0633\u0627\u0628 ",-1)),t[66]||(t[66]=e("br",null,null,-1)),rt(" "+l((Dt=s(r).client)==null?void 0:Dt.name),1)]),t[67]||(t[67]=e("div",{class:"basis-1/2 text-center"},"\u062A\u0648\u0642\u064A\u0639 \u0642\u0633\u0645 \u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1)),t[68]||(t[68]=e("div",{class:"basis-1/2 text-end"},"\u062A\u0648\u0642\u064A\u0639 \u0627\u0644\u0645\u062F\u064A\u0631",-1))])])]}),_:1})],64))}};export{lr as default};
