import{r as p,o as d,c as et,w as C,a as n,b as t,d as ft,n as M,t as l,e as W,v as tt,f as G,g,F as j,h as q,i as f,T as vt,j as ce,k as Tt,u as me,l as At,m as Et,p as ye,q as b,H as ge,s as B,x as xe,L as ct}from"./app.0d88bfcf.js";import{_ as fe}from"./AuthenticatedLayout.69ec02f4.js";/* empty css                                              */import{M as ve,_ as he,a as ke,b as $e,c as we,i as _e}from"./imags.34b6eb35.js";import{_ as Ne,a as Ce}from"./ModalAddExpenses.38a962f4.js";import{_ as K}from"./InputLabel.00325d31.js";import{_ as ot}from"./TextInput.02e51060.js";import{p as Q}from"./print.79e1ea62.js";/* empty css                                                            */import{a as D}from"./index.410f73f5.js";import{t as De}from"./trash.114fe6e6.js";import{e as Te}from"./edit.05b0ed52.js";import{W as Ae}from"./v3-infinite-loading.es.ec8bc1e8.js";import{d as Ee}from"./debounce.83ce9102.js";import{f as Me}from"./datetime.47733478.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./Uploader.5cb7f935.js";/* empty css                                                                 *//* empty css                                                         */const Ue={key:0,class:"modal-mask"},Ie={class:"modal-wrapper max-h-[80vh]"},Se={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},Be={class:"modal-header"},Ve={class:"modal-body"},Oe={class:"text-sm font-medium text-center text-gray-500 border-b border-gray-200 dark:text-gray-400 dark:border-gray-700"},Ge={class:"flex flex-wrap -mb-px"},je={key:0},Fe={className:"mb-4 mx-5"},Re={class:"dark:text-gray-200",for:"expens_amount"},He={className:"mb-4 mx-5"},Le={class:"dark:text-gray-200",for:"expenses_id"},We={className:"mb-4 mx-5"},Ze={class:"dark:text-gray-200",for:"expens_amount"},qe=["value"],Pe={className:"mb-4 mx-5"},Ye={class:"dark:text-gray-200",for:"note"},ze={key:1},Xe={class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},Je={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},Ke={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Qe={class:"bg-rose-500 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},ts={className:"px-1 py-2 text-base"},es={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},ss={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},as={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},rs=["href"],os={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ds={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ls={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ns={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},is={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},us={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ps=["href"],bs={class:"modal-footer my-2"},cs={class:"flex flex-row"},ms={class:"basis-1/2 px-4"},ys={class:"basis-1/2 px-4"},gs=["disabled"],xs={__name:"ModalAddGenExpenses",props:{show:Boolean,company:Array,color:Array,carModel:Array,name:Array,client:Array,user:Array,expenses:Array,GenExpenses:Array,formData:Object},setup(c){const I=p("add"),w=v=>{I.value=v};return(v,u)=>(d(),et(vt,{name:"modal"},{default:C(()=>{var E;return[c.show?(d(),n("div",Ue,[t("div",Ie,[t("div",Se,[t("div",Be,[ft(v.$slots,"header")]),t("div",Ve,[t("div",Oe,[t("ul",Ge,[t("li",{class:"mr-2",onClick:u[0]||(u[0]=x=>w("add"))},[t("button",{class:M(["inline-block p-4 border-b-2 border-transparent rounded-t-lg",I.value=="add"?"dark:text-blue-500 dark:border-blue-500":"hover:text-gray-600 hover:border-gray-300"])}," \u0627\u0636\u0627\u0641\u0629 ",2)]),t("li",{class:"mr-2",onClick:u[1]||(u[1]=x=>w("record"))},[t("button",{class:M(["inline-block p-4 border-b-2 border-transparent rounded-t-lg",I.value=="record"?"dark:text-blue-500 dark:border-blue-500":"hover:text-gray-600 hover:border-gray-300"])}," \u0627\u0644\u0633\u062C\u0644 ",2)])])]),I.value=="add"?(d(),n("div",je,[t("div",null,[u[7]||(u[7]=t("h1",{class:"text-center dark:text-gray-200 mt-4"}," \u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629",-1)),t("div",Fe,[t("label",Re,l(v.$t("amount")),1),W(t("input",{id:"expens_amount",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":u[2]||(u[2]=x=>c.formData.amount=x)},null,512),[[tt,c.formData.amount]])]),t("div",He,[t("label",Le,l(v.$t("factor")),1),W(t("input",{id:"note_expens",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":u[3]||(u[3]=x=>c.formData.factor=x)},null,512),[[tt,c.formData.factor]])]),t("div",We,[t("label",Ze,l(v.$t("result")),1),t("input",{id:"expens_amount",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900",value:(c.formData.amount/c.formData.factor).toFixed(1)},null,8,qe)]),t("div",Pe,[t("label",Ye,l(v.$t("note")),1),W(t("input",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":u[4]||(u[4]=x=>c.formData.note=x)},null,512),[[tt,c.formData.note]])])])])):(d(),n("div",ze,[u[17]||(u[17]=t("h1",{class:"text-center dark:text-gray-200 mt-4"}," \u0633\u062C\u0644 \u0627\u0644\u062D\u0648\u0644\u0627\u062A",-1)),t("div",Xe,[t("table",Je,[t("thead",Ke,[t("tr",Qe,[u[8]||(u[8]=t("th",{className:"px-1 py-2 text-base"},"\u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644",-1)),t("th",ts,l(v.$t("date")),1),u[9]||(u[9]=t("th",{className:"px-1 py-2 text-base"},"\u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641",-1)),u[10]||(u[10]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1)),u[11]||(u[11]=t("th",{className:"px-1 py-2 text-base"},"\u0645\u0644\u0627\u062D\u0638\u0629",-1)),t("th",es,l(v.$t("execute")),1)])]),t("tbody",null,[t("tr",ss,[u[13]||(u[13]=t("td",null,null,-1)),u[14]||(u[14]=t("td",null,null,-1)),u[15]||(u[15]=t("td",null,null,-1)),u[16]||(u[16]=t("td",null,null,-1)),t("td",as,[t("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${(E=c.GenExpenses[0])==null?void 0:E.user_id}&print=5`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-blue-500 rounded"},[u[12]||(u[12]=G(" \u062C\u0645\u064A\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A ",-1)),g(Q)],8,rs)])]),(d(!0),n(j,null,q(c.GenExpenses,x=>{var k;return d(),n("tr",{key:x.id,class:"text-center"},[t("td",os,l(x.id),1),t("td",ds,l((k=x==null?void 0:x.created_at)==null?void 0:k.slice(0,19).replace("T"," ")),1),t("td",ls,l(x.factor),1),t("td",ns,l(x.amount),1),t("td",is,l(x.reason),1),t("td",us,[t("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${x.user_id}&print=3&transactions_id=${x.transaction_id}`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-green-500 rounded"},[g(Q)],8,ps)])])}),128))])])])]))]),t("div",bs,[t("div",cs,[t("div",ms,[t("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:u[5]||(u[5]=x=>{v.$emit("close"),I.value="add"})},l(v.$t("cancel")),1)]),t("div",ys,[t("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:u[6]||(u[6]=x=>{v.$emit("a",c.formData),c.formData=""}),disabled:!c.formData.amount},l(v.$t("yes")),9,gs)])])])])])])):f("",!0)]}),_:3}))}};const fs={key:0,class:"modal-mask"},vs={class:"modal-wrapper max-h-[80vh]"},hs={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},ks={class:"modal-header"},$s={class:"modal-body"},ws={class:"text-sm font-medium text-center text-gray-500 border-b border-gray-200 dark:text-gray-400 dark:border-gray-700"},_s={class:"flex flex-wrap -mb-px"},Ns={key:0},Cs={className:"mb-4 mx-5"},Ds={key:0,className:"mb-4 mx-5"},Ts=["value"],As={className:"mb-4 mx-5"},Es={className:"mb-4 mx-5"},Ms={class:"dark:text-gray-200",for:"note"},Us={key:1},Is={class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},Ss={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},Bs={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Vs={class:"bg-rose-500 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},Os={className:"px-1 py-2 text-base"},Gs={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},js={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Fs={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Rs={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Hs={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ls={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ws={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Zs={class:"modal-footer my-2"},qs={class:"flex flex-row"},Ps={class:"basis-1/2 px-4"},Ys={class:"basis-1/2 px-4"},zs=["disabled"],Xs={__name:"ModalAddExpensesToMainBransh",props:{show:Boolean,user:Array,allTransfers:Array,formData:Object},emits:["a","close"],setup(c,{emit:I}){const w=p("add"),v=_=>{w.value=_},u=c,E=I,x=p("local"),k=p([]),T=p(null);ce(()=>{V()});function V(){D.get("/api/connected-systems").then(_=>{k.value=_.data}).catch(_=>{console.error("Error loading connected systems:",_)})}function F(){if(x.value==="external"){const _={amount:u.formData.amount,sender_note:u.formData.note||"",note:u.formData.note||"",external_system_id:T.value};D.post("/api/send-external-transfer",_).then(i=>{alert("\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062A\u062D\u0648\u064A\u0644 \u0627\u0644\u062E\u0627\u0631\u062C\u064A \u0628\u0646\u062C\u0627\u062D"),x.value="local",T.value=null,E("close")}).catch(i=>{var m,S;console.error("Error sending external transfer:",i),alert("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062A\u062D\u0648\u064A\u0644 \u0627\u0644\u062E\u0627\u0631\u062C\u064A: "+(((S=(m=i.response)==null?void 0:m.data)==null?void 0:S.error)||i.message))})}else E("a",u.formData)}return(_,i)=>(d(),et(vt,{name:"modal"},{default:C(()=>[c.show?(d(),n("div",fs,[t("div",vs,[t("div",hs,[t("div",ks,[ft(_.$slots,"header")]),t("div",$s,[t("div",ws,[t("ul",_s,[t("li",{class:"mr-2",onClick:i[0]||(i[0]=m=>v("add"))},[t("button",{class:M(["inline-block p-4 border-b-2 border-transparent rounded-t-lg",w.value=="add"?"dark:text-blue-500 dark:border-blue-500":"hover:text-gray-600 hover:border-gray-300"])}," \u0627\u0636\u0627\u0641\u0629 ",2)]),t("li",{class:"mr-2",onClick:i[1]||(i[1]=m=>v("record"))},[t("button",{class:M(["inline-block p-4 border-b-2 border-transparent rounded-t-lg",w.value=="record"?"dark:text-blue-500 dark:border-blue-500":"hover:text-gray-600 hover:border-gray-300"])}," \u0627\u0644\u0633\u062C\u0644 ",2)])])]),w.value=="add"?(d(),n("div",Ns,[t("div",null,[i[13]||(i[13]=t("h1",{class:"text-center dark:text-gray-200 mt-4"}," \u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629",-1)),t("div",Cs,[i[9]||(i[9]=t("label",{class:"dark:text-gray-200",for:"transfer_type"},"\u0646\u0648\u0639 \u0627\u0644\u062A\u062D\u0648\u064A\u0644",-1)),W(t("select",{id:"transfer_type","onUpdate:modelValue":i[2]||(i[2]=m=>x.value=m),class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900",onChange:i[3]||(i[3]=m=>T.value=null)},[...i[8]||(i[8]=[t("option",{value:"local"},"\u062A\u062D\u0648\u064A\u0644 \u0645\u062D\u0644\u064A",-1),t("option",{value:"external"},"\u062A\u062D\u0648\u064A\u0644 \u062E\u0627\u0631\u062C\u064A",-1)])],544),[[Tt,x.value]])]),x.value==="external"?(d(),n("div",Ds,[i[11]||(i[11]=t("label",{class:"dark:text-gray-200",for:"external_system"},"\u0627\u062E\u062A\u0631 \u0627\u0644\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u0633\u062A\u0642\u0628\u0644",-1)),W(t("select",{id:"external_system","onUpdate:modelValue":i[4]||(i[4]=m=>T.value=m),class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900"},[i[10]||(i[10]=t("option",{value:""},"-- \u0627\u062E\u062A\u0631 \u0627\u0644\u0646\u0638\u0627\u0645 --",-1)),(d(!0),n(j,null,q(k.value,m=>(d(),n("option",{key:m.id,value:m.id},l(m.name)+" ("+l(m.domain)+") ",9,Ts))),128))],512),[[Tt,T.value]])])):f("",!0),t("div",As,[i[12]||(i[12]=t("label",{class:"dark:text-gray-200",for:"expens_amount"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1)),W(t("input",{id:"expens_amount",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":i[5]||(i[5]=m=>c.formData.amount=m)},null,512),[[tt,c.formData.amount]])]),t("div",Es,[t("label",Ms,l(_.$t("note")),1),W(t("input",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":i[6]||(i[6]=m=>c.formData.note=m)},null,512),[[tt,c.formData.note]])])])])):(d(),n("div",Us,[i[20]||(i[20]=t("h1",{class:"text-center dark:text-gray-200 mt-4"}," \u0633\u062C\u0644 \u0627\u0644\u062D\u0648\u0644\u0627\u062A",-1)),t("div",Is,[t("table",Ss,[t("thead",Bs,[t("tr",Vs,[i[14]||(i[14]=t("th",{className:"px-1 py-2 text-base"},"\u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644",-1)),t("th",Os,l(_.$t("date")),1),i[15]||(i[15]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1)),i[16]||(i[16]=t("th",{className:"px-1 py-2 text-base"},"\u0623\u062C\u0648\u0631 \u0627\u0644\u062D\u0648\u0644\u0627\u062A",-1)),i[17]||(i[17]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0635\u0627\u0641\u064A",-1)),i[18]||(i[18]=t("th",{className:"px-1 py-2 text-base"},"\u0645\u0644\u0627\u062D\u0638\u0629",-1)),i[19]||(i[19]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u062D\u0627\u0644\u0629",-1))])]),t("tbody",null,[(d(!0),n(j,null,q(c.allTransfers,m=>{var S;return d(),n("tr",{key:m.id,class:"text-center"},[t("td",Gs,l(m.id),1),t("td",js,l((S=m==null?void 0:m.created_at)==null?void 0:S.slice(0,19).replace("T"," ")),1),t("td",Fs,l(m.amount),1),t("td",Rs,l(m.fee),1),t("td",Hs,l(m.amount-m.fee),1),t("td",Ls,l(m.note),1),t("td",Ws,l(m.stauts),1)])}),128))])])])]))]),t("div",Zs,[t("div",qs,[t("div",Ps,[t("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:i[7]||(i[7]=m=>{_.$emit("close"),w.value="add"})},l(_.$t("cancel")),1)]),t("div",Ys,[t("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:F,disabled:!c.formData.amount||x.value==="external"&&!T.value},l(_.$t("yes")),9,zs)])])])])])])):f("",!0)]),_:3}))}};const Js={key:0,class:"modal-mask"},Ks={class:"modal-wrapper max-h-[80vh]"},Qs={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},ta={class:"modal-header"},ea={class:"modal-body"},sa={class:"text-sm font-medium text-center text-gray-500 border-b border-gray-200 dark:text-gray-400 dark:border-gray-700"},aa={class:"flex flex-wrap -mb-px"},ra={key:0},oa={key:0,id:"alert-additional-content-4 my-3",class:"p-4 mb-4 text-yellow-800 border border-yellow-300 rounded-lg bg-yellow-50 dark:bg-gray-800 dark:text-yellow-300 dark:border-yellow-800",role:"alert"},da={class:"flex items-center"},la={class:"text-lg font-medium"},na={class:"mt-2 mb-4 text-sm px-4"},ia=["onUpdate:modelValue"],ua=["onUpdate:modelValue"],pa={class:"flex items-center py-3"},ba={class:"text-lg font-medium"},ca={class:"flex mt-5"},ma=["onClick"],ya=["onClick","disabled"],ga={key:1},xa={class:"flex justify-between items-center mt-4 mb-2"},fa={class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},va={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},ha={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},ka={class:"bg-rose-500 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},$a={className:"px-1 py-2 text-base"},wa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},_a={key:0,class:"ml-2 text-xs text-blue-600 dark:text-blue-300",title:"\u062A\u062D\u0648\u064A\u0644 \u062E\u0627\u0631\u062C\u064A"},Na={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ca={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Da={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ta={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Aa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ea={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},Ma={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ua={key:0,class:"px-2 py-1 text-xs font-semibold text-blue-700 bg-blue-100 dark:bg-blue-800 dark:text-blue-200 rounded"},Ia={key:1,class:"px-2 py-1 text-xs font-semibold text-gray-700 bg-gray-100 dark:bg-gray-800 dark:text-gray-200 rounded"},Sa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ba={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Va=["onClick"],Oa={key:0,class:"text-center"},Ga={key:2},ja={class:"flex justify-between items-center mt-4 mb-2"},Fa={class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},Ra={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},Ha={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},La={class:"bg-gray-600 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},Wa={className:"px-1 py-2 text-base"},Za={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},qa={key:0,class:"ml-2 text-xs text-blue-600 dark:text-blue-300",title:"\u062A\u062D\u0648\u064A\u0644 \u062E\u0627\u0631\u062C\u064A"},Pa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ya={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},za={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Xa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ja={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ka={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},Qa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},tr={key:0,class:"px-2 py-1 text-xs font-semibold text-blue-700 bg-blue-100 dark:bg-blue-800 dark:text-blue-200 rounded"},er={key:1,class:"px-2 py-1 text-xs font-semibold text-gray-700 bg-gray-100 dark:bg-gray-800 dark:text-gray-200 rounded"},sr={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ar={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},rr=["onClick"],or={key:0,class:"text-center"},dr={class:"modal-footer my-2"},lr={class:"flex flex-row"},nr={class:"basis-1/2 px-4"},ir={class:"basis-1/2 px-4"},ur={__name:"ModalExpensesFromOtherBransh",props:{show:Boolean,user:Array,allTransfers:Array,formData:Object},emits:["close","refresh"],setup(c,{emit:I}){const w=me(),v=p("add"),u=y=>{v.value=y},E=c,x=I,k=p([...E.allTransfers]);At(()=>E.allTransfers,y=>{k.value=[...y]},{deep:!0,immediate:!0}),At(()=>E.show,async y=>{if(y)try{const a=await D.post("/api/check-pending-external-transfers");a.data.success&&a.data.total_received>0&&(w.success(`\u062A\u0645 \u0627\u0633\u062A\u0642\u0628\u0627\u0644 ${a.data.total_received} \u062A\u062D\u0648\u064A\u0644 \u0645\u0639\u0644\u0642`,{timeout:3e3,position:"bottom-right",rtl:!0}),x("refresh"))}catch(a){console.error("Error checking pending transfers:",a)}});const T=Et(()=>k.value.filter(y=>!y.is_archived)),V=Et(()=>k.value.filter(y=>y.is_archived));function F(y){D.post("/api/confirmTransfers",y).then(a=>{const o=k.value.findIndex(h=>h.id===y.id);o!==-1&&(k.value[o]=a.data)}).catch(a=>{console.error("Error confirming transfer:",a),alert("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062A\u062D\u0648\u064A\u0644")})}function _(y){D.post("/api/cancelTransfers",y).then(a=>{k.value=k.value.filter(o=>o.id!==y.id)}).catch(a=>{console.error("Error canceling transfer:",a)})}async function i(y){try{const a=await D.post("/api/archiveTransfer",{id:y.id}),o=k.value.findIndex(h=>h.id===y.id);if(o!==-1){const h=a.data.transfer||{...k.value[o],is_archived:!0};k.value.splice(o,1,h),w.success("\u062A\u0645 \u0623\u0631\u0634\u0641\u0629 \u0627\u0644\u062A\u062D\u0648\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})}}catch(a){console.error("Error archiving transfer:",a),w.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0623\u0631\u0634\u0641\u0629 \u0627\u0644\u062A\u062D\u0648\u064A\u0644",{timeout:3e3,position:"bottom-right",rtl:!0})}}async function m(y){try{const a=await D.post("/api/unarchiveTransfer",{id:y.id}),o=k.value.findIndex(h=>h.id===y.id);if(o!==-1){const h=a.data.transfer||{...k.value[o],is_archived:!1};k.value.splice(o,1,h),w.success("\u062A\u0645 \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u062A\u062D\u0648\u064A\u0644 \u0644\u0644\u0633\u062C\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})}}catch(a){console.error("Error unarchiving transfer:",a),w.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u062A\u062D\u0648\u064A\u0644 \u0644\u0644\u0633\u062C\u0644",{timeout:3e3,position:"bottom-right",rtl:!0})}}function S(y){const a=y==="archive"?V.value:T.value;if(a.length===0){w.warning("\u0644\u0627 \u062A\u0648\u062C\u062F \u062A\u062D\u0648\u064A\u0644\u0627\u062A \u0644\u0644\u0637\u0628\u0627\u0639\u0629",{timeout:2e3,position:"bottom-right",rtl:!0});return}const o=window.open("","_blank"),h=`
    <html>
      <head>
        <title>${y==="archive"?"\u0623\u0631\u0634\u064A\u0641 \u0627\u0644\u062D\u0648\u0644\u0627\u062A":"\u0633\u062C\u0644 \u0627\u0644\u062D\u0648\u0644\u0627\u062A"}</title>
        <style>
          body { font-family: Arial, sans-serif; direction: rtl; }
          table { width: 100%; border-collapse: collapse; margin-top: 20px; }
          th, td { border: 1px solid #ddd; padding: 8px; text-align: center; }
          th { background-color: #f2f2f2; }
          h1 { text-align: center; }
        </style>
      </head>
      <body>
        <h1>${y==="archive"?"\u0623\u0631\u0634\u064A\u0641 \u0627\u0644\u062D\u0648\u0644\u0627\u062A":"\u0633\u062C\u0644 \u0627\u0644\u062D\u0648\u0644\u0627\u062A"}</h1>
        <table>
          <thead>
            <tr>
              <th>\u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644</th>
              <th>\u0627\u0644\u062A\u0627\u0631\u064A\u062E</th>
              <th>\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631</th>
              <th>\u0623\u062C\u0648\u0631 \u0627\u0644\u062D\u0648\u0644\u0627\u062A</th>
              <th>\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0635\u0627\u0641\u064A</th>
              <th>\u0645\u0644\u0627\u062D\u0638\u0629</th>
              <th>\u0627\u0644\u062D\u0627\u0644\u0629</th>
            </tr>
          </thead>
          <tbody>
            ${a.map(A=>`
              <tr>
                <td>${A.id}</td>
                <td>${A.created_at?A.created_at.slice(0,19).replace("T"," "):""}</td>
                <td>${A.amount||0}</td>
                <td>${A.fee||0}</td>
                <td>${(A.amount||0)-(A.fee||0)}</td>
                <td>${A.note||""}</td>
                <td>${A.stauts||""}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>
      </body>
    </html>
  `;o.document.write(h),o.document.close(),o.print()}return(y,a)=>(d(),et(vt,{name:"modal"},{default:C(()=>[c.show?(d(),n("div",Js,[t("div",Ks,[t("div",Qs,[t("div",ta,[ft(y.$slots,"header")]),t("div",ea,[t("div",sa,[t("ul",aa,[t("li",{class:"mr-2",onClick:a[0]||(a[0]=o=>u("add"))},[t("button",{class:M(["inline-block p-4 border-b-2 border-transparent rounded-t-lg",v.value=="add"?"dark:text-blue-500 dark:border-blue-500":"hover:text-gray-600 hover:border-gray-300"])}," \u0637\u0644\u0628\u0627\u062A \u0642\u064A\u062F \u0627\u0644\u062A\u062D\u0648\u064A\u0644 ",2)]),t("li",{class:"mr-2",onClick:a[1]||(a[1]=o=>u("record"))},[t("button",{class:M(["inline-block p-4 border-b-2 border-transparent rounded-t-lg",v.value=="record"?"dark:text-blue-500 dark:border-blue-500":"hover:text-gray-600 hover:border-gray-300"])}," \u0627\u0644\u0633\u062C\u0644 ",2)]),t("li",{class:"mr-2",onClick:a[2]||(a[2]=o=>u("archive"))},[t("button",{class:M(["inline-block p-4 border-b-2 border-transparent rounded-t-lg",v.value=="archive"?"dark:text-blue-500 dark:border-blue-500":"hover:text-gray-600 hover:border-gray-300"])}," \u0627\u0644\u0623\u0631\u0634\u064A\u0641 ",2)])])]),v.value=="add"?(d(),n("div",ra,[a[14]||(a[14]=t("h2",{class:"text-center py-3"},"\u0637\u0644\u0628\u0627\u062A \u0642\u064A\u062F \u0627\u0644\u062A\u062D\u0648\u064A\u0644",-1)),(d(!0),n(j,null,q(k.value,o=>(d(),n(j,{key:o.id},[o.stauts!="\u062A\u0645 \u0627\u0644\u0623\u0633\u062A\u0644\u0627\u0645"?(d(),n("div",oa,[t("div",da,[a[7]||(a[7]=t("svg",{class:"flex-shrink-0 w-4 h-4 me-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})],-1)),a[8]||(a[8]=t("span",{class:"sr-only"},"Info",-1)),a[9]||(a[9]=t("h3",{class:"text-lg font-medium px-2"},"\u0637\u0644\u0628 \u062D\u0648\u0627\u0644\u0629 \u0645\u0646 \u0641\u0631\u0639 \u0643\u0631\u0643\u0648\u0643",-1)),t("h3",la," \u0645\u0628\u0644\u063A "+l(o.amount)+" \u062F\u0648\u0644\u0627\u0631 ",1)]),t("div",na,l(o.note),1),a[13]||(a[13]=t("label",{class:"dark:text-gray-200 px-4",for:"note"},"\u0623\u062C\u0648\u0631 \u0627\u0644\u062D\u0648\u0627\u0644\u0629 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1)),W(t("input",{type:"number",class:"mt-3 mx-3 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":h=>o.inputValue=h},null,8,ia),[[tt,o.inputValue]]),W(t("input",{type:"text",class:"mt-3 mx-3 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":h=>o.receiver=h},null,8,ua),[[tt,o.receiver]]),t("div",pa,[a[10]||(a[10]=t("svg",{class:"flex-shrink-0 w-4 h-4 me-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})],-1)),a[11]||(a[11]=t("span",{class:"sr-only"},"Info",-1)),a[12]||(a[12]=t("h3",{class:"text-lg font-medium px-2"}," \u0635\u0627\u0641\u064A \u0627\u0644\u062D\u0648\u0627\u0644\u0629 \u0628\u0639\u062F \u062E\u0635\u0645 \u0623\u062C\u0631 \u0627\u0644\u062A\u062D\u0648\u064A\u0644",-1)),t("h3",ba," \u0645\u0628\u0644\u063A "+l(o.amount-o.inputValue)+" \u062F\u0648\u0644\u0627\u0631 ",1)]),t("div",ca,[t("button",{onClick:h=>F(o),type:"button",class:"mx-2 text-white bg-yellow-800 hover:bg-yellow-900 focus:ring-4 focus:outline-none focus:ring-yellow-300 font-medium rounded-lg text-xs px-3 py-1.5 me-2 text-center inline-flex items-center dark:bg-yellow-300 dark:text-gray-800 dark:hover:bg-yellow-400 dark:focus:ring-yellow-800"}," \u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062D\u0648\u0627\u0644\u0627\u062A ",8,ma),t("button",{onClick:h=>_(o),type:"button",class:"text-yellow-800 bg-transparent border border-yellow-800 hover:bg-yellow-900 hover:text-white focus:ring-4 focus:outline-none focus:ring-yellow-300 font-medium rounded-lg text-xs px-3 py-1.5 text-center dark:hover:bg-yellow-300 dark:border-yellow-300 dark:text-yellow-300 dark:hover:text-gray-800 dark:focus:ring-yellow-800","data-dismiss-target":"#alert-additional-content-4","aria-label":"Close",disabled:!c.formData.fee}," \u0625\u0644\u063A\u0627\u0621 ",8,ya)])])):f("",!0)],64))),128))])):v.value=="record"?(d(),n("div",ga,[t("div",xa,[a[16]||(a[16]=t("h1",{class:"text-center dark:text-gray-200"}," \u0633\u062C\u0644 \u0627\u0644\u062D\u0648\u0644\u0627\u062A",-1)),t("button",{onClick:a[3]||(a[3]=o=>S("record")),class:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700 flex items-center gap-2",title:"\u0637\u0628\u0627\u0639\u0629 \u0627\u0644\u0633\u062C\u0644"},[g(Q,{class:"w-4 h-4"}),a[15]||(a[15]=G(" \u0637\u0628\u0627\u0639\u0629 ",-1))])]),t("div",fa,[t("table",va,[t("thead",ha,[t("tr",ka,[a[17]||(a[17]=t("th",{className:"px-1 py-2 text-base"},"\u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644",-1)),t("th",$a,l(y.$t("date")),1),a[18]||(a[18]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1)),a[19]||(a[19]=t("th",{className:"px-1 py-2 text-base"},"\u0623\u062C\u0648\u0631 \u0627\u0644\u062D\u0648\u0644\u0627\u062A",-1)),a[20]||(a[20]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0635\u0627\u0641\u064A",-1)),a[21]||(a[21]=t("th",{className:"px-1 py-2 text-base"},"\u0645\u0644\u0627\u062D\u0638\u0629",-1)),a[22]||(a[22]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0646\u0648\u0639",-1)),a[23]||(a[23]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u062D\u0627\u0644\u0629",-1)),a[24]||(a[24]=t("th",{className:"px-1 py-2 text-base"},"\u062A\u0646\u0641\u064A\u0630",-1))])]),t("tbody",null,[(d(!0),n(j,null,q(T.value,o=>{var h;return d(),n("tr",{key:o.id,class:M(["text-center",o.is_external?"bg-blue-50 dark:bg-blue-900":""])},[t("td",wa,[G(l(o.id)+" ",1),o.is_external?(d(),n("span",_a,"\u{1F310}")):f("",!0)]),t("td",Na,l((h=o==null?void 0:o.created_at)==null?void 0:h.slice(0,19).replace("T"," ")),1),t("td",Ca,l(o.amount),1),t("td",Da,l(o.fee),1),t("td",Ta,l(o.amount-o.fee),1),t("td",Aa,[G(l(o.note)+" ",1),o.is_external&&o.external_system_domain?(d(),n("div",Ea," \u0645\u0646: "+l(o.external_system_domain),1)):f("",!0)]),t("td",Ma,[o.is_external?(d(),n("span",Ua," \u062E\u0627\u0631\u062C\u064A ")):(d(),n("span",Ia," \u0645\u062D\u0644\u064A "))]),t("td",Sa,l(o.stauts),1),t("td",Ba,[t("button",{onClick:A=>i(o),class:"px-3 py-1 text-sm font-semibold text-white bg-gray-600 rounded hover:bg-gray-700",title:"\u0623\u0631\u0634\u0641\u0629 \u0627\u0644\u062A\u062D\u0648\u064A\u0644"}," \u0623\u0631\u0634\u0641\u0629 ",8,Va)])],2)}),128)),T.value.length===0?(d(),n("tr",Oa,[...a[25]||(a[25]=[t("td",{colspan:"9",class:"px-4 py-4 border dark:border-gray-800 dark:text-gray-200"},"\u0644\u0627 \u062A\u0648\u062C\u062F \u062A\u062D\u0648\u064A\u0644\u0627\u062A",-1)])])):f("",!0)])])])])):v.value=="archive"?(d(),n("div",Ga,[t("div",ja,[a[27]||(a[27]=t("h1",{class:"text-center dark:text-gray-200"}," \u0623\u0631\u0634\u064A\u0641 \u0627\u0644\u062D\u0648\u0644\u0627\u062A",-1)),t("button",{onClick:a[4]||(a[4]=o=>S("archive")),class:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700 flex items-center gap-2",title:"\u0637\u0628\u0627\u0639\u0629 \u0627\u0644\u0623\u0631\u0634\u064A\u0641"},[g(Q,{class:"w-4 h-4"}),a[26]||(a[26]=G(" \u0637\u0628\u0627\u0639\u0629 ",-1))])]),t("div",Fa,[t("table",Ra,[t("thead",Ha,[t("tr",La,[a[28]||(a[28]=t("th",{className:"px-1 py-2 text-base"},"\u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644",-1)),t("th",Wa,l(y.$t("date")),1),a[29]||(a[29]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1)),a[30]||(a[30]=t("th",{className:"px-1 py-2 text-base"},"\u0623\u062C\u0648\u0631 \u0627\u0644\u062D\u0648\u0644\u0627\u062A",-1)),a[31]||(a[31]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0635\u0627\u0641\u064A",-1)),a[32]||(a[32]=t("th",{className:"px-1 py-2 text-base"},"\u0645\u0644\u0627\u062D\u0638\u0629",-1)),a[33]||(a[33]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0646\u0648\u0639",-1)),a[34]||(a[34]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u062D\u0627\u0644\u0629",-1)),a[35]||(a[35]=t("th",{className:"px-1 py-2 text-base"},"\u062A\u0646\u0641\u064A\u0630",-1))])]),t("tbody",null,[(d(!0),n(j,null,q(V.value,o=>{var h;return d(),n("tr",{key:o.id,class:M(["text-center",o.is_external?"bg-blue-50 dark:bg-blue-900":""])},[t("td",Za,[G(l(o.id)+" ",1),o.is_external?(d(),n("span",qa,"\u{1F310}")):f("",!0)]),t("td",Pa,l((h=o==null?void 0:o.created_at)==null?void 0:h.slice(0,19).replace("T"," ")),1),t("td",Ya,l(o.amount),1),t("td",za,l(o.fee),1),t("td",Xa,l(o.amount-o.fee),1),t("td",Ja,[G(l(o.note)+" ",1),o.is_external&&o.external_system_domain?(d(),n("div",Ka," \u0645\u0646: "+l(o.external_system_domain),1)):f("",!0)]),t("td",Qa,[o.is_external?(d(),n("span",tr," \u062E\u0627\u0631\u062C\u064A ")):(d(),n("span",er," \u0645\u062D\u0644\u064A "))]),t("td",sr,l(o.stauts),1),t("td",ar,[t("button",{onClick:A=>m(o),class:"px-3 py-1 text-sm font-semibold text-white bg-green-600 rounded hover:bg-green-700",title:"\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u062A\u062D\u0648\u064A\u0644 \u0644\u0644\u0633\u062C\u0644"}," \u0625\u0639\u0627\u062F\u0629 \u0644\u0644\u0633\u062C\u0644 ",8,rr)])],2)}),128)),V.value.length===0?(d(),n("tr",or,[...a[36]||(a[36]=[t("td",{colspan:"9",class:"px-4 py-4 border dark:border-gray-800 dark:text-gray-200"},"\u0644\u0627 \u062A\u0648\u062C\u062F \u062A\u062D\u0648\u064A\u0644\u0627\u062A \u0645\u0624\u0631\u0634\u0641\u0629",-1)])])):f("",!0)])])])])):f("",!0)]),t("div",dr,[t("div",lr,[t("div",nr,[t("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:a[5]||(a[5]=o=>{y.$emit("close"),v.value="add"})},l(y.$t("cancel")),1)]),t("div",ir,[t("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:a[6]||(a[6]=o=>{y.$emit("close")})},l(y.$t("yes")),1)])])])])])])):f("",!0)]),_:3}))}};const pr={key:0},br={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},cr={class:"ml-3 font-medium text-red-700 dark:text-red-800"},mr={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},yr={class:"overflow-hidden shadow-sm sm:rounded-lg"},gr={class:"border-b border-gray-200"},xr={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3 lg:gap-3"},fr={class:"pt-5 print:hidden"},vr={class:"pt-5 hidden"},hr={class:"pt-5 print:hidden"},kr={class:"px-4"},$r={class:"px-4"},wr={class:"mr-5 print:hidden"},_r={key:0},Nr={key:1},Cr={class:"mr-5 print:hidden"},Dr={class:"mr-5"},Tr={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3 lg:gap-3"},Ar={key:0},Er={key:1},Mr={key:2},Ur={key:3},Ir={key:0,class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3 lg:gap-3"},Sr={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-4 gap-3 lg:gap-3"},Br={class:"px-4"},Vr={class:"px-4"},Or={class:"relative w-full px-4"},Gr={class:"relative w-full px-4"},jr={class:"w-full text-sm text-center text-gray-100 border border-gray-700 rounded-lg overflow-hidden bg-slate-900"},Fr={class:"bg-slate-900"},Rr={class:"border border-gray-700 p-2 text-emerald-200 font-semibold"},Hr={class:"border border-gray-700 p-2 text-rose-200 font-semibold"},Lr={class:"border border-gray-700 p-2 font-semibold"},Wr={class:"bg-slate-900"},Zr={class:"border border-gray-700 p-2 text-emerald-200 font-semibold"},qr={class:"border border-gray-700 p-2 text-rose-200 font-semibold"},Pr={class:"border border-gray-700 p-2 font-semibold"},Yr={class:"overflow-x-auto shadow-lg mt-5 rounded-lg"},zr={class:"w-full text-right text-gray-100 dark:text-gray-100 text-center bg-slate-900 rounded-lg overflow-hidden"},Xr={class:"border border-transparent text-center px-2 py-1 whitespace-nowrap"},Jr={key:1},Kr={class:"border border-transparent text-center px-2 py-1 whitespace-nowrap"},Qr={class:"border border-transparent text-center px-2 py-1 align-top"},to={key:0,class:"space-y-2 text-right"},eo={class:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400"},so={key:0,class:"text-xs text-red-500"},ao={class:"flex justify-end gap-2"},ro=["disabled"],oo=["onClick","disabled"],lo={key:0},no={key:1},io={key:1,class:"space-y-1 text-center"},uo={class:"block whitespace-pre-line leading-6 pt-5"},po={key:0,class:"inline-flex items-center text-xs font-semibold text-green-600"},bo={class:"border border-transparent text-center px-2 py-1"},co={class:"border border-transparent text-center px-2 py-1"},mo={class:"border border-transparent text-center px-2 py-1"},yo={class:"action-group"},go=["onClick","disabled"],xo=["onClick"],fo=["onClick"],vo=["href"],ho=["href"],ko=["href"],$o=["href"],wo=["href"],_o=["src"],No={class:"spaner"},st=1e3,qo={__name:"Index",props:{url:String,users:Array,accounts:Array,boxes:Array,flaggedWallets:{type:Array,default:()=>[]}},setup(c){const I=p({});p("");let w=p(!1),v=p(!1),u=p(!1),E=p(!1),x=p(!1),k=p(!1),T=p(!1),V=p(!1),F=p(!1),_=p(!1),i=p([]),m=p(0),S=p({}),y=p({}),a=p({}),o=p(!1),h=p(kt()),A=p(kt()),Mt=p(0),Ut=p(0),It=p(0),St=p(0),Bt=p(0),Vt=p(0),Ot=p(0),Gt=p(0),jt=p(0),dt=p(0),lt=p(0),nt=p(0),it=p(0),Ft=p(0),Rt=p(0),mt=p(!1),yt=1,at="",gt=p([]);const rt=p(null),P=p(""),Y=p(!1),R=p(""),z=()=>{yt=0,i.value.length=0,mt.value=!mt.value},Ht=Ee(z,500),Lt=async s=>{try{const $=(await D.get("/getIndexAccounting",{params:{limit:100,page:yt,q:at,user_id:Qt.boxes[0].id,from:h.value,to:A.value}})).data;$.transactions.data.length<100?(i.value.push(...$.transactions.data),s.complete()):(i.value.push(...$.transactions.data),s.loaded()),I.value=$,yt++}catch(e){console.log(e)}};(async()=>{D.get("/api/totalInfo").then(s=>{Mt.value=s.data.data.mainAccount,Ut.value=s.data.data.onlineContracts,It.value=s.data.data.howler,St.value=s.data.data.shippingCoc,Bt.value=s.data.data.border,Vt.value=s.data.data.iran,Ot.value=s.data.data.dubai,Gt.value=s.data.data.debtOnlineContracts,Ft.value=s.data.data.onlineContractsDinar,Rt.value=s.data.data.debtOnlineContractsDinar,jt.value=s.data.data.allCars,dt.value=s.data.data.transactionInTodayDollar,nt.value=s.data.data.transactionOutTodayDollar,lt.value=s.data.data.transactionInTodayDinar,it.value=s.data.data.transactionOutTodayDinar}).catch(s=>{console.error(s)})})();function Wt(){w.value=!0}function Zt(){v.value=!0}function qt(){u.value=!0}function Pt(){xt(),T.value=!0}function Yt(){xt(),V.value=!0}function zt(){x.value=!0}function Xt(){k.value=!0}function Jt(s){S.value=s,F.value=!0}function Kt(s){S.value=s,_.value=!0}const Qt=c;ye(),p(!1);const Z=p(0);function te(s){D.post("/api/receiptArrived",s).then(e=>{w.value=!1,window.location.reload()}).catch(e=>{Z.value=e.response.data.errors})}function ht(s){D.post("/api/salesDebt",s).then(e=>{z(),v.value=!1,u.value=!1,window.location.reload()}).catch(e=>{Z.value=e.response.data.errors})}function ee(s){D.post("/api/convertDollarDinar",s).then(e=>{z(),x.value=!1}).catch(e=>{Z.value=e.response.data.errors})}function se(s){D.post("/api/convertDinarDollar",s).then(e=>{z(),k.value=!1}).catch(e=>{Z.value=e.response.data.errors})}function kt(){const s=new Date,e=s.getFullYear(),$=String(s.getMonth()+1).padStart(2,"0"),N=String(s.getDate()).padStart(2,"0");return`${e}-${$}-${N}`}function ae(s){D.post(`/api/delTransactions?id=${s.id}`).then(e=>{z(),F.value=!1}).catch(e=>{Z.value=e.response.data.errors})}function ut(s){m.value=s,re(),E.value=!0}function re(){D.get(`/api/getGenExpenses?expenses_type_id=${m.value}`).then(s=>{a.value=s.data}).catch(s=>{Z.value=s.response.data.errors})}function $t(s){var e,$,N;D.post(`/api/GenExpenses?amount=${(e=s.amount)!=null?e:0}&expenses_type_id=${m.value}&factor=${($=s.factor)!=null?$:1}&note=${(N=s.note)!=null?N:""}`).then(U=>{z(),E.value=!1,console.log(U.data),window.open(`/api/getIndexAccountsSelas?user_id=${U.data.morphed_id}&print=3&transactions_id=${U.data.id}`,"_blank"),window.location.reload()}).catch(U=>{Z.value=U.response.data.errors})}function xt(){D.get("/api/transfers").then(s=>{gt.value=s.data}).catch(s=>{Z.value=s.response.data.errors})}function oe(s){var e,$;D.post(`/api/addTransfers?amount=${(e=s.amount)!=null?e:0}&sender_note=${($=s.note)!=null?$:""}`).then(N=>{window.location.reload(),T.value=!1}).catch(N=>{Z.value=N.response.data.errors})}function de(s){return`/public/uploadsResized/${s}`}function le(s){return`/public/uploads/${s}`}function ne(){z()}function X(s){return typeof s!="number"&&(s=parseFloat(s)||0),s.toLocaleString()}const wt=["in","inUser","inUserBox"],_t=["out","outUser","outUserBox","debt"];function pt(s,e){var N,U;if(!s)return"";const $=Number(s.amount);return Number.isNaN($)?"":e==="in"&&wt.includes(s.type)?`${X(Math.abs($))} ${(N=s.currency)!=null?N:"$"}`.trim():e==="out"&&_t.includes(s.type)?`${X(Math.abs($))} ${(U=s.currency)!=null?U:"$"}`.trim():""}function Nt(s){return s==="in"?"amount-pill amount-pill--in dark:text-white text-xl font-bold":"amount-pill amount-pill--out dark:text-white text-xl font-bold"}function ie(s){const e=["transition-colors","duration-150","border-b","border-transparent","hover:shadow-md"];return s&&(wt.includes(s.type)?e.push("bg-gradient-to-l","from-emerald-700","to-emerald-600","text-white","hover:from-emerald-600","hover:to-emerald-500"):_t.includes(s.type)?e.push("bg-gradient-to-l","from-rose-700","to-rose-600","text-white","hover:from-rose-600","hover:to-rose-500"):e.push("bg-slate-800","text-white","hover:bg-slate-700")),e}function Ct(s){var J,r,H,L;if(!s)return null;const e=(J=s.morphed_type)!=null?J:"",$=(H=(r=s.morphed)==null?void 0:r.id)!=null?H:s.morphed_id,N=(L=s.type)!=null?L:"";return $?N==="inUserBox"||N==="outUserBox"?route("wallet",{id:$}):e.includes("User")?route("showClients",{id:$,q:""}):e.includes("Wallet")?route("wallet",{id:$}):null:null}function ue(s){var e;!s||Y.value||(rt.value=s.id,P.value=(e=s.description)!=null?e:"",R.value="")}function Dt(){Y.value||(rt.value=null,P.value="",R.value="")}async function pe(s){var $,N,U,J,r,H;if(!s||rt.value!==s.id)return;const e=P.value?P.value.trim():"";if(!e){R.value="\u0627\u0644\u0648\u0635\u0641 \u0645\u0637\u0644\u0648\u0628";return}if(e.length>st){R.value=`\u0627\u0644\u0648\u0635\u0641 \u064A\u062C\u0628 \u0623\u0644\u0627 \u064A\u062A\u062C\u0627\u0648\u0632 ${st} \u062D\u0631\u0641\u064B\u0627`;return}Y.value=!0,R.value="";try{await D.post("/api/updateTransactionDescription",{transaction_id:s.id,description:e}),s.description=e,s._descriptionUpdated=!0,setTimeout(()=>{s&&(s._descriptionUpdated=!1)},3e3),Dt()}catch(L){(J=(U=(N=($=L.response)==null?void 0:$.data)==null?void 0:N.errors)==null?void 0:U.description)!=null&&J.length?R.value=L.response.data.errors.description[0]:(H=(r=L.response)==null?void 0:r.data)!=null&&H.message?R.value=L.response.data.message:R.value="\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0641\u0638 \u0627\u0644\u0648\u0635\u0641"}finally{Y.value=!1}}function be(s){const e=["bg-orange-300","bg-orange-400","bg-orange-500","bg-orange-600","bg-orange-700","bg-orange-800","bg-orange-900"];return e[s%e.length]}return(s,e)=>(d(),n(j,null,[g(b(ge),{title:"Dashboard"}),g(fe,null,{header:C(()=>[...e[36]||(e[36]=[])]),default:C(()=>{var $,N,U,J;return[g(ve,{show:!!b(F),formData:b(S),onA:e[0]||(e[0]=r=>ae(r)),onClose:e[1]||(e[1]=r=>B(F)?F.value=!1:F=!1)},{header:C(()=>[...e[37]||(e[37]=[t("h2",{class:"mb-5 dark:text-white text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0644\u062D\u0630\u0641 \u061F ",-1)])]),_:1},8,["show","formData"]),g(he,{show:!!b(_),formData:b(S),onA:e[2]||(e[2]=r=>ne(r)),onClose:e[3]||(e[3]=r=>B(_)?_.value=!1:_=!1)},{header:C(()=>[...e[38]||(e[38]=[t("h2",{class:"mb-5 dark:text-white text-center"}," \u062A\u062D\u0645\u064A\u0644 \u0645\u0644\u0641\u0627\u062A ",-1)])]),_:1},8,["show","formData"]),g(xs,{formData:b(y),show:!!b(E),expenses_type_id:b(m),GenExpenses:b(a),onA:e[4]||(e[4]=r=>$t(r)),onClose:e[5]||(e[5]=r=>B(E)?E.value=!1:E=!1)},{header:C(()=>[...e[39]||(e[39]=[])]),_:1},8,["formData","show","expenses_type_id","GenExpenses"]),g(Xs,{formData:b(y),show:!!b(T),expenses_type_id:b(m),allTransfers:b(gt),onA:e[6]||(e[6]=r=>oe(r)),onClose:e[7]||(e[7]=r=>B(T)?T.value=!1:T=!1)},{header:C(()=>[...e[40]||(e[40]=[])]),_:1},8,["formData","show","expenses_type_id","allTransfers"]),g(ur,{formData:b(y),show:!!b(V),expenses_type_id:b(m),GenExpenses:b(a),allTransfers:b(gt),onA:e[8]||(e[8]=r=>$t(r)),onRefresh:xt,onClose:e[9]||(e[9]=r=>B(V)?V.value=!1:V=!1)},{header:C(()=>[...e[41]||(e[41]=[])]),_:1},8,["formData","show","expenses_type_id","GenExpenses","allTransfers"]),g(ke,{show:!!b(w),data:c.users,accounts:c.accounts,onA:e[10]||(e[10]=r=>te(r)),onClose:e[11]||(e[11]=r=>B(w)?w.value=!1:w=!1)},{header:C(()=>[...e[42]||(e[42]=[t("h3",{class:"text-center"},"\u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1)])]),_:1},8,["show","data","accounts"]),g(Ne,{show:!!b(v),data:c.users,accounts:c.accounts,onA:e[12]||(e[12]=r=>ht(r)),onClose:e[13]||(e[13]=r=>B(v)?v.value=!1:v=!1)},{header:C(()=>[...e[43]||(e[43]=[])]),_:1},8,["show","data","accounts"]),g(Ce,{show:!!b(u),boxes:c.boxes,onA:e[14]||(e[14]=r=>ht(r)),onClose:e[15]||(e[15]=r=>B(u)?u.value=!1:u=!1)},{header:C(()=>[...e[44]||(e[44]=[t("h3",{class:"text-center"},"\u0627\u062F\u062E\u0627\u0644 \u0645\u0635\u0627\u0631\u064A\u0641",-1)])]),_:1},8,["show","boxes"]),g($e,{show:!!b(x),boxes:c.boxes,onA:e[16]||(e[16]=r=>ee(r)),onClose:e[17]||(e[17]=r=>B(x)?x.value=!1:x=!1)},{header:C(()=>[...e[45]||(e[45]=[t("h3",{class:"text-center"},"\u062A\u062D\u0648\u064A\u0644 \u0645\u0646 \u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0649 \u062F\u064A\u0646\u0627\u0631",-1)])]),_:1},8,["show","boxes"]),g(we,{show:!!b(k),boxes:c.boxes,onA:e[18]||(e[18]=r=>se(r)),onClose:e[19]||(e[19]=r=>B(k)?k.value=!1:k=!1)},{header:C(()=>[...e[46]||(e[46]=[t("h3",{class:"text-center"},"\u062A\u062D\u0648\u064A\u0644 \u0645\u0646 \u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0649 \u062F\u0648\u0644\u0627\u0631",-1)])]),_:1},8,["show","boxes"]),s.$page.props.success?(d(),n("div",pr,[t("div",br,[t("div",cr,l(s.$page.props.success),1)])])):f("",!0),t("div",null,[t("div",mr,[t("div",yr,[t("div",gr,[t("div",xr,[t("div",fr,[s.$page.props.auth.user.type_id==1||s.$page.props.auth.user.type_id==2||s.$page.props.auth.user.type_id==5||s.$page.props.auth.user.type_id==6?(d(),n("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-green-500 rounded-md focus:outline-none",onClick:e[20]||(e[20]=r=>Wt())}," \u0648\u0635\u0644 \u0642\u0628\u0636 (\u0623\u0636\u0627\u0641\u0629) ")):f("",!0)]),t("div",vr,[s.$page.props.auth.user.type_id==1||s.$page.props.auth.user.type_id==2||s.$page.props.auth.user.type_id==5?(d(),n("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-yellow-500 rounded-md focus:outline-none",onClick:e[21]||(e[21]=r=>Zt())}," \u062A\u062D\u0648\u064A\u0644 \u0644\u062D\u0633\u0627\u0628 ")):f("",!0)]),t("div",hr,[s.$page.props.auth.user.type_id==1||s.$page.props.auth.user.type_id==2||s.$page.props.auth.user.type_id==5||s.$page.props.auth.user.type_id==6?(d(),n("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-rose-500 rounded-md focus:outline-none",onClick:e[22]||(e[22]=r=>qt())}," \u0648\u0635\u0644 \u0635\u0631\u0641 (\u0633\u062D\u0628) ")):f("",!0)]),t("div",kr,[t("div",null,[g(K,{for:"from",value:"\u0645\u0646 \u062A\u0627\u0631\u064A\u062E"}),g(ot,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:b(h),"onUpdate:modelValue":e[23]||(e[23]=r=>B(h)?h.value=r:h=r)},null,8,["modelValue"])])]),t("div",$r,[t("div",null,[g(K,{for:"to",value:"\u062D\u062A\u0649 \u062A\u0627\u0631\u064A\u062E"}),g(ot,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:b(A),"onUpdate:modelValue":e[24]||(e[24]=r=>B(A)?A.value=r:A=r)},null,8,["modelValue"])])]),t("div",wr,[g(K,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),t("button",{onClick:e[25]||(e[25]=xe(r=>z(),["prevent"])),class:"px-6 mb-6 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},[b(o)?(d(),n("span",Nr,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(d(),n("span",_r,"\u0641\u0644\u062A\u0631\u0629"))])]),t("div",Cr,[g(K,{for:"pay",value:"\u0642\u0627\u0633\u0647"}),s.$page.props.auth.user.owner_id==1?(d(),et(b(ct),{key:0,type:"button",href:"/wallet?id=2756",style:{"min-width":"150px"},class:"px-6 mb-6 py-2 font-bold text-white bg-orange-800 rounded w-full mt-1 text-center"},{default:C(()=>[...e[47]||(e[47]=[G(" \u062D\u0648\u0644\u0627\u062A \u062D\u0627\u062C\u0649 \u0639\u0645\u0631\u0627\u0646 ",-1)])]),_:1})):f("",!0)]),t("div",Dr,[g(K,{for:"to",value:"\u0645\u0635\u0627\u0631\u064A\u0641"}),s.$page.props.auth.user.owner_id==1?(d(),et(b(ct),{key:0,type:"button",href:"/wallet?id=588",style:{"min-width":"150px"},class:"px-6 mb-6 py-2 font-bold text-white bg-red-500 rounded w-full mt-1 text-center"},{default:C(()=>[...e[48]||(e[48]=[G(" \u0645\u0635\u0627\u0631\u064A\u0641 \u0627\u0644\u0634\u0631\u0643\u0629 ",-1)])]),_:1})):f("",!0)])]),t("div",Tr,[t("div",null,[s.$page.props.auth.user.owner_id==1?(d(),n("button",{key:0,type:"button",onClick:e[26]||(e[26]=r=>Yt(1)),style:{"min-width":"150px"},className:"px-6 mb-6 py-2 font-bold text-white bg-red-500 rounded  w-full"}," \u062A\u062D\u0648\u064A\u0644\u0627\u062A \u0643\u0631\u0643\u0648\u0643 ")):f("",!0),s.$page.props.auth.user.type_id==6?(d(),n("button",{key:1,type:"button",onClick:e[27]||(e[27]=r=>Pt(1)),style:{"min-width":"150px"},className:"px-6 mb-6 py-2 font-bold text-white bg-red-500 rounded  w-full"}," \u062A\u062D\u0648\u064A\u0644 \u0644\u0641\u0631\u0639 \u0623\u0631\u0628\u064A\u0644 ")):f("",!0)]),s.$page.props.auth.user.type_id==1?(d(),n("div",Ar,[t("button",{type:"button",onClick:e[28]||(e[28]=r=>ut(2)),style:{"min-width":"150px"},className:"px-6 mb-6 text-center py-2 font-bold text-white bg-blue-600 rounded  w-full"},l(s.$t("dubai")),1)])):f("",!0),s.$page.props.auth.user.type_id==1?(d(),n("div",Er,[t("button",{type:"button",onClick:e[29]||(e[29]=r=>ut(3)),style:{"min-width":"150px"},className:"px-6 mb-6 text-center w-full py-2 font-bold text-white bg-blue-600 rounded"},l(s.$t("iran")),1)])):f("",!0),s.$page.props.auth.user.type_id==1?(d(),n("div",Mr,[t("button",{type:"button",onClick:e[30]||(e[30]=r=>ut(4)),style:{"min-width":"150px"},className:"px-6 mb-6 w-full py-2 font-bold text-white bg-indigo-600 rounded"},l(s.$t("border")),1)])):f("",!0),s.$page.props.auth.user.type_id==1?(d(),n("div",Ur,[t("button",{type:"button",onClick:e[31]||(e[31]=r=>ut(5)),style:{"min-width":"150px"},className:"px-6 mb-6 w-full py-2 font-bold text-white bg-pink-600 rounded"},l(s.$t("shipping_coc")),1)])):f("",!0),t("div",null,[t("button",{type:"button",onClick:e[32]||(e[32]=r=>zt()),style:{"min-width":"150px"},className:"px-6 mb-6 w-full py-2 font-bold text-white bg-teal-500 rounded"}," \u062A\u062D\u0648\u064A\u0644 \u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0649 \u062F\u064A\u0646\u0627\u0631 ")]),t("div",null,[t("button",{type:"button",onClick:e[33]||(e[33]=r=>Xt()),style:{"min-width":"150px"},className:"px-6 mb-6 w-full py-2 font-bold text-white bg-yellow-500 rounded"}," \u062A\u062D\u0648\u064A\u0644 \u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0649 \u062F\u0648\u0644\u0627\u0631 ")])]),c.flaggedWallets&&c.flaggedWallets.length>0?(d(),n("div",Ir,[(d(!0),n(j,null,q(c.flaggedWallets,(r,H)=>(d(),n("div",{key:r.id},[s.$page.props.auth.user.owner_id==1?(d(),et(b(ct),{key:0,type:"button",href:`/wallet?id=${r.id}`,style:{"min-width":"150px"},class:M(`px-6 mb-6 py-2 font-bold text-white ${be(H)} rounded w-full mt-1 text-center`)},{default:C(()=>[G(l(r.name),1)]),_:2},1032,["href","class"])):f("",!0)]))),128))])):f("",!0),t("div",Sr,[t("div",Br,[g(K,{for:"to",value:"\u0631\u0635\u064A\u062F \u0627\u0644\u0635\u0646\u062F\u0648\u0642 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),g(ot,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:(N=($=I.value)==null?void 0:$.user)==null?void 0:N.wallet.balance},null,8,["value"])]),t("div",Vr,[g(K,{for:"to",value:"\u0631\u0635\u064A\u062F \u0627\u0644\u0635\u0646\u062F\u0648\u0642 \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0639\u0631\u0627\u0642\u064A"}),g(ot,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:(J=(U=I.value)==null?void 0:U.user)==null?void 0:J.wallet.balance_dinar},null,8,["value"])]),t("div",Or,[g(K,{for:"to",value:"\u0628\u062D\u062B \u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644 \u0627\u0648 \u0627\u0644\u0648\u0635\u0641"}),g(ot,{id:"q",type:"text",class:"mt-1 block w-full",modelValue:b(at),"onUpdate:modelValue":e[34]||(e[34]=r=>B(at)?at.value=r:at=r),onInput:b(Ht)},null,8,["modelValue","onInput"])]),t("div",Gr,[t("table",jr,[e[51]||(e[51]=t("thead",{class:"bg-slate-800 text-gray-100"},[t("tr",null,[t("th",{class:"border p-2"},"\u0627\u0644\u0639\u0645\u0644\u0629"),t("th",{class:"border p-2"},"\u0627\u0644\u062F\u062E\u0644"),t("th",{class:"border p-2"},"\u0627\u0644\u062E\u0631\u0648\u062C"),t("th",{class:"border p-2"},"\u0627\u0644\u0641\u0631\u0642")])],-1)),t("tbody",null,[t("tr",Fr,[e[49]||(e[49]=t("td",{class:"border border-gray-700 p-2 font-bold text-emerald-300"},"\u062F\u0648\u0644\u0627\u0631",-1)),t("td",Rr,l(X(b(dt))),1),t("td",Hr,l(X(b(nt))),1),t("td",Lr,[t("span",{class:M(b(dt)+b(nt)>0?"text-emerald-300":"text-rose-300")},l(X(b(dt)+b(nt))),3)])]),t("tr",Wr,[e[50]||(e[50]=t("td",{class:"border border-gray-700 p-2 font-bold text-indigo-300"},"\u062F\u064A\u0646\u0627\u0631",-1)),t("td",Zr,l(X(b(lt))),1),t("td",qr,l(X(b(it))),1),t("td",Pr,[t("span",{class:M(b(lt)+b(it)>0?"text-emerald-300":"text-rose-300")},l(X(b(lt)+b(it))),3)])])])])])]),t("div",Yr,[t("table",zr,[e[52]||(e[52]=t("thead",{class:"uppercase bg-slate-800 text-gray-100 text-center"},[t("tr",{class:"rounded-l-lg mb-2 sm:mb-0"},[t("th",{className:"px-2 py-2",style:{width:"200px"}},"\u062D\u0633\u0627\u0628 "),t("th",{className:"px-2 py-2",style:{width:"180px"}},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),t("th",{className:"px-2 py-2"},"\u0627\u0644\u0648\u0635\u0641"),t("th",{className:"px-2 py-2"},"\u0627\u064A\u062F\u0627\u0639"),t("th",{className:"px-2 py-2"},"\u0633\u062D\u0628"),t("th",{className:"px-2 py-2",style:{width:"200px"}},"\u062A\u0646\u0641\u064A\u0630"),t("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"100px"}}," \u062A\u062E\u0632\u064A\u0646 ")])],-1)),t("tbody",null,[(d(!0),n(j,null,q(b(i),r=>{var H,L;return d(),n("tr",{key:r.id,class:M(ie(r))},[t("td",Xr,[Ct(r)?(d(),et(b(ct),{key:0,href:Ct(r),class:"account-link"},{default:C(()=>{var O,bt;return[G(l((bt=(O=r.morphed)==null?void 0:O.name)!=null?bt:"\u2014"),1)]}),_:2},1032,["href"])):(d(),n("span",Jr,l((L=(H=r.morphed)==null?void 0:H.name)!=null?L:"\u2014"),1))]),t("td",Kr,l(b(Me)(r==null?void 0:r.created_at)),1),t("th",Qr,[rt.value===r.id?(d(),n("div",to,[W(t("textarea",{"onUpdate:modelValue":e[35]||(e[35]=O=>P.value=O),class:"w-full rounded border border-gray-300 dark:border-gray-700 dark:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm leading-6 p-2",rows:"3",maxlength:st,placeholder:"\u0627\u0643\u062A\u0628 \u0627\u0644\u0648\u0635\u0641 \u0627\u0644\u062C\u062F\u064A\u062F \u0647\u0646\u0627"},null,512),[[tt,P.value]]),t("div",eo,[t("span",null,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 "+l(st)+" \u062D\u0631\u0641\u064B\u0627"),t("span",{class:M(P.value.length>st?"text-red-500":"")},l(P.value.length)+"/"+l(st),3)]),R.value?(d(),n("p",so,l(R.value),1)):f("",!0),t("div",ao,[t("button",{type:"button",class:"px-3 py-1 text-sm font-semibold rounded bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-200",onClick:Dt,disabled:Y.value}," \u0625\u0644\u063A\u0627\u0621 ",8,ro),t("button",{type:"button",class:"px-3 py-1 text-sm font-semibold text-white bg-green-600 rounded disabled:opacity-70",onClick:O=>pe(r),disabled:Y.value},[Y.value?(d(),n("span",lo,"\u062C\u0627\u0631\u064D \u0627\u0644\u062D\u0641\u0638...")):(d(),n("span",no,"\u062D\u0641\u0638"))],8,oo)])])):(d(),n("div",io,[t("span",uo,l(r.description),1),r._descriptionUpdated?(d(),n("span",po," \u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B ")):f("",!0)]))]),t("td",bo,[pt(r,"in")?(d(),n("span",{key:0,class:M(Nt("in"))},l(pt(r,"in")),3)):f("",!0)]),t("td",co,[pt(r,"out")?(d(),n("span",{key:0,class:M(Nt("out"))},l(pt(r,"out")),3)):f("",!0)]),t("td",mo,[t("div",yo,[t("button",{class:"action-btn action-btn--edit",title:"\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0648\u0635\u0641",onClick:O=>ue(r),disabled:Y.value&&rt.value===r.id},[g(Te,{class:"w-4 h-4"})],8,go),t("button",{class:"action-btn action-btn--delete",onClick:O=>Jt(r),title:"\u062D\u0630\u0641 \u0627\u0644\u062D\u0631\u0643\u0629"},[g(De)],8,xo),t("button",{class:"action-btn action-btn--upload",onClick:O=>Kt(r),title:"\u0645\u0631\u0641\u0642\u0627\u062A \u0627\u0644\u062D\u0631\u0643\u0629"},[g(_e)],8,fo),r.type==="out"||r.type==="outUser"||r.type==="debt"?(d(),n("a",{key:0,href:`/api/getIndexAccountsSelas?user_id=${c.boxes[0].id}&print=2&transactions_id=${r.id}`,target:"_blank",class:"action-btn action-btn--print",title:"\u0637\u0628\u0627\u0639\u0629 \u0633\u0646\u062F \u0627\u0644\u0635\u0631\u0641"},[g(Q,{class:"inline-flex"})],8,vo)):f("",!0),r.type==="in"||r.type==="inUser"?(d(),n("a",{key:1,href:`/api/getIndexAccountsSelas?user_id=${c.boxes[0].id}&print=3&transactions_id=${r.id}`,target:"_blank",class:"action-btn action-btn--print",title:"\u0637\u0628\u0627\u0639\u0629 \u0633\u0646\u062F \u0627\u0644\u0642\u0628\u0636"},[g(Q,{class:"inline-flex"})],8,ho)):f("",!0),r.type==="inUserBox"?(d(),n("a",{key:2,href:`/api/getIndexAccountsSelas?user_id=${r.morphed_id}&print=3&transactions_id=${r.id}`,target:"_blank",class:"action-btn action-btn--print",title:"\u0637\u0628\u0627\u0639\u0629 \u0633\u0646\u062F \u0627\u0644\u0642\u0628\u0636"},[g(Q,{class:"inline-flex"})],8,ko)):f("",!0),r.type==="outUserBox"?(d(),n("a",{key:3,href:`/api/getIndexAccountsSelas?user_id=${r.morphed_id}&print=2&transactions_id=${r.id}`,target:"_blank",class:"action-btn action-btn--print",title:"\u0637\u0628\u0627\u0639\u0629 \u0633\u0646\u062F \u0627\u0644\u0635\u0631\u0641"},[g(Q,{class:"inline-flex"})],8,$o)):f("",!0)])]),t("td",null,[(d(!0),n(j,null,q(r.transactions_images,(O,bt)=>(d(),n("a",{key:bt,href:le(O.name),style:{cursor:"pointer"},target:"_blank"},[t("img",{src:de(O.name),alt:"",class:"px-1",style:{"max-width":"80px","max-height":"50px",display:"inline"}},null,8,_o)],8,wo))),128))])],2)}),128))])])]),t("div",No,[g(b(Ae),{transactions:b(i),onInfinite:Lt,identifier:b(mt)},null,8,["transactions","identifier"])])])])])])]}),_:1})],64))}};export{qo as default};
