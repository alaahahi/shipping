import{x as Q,r as n,y as X,a,g as m,j as p,w as y,k as w,F as C,o as l,H as Y,b as s,n as D,e as Z,v as S,i as A,h as M,t as r,f as E}from"./app.0035b66a.js";import{_ as tt}from"./AuthenticatedLayout.80150b5e.js";import"./vue-tailwind-datepicker.58a4f09c.js";import{M as st,a as et,_ as ot,b as rt}from"./ModalArchiveCarBack.4bca0015.js";import{M as at}from"./ModalDelCar.2a95d245.js";import{a as x}from"./index.d33a7cb3.js";import{d as lt}from"./debounce.11d1f2c8.js";/* empty css                                                                 */import"./VueSearchSelect.dec9879a.js";/* empty css                        *//* empty css                                                            */import"./print.b4a0a2c6.js";import"./trash.da88942a.js";/* empty css                                                    */const nt={key:0,class:"py-2"},it={class:"sm:px-6 lg:px-8 text-sm font-medium text-center text-gray-500 rounded-lg flex dark:divide-gray-700 dark:text-gray-400"},pt={class:"w-full"},dt={class:"w-full"},ut={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},mt={class:"bg-white overflow-hidden shadow-sm"},ct={class:"p-6 dark:bg-gray-900"},yt={class:"flex flex-col"},xt=["disabled"],ft={key:0},gt={key:1},ht={key:0,class:"text-center mt-4 text-gray-500"},vt={key:1},bt={class:"text-sm text-gray-300 mb-2"},_t={class:"font-bold"},kt={key:2},wt={class:"text-lg font-semibold text-gray-100"},Ct={class:"text-sm text-gray-300 mb-2"},$t={key:0},Dt={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},At={scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},Mt={scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},Nt={scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},Vt={scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},Bt={scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},Et={scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},Ft={scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},It={scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},Rt={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},Tt={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},Ut={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},Wt={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},zt={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},Ht={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},Lt={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},jt={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},qt={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},Gt={className:"border dark:border-gray-800 text-center px-1 py-2 "},Jt=["href"],Kt=["src"],Ot={key:1},Pt={class:"text-red-500"},Qt={class:"font-bold"},ds={__name:"index",props:{client:Array},setup(U){Q();const f=n({}),g=X();n("");let h=n(!1),v=n(!1),d=n(!1),c=n(!1),b=n(!1),_=n(!1),W=n([]);const $=n(!0);let F=n(!1);const u=()=>{W.value.length=0,F.value=!F.value};lt(u,500);function z(e){x.post("/api/confirmExpensesCar",e).then(t=>{d.value=!1,g.success("\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),u()}).catch(t=>{console.error(t)})}function H(e){x.post("/api/addCarFavorite",e).then(t=>{d.value=!1,g.success("\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),u(),v.value=!1}).catch(t=>{console.error(t)})}function L(e){x.post("/api/confirmArchiveCar",e).then(t=>{d.value=!1,g.success("\u062A\u0645 \u0646\u0642\u0644 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),u(),c.value=!1}).catch(t=>{console.error(t)})}function j(e){x.post("/api/confirmArchiveCarBack",e).then(t=>{b.value=!1,g.success("\u062A\u0645 \u0646\u0642\u0644 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),u(),c.value=!1}).catch(t=>{console.error(t)})}function I(e){$.value=e,u()}function q(e){x.post("/api/confirmDelCarFav",e).then(t=>{_.value=!1,g.success("\u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:3e3,position:"bottom-right",rtl:!0}),u()}).catch(t=>{console.error(t)})}const N=n(""),V=n([]),B=n([]),G=async()=>{h.value=!0;const e=N.value.split(`
`).map(t=>t.trim());try{const t=await x.post("/api/search-vins",{vins:e});V.value=t.data.results,B.value=t.data.noResultsVINs,h.value=!1}catch(t){console.error("\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u0628\u062D\u062B:",t)}};function J(e){return`/public/uploadsResized/${e}`}function K(e){return`/public/uploads/${e}`}return(e,t)=>(l(),a(C,null,[m(p(Y),{title:"Dashboard"}),m(st,{formData:f.value,show:!!p(c),onA:t[0]||(t[0]=o=>L(o)),onClose:t[1]||(t[1]=o=>w(c)?c.value=!1:c=!1)},{header:y(()=>[...t[13]||(t[13]=[])]),_:1},8,["formData","show"]),m(et,{formData:f.value,show:!!p(b),onA:t[2]||(t[2]=o=>j(o)),onClose:t[3]||(t[3]=o=>w(b)?b.value=!1:b=!1)},{header:y(()=>[...t[14]||(t[14]=[])]),_:1},8,["formData","show"]),m(ot,{formData:f.value,show:!!p(v),client:U.client,onA:t[4]||(t[4]=o=>H(o)),onClose:t[5]||(t[5]=o=>w(v)?v.value=!1:v=!1)},{header:y(()=>[...t[15]||(t[15]=[])]),_:1},8,["formData","show","client"]),m(rt,{formData:f.value,show:!!p(d),currentWork:$.value,onA:t[6]||(t[6]=o=>z(o)),onClose:t[7]||(t[7]=o=>w(d)?d.value=!1:d=!1)},{header:y(()=>[...t[16]||(t[16]=[])]),_:1},8,["formData","show","currentWork"]),m(at,{show:!!p(_),formData:f.value,onA:t[8]||(t[8]=o=>q(o)),onClose:t[9]||(t[9]=o=>w(_)?_.value=!1:_=!1)},{header:y(()=>[...t[17]||(t[17]=[s("h2",{class:"mb-5 dark:text-gray-400 text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1)])]),_:1},8,["show","formData"]),m(tt,null,{default:y(()=>[e.$page.props.auth.user.type_id==1||e.$page.props.auth.user.type_id==7?(l(),a("div",nt,[s("ul",it,[s("li",pt,[s("button",{onClick:t[10]||(t[10]=o=>I(!0)),class:D(["inline-block w-full p-4 border-r border-gray-200 dark:border-gray-700 hover:text-gray-700 hover:bg-gray-50 focus:outline-none dark:text-white",$.value?"bg-white  dark:bg-gray-900":"dark:bg-gray-800 dark:hover:bg-gray-700"])},"\u0642\u064A\u062F \u0627\u0644\u0639\u0645\u0644 ",2)]),s("li",dt,[s("button",{onClick:t[11]||(t[11]=o=>I(!1)),class:D(["inline-block w-full p-4 border-r border-gray-200 dark:border-gray-700 hover:text-gray-700 hover:bg-gray-50 focus:outline-none dark:text-white",$.value?"dark:bg-gray-800 dark:hover:bg-gray-700":"bg-white  dark:bg-gray-900"])},"\u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0627\u0644\u0645\u0643\u062A\u0645\u0644\u0629",2)])]),s("div",ut,[s("div",mt,[s("div",ct,[s("div",yt,[Z(s("textarea",{"onUpdate:modelValue":t[12]||(t[12]=o=>N.value=o),placeholder:"\u0623\u062F\u062E\u0644 \u0627\u0644\u0623\u0643\u0648\u0627\u062F \u0647\u0646\u0627",style:{height:"500px"}},null,512),[[S,N.value]]),t[24]||(t[24]=s("br",null,null,-1)),s("button",{class:"px-6 mb-12 mx-2 py-2 font-bold text-white bg-green-500 rounded",onClick:G,disabled:p(h)},[p(h)?(l(),a("span",gt,"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644...")):(l(),a("span",ft,"\u062A\u0634\u063A\u064A\u0644"))],8,xt),p(h)?(l(),a("div",ht,[...t[18]||(t[18]=[s("span",{class:"loader"},null,-1),s("p",null,"\u062C\u0627\u0631\u064A \u0627\u0644\u0628\u062D\u062B\u060C \u064A\u0631\u062C\u0649 \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631...",-1)])])):A("",!0),t[25]||(t[25]=s("h3",{class:"text-center h3 py-3"},"\u0627\u0644\u0646\u062A\u0627\u0626\u062C",-1)),B.value.length?(l(),a("div",vt,[t[19]||(t[19]=s("h3",{class:"mt-8 text-lg font-semibold text-red-500"},"\u0627\u0644\u0623\u0631\u0642\u0627\u0645 \u0627\u0644\u062A\u064A \u0644\u064A\u0633 \u0644\u0647\u0627 \u0646\u062A\u0627\u0626\u062C:",-1)),s("ul",null,[(l(!0),a(C,null,M(B.value,(o,k)=>(l(),a("li",{key:k},[s("p",bt,[s("span",_t,r(k+1)+"- \u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0635\u064A: ",1),E(" "+r(o),1)])]))),128))])])):A("",!0),V.value.length?(l(),a("div",kt,[(l(!0),a(C,null,M(V.value,(o,k)=>(l(),a("div",{key:k},[s("h4",wt,"\u0628\u062D\u062B "+r(k+1),1),s("p",Ct,[t[20]||(t[20]=s("span",{class:"font-bold"},"\u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0635\u064A:",-1)),E(" "+r(o.vin||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)]),o.cars&&o.cars.length?(l(),a("div",$t,[s("table",{class:D([o.cars.length>1?"bg-yellow-200 text-gray-800":"bg-emerald-200 text-gray-800","w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center divide-y divide-gray-200 dark:divide-gray-800"])},[s("thead",Dt,[s("tr",{class:D(o.cars.length>1?"bg-yellow-600 text-gray-100":"bg-emerald-600 text-gray-100")},[s("th",At,r(e.$t("date")),1),s("th",Mt,r(e.$t("car_owner")),1),s("th",Nt,r(e.$t("car_type")),1),s("th",Vt,r(e.$t("year")),1),s("th",Bt,r(e.$t("color")),1),s("th",Et,r(e.$t("vin")),1),s("th",Ft,r(e.$t("car_number")),1),s("th",It,r(e.$t("note")),1),t[21]||(t[21]=s("th",{scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},"\u0641\u0631\u0639",-1)),t[22]||(t[22]=s("th",{class:"px-1 py-3 text-base"},"\u062A\u062E\u0632\u064A\u0646",-1))],2)]),s("tbody",null,[(l(!0),a(C,null,M(o.cars,(i,O)=>{var R;return l(),a("tr",{key:O,class:"bg-white dark:bg-gray-800"},[s("td",Rt,r(i.date),1),s("td",Tt,r((R=i.client)==null?void 0:R.name),1),s("td",Ut,r(i.car_type),1),s("td",Wt,r(i.year),1),s("td",zt,r(i.car_color),1),s("td",Ht,r(i.vin),1),s("td",Lt,r(i.car_number),1),s("td",jt,r(i.note),1),s("td",qt,r(i.owner_id==1?"\u0627\u0631\u0628\u064A\u0644":"\u0643\u0631\u0643\u0648\u0643"),1),s("td",Gt,[(l(!0),a(C,null,M(i.car_images,(T,P)=>(l(),a("a",{key:P,href:K(T.name),style:{cursor:"pointer"},target:"_blank"},[s("img",{src:J(T.name),alt:"",class:"px-1",style:{"max-width":"100px","max-height":"50px",display:"inline"}},null,8,Kt)],8,Jt))),128))])])}),128))])],2)])):(l(),a("div",Ot,[s("p",Pt,[t[23]||(t[23]=E(" \u0644\u0627 \u062A\u0648\u062C\u062F \u0646\u062A\u0627\u0626\u062C \u0644\u0647\u0630\u0627 \u0627\u0644\u0631\u0642\u0645: ",-1)),s("span",Qt,r(o.vin||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)])]))]))),128))])):A("",!0)])])])])])):A("",!0),t[26]||(t[26]=s("div",null,null,-1))]),_:1})],64))}};export{ds as default};
