import{r as u,m as J,j as Nt,y as xe,o,a as r,b as t,i as v,t as n,n as h,g as st,w as nt,x as Xt,q as pe,L as ts,f as R,T as es,A as ss,u as as,F as M,H as os,h as B,e as N,k as pt,O as Kt,W as rs}from"./app.70fbdb9c.js";import{G as ns}from"./GuestLayout.df556ceb.js";import{M as Zt}from"./Modal.51e108cc.js";import{_ as ve}from"./_plugin-vue_export-helper.cdc0426e.js";import{a as $}from"./index.64d296e9.js";/* empty css                                              */const ls=["title"],ds={class:"status-icon"},is={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},cs={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},us={key:2,class:"animate-spin",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},gs={key:0,class:"pending-badge"},ys={class:"sync-details-header"},xs={class:"sync-details-body"},ps={class:"detail-item"},vs={class:"detail-item"},bs={class:"detail-value"},fs={key:0,class:"detail-item"},ms={class:"detail-value"},ks={key:1,class:"detail-item highlight"},hs={class:"detail-value"},ws=["disabled"],_s={key:0},$s={key:1},Cs={key:3,class:"offline-message"},Ss={class:"switch-section"},Ls={class:"switch-buttons"},Ms=["disabled"],Ts=["disabled"],js={class:"current-location"},Bs={__name:"SyncIndicator",props:{position:{type:String,default:"fixed",validator:Mt=>["fixed","relative","absolute"].includes(Mt)},bottom:{type:String,default:"20px"},left:{type:String,default:"20px"},right:{type:String,default:"auto"},top:{type:String,default:"auto"},showSwitchButtons:{type:Boolean,default:!0}},setup(Mt){const i=Mt,k=u(navigator.onLine),m=u(!1),w=u(0),U=u(null),X=u(!1),x=u(window.location.href.startsWith("http://127.0.0.1")||window.location.href.startsWith("http://localhost")),lt=J(()=>m.value?"syncing":k.value?w.value>0?"pending":"online":"offline"),_=J(()=>m.value?"\u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...":k.value?w.value>0?`${w.value} \u0639\u0645\u0644\u064A\u0629 \u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631`:"\u0645\u062A\u0635\u0644 - \u0643\u0644 \u0634\u064A\u0621 \u0645\u062D\u062F\u062B":"\u063A\u064A\u0631 \u0645\u062A\u0635\u0644 - \u0648\u0636\u0639 Offline"),dt=J(()=>m.value?"\u{1F504} \u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...":w.value>0?`\u23F3 ${w.value} \u0639\u0645\u0644\u064A\u0629 \u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631`:"\u2705 \u0643\u0644 \u0634\u064A\u0621 \u0645\u062D\u062F\u0651\u062B"),Ut=J(()=>{if(!U.value)return"\u0644\u0645 \u062A\u062A\u0645 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0639\u062F";const b=new Date(U.value),T=new Date-b,L=Math.floor(T/6e4),et=Math.floor(T/36e5),H=Math.floor(T/864e5);return L<1?"\u0645\u0646\u0630 \u0644\u062D\u0638\u0627\u062A":L<60?`\u0645\u0646\u0630 ${L} \u062F\u0642\u064A\u0642\u0629`:et<24?`\u0645\u0646\u0630 ${et} \u0633\u0627\u0639\u0629`:`\u0645\u0646\u0630 ${H} \u064A\u0648\u0645`}),Y=J(()=>({position:i.position,bottom:i.position==="fixed"?i.bottom:"auto",left:i.position==="fixed"?i.left:"auto",right:i.position==="fixed"?i.right:"auto",top:i.position==="fixed"?i.top:"auto"})),vt=()=>{X.value=!X.value},S=async()=>{if(!(!k.value||m.value)){m.value=!0;try{window.$api&&(await window.$api.syncNow(),U.value=Date.now(),await P(),window.$toast&&window.$toast.success("\u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0646\u062C\u0627\u062D!"))}catch(b){console.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",b),window.$toast&&window.$toast.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: "+b.message)}finally{m.value=!1}}},P=async()=>{try{if(window.$api){const b=await window.$api.getSyncStatus();w.value=b.pendingCount}}catch(b){console.error("\u0641\u0634\u0644 \u062A\u062D\u062F\u064A\u062B \u062D\u0627\u0644\u0629 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",b)}},q=async()=>{k.value=!0,console.log("\u{1F310} \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0639\u0627\u062F"),await S()},A=()=>{k.value=!1,console.log("\u{1F4F4} \u0641\u0642\u062F\u0627\u0646 \u0627\u0644\u0627\u062A\u0635\u0627\u0644")},tt=()=>{var b;if(window.switchToLocal)window.switchToLocal();else{const p=((b=window.connectionInfo)==null?void 0:b.local_url)||"http://127.0.0.1:8000/";window.location.href=p}},it=()=>{var b;if(window.switchToOnline)window.switchToOnline();else{const p=((b=window.connectionInfo)==null?void 0:b.online_url)||"https://system.intellijapp.com/dashboard";window.location.href=p}};return Nt(()=>{window.addEventListener("online",q),window.addEventListener("offline",A);const b=()=>{x.value=window.location.href.startsWith("http://127.0.0.1")||window.location.href.startsWith("http://localhost")};window.addEventListener("focus",b),P(),b();const p=setInterval(P,3e4);xe(()=>{window.removeEventListener("online",q),window.removeEventListener("offline",A),window.removeEventListener("focus",b),clearInterval(p)})}),(b,p)=>(o(),r("div",{class:"sync-indicator-container",style:ss(Y.value)},[t("div",{class:h(["sync-indicator",lt.value]),onClick:vt,title:_.value},[t("div",ds,[k.value&&!m.value?(o(),r("svg",is,[...p[3]||(p[3]=[t("path",{d:"M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9zm8 8l3 3 3-3c-1.65-1.66-4.34-1.66-6 0zm-4-4l2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13z"},null,-1)])])):k.value?m.value?(o(),r("svg",us,[...p[5]||(p[5]=[t("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"},null,-1)])])):v("",!0):(o(),r("svg",cs,[...p[4]||(p[4]=[t("path",{d:"M23.64 7c-.45-.34-4.93-4-11.64-4-1.5 0-2.89.19-4.15.48L18.18 13.8 23.64 7zm-6.6 8.22L3.27 1.44 2 2.72l2.05 2.06C1.91 5.76.59 6.82.36 7l11.63 14.49.01.01.01-.01 3.9-4.86 3.32 3.32 1.27-1.27-3.46-3.46z"},null,-1)])]))]),w.value>0?(o(),r("div",gs,n(w.value),1)):v("",!0)],10,ls),st(es,{name:"fade"},{default:nt(()=>[X.value?(o(),r("div",{key:0,class:"sync-details",onClick:p[1]||(p[1]=Xt(()=>{},["stop"]))},[t("div",ys,[p[6]||(p[6]=t("h3",null,"\u062D\u0627\u0644\u0629 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1)),t("button",{onClick:p[0]||(p[0]=T=>X.value=!1),class:"close-btn"},"\xD7")]),t("div",xs,[t("div",ps,[p[7]||(p[7]=t("span",{class:"detail-label"},"\u0627\u0644\u0627\u062A\u0635\u0627\u0644:",-1)),t("span",{class:h(["detail-value",{"text-green":k.value,"text-red":!k.value}])},n(k.value?"\u{1F310} \u0645\u062A\u0635\u0644":"\u{1F4F4} \u063A\u064A\u0631 \u0645\u062A\u0635\u0644"),3)]),t("div",vs,[p[8]||(p[8]=t("span",{class:"detail-label"},"\u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",-1)),t("span",bs,n(dt.value),1)]),U.value?(o(),r("div",fs,[p[9]||(p[9]=t("span",{class:"detail-label"},"\u0622\u062E\u0631 \u0645\u0632\u0627\u0645\u0646\u0629:",-1)),t("span",ms,n(Ut.value),1)])):v("",!0),w.value>0?(o(),r("div",ks,[p[10]||(p[10]=t("span",{class:"detail-label"},"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631:",-1)),t("span",hs,n(w.value)+" \u0639\u0645\u0644\u064A\u0629",1)])):v("",!0),k.value&&w.value>0?(o(),r("button",{key:2,onClick:S,disabled:m.value,class:"sync-btn"},[m.value?(o(),r("span",$s,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...")):(o(),r("span",_s,"\u{1F504} \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0622\u0646"))],8,ws)):v("",!0),st(pe(ts),{href:b.route("sync.monitor"),class:"monitor-link"},{default:nt(()=>[...p[11]||(p[11]=[R(" \u{1F4CA} \u0635\u0641\u062D\u0629 \u0627\u0644\u0645\u0631\u0627\u0642\u0628\u0629 \u0627\u0644\u0643\u0627\u0645\u0644\u0629 ",-1)])]),_:1},8,["href"]),k.value?v("",!0):(o(),r("div",Cs,[...p[12]||(p[12]=[t("p",null,"\u26A0\uFE0F \u0623\u0646\u062A \u062A\u0639\u0645\u0644 \u0641\u064A \u0648\u0636\u0639 Offline",-1),t("p",{class:"text-sm"},"\u0633\u064A\u062A\u0645 \u062D\u0641\u0638 \u062A\u063A\u064A\u064A\u0631\u0627\u062A\u0643 \u0645\u062D\u0644\u064A\u0627\u064B \u0648\u0645\u0632\u0627\u0645\u0646\u062A\u0647\u0627 \u0639\u0646\u062F \u0639\u0648\u062F\u0629 \u0627\u0644\u0627\u062A\u0635\u0627\u0644",-1)])])),t("div",Ss,[p[14]||(p[14]=t("div",{class:"switch-header"},[t("span",null,"\u{1F504} \u0627\u0644\u062A\u0628\u062F\u064A\u0644 \u0628\u064A\u0646 \u0627\u0644\u0633\u064A\u0631\u0641\u0631\u0627\u062A")],-1)),t("div",Ls,[t("button",{onClick:tt,class:h(["switch-btn",{active:x.value,disabled:x.value}]),disabled:x.value}," \u{1F4BB} Local ",10,Ms),t("button",{onClick:it,class:h(["switch-btn",{active:!x.value,disabled:!x.value}]),disabled:!x.value}," \u{1F310} Online ",10,Ts)]),t("div",js,[p[13]||(p[13]=t("span",{class:"location-label"},"\u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u062D\u0627\u0644\u064A:",-1)),t("span",{class:h(["location-value",x.value?"local":"online"])},n(x.value?"\u{1F4BB} Local":"\u{1F310} Online"),3)])])])])):v("",!0)]),_:1}),X.value?(o(),r("div",{key:0,class:"overlay",onClick:p[2]||(p[2]=T=>X.value=!1)})):v("",!0)],4))}},Qs=ve(Bs,[["__scopeId","data-v-0dbd59d5"]]);const Ds={class:"flex justify-between items-center"},Is={class:"flex gap-2"},Os=["disabled"],zs={key:0},Us={key:1},qs=["disabled"],Es={key:0},Vs={key:1},Rs={class:"py-6"},Ps={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},As={class:"mb-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6"},Hs={class:"flex justify-between items-center mb-4"},Fs=["disabled"],Ws={key:0},Gs={key:1},Js={key:0,class:"text-center py-8"},Ks={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Zs={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},Ns={class:"space-y-2 text-sm"},Xs={class:"flex justify-between"},Ys={class:"font-mono text-gray-900 dark:text-gray-100"},ta={class:"flex justify-between"},ea={class:"font-mono text-gray-900 dark:text-gray-100"},sa={class:"flex justify-between"},aa={class:"font-mono text-gray-900 dark:text-gray-100"},oa={class:"bg-blue-50 dark:bg-blue-900 p-4 rounded-lg"},ra={class:"space-y-2 text-sm"},na={class:"flex justify-between"},la={class:"font-bold text-blue-900 dark:text-blue-100"},da={class:"flex justify-between"},ia={class:"font-bold text-blue-900 dark:text-blue-100 text-xs"},ca={class:"flex justify-between"},ua={class:"bg-green-50 dark:bg-green-900 p-4 rounded-lg"},ga={class:"space-y-2 text-sm"},ya={class:"flex justify-between"},xa={class:"font-bold text-green-900 dark:text-green-100"},pa={class:"flex justify-between"},va={class:"font-bold text-green-900 dark:text-green-100"},ba={class:"flex justify-between"},fa={class:"font-bold text-green-900 dark:text-green-100"},ma={class:"bg-purple-50 dark:bg-purple-900 p-4 rounded-lg"},ka={class:"space-y-2"},ha=["disabled"],wa={class:"mb-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6"},_a={class:"flex justify-between items-center mb-4"},$a={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm dark:text-gray-200"},Ca={class:"bg-gray-50 dark:bg-gray-700 p-3 rounded"},Sa={class:"font-semibold text-sm"},La={key:0},Ma={class:"bg-gray-50 dark:bg-gray-700 p-3 rounded"},Ta={class:"font-semibold text-sm"},ja={class:"text-xs text-gray-500 dark:text-gray-400"},Ba={class:"bg-gray-50 dark:bg-gray-700 p-3 rounded"},Qa={class:"font-semibold text-sm"},Da={class:"text-xs text-gray-500 dark:text-gray-400"},Ia={class:"bg-gray-50 dark:bg-gray-700 p-3 rounded"},Oa=["title"],za={class:"text-xs text-gray-500 dark:text-gray-400"},Ua={class:"mb-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6"},qa={class:"flex flex-wrap justify-between items-start gap-4"},Ea={class:"text-sm text-gray-500 dark:text-gray-400"},Va={class:"mt-4 grid grid-cols-1 md:grid-cols-4 gap-4 text-sm dark:text-gray-200"},Ra={class:"font-semibold"},Pa={key:0},Aa={class:"text-xs text-gray-500 dark:text-gray-400"},Ha={class:"font-semibold"},Fa={class:"text-xs text-gray-500 dark:text-gray-400"},Wa={class:"font-semibold"},Ga={class:"text-xs text-gray-500 dark:text-gray-400"},Ja=["title"],Ka={class:"text-xs text-gray-500 dark:text-gray-400"},Za={class:"mt-4 text-xs text-gray-600 dark:text-gray-400"},Na={class:"font-mono bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded inline-block break-all w-full md:w-auto"},Xa={key:0,class:"mb-6 bg-yellow-50 dark:bg-yellow-900 border-l-4 border-yellow-500 p-4 rounded"},Ya={class:"mb-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},to={class:"p-6 border-b border-gray-200 dark:border-gray-700"},eo={class:"flex justify-between items-center"},so={class:"text-lg font-semibold dark:text-gray-200"},ao={class:"overflow-x-auto"},oo={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ro={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},no={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-200"},lo={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},io={class:"px-6 py-4 whitespace-nowrap"},co={key:0},uo={key:0,class:"p-4 border-t border-gray-200 dark:border-gray-600 text-center"},go={class:"mb-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},yo={class:"border-b border-gray-200 dark:border-gray-700"},xo={class:"flex"},po={key:0,class:"p-6"},vo={class:"flex justify-between items-center mb-4"},bo={class:"text-lg font-semibold dark:text-gray-200"},fo={class:"flex gap-2"},mo={class:"overflow-x-auto"},ko={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ho={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},wo={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200"},_o={class:"px-6 py-4 whitespace-nowrap"},$o={class:"text-sm font-medium text-gray-900 dark:text-gray-200"},Co={class:"text-sm text-gray-500 dark:text-gray-400"},So={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Lo={class:"px-6 py-4 whitespace-nowrap"},Mo={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},To=["onClick"],jo=["onClick"],Bo={key:0},Qo={key:1,class:"p-6"},Do={class:"flex justify-between items-center mb-6"},Io={class:"flex gap-2"},Oo=["disabled"],zo={key:0},Uo={key:1},qo={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},Eo={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},Vo={class:"text-2xl font-bold text-blue-600"},Ro={class:"bg-green-50 dark:bg-green-900 p-4 rounded-lg"},Po={class:"text-2xl font-bold text-green-600"},Ao={class:"bg-yellow-50 dark:bg-yellow-900 p-4 rounded-lg"},Ho={class:"text-2xl font-bold text-yellow-600"},Fo={class:"bg-red-50 dark:bg-red-900 p-4 rounded-lg"},Wo={class:"text-2xl font-bold text-red-600"},Go={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg mb-6"},Jo={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ko={class:"flex items-center"},Zo={class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg"},No={class:"p-4 max-h-64 overflow-y-auto"},Xo={key:0,class:"text-center text-gray-500 dark:text-gray-400 py-8"},Yo={key:1,class:"space-y-2"},tr={class:"flex-1"},er={class:"text-gray-900 dark:text-gray-200"},sr={class:"text-xs text-gray-500 dark:text-gray-400"},ar={key:2,class:"p-6"},or={class:"flex justify-between items-center mb-6"},rr={class:"flex gap-2"},nr=["disabled"],lr={key:0},dr={key:1},ir={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},cr={class:"bg-orange-50 dark:bg-orange-900 p-4 rounded-lg"},ur={class:"text-2xl font-bold text-orange-600"},gr={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},yr={class:"text-2xl font-bold text-gray-600"},xr={class:"mb-4 flex items-center justify-between"},pr={class:"flex items-center"},vr={key:0,class:"text-center py-12"},br={key:1,class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},fr={class:"overflow-x-auto"},mr={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},kr={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},hr={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-200"},wr={class:"flex items-center"},_r={key:0,class:"mr-2 px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 rounded-full"},$r={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400 font-mono text-xs"},Cr={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Sr={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Lr=["onClick","disabled"],Mr={key:0},Tr={key:1},jr={key:1,class:"text-gray-400 dark:text-gray-500 text-sm"},Br={key:0},Qr={key:2,class:"mt-6 bg-yellow-50 dark:bg-yellow-900 border-l-4 border-yellow-500 p-4 rounded-lg"},Dr={class:"flex items-start"},Ir={class:"mr-3 flex-1"},Or={key:0,class:"mb-3"},zr={class:"text-sm font-medium text-yellow-800 dark:text-yellow-200 mb-2"},Ur={class:"list-disc list-inside text-sm text-yellow-700 dark:text-yellow-300 space-y-1"},qr={key:1,class:"mb-3"},Er={class:"text-sm text-yellow-700 dark:text-yellow-300"},Vr={class:"flex gap-2 mt-4"},Rr={key:3,class:"mt-6 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg"},Pr={class:"p-4"},Ar={class:"text-xs font-mono bg-gray-900 text-green-400 p-4 rounded overflow-x-auto max-h-64 overflow-y-auto"},Hr={key:3,class:"p-6"},Fr={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Wr={class:"bg-white dark:bg-gray-700 p-6 rounded-lg"},Gr={class:"space-y-3"},Jr={class:"flex justify-between"},Kr={class:"font-mono text-sm"},Zr={class:"flex justify-between"},Nr={class:"font-mono text-sm"},Xr={class:"flex justify-between"},Yr={class:"font-mono text-sm"},tn={class:"flex justify-between"},en={class:"font-mono text-sm"},sn={class:"bg-white dark:bg-gray-700 p-6 rounded-lg"},an={class:"space-y-3"},on=["disabled"],rn={key:0},nn={key:1},ln=["disabled"],dn={key:0},cn={key:1},un=["disabled"],gn={key:0},yn={key:1},xn=["disabled"],pn={key:0},vn={key:1},bn={class:"mt-6 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg"},fn={class:"p-4 max-h-64 overflow-y-auto"},mn={key:0,class:"text-center text-gray-500 dark:text-gray-400 py-8"},kn={key:1,class:"space-y-2"},hn={class:"flex-1"},wn={class:"text-gray-900 dark:text-gray-200"},_n={class:"text-xs text-gray-500 dark:text-gray-400"},$n={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},Cn={class:"p-6 border-b border-gray-200 dark:border-gray-700"},Sn={class:"flex justify-between items-center"},Ln={class:"text-lg font-semibold dark:text-gray-200"},Mn={class:"flex gap-2"},Tn={class:"overflow-x-auto"},jn={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Bn={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Qn={key:0},Dn={colspan:"8",class:"px-6 py-8 text-center text-gray-500 dark:text-gray-400"},In={class:"text-lg"},On={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},zn={class:"px-6 py-4 whitespace-nowrap dark:text-gray-300"},Un={class:"px-6 py-4 whitespace-nowrap dark:text-gray-300"},qn={class:"px-6 py-4 dark:text-gray-300"},En=["onClick"],Vn={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},Rn={class:"flex items-center gap-1"},Pn={key:0,class:"text-red-600 text-lg"},An={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},Hn={class:"px-6 py-4 whitespace-nowrap"},Fn={key:0,class:"flex items-center text-green-600 dark:text-green-400"},Wn={key:1,class:"flex items-center text-red-600 dark:text-red-400"},Gn={key:2,class:"flex items-center text-yellow-600 dark:text-yellow-400"},Jn={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Kn={class:"flex gap-2"},Zn=["onClick","disabled"],Nn=["onClick"],Xn=["onClick"],Yn={key:0,class:"px-6 py-4 bg-gray-50 dark:bg-gray-700 flex justify-between items-center"},tl={class:"text-sm text-gray-700 dark:text-gray-300"},el={class:"flex gap-2"},sl=["disabled"],al=["disabled"],ol={class:"mt-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6"},rl={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},nl={class:"border dark:border-gray-700 rounded p-4"},ll={class:"text-2xl font-bold dark:text-gray-200"},dl={class:"border dark:border-gray-700 rounded p-4"},il={class:"text-2xl font-bold dark:text-gray-200"},cl={class:"border dark:border-gray-700 rounded p-4"},ul={class:"text-2xl font-bold dark:text-gray-200"},gl={class:"mt-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},yl={class:"p-6 border-b border-gray-200 dark:border-gray-700"},xl={class:"flex justify-between items-center flex-wrap gap-4"},pl={class:"text-lg font-semibold dark:text-gray-200"},vl={class:"flex gap-2 items-center flex-wrap"},bl=["disabled"],fl={key:0},ml={key:1},kl=["disabled"],hl={key:0},wl={key:1},_l=["disabled"],$l={key:0},Cl={key:1},Sl=["disabled"],Ll={key:0},Ml={key:1},Tl=["disabled"],jl={key:0},Bl={key:1},Ql=["disabled"],Dl={key:0},Il={key:1},Ol=["disabled"],zl={key:0},Ul={key:1},ql=["disabled"],El={key:0},Vl={key:1},Rl=["disabled"],Pl={key:0},Al={key:1},Hl={key:0,class:"p-8 text-center"},Fl={key:1,class:"p-8 text-center"},Wl={key:2,class:"overflow-x-auto"},Gl={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Jl={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Kl={class:"px-6 py-4 whitespace-nowrap"},Zl={class:"text-sm font-medium dark:text-gray-200"},Nl={class:"px-6 py-4 whitespace-nowrap"},Xl={class:"text-sm dark:text-gray-300"},Yl={class:"px-6 py-4 whitespace-nowrap"},td={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},ed={class:"flex gap-2 items-center"},sd=["onClick"],ad={key:0,class:"relative inline-block"},od=["onClick"],rd=["onClick","disabled"],nd={key:0},ld={key:1},dd=["onClick","disabled"],id={key:0},cd={key:1},ud=["onClick","disabled"],gd={key:0},yd={key:1},xd={class:"mt-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},pd={class:"p-6 border-b border-gray-200 dark:border-gray-700"},vd={class:"flex justify-between items-center"},bd=["disabled"],fd={key:0},md={key:1},kd={key:0,class:"p-8 text-center"},hd={key:1,class:"p-4 bg-red-50 dark:bg-red-900 border-l-4 border-red-500"},wd={class:"text-red-800 dark:text-red-200"},_d={key:2,class:"p-8 text-center"},$d={key:3},Cd={key:0,class:"p-4 bg-blue-50 dark:bg-blue-900 border-b border-gray-200 dark:border-gray-700"},Sd={class:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center"},Ld={class:"text-2xl font-bold dark:text-gray-200"},Md={class:"text-2xl font-bold dark:text-gray-200"},Td={class:"text-2xl font-bold dark:text-gray-200"},jd={class:"overflow-x-auto"},Bd={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Qd={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Dd={class:"px-6 py-4 whitespace-nowrap text-sm font-medium dark:text-gray-200"},Id={class:"px-6 py-4 whitespace-nowrap"},Od={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},zd={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},Ud={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},qd={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},Ed={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},Vd={class:"mt-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},Rd={class:"p-6 border-b border-gray-200 dark:border-gray-700"},Pd={class:"flex justify-between items-center"},Ad={class:"flex gap-2"},Hd=["disabled"],Fd={key:0},Wd={key:1},Gd={key:0,class:"p-8 text-center"},Jd={key:1,class:"p-8 text-center"},Kd={key:2,class:"overflow-x-auto"},Zd={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Nd={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Xd={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},Yd={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},ti={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},ei={class:"px-6 py-4 whitespace-nowrap text-sm"},si=["onClick","disabled"],ai=["onClick"],oi=["onClick"],ri={class:"p-6"},ni={class:"bg-gray-100 dark:bg-gray-900 p-4 rounded overflow-auto max-h-96 text-sm dark:text-gray-300"},li={class:"mt-4 flex justify-end"},di={class:"p-6"},ii={class:"bg-red-50 dark:bg-red-900 border-l-4 border-red-500 p-4 mb-4"},ci={class:"font-medium dark:text-gray-200"},ui={class:"text-sm mt-2 dark:text-gray-300"},gi={class:"bg-gray-100 dark:bg-gray-900 p-4 rounded overflow-auto max-h-64 text-xs dark:text-gray-300"},yi={class:"mt-4 flex justify-end gap-2"},xi={class:"p-6"},pi={class:"text-lg font-semibold mb-4 dark:text-gray-200"},vi={key:0,class:"text-center py-8"},bi={key:1,class:"bg-red-50 dark:bg-red-900 border-l-4 border-red-500 p-4 mb-4"},fi={class:"text-red-800 dark:text-red-200"},mi={key:2},ki={class:"mb-4 flex justify-between items-center"},hi={class:"text-sm text-gray-600 dark:text-gray-400"},wi={class:"font-semibold"},_i={class:"text-sm text-gray-600 dark:text-gray-400"},$i={class:"font-semibold"},Ci={key:0,class:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900 rounded text-xs"},Si={key:1,class:"overflow-x-auto max-h-96 border border-gray-200 dark:border-gray-700 rounded"},Li={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 text-sm"},Mi={class:"bg-gray-50 dark:bg-gray-700 sticky top-0"},Ti={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},ji={key:0},Bi=["colspan"],Qi={key:2,class:"p-8 text-center text-gray-500 dark:text-gray-400"},Di={class:"text-xs mt-2"},Ii={key:3,class:"mt-4 flex justify-between items-center"},Oi={class:"text-sm text-gray-600 dark:text-gray-400"},zi={class:"flex gap-2"},Ui=["disabled"],qi=["disabled"],Ei={class:"mt-4 flex justify-end"},Vi={class:"p-6 border-b border-gray-200 dark:border-gray-700"},Ri={class:"flex justify-between items-center"},Pi={class:"p-6 overflow-y-auto max-h-96"},Ai={class:"mb-6"},Hi=["value"],Fi={key:0,class:"mb-6"},Wi={class:"grid grid-cols-2 md:grid-cols-3 gap-3 max-h-60 overflow-y-auto"},Gi=["value"],Ji={class:"text-sm dark:text-gray-200"},Ki={key:1,class:"bg-blue-50 dark:bg-blue-900 p-4 rounded-lg"},Zi={class:"text-sm text-blue-800 dark:text-blue-200"},Ni={class:"text-xs text-blue-600 dark:text-blue-300 mt-1"},Xi={class:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3"},Yi=["disabled"],t0={__name:"SyncMonitor",setup(Mt){const i=as(),k=u([]),m=u({online:navigator.onLine,syncing:!1}),w=u({pendingCount:0,lastSync:null}),U=u({cars:0,contracts:0,transactions:0}),X={environmentLabel:"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641",tip:"\u2014",host:"-",port:"",protocol:"-",origin:"-",secure:!1,networkType:"\u063A\u064A\u0631 \u0645\u062A\u0627\u062D",effectiveType:"\u063A\u064A\u0631 \u0645\u062A\u0627\u062D",downlink:null,rtt:null,apiBaseUrl:"-",lastUpdated:null,isLocal:!1},x=u(de()),lt=u(!1),_=u(!1),dt=u(new Set),Ut=u([]),Y=u(!1),vt=u([]),S=u([]),P=u(null),q=u("all"),A=u(1),tt=u(10);let it=null,b=null;const p=u({show:!1,data:null}),T=u({show:!1,item:null,title:"",message:"",stack:""}),L=u([]),et=u(!1),H=u(!1),ct=u("auto"),qt=u("mysql"),Tt=u([]),bt=u(!1),Et=u(!1),I=u("operations"),ut=u(!1),F=u({total_transactions:0,migrated:0,remaining:0,errors:0}),at=u([]),E=u({batchSize:100,delay:1,deleteOldData:!1}),Vt=u([]),ft=u(!1),jt=u(null),ot=u(""),D=u(null),Rt=u(!1),Pt=u({total_executed:0,total_pending:0}),Yt=u(!1),mt=u(!1),kt=u(!1),ht=u(!1),wt=u({}),gt=u([]),_t=u({}),$t=u(!1),Bt=u(!1),Qt=u(null),Dt=u(null),K=u(null),It=u(null),O=u({data:[],stats:null,error:null}),Ct=u(!1),be=u({connection:"mysql",is_fallback:!1}),y=u({show:!1,tableName:"",columns:[],data:[],total:0,limit:50,offset:0,connection:"",error:null}),At=u(!1),fe=J(()=>({total:k.value.length,synced:k.value.filter(a=>a.synced).length,pending:k.value.filter(a=>!a.synced&&a.retries<3).length,failed:k.value.filter(a=>a.retries>=3).length})),yt=J(()=>{let a=k.value;q.value==="pending"?a=a.filter(s=>s.status==="pending"||!s.synced&&s.retries<3):q.value==="synced"?a=a.filter(s=>s.status==="synced"||s.synced):q.value==="failed"&&(a=a.filter(s=>s.status==="failed"||s.retries>=3));const e=(A.value-1)*tt.value,l=e+tt.value;return a.slice(e,l)}),me=J(()=>({all:"",pending:"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631",synced:"\u062A\u0645\u062A \u0645\u0632\u0627\u0645\u0646\u062A\u0647\u0627",failed:"\u0641\u0634\u0644\u062A"})[q.value]||""),ke=J(()=>Math.ceil(k.value.length/tt.value)),he=J(()=>{if(!w.value.lastSync)return"\u0644\u0645 \u062A\u062A\u0645 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0639\u062F";const a=new Date(w.value.lastSync),l=new Date-a,s=Math.floor(l/6e4),d=Math.floor(l/36e5),g=Math.floor(l/864e5);return s<1?"\u0645\u0646\u0630 \u0644\u062D\u0638\u0627\u062A":s<60?`\u0645\u0646\u0630 ${s} \u062F\u0642\u064A\u0642\u0629`:d<24?`\u0645\u0646\u0630 ${d} \u0633\u0627\u0639\u0629`:`\u0645\u0646\u0630 ${g} \u064A\u0648\u0645`}),W=async()=>{lt.value=!0;try{if(m.value.online=navigator.onLine,rt(),window.$db){const a=await window.$db.getAll("sync_queue");k.value=a.sort((e,l)=>l.timestamp-e.timestamp),w.value.pendingCount=a.filter(e=>!e.synced).length}if(window.$db&&(U.value={cars:(await window.$db.getAll("cars")).length,contracts:(await window.$db.getAll("contracts")).length,transactions:(await window.$db.getAll("transactions")).length}),window.$api){const a=await window.$api.getSyncStatus();w.value.pendingCount=a.pendingCount}i.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",{timeout:2e3})}catch(a){console.error("\u0641\u0634\u0644 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A:",a),i.error("\u0641\u0634\u0644 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A")}finally{lt.value=!1}},Ht=async()=>{if(!m.value.online){i.warning("\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 - \u063A\u064A\u0631 \u0645\u062A\u0635\u0644 \u0628\u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A");return}_.value=!0,m.value.syncing=!0;try{i.info("\u{1F504} \u0628\u062F\u0621 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...",{timeout:3e3}),window.$api&&(await window.$api.syncNow(),w.value.lastSync=Date.now()),window.$db&&await window.$db.processSyncQueue(),await W(),i.success("\u2705 \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0646\u062C\u0627\u062D!",{timeout:3e3})}catch(a){console.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",a),i.error("\u274C \u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: "+a.message)}finally{_.value=!1,m.value.syncing=!1}},Ft=async a=>{if(!m.value.online){i.warning("\u0644\u0627 \u064A\u0645\u0643\u0646 \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 - \u063A\u064A\u0631 \u0645\u062A\u0635\u0644");return}dt.value.add(a.id);try{i.info(`\u{1F504} \u0625\u0639\u0627\u062F\u0629 \u0645\u062D\u0627\u0648\u0644\u0629 ${Wt(a.storeName)}...`),window.$db&&(await window.$db.syncItem(a),a.synced=!0,a.retries=(a.retries||0)+1,await window.$db.save("sync_queue",a),i.success("\u2705 \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0646\u062C\u0627\u062D!"),await W())}catch(e){console.error("\u0641\u0634\u0644\u062A \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629:",e),a.retries=(a.retries||0)+1,a.error={message:e.message,timestamp:Date.now()},window.$db&&await window.$db.save("sync_queue",a),i.error("\u274C \u0641\u0634\u0644\u062A \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629"),await W()}finally{dt.value.delete(a.id)}},te=async a=>{if(!!confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629\u061F"))try{window.$db&&(await window.$db.delete("sync_queue",a.id),i.success("\u062A\u0645 \u0627\u0644\u062D\u0630\u0641"),await W())}catch(e){console.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641:",e),i.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641")}},ee=async()=>{if(!!confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0643\u0644 \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A\u061F \u0633\u064A\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0641\u0642\u0637."))try{if(window.$db){const a=k.value.filter(e=>e.synced);for(const e of a)await window.$db.delete("sync_queue",e.id);i.success(`\u062A\u0645 \u062D\u0630\u0641 ${a.length} \u0639\u0645\u0644\u064A\u0629`),await W()}}catch(a){console.error("\u0641\u0634\u0644 \u0627\u0644\u0645\u0633\u062D:",a),i.error("\u0641\u0634\u0644 \u0645\u0633\u062D \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A")}},we=a=>{p.value={show:!0,data:a.data}},_e=a=>{var e,l;T.value={show:!0,item:a,title:`\u0641\u0634\u0644 ${se(a.action)} ${Wt(a.storeName)}`,message:((e=a.error)==null?void 0:e.message)||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641",stack:((l=a.error)==null?void 0:l.stack)||"\u0644\u0627 \u062A\u0648\u062C\u062F \u062A\u0641\u0627\u0635\u064A\u0644 \u0625\u0636\u0627\u0641\u064A\u0629"}},$e=async a=>{T.value.show=!1,await Ft(a)},Wt=a=>({cars:"\u{1F697} \u0633\u064A\u0627\u0631\u0629",contracts:"\u{1F4C4} \u0639\u0642\u062F",transactions:"\u{1F4B0} \u0645\u0639\u0627\u0645\u0644\u0629",sync_queue:"\u{1F504} \u0645\u0632\u0627\u0645\u0646\u0629"})[a]||a,Ce=a=>({cars:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",contracts:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",transactions:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"})[a]||"bg-gray-100 text-gray-800",se=a=>({save:"\u{1F4BE} \u062D\u0641\u0638",update:"\u270F\uFE0F \u062A\u062D\u062F\u064A\u062B",delete:"\u{1F5D1}\uFE0F \u062D\u0630\u0641"})[a]||a,Se=a=>({save:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",update:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",delete:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[a]||"bg-gray-100 text-gray-800",Le=a=>{if(!a)return"-";const e=new Date(a),s=new Date-e,d=Math.floor(s/6e4),g=Math.floor(s/36e5);return d<1?"\u0627\u0644\u0622\u0646":d<60?`\u0645\u0646\u0630 ${d} \u062F\u0642\u064A\u0642\u0629`:g<24?`\u0645\u0646\u0630 ${g} \u0633\u0627\u0639\u0629`:e.toLocaleDateString("ar-SA")+" "+e.toLocaleTimeString("ar-SA")},Me=()=>{i.info(`\u{1F4A1} \u0644\u0627\u062E\u062A\u0628\u0627\u0631 Offline Mode:
1. \u0627\u0641\u062A\u062D DevTools (F12)
2. \u0627\u0630\u0647\u0628 \u0625\u0644\u0649 Network
3. \u062D\u062F\u062F "Offline"`,{timeout:8e3})},ae=async()=>{if(!!confirm("\u0647\u0644 \u062A\u0631\u064A\u062F \u0645\u0633\u062D \u0643\u0644 \u0627\u0644\u0640 Cache\u061F"))try{if(window.$db&&await window.$db.clearExpiredCache(),"caches"in window){const a=await caches.keys();await Promise.all(a.map(e=>caches.delete(e)))}i.success("\u2705 \u062A\u0645 \u0645\u0633\u062D \u0627\u0644\u0640 Cache"),setTimeout(()=>window.location.reload(),1e3)}catch{i.error("\u0641\u0634\u0644 \u0645\u0633\u062D \u0627\u0644\u0640 Cache")}},Te=()=>{const a={timestamp:new Date().toISOString(),connectionStatus:m.value,syncStatus:w.value,queueItems:k.value,localDataCounts:U.value,stats:fe.value},e=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),l=URL.createObjectURL(e),s=document.createElement("a");s.href=l,s.download=`sync-logs-${Date.now()}.json`,s.click(),i.success("\u2705 \u062A\u0645 \u062A\u0635\u062F\u064A\u0631 \u0627\u0644\u0640 Logs")},je=async()=>{try{const a={online:m.value.online,pendingSync:w.value.pendingCount,localData:U.value,queueSize:k.value.length,browserSupport:{serviceWorker:"serviceWorker"in navigator,indexedDB:"indexedDB"in window,cacheAPI:"caches"in window}};console.table(a),i.info("\u{1F4CA} \u062A\u0645 \u0639\u0631\u0636 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0641\u064A Console",{timeout:3e3})}catch{i.error("\u0641\u0634\u0644 \u0639\u0631\u0636 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A")}},oe=()=>{m.value.online=!0,rt(),i.success("\u{1F310} \u0639\u0627\u062F \u0627\u0644\u0627\u062A\u0635\u0627\u0644!"),W(),setTimeout(()=>{w.value.pendingCount>0&&Ht()},1e3)},re=()=>{m.value.online=!1,rt(),i.warning("\u{1F4F4} \u0641\u0642\u062F\u0627\u0646 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 - \u0648\u0636\u0639 Offline"),W()},V=async()=>{var a,e;et.value=!0;try{const l={};ct.value!=="auto"&&(l.force_connection=ct.value);const s=await $.get("/api/sync-monitor/tables",{params:l,withCredentials:!0});L.value=s.data.tables||[],be.value={connection:s.data.connection||"mysql",is_fallback:s.data.is_fallback||!1},qt.value=s.data.connection||"mysql",i.success("\u062A\u0645 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3})}catch(l){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062C\u062F\u0627\u0648\u0644:",l),i.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062C\u062F\u0627\u0648\u0644: "+(((e=(a=l.response)==null?void 0:a.data)==null?void 0:e.error)||l.message))}finally{et.value=!1}},Be=(a,e=null)=>{const l=`/sync-monitor/table/${a}${e?`?connection=${e}`:""}`;rs.router.visit(l)},ne=async(a,e=0,l=null)=>{var s,d,g,c;At.value=!0,y.value.error=null;try{const Q={limit:y.value.limit,offset:e},G=l||y.value.tableConnection;G?Q.force_connection=G:ct.value!=="auto"&&(Q.force_connection=ct.value);const f=await $.get(`/api/sync-monitor/table/${a}`,{params:Q,withCredentials:!0});console.log("Table details response:",{table:a,connection:G,columns:f.data.columns,columns_type:typeof f.data.columns,columns_is_array:Array.isArray(f.data.columns),data_count:((s=f.data.data)==null?void 0:s.length)||0,total:f.data.total,first_row:((d=f.data.data)==null?void 0:d[0])||null,response_data:f.data});let j=[];Array.isArray(f.data.columns)?j=f.data.columns:f.data.columns&&typeof f.data.columns=="object"&&(j=Object.values(f.data.columns));let C=[];if(Array.isArray(f.data.data)?C=f.data.data:f.data.data&&typeof f.data.data=="object"&&(C=Object.values(f.data.data)),j.length===0&&C.length>0){const Z=C[0];Z&&typeof Z=="object"&&(j=Object.keys(Z),console.log("Extracted columns from data:",j))}console.log("Final columns and data:",{columns_count:j.length,columns:j,data_count:C.length,first_row_keys:C.length>0?Object.keys(C[0]):[]}),y.value.columns=j,y.value.data=C,y.value.total=f.data.total||0,y.value.offset=f.data.offset||0,y.value.connection=f.data.connection||"",console.log("Table details modal updated:",{columns:y.value.columns.length,data:y.value.data.length,total:y.value.total})}catch(Q){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062C\u062F\u0648\u0644:",Q),y.value.error=((c=(g=Q.response)==null?void 0:g.data)==null?void 0:c.error)||Q.message||"\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",i.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062C\u062F\u0648\u0644")}finally{At.value=!1}},Qe=a=>a==null?"-":typeof a=="boolean"?a?"\u2713":"\u2717":typeof a=="object"?JSON.stringify(a):typeof a=="string"&&a.length>50?a.substring(0,50)+"...":String(a),xt=async()=>{var a,e,l,s;Ct.value=!0,O.value.error=null;try{const d=await $.get("/api/sync-monitor/metadata",{withCredentials:!0});O.value.data=d.data.metadata||[],O.value.stats=d.data.stats||null,i.success("\u062A\u0645 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",{timeout:2e3})}catch(d){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",d),O.value.error=((e=(a=d.response)==null?void 0:a.data)==null?void 0:e.error)||d.message||"\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",i.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: "+(((s=(l=d.response)==null?void 0:l.data)==null?void 0:s.error)||d.message))}finally{Ct.value=!1}},St=async()=>{var a,e;bt.value=!0;try{const l=await $.get("/api/sync-monitor/backups",{withCredentials:!0});Tt.value=l.data.backups||[],i.success("\u062A\u0645 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629",{timeout:2e3})}catch(l){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629:",l),i.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: "+(((e=(a=l.response)==null?void 0:a.data)==null?void 0:e.error)||l.message))}finally{bt.value=!1}},De=async a=>{var e,l;if(!!confirm(`\u26A0\uFE0F \u062A\u062D\u0630\u064A\u0631: \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 "${a}"\u061F

\u0647\u0630\u0627 \u0633\u064A\u0633\u062A\u0628\u062F\u0644 \u062C\u0645\u064A\u0639 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062D\u0627\u0644\u064A\u0629 \u0641\u064A \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A!`)){Et.value=!0;try{const s=await $.post("/api/sync-monitor/restore-backup",{backup_file:a},{withCredentials:!0});s.data.success?(i.success("\u2705 \u062A\u0645\u062A \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:3e3}),await St(),await V()):i.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629: "+(s.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"))}catch(s){console.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629:",s),i.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629: "+(((l=(e=s.response)==null?void 0:e.data)==null?void 0:l.error)||s.message))}finally{Et.value=!1}}},Ie=a=>{window.open(`/api/sync-monitor/download-backup?file=${encodeURIComponent(a)}`,"_blank")},Oe=async a=>{var e,l;if(!!confirm(`\u26A0\uFE0F \u062A\u062D\u0630\u064A\u0631: \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 "${a}"\u061F

\u0647\u0630\u0627 \u0627\u0644\u0625\u062C\u0631\u0627\u0621 \u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646\u0647!`))try{const s=await $.delete("/api/sync-monitor/backup/delete",{params:{file:a},withCredentials:!0});s.data.success?(i.success("\u2705 \u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:3e3}),await St()):i.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641: "+(s.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"))}catch(s){console.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641:",s),i.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641: "+(((l=(e=s.response)==null?void 0:e.data)==null?void 0:l.error)||s.message))}},ze=a=>{if(!a)return"0 B";const e=1024,l=["B","KB","MB","GB"],s=Math.floor(Math.log(a)/Math.log(e));return Math.round(a/Math.pow(e,s)*100)/100+" "+l[s]},Ot=a=>a?new Date(a).toLocaleString("ar-EG"):"-",Ue=async a=>{var e,l;if(!!confirm(`\u26A0\uFE0F \u062A\u062D\u0630\u064A\u0631: \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062A\u0641\u0631\u064A\u063A \u0627\u0644\u062C\u062F\u0648\u0644 "${a}"\u061F

\u0647\u0630\u0627 \u0633\u064A\u062D\u0630\u0641 \u062C\u0645\u064A\u0639 \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0645\u0646 \u0627\u0644\u062C\u062F\u0648\u0644 \u0641\u064A SQLite \u0627\u0644\u0645\u062D\u0644\u064A!`)){Qt.value=a;try{const s=await $.post(`/api/sync-monitor/table/${a}/truncate`,{},{withCredentials:!0});s.data.success?(i.success(`\u2705 \u062A\u0645 \u062A\u0641\u0631\u064A\u063A \u0627\u0644\u062C\u062F\u0648\u0644 ${a} \u0628\u0646\u062C\u0627\u062D`,{timeout:3e3}),await V()):i.error("\u0641\u0634\u0644 \u0627\u0644\u062A\u0641\u0631\u064A\u063A: "+(s.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"))}catch(s){console.error("\u0641\u0634\u0644 \u062A\u0641\u0631\u064A\u063A \u0627\u0644\u062C\u062F\u0648\u0644:",s),i.error("\u0641\u0634\u0644 \u0627\u0644\u062A\u0641\u0631\u064A\u063A: "+(((l=(e=s.response)==null?void 0:e.data)==null?void 0:l.error)||s.message))}finally{Qt.value=null}}},qe=a=>{K.value=K.value===a?null:a},Ee=async a=>{var e,l;if(!!confirm(`\u0647\u0644 \u062A\u0631\u064A\u062F \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u062C\u062F\u0648\u0644 "${a}" \u0645\u0646 SQLite \u0625\u0644\u0649 MySQL\u061F

\u0633\u064A\u062A\u0645:
- \u0646\u0642\u0644 \u062C\u0645\u064A\u0639 \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u062C\u062F\u064A\u062F\u0629
- \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062C\u062F\u0648\u0644 \u0641\u064A MySQL \u0625\u0630\u0627 \u0644\u0645 \u064A\u0643\u0646 \u0645\u0648\u062C\u0648\u062F\u0627\u064B
- \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u062A\u0644\u0642\u0627\u0626\u064A\u0629`)){Dt.value=a;try{i.info(`\u{1F4E4} \u0628\u062F\u0621 \u0645\u0632\u0627\u0645\u0646\u0629 \u062C\u062F\u0648\u0644 ${a}...`,{timeout:3e3});const s=await $.post("/api/sync-monitor/sync",{direction:"up",tables:a,safe_mode:!1,create_backup:!0,force_full_sync:!1},{withCredentials:!0});if(s.data.success){const d=s.data.results;console.log(`\u2705 \u062A\u0645\u062A \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u062C\u062F\u0648\u0644 ${a}:`,d);let g=`\u2705 \u062A\u0645\u062A \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u062C\u062F\u0648\u0644 ${a} \u0628\u0646\u062C\u0627\u062D!

`;g+=`\u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u0645\u0646\u0642\u0648\u0644\u0629: ${d.total_synced}
`,d.backup_file&&(g+=`\u{1F4BE} \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: ${d.backup_file.split("/").pop()}
`,i.info(`\u{1F4BE} \u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: ${d.backup_file.split("/").pop()}`,{timeout:3e3})),i.success(g,{timeout:5e3}),await xt(),await V()}else console.error(`\u274C \u0641\u0634\u0644\u062A \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u062C\u062F\u0648\u0644 ${a}:`,s.data.error),i.error(`\u274C \u0641\u0634\u0644\u062A \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u062C\u062F\u0648\u0644 ${a}: ${s.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"}`)}catch(s){console.error(`\u0641\u0634\u0644\u062A \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u062C\u062F\u0648\u0644 ${a}:`,s),i.error(`\u0641\u0634\u0644\u062A \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u062C\u062F\u0648\u0644 ${a}: `+(((l=(e=s.response)==null?void 0:e.data)==null?void 0:l.error)||s.message))}finally{Dt.value=null}}},Ve=async a=>{var e,l;if(!!confirm(`\u26A0\uFE0F\u26A0\uFE0F\u26A0\uFE0F \u062A\u062D\u0630\u064A\u0631 \u0634\u062F\u064A\u062F: \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u062A\u0645\u0627\u0645\u0627\u064B \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644 "${a}"\u061F

\u0647\u0630\u0627 \u0633\u064A\u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644 \u0628\u0627\u0644\u0643\u0627\u0645\u0644 \u0645\u0646 SQLite \u0627\u0644\u0645\u062D\u0644\u064A!

\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629!`)&&!!confirm(`\u26A0\uFE0F \u062A\u0623\u0643\u064A\u062F \u0646\u0647\u0627\u0626\u064A: \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F 100% \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644 "${a}"\u061F`)){It.value=a;try{const s=await $.delete(`/api/sync-monitor/table/${a}/delete`,{withCredentials:!0});s.data.success?(i.success(`\u2705 \u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644 ${a} \u0628\u0646\u062C\u0627\u062D`,{timeout:3e3}),await V()):i.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641: "+(s.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"))}catch(s){console.error("\u0641\u0634\u0644 \u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644:",s),i.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641: "+(((l=(e=s.response)==null?void 0:e.data)==null?void 0:l.error)||s.message))}finally{It.value=null}}},Gt=async(a,e=!1)=>{var Q,G;const l=a==="up"?"\u0645\u0646 SQLite \u0625\u0644\u0649 MySQL":"\u0645\u0646 MySQL \u0625\u0644\u0649 SQLite",s=a==="up"?"\u{1F4E4}":"\u{1F4E5}";let d=null,g="\u062C\u0645\u064A\u0639 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 (\u0628\u0627\u0633\u062A\u062B\u0646\u0627\u0621 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0646\u0638\u0627\u0645\u064A\u0629)";if(!e){const f=["users","car","car_contract","transactions","wallets","buyer_payments","car_sales","internal_sales"];d=f.join(","),g=f.join(", ")}const c=`\u0647\u0644 \u062A\u0631\u064A\u062F \u0645\u0632\u0627\u0645\u0646\u0629 ${g} ${l}\u061F

${e?"\u{1F4CB} \u062C\u0645\u064A\u0639 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062A\u0627\u062D\u0629 (\u0628\u0627\u0633\u062A\u062B\u0646\u0627\u0621 \u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0646\u0638\u0627\u0645)":"\u{1F4CB} \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629 \u0627\u0644\u0645\u0647\u0645\u0629"}

\u26A0\uFE0F ${a==="up"?"\u062D\u0645\u0627\u064A\u0629 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0633\u064A\u0631\u0641\u0631:":"\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062D\u0644\u064A\u0629:"}
${a==="up"?"\u2705 \u0633\u064A\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u062A\u0644\u0642\u0627\u0626\u064A\u0627\u064B":"\u2705 \u0633\u064A\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062D\u0644\u064A\u0629"}
${a==="up"?"\u2705 Safe Mode: \u0625\u0636\u0627\u0641\u0629 \u0641\u0642\u0637 (\u0644\u0627 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0629)":"\u2705 \u0633\u064A\u062A\u0645 \u062C\u0644\u0628 \u0623\u062D\u062F\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 \u0627\u0644\u0633\u064A\u0631\u0641\u0631"}
${a==="up"?"\u2705 Transaction \u0645\u0639 Rollback \u0641\u064A \u062D\u0627\u0644\u0629 \u0627\u0644\u062E\u0637\u0623":"\u2705 \u0646\u0633\u062E \u0630\u0643\u064A (\u0641\u0642\u0637 \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u062C\u062F\u064A\u062F\u0629)"}

\u0633\u064A\u062A\u0645:
${a==="up"?"\u0646\u0642\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 SQLite \u0627\u0644\u0645\u062D\u0644\u064A \u0625\u0644\u0649 MySQL \u0627\u0644\u0633\u064A\u0631\u0641\u0631":"\u062A\u062D\u062F\u064A\u062B SQLite \u0627\u0644\u0645\u062D\u0644\u064A \u0645\u0646 MySQL \u0627\u0644\u0633\u064A\u0631\u0641\u0631"}`;if(!!confirm(c)){H.value=!0;try{const f=e?"\u062C\u0645\u064A\u0639 \u0627\u0644\u062C\u062F\u0627\u0648\u0644":"\u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629";i.info(`${s} \u0628\u062F\u0621 \u0645\u0632\u0627\u0645\u0646\u0629 ${f} ${l}...`,{timeout:3e3});const j=await $.post("/api/sync-monitor/sync",{direction:a,tables:d,safe_mode:a!=="up",create_backup:a==="up",force_full_sync:!1},{withCredentials:!0});if(j.data.success){const C=j.data.results;console.log(`\u2705 \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 ${l}:`,C);let Z=`\u2705 \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0646\u062C\u0627\u062D!

`;if(Z+=`${s} ${l}: ${C.total_synced} \u0633\u062C\u0644
`,e)Z+=`\u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: ${Object.keys(C.success||{}).length} \u062C\u062F\u0648\u0644
`;else{const ye=["users","car","car_contract","transactions","wallets","buyer_payments","car_sales","internal_sales"];Z+=`\u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: ${Object.keys(C.success||{}).length} \u0645\u0646 ${ye.length} \u062C\u062F\u0648\u0644 \u0623\u0633\u0627\u0633\u064A
`}C.backup_file&&(Z+=`\u{1F4BE} \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: ${C.backup_file.split("/").pop()}
`,i.info(`\u{1F4BE} \u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: ${C.backup_file.split("/").pop()}`,{timeout:3e3})),i.success(Z,{timeout:5e3}),await xt(),await V()}else{console.error(`\u274C \u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 ${l}:`,j.data.error);const C=e?"\u062C\u0645\u064A\u0639 \u0627\u0644\u062C\u062F\u0627\u0648\u0644":"\u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629";i.error(`\u274C \u0641\u0634\u0644\u062A \u0645\u0632\u0627\u0645\u0646\u0629 ${C} ${l}: ${j.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"}`)}}catch(f){console.error(`\u0641\u0634\u0644\u062A \u0645\u0632\u0627\u0645\u0646\u0629 ${l}:`,f);const j=e?"\u062C\u0645\u064A\u0639 \u0627\u0644\u062C\u062F\u0627\u0648\u0644":"\u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629";i.error(`\u0641\u0634\u0644\u062A \u0645\u0632\u0627\u0645\u0646\u0629 ${j} ${l}: `+(((G=(Q=f.response)==null?void 0:Q.data)==null?void 0:G.error)||f.message))}finally{H.value=!1}}},le=async a=>{await Gt(a,!0)},Re=async()=>{var l,s;const a=["car","car_images","buyer_payments","wallets","users"],e=`\u0647\u0644 \u062A\u0631\u064A\u062F \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 \u0645\u0646 JSON \u0625\u0644\u0649 MySQL\u061F

\u{1F4CB} \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629:
${a.join(", ")}

\u26A0\uFE0F \u0633\u064A\u062A\u0645:
- \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A
- \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0635\u0648\u0631 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A
- \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u062F\u0641\u0639\u0627\u062A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0646
- \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062D\u0627\u0641\u0638 \u0627\u0644\u0645\u0627\u0644\u064A\u0629
- \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646
- \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u062A\u0644\u0642\u0627\u0626\u064A\u0629

\u0647\u0644 \u062A\u0631\u064A\u062F \u0627\u0644\u0645\u062A\u0627\u0628\u0639\u0629\u061F`;if(!!confirm(e)){H.value=!0;try{i.info(`\u{1F697} \u0628\u062F\u0621 \u0627\u0633\u062A\u0639\u0627\u062F\u0629 ${a.length} \u062C\u062F\u0648\u0644 \u0645\u062D\u062F\u062F...`,{timeout:3e3});const d=await $.post("/api/sync-monitor/sync",{direction:"up",tables:a.join(","),safe_mode:!1,create_backup:!0,force_full_sync:!1},{withCredentials:!0});if(d.data.success){const g=d.data.results;console.log("\u2705 \u062A\u0645\u062A \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629:",g);let c=`\u2705 \u062A\u0645\u062A \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 \u0628\u0646\u062C\u0627\u062D!

`;c+=`\u{1F697} \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0633\u062A\u0639\u0627\u062F\u0629: ${a.join(", ")}
`,c+=`\u{1F4CA} \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0633\u062C\u0644\u0627\u062A: ${g.total_synced}
`,g.backup_file&&(c+=`\u{1F4BE} \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: ${g.backup_file.split("/").pop()}
`,i.info(`\u{1F4BE} \u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: ${g.backup_file.split("/").pop()}`,{timeout:3e3})),i.success(c,{timeout:5e3}),await xt(),await V()}else console.error("\u274C \u0641\u0634\u0644\u062A \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629:",d.data.error),i.error(`\u274C \u0641\u0634\u0644\u062A \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629: ${d.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"}`)}catch(d){console.error("\u0641\u0634\u0644\u062A \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629:",d),i.error("\u0641\u0634\u0644\u062A \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629: "+(((s=(l=d.response)==null?void 0:l.data)==null?void 0:s.error)||d.message))}finally{H.value=!1}}},Pe=async()=>{var e,l;if(!!confirm(`\u0647\u0644 \u062A\u0631\u064A\u062F \u0645\u0632\u0627\u0645\u0646\u0629 \u062C\u0645\u064A\u0639 \u0627\u0644\u062C\u062F\u0627\u0648\u0644\u061F

\u26A0\uFE0F \u062D\u0645\u0627\u064A\u0629 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0633\u064A\u0631\u0641\u0631:
\u2705 \u0633\u064A\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u062A\u0644\u0642\u0627\u0626\u064A\u0627\u064B
\u2705 Safe Mode: \u0625\u0636\u0627\u0641\u0629 \u0641\u0642\u0637 (\u0644\u0627 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0629)
\u2705 Transaction \u0645\u0639 Rollback \u0641\u064A \u062D\u0627\u0644\u0629 \u0627\u0644\u062E\u0637\u0623

\u0633\u064A\u062A\u0645:
1. \u0646\u0642\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 SQLite \u0625\u0644\u0649 MySQL (\u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062D\u0644\u064A\u0629 \u2192 \u0627\u0644\u0633\u064A\u0631\u0641\u0631)
2. \u062B\u0645 \u062A\u062D\u062F\u064A\u062B SQLite \u0645\u0646 MySQL (\u0627\u0644\u062A\u062D\u062F\u064A\u062B\u0627\u062A \u0645\u0646 \u0627\u0644\u0633\u064A\u0631\u0641\u0631)`)){H.value=!0;try{i.info("\u{1F504} \u0628\u062F\u0621 \u0639\u0645\u0644\u064A\u0629 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0645\u0639 \u0627\u0644\u062D\u0645\u0627\u064A\u0629...",{timeout:3e3}),i.info("\u{1F4E4} \u0646\u0642\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 SQLite \u0625\u0644\u0649 MySQL (Safe Mode)...",{timeout:3e3});const s=await $.post("/api/sync-monitor/sync",{direction:"up",tables:null,safe_mode:!0,create_backup:!0},{withCredentials:!0});if(s.data.success){const g=s.data.results;console.log("\u2705 \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0645\u0646 SQLite \u0625\u0644\u0649 MySQL:",g),g.backup_file&&(console.log("\u{1F4BE} \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629:",g.backup_file),i.info(`\u{1F4BE} \u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: ${g.backup_file.split("/").pop()}`,{timeout:3e3}))}else console.error("\u274C \u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0645\u0646 SQLite \u0625\u0644\u0649 MySQL:",s.data.error),i.error("\u274C \u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 - \u062A\u0645 Rollback \u0648\u062D\u0645\u0627\u064A\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A");i.info("\u{1F4E5} \u062A\u062D\u062F\u064A\u062B SQLite \u0645\u0646 MySQL...",{timeout:3e3});const d=await $.post("/api/sync-monitor/sync",{direction:"down",tables:null},{withCredentials:!0});if(d.data.success){const g=d.data.results;let c=`\u2705 \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0646\u062C\u0627\u062D!

`;c+=`\u{1F4E4} \u0646\u0642\u0644 \u0625\u0644\u0649 MySQL: ${(resultsUp==null?void 0:resultsUp.total_synced)||0} \u0633\u062C\u0644 (Safe Mode)
`,c+=`\u{1F4E5} \u062A\u062D\u062F\u064A\u062B \u0645\u0646 MySQL: ${g.total_synced} \u0633\u062C\u0644
`,c+=`\u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: ${Object.keys(g.success).length}
`,resultsUp!=null&&resultsUp.backup_file&&(c+=`
\u{1F4BE} \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: ${resultsUp.backup_file.split("/").pop()}`),(Object.keys(g.failed).length>0||Object.keys((resultsUp==null?void 0:resultsUp.failed)||{}).length>0)&&(c+=`
\u26A0\uFE0F \u0641\u0634\u0644\u062A \u0628\u0639\u0636 \u0627\u0644\u062C\u062F\u0627\u0648\u0644`),i.success(c,{timeout:7e3}),await V()}else i.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: "+(d.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"))}catch(s){console.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",s),i.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: "+(((l=(e=s.response)==null?void 0:e.data)==null?void 0:l.error)||s.message))}finally{H.value=!1}}};Nt(()=>{W(),rt(),V(),St(),xt(),window.addEventListener("online",oe),window.addEventListener("offline",re),it=setInterval(W,1e4),b=ie(),b!=null&&b.addEventListener?b.addEventListener("change",rt):b&&(b.onchange=rt)}),xe(()=>{window.removeEventListener("online",oe),window.removeEventListener("offline",re),it&&(clearInterval(it),it=null),b!=null&&b.removeEventListener?b.removeEventListener("change",rt):b&&(b.onchange=null)});const rt=()=>{x.value=de()};function de(){if(typeof window>"u")return{...X};const{protocol:a,hostname:e,port:l,origin:s}=window.location,d=(e||"").toLowerCase(),g=["localhost","127.0.0.1"].includes(d)||d.startsWith("192.168.")||d.startsWith("10.")||d.endsWith(".local"),c=ie(),Q=typeof(c==null?void 0:c.downlink)=="number"?Number(c.downlink.toFixed(1)):null,G=typeof(c==null?void 0:c.rtt)=="number"?Math.round(c.rtt):null,f=Ae(s);return{environmentLabel:g?"\u{1F5A5}\uFE0F \u0628\u064A\u0626\u0629 \u0645\u062D\u0644\u064A\u0629 (Local)":"\u2601\uFE0F \u0627\u062A\u0635\u0627\u0644 \u062E\u0627\u062F\u0645/\u0633\u064A\u0631\u0641\u0631",tip:g?"\u0623\u0646\u062A \u062A\u0639\u0645\u0644 \u0639\u0644\u0649 \u0646\u0633\u062E\u0629 \u0645\u062D\u0644\u064A\u0629\u060C \u062A\u0630\u0643\u0651\u0631 \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0642\u0628\u0644 \u0646\u0634\u0631\u0647\u0627.":"\u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0645\u0628\u0627\u0634\u0631 \u0628\u0627\u0644\u0633\u064A\u0631\u0641\u0631\u060C \u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0633\u062A\u0642\u0631\u0627\u0631 \u0627\u0644\u0634\u0628\u0643\u0629 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629.",host:e||"-",port:l||(a==="https:"?"443":"80"),protocol:a?a.replace(":","").toUpperCase():"-",origin:s||"-",secure:a==="https:",networkType:(c==null?void 0:c.type)||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641",effectiveType:(c==null?void 0:c.effectiveType)||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641",downlink:Q,rtt:G,apiBaseUrl:f,lastUpdated:new Date().toLocaleTimeString("ar-SA"),isLocal:g}}function Ae(a="-"){var e,l,s,d,g;return typeof window>"u"?a:(l=(e=window==null?void 0:window.axios)==null?void 0:e.defaults)!=null&&l.baseURL?window.axios.defaults.baseURL:(s=window==null?void 0:window.Ziggy)!=null&&s.url?window.Ziggy.url:(d=window==null?void 0:window.Laravel)!=null&&d.baseUrl?window.Laravel.baseUrl:((g=window.location)==null?void 0:g.origin)||a||"-"}function ie(){return typeof navigator>"u"?null:navigator.connection||navigator.mozConnection||navigator.webkitConnection||null}const He=async()=>{var l,s;if(ut.value||!confirm(`\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062A\u0634\u063A\u064A\u0644 \u0639\u0645\u0644\u064A\u0629 \u0646\u0642\u0644 \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A\u061F

\u0647\u0630\u0627 \u0642\u062F \u064A\u0633\u062A\u063A\u0631\u0642 \u0648\u0642\u062A\u0627\u064B \u0637\u0648\u064A\u0644\u0627\u064B \u062D\u0633\u0628 \u062D\u062C\u0645 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A.`))return;ut.value=!0,at.value=[];let a=0,e=!0;Lt("info","\u0628\u062F\u0621 \u0639\u0645\u0644\u064A\u0629 \u0646\u0642\u0644 \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A");try{for(;e&&ut.value;){Lt("info",`\u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u062F\u0641\u0639\u0629 ${a/E.value.batchSize+1}...`);const d=await $.post("/api/car-history/migrate-transactions",{limit:E.value.batchSize,confirm_delete:E.value.deleteOldData,offset:a},{withCredentials:!0}),g=d.data.stats;F.value.migrated+=g.migrated,F.value.errors+=g.errors,Lt("success",`\u062A\u0645 \u0646\u0642\u0644 ${g.migrated} \u0645\u0639\u0627\u0645\u0644\u0629\u060C \u0641\u0634\u0644 ${g.errors}\u060C \u062A\u0645 \u062D\u0630\u0641 ${g.deleted}`),d.data.next_offset?(a=d.data.next_offset,E.value.delay>0&&await new Promise(c=>setTimeout(c,E.value.delay*1e3))):(e=!1,Lt("success","\u0627\u0646\u062A\u0647\u062A \u0639\u0645\u0644\u064A\u0629 \u0627\u0644\u0646\u0642\u0644 \u0628\u0646\u062C\u0627\u062D"))}await Jt()}catch(d){Lt("error","\u0641\u0634\u0644\u062A \u0639\u0645\u0644\u064A\u0629 \u0627\u0644\u0646\u0642\u0644: "+(((s=(l=d.response)==null?void 0:l.data)==null?void 0:s.message)||d.message))}finally{ut.value=!1}},Jt=async()=>{try{const e=(await $.get("/api/sync-monitor/tables",{withCredentials:!0})).data.tables||[],l=e.find(d=>d.name==="transactions"),s=e.find(d=>d.name==="car_history");F.value={total_transactions:(l==null?void 0:l.count)||0,migrated:(s==null?void 0:s.count)||0,remaining:Math.max(0,((l==null?void 0:l.count)||0)-((s==null?void 0:s.count)||0)),errors:0}}catch(a){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A \u0627\u0644\u0646\u0642\u0644:",a)}},Lt=(a,e)=>{at.value.unshift({type:a,message:e,timestamp:new Date().toISOString()}),at.value.length>50&&(at.value=at.value.slice(0,50))},ce=a=>({info:"\u2139\uFE0F",success:"\u2705",warning:"\u26A0\uFE0F",error:"\u274C"})[a]||"\u{1F4DD}",Fe=a=>({pending:"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631",synced:"\u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",failed:"\u0641\u0634\u0644\u062A"})[a]||a,We=async()=>{if(!mt.value){mt.value=!0,z("info","\u0628\u062F\u0621 \u062A\u062D\u0633\u064A\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A");try{await new Promise(a=>setTimeout(a,3e3)),z("success","\u062A\u0645 \u062A\u062D\u0633\u064A\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0628\u0646\u062C\u0627\u062D"),i.success("\u062A\u0645 \u062A\u062D\u0633\u064A\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0628\u0646\u062C\u0627\u062D")}catch{z("error","\u0641\u0634\u0644 \u062A\u062D\u0633\u064A\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"),i.error("\u0641\u0634\u0644 \u062A\u062D\u0633\u064A\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A")}finally{mt.value=!1}}},Ge=async()=>{if(!kt.value){kt.value=!0,z("info","\u0628\u062F\u0621 \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629");try{await new Promise(a=>setTimeout(a,5e3)),z("success","\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u0628\u0646\u062C\u0627\u062D"),i.success("\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u0628\u0646\u062C\u0627\u062D"),await St()}catch{z("error","\u0641\u0634\u0644 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629"),i.error("\u0641\u0634\u0644 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629")}finally{kt.value=!1}}},Je=async()=>{if(!ht.value){ht.value=!0,z("info","\u0628\u062F\u0621 \u0641\u062D\u0635 \u0635\u062D\u0629 \u0627\u0644\u0646\u0638\u0627\u0645");try{const a=[{name:"\u0627\u062A\u0635\u0627\u0644 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",status:"ok"},{name:"\u0645\u0633\u0627\u062D\u0629 \u0627\u0644\u062A\u062E\u0632\u064A\u0646",status:"ok"},{name:"\u0630\u0627\u0643\u0631\u0629 \u0627\u0644\u0646\u0638\u0627\u0645",status:"warning"},{name:"\u0627\u062A\u0635\u0627\u0644 \u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A",status:m.value.online?"ok":"error"}];await new Promise(s=>setTimeout(s,2e3));const e=a.filter(s=>s.status==="error").length,l=a.filter(s=>s.status==="warning").length;wt.value={php_version:"8.2.12",laravel_version:"10.x",database:"SQLite",storage_used:"2.3 GB"},e===0&&l===0?(z("success","\u0627\u0644\u0646\u0638\u0627\u0645 \u0641\u064A \u062D\u0627\u0644\u0629 \u0645\u0645\u062A\u0627\u0632\u0629"),i.success("\u0627\u0644\u0646\u0638\u0627\u0645 \u0641\u064A \u062D\u0627\u0644\u0629 \u0645\u0645\u062A\u0627\u0632\u0629")):(z("warning",`\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 ${e} \u0623\u062E\u0637\u0627\u0621 \u0648 ${l} \u062A\u062D\u0630\u064A\u0631\u0627\u062A`),i.warning(`\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 ${e} \u0623\u062E\u0637\u0627\u0621 \u0648 ${l} \u062A\u062D\u0630\u064A\u0631\u0627\u062A`))}catch{z("error","\u0641\u0634\u0644 \u0641\u062D\u0635 \u0635\u062D\u0629 \u0627\u0644\u0646\u0638\u0627\u0645"),i.error("\u0641\u0634\u0644 \u0641\u062D\u0635 \u0635\u062D\u0629 \u0627\u0644\u0646\u0638\u0627\u0645")}finally{ht.value=!1}}},z=(a,e)=>{gt.value.unshift({type:a,message:e,timestamp:new Date().toISOString()}),gt.value.length>50&&(gt.value=gt.value.slice(0,50))},ue=async()=>{$t.value=!0;try{const e=(await $.get("/api/sync-monitor/tables",{withCredentials:!0})).data.tables||[],l=e.reduce((d,g)=>d+(g.count||0),0);let s="\u063A\u064A\u0631 \u0645\u062D\u062F\u062F";try{const g=require("fs").statSync("database/database.sqlite");s=Ke(g.size)}catch{s="\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"}_t.value={type:"SQLite",version:"3.x",path:"database/database.sqlite",total_tables:e.length,total_records:l,size:s},z("info","\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A")}catch(a){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A:",a),z("error","\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"),_t.value={type:"SQLite",version:"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F",path:"database/database.sqlite",total_tables:L.value.length,total_records:"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F",size:"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"}}finally{$t.value=!1}},Ke=a=>{if(a===0)return"0 Bytes";const e=1024,l=["Bytes","KB","MB","GB","TB"],s=Math.floor(Math.log(a)/Math.log(e));return parseFloat((a/Math.pow(e,s)).toFixed(2))+" "+l[s]};Nt(async()=>{await zt(),await Jt(),await ue()});const Ze=async a=>{try{P.value=a;const e=await $.get(`/api/sync-monitor/backup-content?file=${encodeURIComponent(a)}`,{withCredentials:!0});e.data.success?(vt.value=e.data.tables||[],S.value=[]):i.error("\u0641\u0634\u0644 \u0641\u064A \u0642\u0631\u0627\u0621\u0629 \u0645\u062D\u062A\u0648\u0649 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629")}catch(e){console.error("\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629:",e),i.error("\u0641\u0634\u0644 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629")}},Ne=async()=>{var e,l;if(S.value.length===0){i.warning("\u064A\u0631\u062C\u0649 \u062A\u062D\u062F\u064A\u062F \u062C\u062F\u0648\u0644 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644");return}const a=`\u0647\u0644 \u062A\u0631\u064A\u062F \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 \u0645\u0646 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629\uFF1F

\u{1F4E6} \u0627\u0644\u0645\u0644\u0641: ${P.value}
\u{1F4CB} \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 (${S.value.length}):
${S.value.join(", ")}

\u26A0\uFE0F \u0633\u064A\u062A\u0645:
- \u0627\u0633\u062A\u0628\u062F\u0627\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062D\u0627\u0644\u064A\u0629 \u0628\u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629
- \u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u062A\u0644\u0642\u0627\u0626\u064A\u0627\u064B (\u0623\u0631\u0642\u0627\u0645 + \u0646\u0635\u0648\u0635)

\u0647\u0644 \u062A\u0631\u064A\u062F \u0627\u0644\u0645\u062A\u0627\u0628\u0639\u0629\u061F`;if(!!confirm(a))try{const s=await $.post("/api/sync-monitor/restore-selected",{backup_file:P.value,tables:S.value.join(",")},{withCredentials:!0});s.data.success?(i.success(`\u2705 \u062A\u0645\u062A \u0627\u0633\u062A\u0639\u0627\u062F\u0629 ${S.value.length} \u062C\u062F\u0648\u0644 \u0628\u0646\u062C\u0627\u062D!`),Y.value=!1,S.value=[],await V(),await xt()):i.error(`\u274C \u0641\u0634\u0644\u062A \u0627\u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629: ${s.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"}`)}catch(s){console.error("\u0641\u0634\u0644\u062A \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629:",s),i.error(`\u0641\u0634\u0644\u062A \u0627\u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629: ${((l=(e=s.response)==null?void 0:e.data)==null?void 0:l.error)||s.message}`)}};async function zt(){ft.value=!0;try{const a=await $.get("/api/sync-monitor/migrations",{params:{show_executed:Rt.value},withCredentials:!0});Vt.value=a.data.migrations||[],Pt.value={total_executed:a.data.total_executed||0,total_pending:a.data.total_pending||0}}catch(a){console.error("Error loading migrations:",a),i.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646\u0632",{timeout:3e3,position:"bottom-right",rtl:!0})}finally{ft.value=!1}}async function Xe(a){try{const e=await $.post("/api/sync-monitor/check-migration",{migration_name:a},{withCredentials:!0});return e.data.success&&e.data.has_data?{safe:!1,warning:!0,tables:e.data.tables_with_data,total_records:e.data.total_records,affected_tables:e.data.affected_tables}:{safe:!0}}catch(e){return console.error("Error checking migration safety:",e),{safe:!0}}}async function ge(a,e=!1){var l,s,d,g;if(!e){const c=await Xe(a);if(!c.safe&&c.warning){const Q=c.tables.map(f=>`- ${f.name}: ${f.count} \u0633\u062C\u0644`).join(`
`),G=`\u26A0\uFE0F \u062A\u062D\u0630\u064A\u0631: \u064A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u0641\u064A \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062A\u0623\u062B\u0631\u0629!

\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0633\u062C\u0644\u0627\u062A: ${c.total_records}

\u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062A\u0623\u062B\u0631\u0629:
${Q}

\u062A\u0646\u0641\u064A\u0630 \u0647\u0630\u0627 \u0627\u0644\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646 \u0642\u062F \u064A\u062D\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A!

\u0647\u0644 \u062A\u0631\u064A\u062F \u0627\u0644\u0645\u062A\u0627\u0628\u0639\u0629 \u0639\u0644\u0649 \u0645\u0633\u0624\u0648\u0644\u064A\u062A\u0643 \u0627\u0644\u062E\u0627\u0635\u0629\u061F`;if(!confirm(G)){D.value={migration:a,tables:c.tables,total_records:c.total_records,affected_tables:c.affected_tables};return}}}jt.value=a,ot.value="",D.value=null;try{i.info("\u062C\u0627\u0631\u064A \u062A\u0646\u0641\u064A\u0630 \u0627\u0644\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646...",{timeout:2e3,position:"bottom-right",rtl:!0});const c=await $.post("/api/sync-monitor/run-migration",{migration_name:a,force:e},{withCredentials:!0});c.data.success?(i.success("\u062A\u0645 \u062A\u0646\u0641\u064A\u0630 \u0627\u0644\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646 \u0628\u0646\u062C\u0627\u062D",{timeout:3e3,position:"bottom-right",rtl:!0}),ot.value=c.data.output||"",await zt()):c.data.warning?(D.value={migration:a,table:c.data.table,record_count:c.data.record_count,message:c.data.message},i.warning(c.data.error||"\u064A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u0641\u064A \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062A\u0623\u062B\u0631\u0629",{timeout:5e3,position:"bottom-right",rtl:!0})):(i.error(c.data.error||"\u0641\u0634\u0644 \u062A\u0646\u0641\u064A\u0630 \u0627\u0644\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646",{timeout:3e3,position:"bottom-right",rtl:!0}),ot.value=c.data.output||c.data.error||"")}catch(c){console.error("Error running migration:",c),(s=(l=c.response)==null?void 0:l.data)!=null&&s.warning?(D.value={migration:a,table:c.response.data.table,record_count:c.response.data.record_count,message:c.response.data.message},i.warning(c.response.data.error||"\u064A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u0641\u064A \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062A\u0623\u062B\u0631\u0629",{timeout:5e3,position:"bottom-right",rtl:!0})):(i.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u0646\u0641\u064A\u0630 \u0627\u0644\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646",{timeout:3e3,position:"bottom-right",rtl:!0}),ot.value=((g=(d=c.response)==null?void 0:d.data)==null?void 0:g.error)||c.message||"")}finally{jt.value=null}}function Ye(a){ge(a,!0)}return(a,e)=>(o(),r(M,null,[st(pe(os),{title:"\u0645\u0631\u0627\u0642\u0628\u0629 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629"}),st(ns,null,{header:nt(()=>[t("div",Ds,[e[43]||(e[43]=t("h2",{class:"font-semibold text-xl dark:text-gray-200 text-gray-800"}," \u{1F504} \u0645\u0631\u0627\u0642\u0628\u0629 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0648\u0627\u0644\u0640 Offline Mode ",-1)),t("div",Is,[t("button",{onClick:W,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",disabled:lt.value},[lt.value?(o(),r("span",Us,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",zs,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,Os),w.value.pendingCount>0&&m.value.online?(o(),r("button",{key:0,onClick:Ht,class:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",disabled:_.value},[_.value?(o(),r("span",Vs,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...")):(o(),r("span",Es,"\u2705 \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0643\u0644"))],8,qs)):v("",!0),t("button",{onClick:ee,class:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600"}," \u{1F5D1}\uFE0F \u0645\u0633\u062D \u0627\u0644\u0643\u0644 ")])])]),default:nt(()=>{var l;return[t("div",Rs,[t("div",Ps,[t("div",As,[t("div",Hs,[e[44]||(e[44]=t("div",null,[t("h3",{class:"text-lg font-semibold dark:text-gray-200"},"\u{1F5C4}\uFE0F \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0648\u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629"),t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0634\u0627\u0645\u0644\u0629 \u0639\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0648\u0627\u0644\u062D\u0627\u0644\u0629 \u0627\u0644\u062D\u0627\u0644\u064A\u0629")],-1)),t("button",{onClick:ue,disabled:$t.value,class:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 disabled:opacity-50"},[$t.value?(o(),r("span",Gs,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",Ws,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,Fs)]),$t.value?(o(),r("div",Js,[...e[45]||(e[45]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"},null,-1),t("p",{class:"mt-4 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...",-1)])])):(o(),r("div",Ks,[t("div",Zs,[e[49]||(e[49]=t("h4",{class:"text-md font-semibold mb-3 text-gray-900 dark:text-gray-100"},"\u{1F4CA} \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",-1)),t("div",Ns,[t("div",Xs,[e[46]||(e[46]=t("span",{class:"text-gray-600 dark:text-gray-400"},"\u0627\u0644\u0646\u0648\u0639:",-1)),t("span",Ys,n(_t.value.type||"SQLite"),1)]),t("div",ta,[e[47]||(e[47]=t("span",{class:"text-gray-600 dark:text-gray-400"},"\u0627\u0644\u062D\u062C\u0645:",-1)),t("span",ea,n(_t.value.size||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),1)]),t("div",sa,[e[48]||(e[48]=t("span",{class:"text-gray-600 dark:text-gray-400"},"\u0627\u0644\u062C\u062F\u0627\u0648\u0644:",-1)),t("span",aa,n(_t.value.total_tables||L.value.length),1)])])]),t("div",oa,[e[53]||(e[53]=t("h4",{class:"text-md font-semibold mb-3 text-blue-900 dark:text-blue-100"},"\u{1F504} \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1)),t("div",ra,[t("div",na,[e[50]||(e[50]=t("span",{class:"text-blue-700 dark:text-blue-300"},"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631:",-1)),t("span",la,n(w.value.pendingCount),1)]),t("div",da,[e[51]||(e[51]=t("span",{class:"text-blue-700 dark:text-blue-300"},"\u0622\u062E\u0631 \u0645\u0632\u0627\u0645\u0646\u0629:",-1)),t("span",ia,n(he.value),1)]),t("div",ca,[e[52]||(e[52]=t("span",{class:"text-blue-700 dark:text-blue-300"},"\u0627\u0644\u062D\u0627\u0644\u0629:",-1)),t("span",{class:h(["font-bold",m.value.online?"text-green-600":"text-red-600"])},n(m.value.online?"\u0645\u062A\u0635\u0644":"\u063A\u064A\u0631 \u0645\u062A\u0635\u0644"),3)])])]),t("div",ua,[e[57]||(e[57]=t("h4",{class:"text-md font-semibold mb-3 text-green-900 dark:text-green-100"},"\u{1F697} \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A",-1)),t("div",ga,[t("div",ya,[e[54]||(e[54]=t("span",{class:"text-green-700 dark:text-green-300"},"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A:",-1)),t("span",xa,n(F.value.total_transactions||0),1)]),t("div",pa,[e[55]||(e[55]=t("span",{class:"text-green-700 dark:text-green-300"},"\u0645\u064F\u0646\u0642\u0644:",-1)),t("span",va,n(F.value.migrated||0),1)]),t("div",ba,[e[56]||(e[56]=t("span",{class:"text-green-700 dark:text-green-300"},"\u0645\u062A\u0628\u0642\u064A:",-1)),t("span",fa,n(F.value.remaining||0),1)])])]),t("div",ma,[e[58]||(e[58]=t("h4",{class:"text-md font-semibold mb-3 text-purple-900 dark:text-purple-100"},"\u26A1 \u0625\u062C\u0631\u0627\u0621\u0627\u062A \u0633\u0631\u064A\u0639\u0629",-1)),t("div",ka,[t("button",{onClick:Ht,disabled:!m.value.online||_.value,class:"w-full px-3 py-2 bg-green-600 text-white text-xs rounded hover:bg-green-700 disabled:opacity-50"}," \u{1F504} \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0643\u0644 ",8,ha),t("button",{onClick:ee,class:"w-full px-3 py-2 bg-red-600 text-white text-xs rounded hover:bg-red-700"}," \u{1F5D1}\uFE0F \u0645\u0633\u062D \u0627\u0644\u0643\u0644 ")])])]))]),t("div",wa,[t("div",_a,[e[59]||(e[59]=t("h3",{class:"text-lg font-semibold dark:text-gray-200"},"\u{1F310} \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0627\u0644\u062A\u0642\u0646\u064A\u0629",-1)),t("span",{class:h(["px-3 py-1 rounded-full text-sm font-semibold",x.value.isLocal?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100":"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-100"])},n(x.value.environmentLabel),3)]),t("div",$a,[t("div",Ca,[e[60]||(e[60]=t("p",{class:"text-gray-600 dark:text-gray-400 text-xs"},"\u0627\u0644\u0645\u0636\u064A\u0641 \u0648\u0627\u0644\u0645\u0646\u0641\u0630",-1)),t("p",Sa,[R(n(x.value.host||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),1),x.value.port?(o(),r("span",La,":"+n(x.value.port),1)):v("",!0)])]),t("div",Ma,[e[61]||(e[61]=t("p",{class:"text-gray-600 dark:text-gray-400 text-xs"},"\u0646\u0648\u0639 \u0627\u0644\u0634\u0628\u0643\u0629",-1)),t("p",Ta,n(x.value.networkType||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),1),t("p",ja,"\u0633\u0631\u0639\u0629: "+n(x.value.effectiveType||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),1)]),t("div",Ba,[e[62]||(e[62]=t("p",{class:"text-gray-600 dark:text-gray-400 text-xs"},"\u0627\u0644\u0623\u062F\u0627\u0621 \u0627\u0644\u062A\u0642\u0646\u064A",-1)),t("p",Qa,n(x.value.downlink?x.value.downlink+" Mbps":"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),1),t("p",Da,"RTT: "+n(x.value.rtt?x.value.rtt+"ms":"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),1)]),t("div",Ia,[e[63]||(e[63]=t("p",{class:"text-gray-600 dark:text-gray-400 text-xs"},"\u0639\u0646\u0648\u0627\u0646 API",-1)),t("p",{class:"font-semibold text-xs truncate",title:x.value.apiBaseUrl},n(x.value.apiBaseUrl||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),9,Oa),t("p",za,n(x.value.protocol||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F")+" \u2022 "+n(x.value.secure?"\u{1F512} \u0622\u0645\u0646":"\u26A0\uFE0F \u063A\u064A\u0631 \u0622\u0645\u0646"),1)])])]),t("div",Ua,[t("div",qa,[t("div",null,[e[64]||(e[64]=t("h3",{class:"text-lg font-semibold dark:text-gray-200"},"\u2139\uFE0F \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0627\u0644\u062D\u0627\u0644\u064A\u0629",-1)),t("p",Ea,n(x.value.tip),1)]),t("span",{class:h(["px-3 py-1 rounded-full text-sm font-semibold",x.value.isLocal?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100":"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-100"])},n(x.value.environmentLabel),3)]),t("div",Va,[t("div",null,[e[65]||(e[65]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0627\u0644\u0645\u0636\u064A\u0641 / \u0627\u0644\u0645\u0646\u0641\u0630",-1)),t("p",Ra,[R(n(x.value.host),1),x.value.port?(o(),r("span",Pa,":"+n(x.value.port),1)):v("",!0)]),t("p",Aa,n(x.value.protocol)+" \u2022 "+n(x.value.secure?"\u{1F512} \u0627\u062A\u0635\u0627\u0644 \u0622\u0645\u0646":"\u26A0\uFE0F \u0627\u062A\u0635\u0627\u0644 \u063A\u064A\u0631 \u0645\u0634\u0641\u0631"),1)]),t("div",null,[e[66]||(e[66]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0646\u0648\u0639 \u0627\u0644\u0634\u0628\u0643\u0629",-1)),t("p",Ha,n(x.value.networkType),1),t("p",Fa," Effective: "+n(x.value.effectiveType),1)]),t("div",null,[e[67]||(e[67]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0633\u0631\u0639\u0629 \u062A\u0642\u0631\u064A\u0628\u064A\u0629",-1)),t("p",Wa,n(x.value.downlink?x.value.downlink+" Mbps":"\u063A\u064A\u0631 \u0645\u062A\u0627\u062D"),1),t("p",Ga," RTT: "+n(x.value.rtt?x.value.rtt+" ms":"\u063A\u064A\u0631 \u0645\u062A\u0627\u062D"),1)]),t("div",null,[e[68]||(e[68]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0639\u0646\u0648\u0627\u0646 API / \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1)),t("p",{class:"font-semibold truncate",title:x.value.apiBaseUrl},n(x.value.apiBaseUrl),9,Ja),t("p",Ka," \u0622\u062E\u0631 \u062A\u062D\u062F\u064A\u062B: "+n(x.value.lastUpdated||"\u2014"),1)])]),t("div",Za,[t("span",Na,n(x.value.origin),1)])]),m.value.online?v("",!0):(o(),r("div",Xa,[...e[69]||(e[69]=[t("div",{class:"flex items-center"},[t("div",{class:"flex-shrink-0"},[t("span",{class:"text-3xl"},"\u26A0\uFE0F")]),t("div",{class:"mr-3"},[t("p",{class:"text-lg font-medium text-yellow-800 dark:text-yellow-200"}," \u0623\u0646\u062A \u062D\u0627\u0644\u064A\u0627\u064B \u0641\u064A \u0648\u0636\u0639 Offline "),t("p",{class:"text-sm text-yellow-700 dark:text-yellow-300"}," \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0627\u0644\u062A\u064A \u062A\u062C\u0631\u064A\u0647\u0627 \u0633\u064A\u062A\u0645 \u062D\u0641\u0638\u0647\u0627 \u0645\u062D\u0644\u064A\u0627\u064B \u0648\u0645\u0632\u0627\u0645\u0646\u062A\u0647\u0627 \u062A\u0644\u0642\u0627\u0626\u064A\u0627\u064B \u0639\u0646\u062F \u0639\u0648\u062F\u0629 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 ")])],-1)])])),t("div",Ya,[t("div",to,[t("div",eo,[t("h3",so," \u{1F4CB} \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 ("+n(L.value.length)+") ",1),t("button",{onClick:e[0]||(e[0]=(...s)=>a.loadTables&&a.loadTables(...s)),class:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700"}," \u{1F504} \u062A\u062D\u062F\u064A\u062B ")])]),t("div",ao,[t("table",oo,[e[71]||(e[71]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u062C\u062F\u0648\u0644"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u0633\u062C\u0644\u0627\u062A"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u0645\u0635\u062F\u0631"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A")])],-1)),t("tbody",ro,[(o(!0),r(M,null,B(L.value.slice(0,Bt.value?L.value.length:15),s=>(o(),r("tr",{key:s.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",no,n(s.name),1),t("td",lo,n(s.count.toLocaleString()),1),t("td",io,[t("span",{class:h(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.connection==="sync_sqlite"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"])},n(s.connection==="sync_sqlite"?"SQLite \u0645\u062D\u0644\u064A":"MySQL \u062E\u0627\u062F\u0645"),3)])]))),128)),L.value.length===0?(o(),r("tr",co,[...e[70]||(e[70]=[t("td",{colspan:"4",class:"px-6 py-4 text-center text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u062C\u062F\u0627\u0648\u0644 \u0645\u062A\u0627\u062D\u0629 ",-1)])])):v("",!0)])])]),L.value.length>15?(o(),r("div",uo,[t("button",{onClick:e[1]||(e[1]=s=>Bt.value=!Bt.value),class:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400"},n(Bt.value?"\u0625\u062E\u0641\u0627\u0621 \u0627\u0644\u062C\u062F\u0627\u0648\u0644":"\u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0627\u0644\u062C\u062F\u0627\u0648\u0644")+" ("+n(L.value.length)+") ",1)])):v("",!0)]),t("div",go,[t("div",yo,[t("div",xo,[t("button",{onClick:e[2]||(e[2]=s=>I.value="operations"),class:h(["px-6 py-3 text-sm font-medium border-b-2 transition-colors",I.value==="operations"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"])}," \u{1F4CB} \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A ",2),t("button",{onClick:e[3]||(e[3]=s=>I.value="carHistory"),class:h(["px-6 py-3 text-sm font-medium border-b-2 transition-colors",I.value==="carHistory"?"border-green-500 text-green-600 dark:text-green-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"])}," \u{1F697} \u0646\u0642\u0644 \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A ",2),t("button",{onClick:e[4]||(e[4]=s=>I.value="system"),class:h(["px-6 py-3 text-sm font-medium border-b-2 transition-colors",I.value==="system"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"])}," \u{1F527} \u0627\u0644\u0646\u0638\u0627\u0645 ",2),t("button",{onClick:e[5]||(e[5]=s=>I.value="migrations"),class:h(["px-6 py-3 text-sm font-medium border-b-2 transition-colors",I.value==="migrations"?"border-orange-500 text-orange-600 dark:text-orange-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"])}," \u{1F4E6} \u0627\u0644\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646\u0632 ",2)])]),I.value==="operations"?(o(),r("div",po,[t("div",vo,[t("h3",bo," \u{1F4CB} \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A ("+n(k.value.length)+") ",1),t("div",fo,[N(t("select",{"onUpdate:modelValue":e[6]||(e[6]=s=>q.value=s),class:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-gray-200"},[...e[72]||(e[72]=[t("option",{value:"all"},"\u0627\u0644\u0643\u0644",-1),t("option",{value:"pending"},"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631",-1),t("option",{value:"synced"},"\u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1),t("option",{value:"failed"},"\u0641\u0634\u0644\u062A",-1)])],512),[[pt,q.value]])])]),t("div",mo,[t("table",ko,[e[74]||(e[74]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," # "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0639\u0645\u0644\u064A\u0629 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u062A\u0627\u0631\u064A\u062E "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u062D\u0627\u0644\u0629 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A ")])],-1)),t("tbody",ho,[(o(!0),r(M,null,B(yt.value,(s,d)=>(o(),r("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",wo,n(d+1),1),t("td",_o,[t("div",$o,n(s.operation),1),t("div",Co,n(s.details||"\u0628\u062F\u0648\u0646 \u062A\u0641\u0627\u0635\u064A\u0644"),1)]),t("td",So,n(Ot(s.created_at)),1),t("td",Lo,[t("span",{class:h(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",{"bg-yellow-100 text-yellow-800":s.status==="pending","bg-green-100 text-green-800":s.status==="synced","bg-red-100 text-red-800":s.status==="failed"}])},n(Fe(s.status)),3)]),t("td",Mo,[s.status==="pending"&&m.value.online?(o(),r("button",{key:0,onClick:g=>Ft(s),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300"}," \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 ",8,To)):v("",!0),t("button",{onClick:g=>te(s),class:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300"}," \u062D\u0630\u0641 ",8,jo)])]))),128)),yt.value.length===0?(o(),r("tr",Bo,[...e[73]||(e[73]=[t("td",{colspan:"5",class:"px-6 py-4 text-center text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u0639\u0645\u0644\u064A\u0627\u062A ",-1)])])):v("",!0)])])])])):v("",!0),I.value==="carHistory"?(o(),r("div",Qo,[t("div",Do,[e[75]||(e[75]=t("div",null,[t("h3",{class:"text-xl font-semibold dark:text-gray-200 mb-2"}," \u{1F697} \u0646\u0642\u0644 \u0645\u0639\u0627\u0645\u0644\u0627\u062A \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0625\u0644\u0649 \u0646\u0638\u0627\u0645 \u0627\u0644\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062C\u062F\u064A\u062F "),t("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," \u0646\u0642\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 \u062C\u062F\u0648\u0644 transactions \u0625\u0644\u0649 \u062C\u062F\u0648\u0644 car_history \u0627\u0644\u062C\u062F\u064A\u062F ")],-1)),t("div",Io,[t("button",{onClick:He,disabled:ut.value,class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed"},[ut.value?(o(),r("span",Uo,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0646\u0642\u0644...")):(o(),r("span",zo,"\u25B6\uFE0F \u062A\u0634\u063A\u064A\u0644 \u0627\u0644\u0646\u0642\u0644"))],8,Oo),t("button",{onClick:Jt,class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"}," \u{1F4CA} \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A ")])]),t("div",qo,[t("div",Eo,[t("div",Vo,n(F.value.total_transactions||0),1),e[76]||(e[76]=t("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062A",-1))]),t("div",Ro,[t("div",Po,n(F.value.migrated||0),1),e[77]||(e[77]=t("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u062A\u0645 \u0627\u0644\u0646\u0642\u0644",-1))]),t("div",Ao,[t("div",Ho,n(F.value.remaining||0),1),e[78]||(e[78]=t("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0645\u062A\u0628\u0642\u064A",-1))]),t("div",Fo,[t("div",Wo,n(F.value.errors||0),1),e[79]||(e[79]=t("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0623\u062E\u0637\u0627\u0621",-1))])]),t("div",Go,[e[86]||(e[86]=t("h4",{class:"text-lg font-semibold mb-4 dark:text-gray-200"},"\u2699\uFE0F \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0646\u0642\u0644",-1)),t("div",Jo,[t("div",null,[e[81]||(e[81]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," \u062D\u062C\u0645 \u0627\u0644\u062F\u0641\u0639\u0629 ",-1)),N(t("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>E.value.batchSize=s),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-800 dark:text-gray-200"},[...e[80]||(e[80]=[t("option",{value:50},"50",-1),t("option",{value:100},"100",-1),t("option",{value:200},"200",-1),t("option",{value:500},"500",-1)])],512),[[pt,E.value.batchSize]])]),t("div",null,[e[83]||(e[83]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," \u062A\u0623\u062E\u064A\u0631 \u0628\u064A\u0646 \u0627\u0644\u062F\u0641\u0639\u0627\u062A (\u062B\u0627\u0646\u064A\u0629) ",-1)),N(t("select",{"onUpdate:modelValue":e[8]||(e[8]=s=>E.value.delay=s),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-800 dark:text-gray-200"},[...e[82]||(e[82]=[t("option",{value:0},"0",-1),t("option",{value:1},"1",-1),t("option",{value:2},"2",-1),t("option",{value:5},"5",-1)])],512),[[pt,E.value.delay]])]),t("div",null,[e[85]||(e[85]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," \u062D\u0630\u0641 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0642\u062F\u064A\u0645\u0629 ",-1)),t("div",Ko,[N(t("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=s=>E.value.deleteOldData=s),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[Kt,E.value.deleteOldData]]),e[84]||(e[84]=t("span",{class:"mr-2 text-sm text-gray-600 dark:text-gray-400"}," \u062D\u0630\u0641 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062A \u0627\u0644\u0645\u064F\u0646\u0642\u0644\u0629 \u0645\u0646 \u062C\u062F\u0648\u0644 transactions ",-1))])])])]),t("div",Zo,[e[87]||(e[87]=t("div",{class:"p-4 border-b border-gray-200 dark:border-gray-600"},[t("h4",{class:"text-lg font-semibold dark:text-gray-200"},"\u{1F4DD} \u0633\u062C\u0644 \u0627\u0644\u0646\u0642\u0644")],-1)),t("div",No,[at.value.length===0?(o(),r("div",Xo," \u0644\u0627 \u062A\u0648\u062C\u062F \u0633\u062C\u0644\u0627\u062A \u0646\u0642\u0644 \u0628\u0639\u062F ")):(o(),r("div",Yo,[(o(!0),r(M,null,B(at.value,(s,d)=>(o(),r("div",{key:d,class:"flex items-start space-x-3 text-sm"},[t("span",{class:h(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",{"bg-blue-100 text-blue-800":s.type==="info","bg-green-100 text-green-800":s.type==="success","bg-yellow-100 text-yellow-800":s.type==="warning","bg-red-100 text-red-800":s.type==="error"}])},n(ce(s.type)),3),t("div",tr,[t("p",er,n(s.message),1),t("p",sr,n(Ot(s.timestamp)),1)])]))),128))]))])])])):v("",!0),I.value==="migrations"?(o(),r("div",ar,[t("div",or,[e[88]||(e[88]=t("div",null,[t("h3",{class:"text-xl font-semibold dark:text-gray-200 mb-2"}," \u{1F4E6} \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646\u0632 "),t("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," \u062A\u0646\u0641\u064A\u0630 \u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646 \u0645\u062D\u062F\u062F \u0645\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A ")],-1)),t("div",rr,[t("button",{onClick:zt,disabled:ft.value,class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"},[ft.value?(o(),r("span",dr,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",lr,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,nr)])]),t("div",ir,[t("div",cr,[t("div",ur,n(Pt.value.total_pending||0),1),e[89]||(e[89]=t("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646\u0632 \u0642\u064A\u062F \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631",-1))]),t("div",gr,[t("div",yr,n(Pt.value.total_executed||0),1),e[90]||(e[90]=t("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646\u0632 \u0645\u0646\u0641\u0630\u0629",-1))])]),t("div",xr,[t("div",pr,[N(t("input",{type:"checkbox","onUpdate:modelValue":e[10]||(e[10]=s=>Rt.value=s),onChange:zt,id:"showExecuted",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,544),[[Kt,Rt.value]]),e[91]||(e[91]=t("label",{for:"showExecuted",class:"mr-2 text-sm text-gray-700 dark:text-gray-300"}," \u0639\u0631\u0636 \u0627\u0644\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646\u0632 \u0627\u0644\u0645\u0646\u0641\u0630\u0629 ",-1))])]),ft.value?(o(),r("div",vr,[...e[92]||(e[92]=[t("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto"},null,-1),t("p",{class:"mt-4 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646\u0632...",-1)])])):(o(),r("div",br,[t("div",fr,[t("table",mr,[e[94]||(e[94]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"\u0627\u0633\u0645 \u0627\u0644\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"\u0627\u0633\u0645 \u0627\u0644\u0645\u0644\u0641"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A")])],-1)),t("tbody",kr,[(o(!0),r(M,null,B(Vt.value,s=>(o(),r("tr",{key:s.file,class:h(["hover:bg-gray-50 dark:hover:bg-gray-700",{"opacity-60":s.executed}])},[t("td",hr,[t("div",wr,[R(n(s.name)+" ",1),s.executed?(o(),r("span",_r," \u2713 \u0645\u0646\u0641\u0630 ")):v("",!0)])]),t("td",$r,n(s.file),1),t("td",Cr,n(s.date),1),t("td",Sr,[s.executed?(o(),r("span",jr," \u062A\u0645 \u0627\u0644\u062A\u0646\u0641\u064A\u0630 ")):(o(),r("button",{key:0,onClick:d=>ge(s.name),disabled:jt.value===s.name,class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed"},[jt.value!==s.name?(o(),r("span",Mr,"\u25B6\uFE0F \u062A\u0646\u0641\u064A\u0630")):(o(),r("span",Tr,"\u23F3 \u062C\u0627\u0631\u064A..."))],8,Lr))])],2))),128)),Vt.value.length===0?(o(),r("tr",Br,[...e[93]||(e[93]=[t("td",{colspan:"4",class:"px-6 py-8 text-center text-gray-500 dark:text-gray-400"},[t("div",{class:"text-5xl mb-2"},"\u{1F4ED}"),t("p",{class:"text-lg"},"\u0644\u0627 \u062A\u0648\u062C\u062F \u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646\u0632")],-1)])])):v("",!0)])])])])),D.value?(o(),r("div",Qr,[t("div",Dr,[e[98]||(e[98]=t("div",{class:"flex-shrink-0"},[t("span",{class:"text-2xl"},"\u26A0\uFE0F")],-1)),t("div",Ir,[e[96]||(e[96]=t("h4",{class:"text-lg font-semibold text-yellow-800 dark:text-yellow-200 mb-2"}," \u062A\u062D\u0630\u064A\u0631: \u064A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u0641\u064A \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062A\u0623\u062B\u0631\u0629 ",-1)),e[97]||(e[97]=t("p",{class:"text-sm text-yellow-700 dark:text-yellow-300 mb-3"}," \u062A\u0646\u0641\u064A\u0630 \u0647\u0630\u0627 \u0627\u0644\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646 \u0642\u062F \u064A\u062D\u0630\u0641 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0629! ",-1)),D.value.tables?(o(),r("div",Or,[t("p",zr," \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062A\u0623\u062B\u0631\u0629 ("+n(D.value.total_records)+" \u0633\u062C\u0644): ",1),t("ul",Ur,[(o(!0),r(M,null,B(D.value.tables,s=>(o(),r("li",{key:s.name},n(s.name)+": "+n(s.count)+" \u0633\u062C\u0644 ",1))),128))])])):D.value.table?(o(),r("div",qr,[t("p",Er,[e[95]||(e[95]=R(" \u062C\u062F\u0648\u0644 ",-1)),t("strong",null,n(D.value.table),1),R(": "+n(D.value.record_count)+" \u0633\u062C\u0644 ",1)])])):v("",!0),t("div",Vr,[t("button",{onClick:e[11]||(e[11]=s=>Ye(D.value.migration)),class:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 text-sm font-medium"}," \u26A0\uFE0F \u062A\u0646\u0641\u064A\u0630 \u0631\u063A\u0645 \u0627\u0644\u062A\u062D\u0630\u064A\u0631 (\u062D\u0630\u0641 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A) "),t("button",{onClick:e[12]||(e[12]=s=>D.value=null),class:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 text-sm"}," \u0625\u0644\u063A\u0627\u0621 ")])])])])):v("",!0),ot.value?(o(),r("div",Rr,[e[99]||(e[99]=t("div",{class:"p-4 border-b border-gray-200 dark:border-gray-600"},[t("h4",{class:"text-lg font-semibold dark:text-gray-200"},"\u{1F4CB} \u0646\u062A\u064A\u062C\u0629 \u0627\u0644\u062A\u0646\u0641\u064A\u0630:")],-1)),t("div",Pr,[t("pre",Ar,n(ot.value),1),t("button",{onClick:e[13]||(e[13]=s=>ot.value=""),class:"mt-4 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 text-sm"}," \u0625\u063A\u0644\u0627\u0642 ")])])):v("",!0)])):v("",!0),I.value==="system"?(o(),r("div",Hr,[t("div",Fr,[t("div",Wr,[e[104]||(e[104]=t("h4",{class:"text-lg font-semibold mb-4 dark:text-gray-200"},"\u{1F5A5}\uFE0F \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0646\u0638\u0627\u0645",-1)),t("div",Gr,[t("div",Jr,[e[100]||(e[100]=t("span",{class:"text-gray-600 dark:text-gray-400"},"\u0625\u0635\u062F\u0627\u0631 PHP:",-1)),t("span",Kr,n(wt.value.php_version||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)]),t("div",Zr,[e[101]||(e[101]=t("span",{class:"text-gray-600 dark:text-gray-400"},"\u0625\u0635\u062F\u0627\u0631 Laravel:",-1)),t("span",Nr,n(wt.value.laravel_version||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)]),t("div",Xr,[e[102]||(e[102]=t("span",{class:"text-gray-600 dark:text-gray-400"},"\u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A:",-1)),t("span",Yr,n(wt.value.database||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)]),t("div",tn,[e[103]||(e[103]=t("span",{class:"text-gray-600 dark:text-gray-400"},"\u0645\u0633\u0627\u062D\u0629 \u0627\u0644\u062A\u062E\u0632\u064A\u0646:",-1)),t("span",en,n(wt.value.storage_used||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)])])]),t("div",sn,[e[105]||(e[105]=t("h4",{class:"text-lg font-semibold mb-4 dark:text-gray-200"},"\u{1F527} \u0623\u062F\u0648\u0627\u062A \u0627\u0644\u0646\u0638\u0627\u0645",-1)),t("div",an,[t("button",{onClick:ae,disabled:Yt.value,class:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50"},[Yt.value?(o(),r("span",nn,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0633\u062D...")):(o(),r("span",rn,"\u{1F9F9} \u0645\u0633\u062D \u0627\u0644\u0640 Cache"))],8,on),t("button",{onClick:We,disabled:mt.value,class:"w-full px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50"},[mt.value?(o(),r("span",cn,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0633\u064A\u0646...")):(o(),r("span",dn,"\u26A1 \u062A\u062D\u0633\u064A\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"))],8,ln),t("button",{onClick:Ge,disabled:kt.value,class:"w-full px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:opacity-50"},[kt.value?(o(),r("span",yn,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0646\u0633\u062E...")):(o(),r("span",gn,"\u{1F4BE} \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629"))],8,un),t("button",{onClick:Je,disabled:ht.value,class:"w-full px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50"},[ht.value?(o(),r("span",vn,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0641\u062D\u0635...")):(o(),r("span",pn,"\u{1F3E5} \u0641\u062D\u0635 \u0635\u062D\u0629 \u0627\u0644\u0646\u0638\u0627\u0645"))],8,xn)])])]),t("div",bn,[e[106]||(e[106]=t("div",{class:"p-4 border-b border-gray-200 dark:border-gray-600"},[t("h4",{class:"text-lg font-semibold dark:text-gray-200"},"\u{1F4CB} \u0633\u062C\u0644 \u0639\u0645\u0644\u064A\u0627\u062A \u0627\u0644\u0646\u0638\u0627\u0645")],-1)),t("div",fn,[gt.value.length===0?(o(),r("div",mn," \u0644\u0627 \u062A\u0648\u062C\u062F \u0639\u0645\u0644\u064A\u0627\u062A \u0646\u0638\u0627\u0645 \u0628\u0639\u062F ")):(o(),r("div",kn,[(o(!0),r(M,null,B(gt.value,(s,d)=>(o(),r("div",{key:d,class:"flex items-start space-x-3 text-sm"},[t("span",{class:h(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",{"bg-blue-100 text-blue-800":s.type==="info","bg-green-100 text-green-800":s.type==="success","bg-yellow-100 text-yellow-800":s.type==="warning","bg-red-100 text-red-800":s.type==="error"}])},n(ce(s.type)),3),t("div",hn,[t("p",wn,n(s.message),1),t("p",_n,n(Ot(s.timestamp)),1)])]))),128))]))])])])):v("",!0)]),t("div",$n,[t("div",Cn,[t("div",Sn,[t("h3",Ln," \u{1F4CB} \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A ("+n(k.value.length)+") ",1),t("div",Mn,[N(t("select",{"onUpdate:modelValue":e[14]||(e[14]=s=>q.value=s),class:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-gray-200"},[...e[107]||(e[107]=[t("option",{value:"all"},"\u0627\u0644\u0643\u0644",-1),t("option",{value:"pending"},"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631",-1),t("option",{value:"synced"},"\u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1),t("option",{value:"failed"},"\u0641\u0634\u0644\u062A",-1)])],512),[[pt,q.value]])])])]),t("div",Tn,[t("table",jn,[e[116]||(e[116]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," # "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0646\u0648\u0639 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0639\u0645\u0644\u064A\u0629 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0627\u062A "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0648\u0642\u062A "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u062D\u0627\u0644\u0629 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A ")])],-1)),t("tbody",Bn,[yt.value.length===0?(o(),r("tr",Qn,[t("td",Dn,[e[108]||(e[108]=t("div",{class:"text-5xl mb-2"},"\u{1F4ED}",-1)),t("p",In,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0639\u0645\u0644\u064A\u0627\u062A "+n(me.value),1)])])):v("",!0),(o(!0),r(M,null,B(yt.value,(s,d)=>(o(),r("tr",{key:s.id,class:h(["hover:bg-gray-50 dark:hover:bg-gray-700",{"bg-yellow-50 dark:bg-yellow-900":!s.synced&&s.retries<3,"bg-red-50 dark:bg-red-900":s.retries>=3,"bg-green-50 dark:bg-green-900":s.synced}])},[t("td",On,n(d+1),1),t("td",zn,[t("span",{class:h(["px-2 py-1 text-xs font-semibold rounded-full",Ce(s.storeName)])},n(Wt(s.storeName)),3)]),t("td",Un,[t("span",{class:h(["px-2 py-1 text-xs font-semibold rounded-full",Se(s.action)])},n(se(s.action)),3)]),t("td",qn,[t("button",{onClick:g=>we(s),class:"text-blue-600 hover:text-blue-800 dark:text-blue-400 text-sm underline"}," \u0639\u0631\u0636 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644 ",8,En)]),t("td",Vn,[t("div",Rn,[t("span",null,n(s.retries||0),1),e[109]||(e[109]=t("span",{class:"text-xs text-gray-500"},"/ 3",-1)),s.retries>=3?(o(),r("div",Pn,"\u26A0\uFE0F")):v("",!0)])]),t("td",An,n(Le(s.timestamp)),1),t("td",Hn,[s.synced?(o(),r("span",Fn,[...e[110]||(e[110]=[t("svg",{class:"w-5 h-5 ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),R(" \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 ",-1)])])):s.retries>=3?(o(),r("span",Wn,[...e[111]||(e[111]=[t("svg",{class:"w-5 h-5 ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1),R(" \u0641\u0634\u0644\u062A ",-1)])])):(o(),r("span",Gn,[...e[112]||(e[112]=[t("svg",{class:"w-5 h-5 ml-1 animate-spin",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),R(" \u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631 ",-1)])]))]),t("td",Jn,[t("div",Kn,[!s.synced&&m.value.online?(o(),r("button",{key:0,onClick:g=>Ft(s),class:"text-green-600 hover:text-green-900 dark:text-green-400",disabled:dt.value.has(s.id),title:"\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629"},[(o(),r("svg",{class:h(["w-5 h-5",{"animate-spin":dt.value.has(s.id)}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[113]||(e[113]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])],2))],8,Zn)):v("",!0),t("button",{onClick:g=>te(s),class:"text-red-600 hover:text-red-900 dark:text-red-400",title:"\u062D\u0630\u0641"},[...e[114]||(e[114]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Nn),s.error?(o(),r("button",{key:1,onClick:g=>_e(s),class:"text-orange-600 hover:text-orange-900 dark:text-orange-400",title:"\u0639\u0631\u0636 \u0627\u0644\u062E\u0637\u0623"},[...e[115]||(e[115]=[t("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)])],8,Xn)):v("",!0)])])],2))),128))])])]),k.value.length>tt.value?(o(),r("div",Yn,[t("div",tl," \u0639\u0631\u0636 "+n((A.value-1)*tt.value+1)+" \u0625\u0644\u0649 "+n(Math.min(A.value*tt.value,yt.value.length))+" \u0645\u0646 "+n(yt.value.length),1),t("div",el,[t("button",{onClick:e[15]||(e[15]=s=>A.value--),disabled:A.value===1,class:"px-3 py-1 border rounded disabled:opacity-50 dark:text-gray-200 dark:border-gray-600"}," \u0627\u0644\u0633\u0627\u0628\u0642 ",8,sl),t("button",{onClick:e[16]||(e[16]=s=>A.value++),disabled:A.value>=ke.value,class:"px-3 py-1 border rounded disabled:opacity-50 dark:text-gray-200 dark:border-gray-600"}," \u0627\u0644\u062A\u0627\u0644\u064A ",8,al)])])):v("",!0)]),t("div",ol,[e[120]||(e[120]=t("h3",{class:"text-lg font-semibold mb-4 dark:text-gray-200"},"\u{1F4BE} \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u062A\u062E\u0632\u064A\u0646 \u0627\u0644\u0645\u062D\u0644\u064A",-1)),t("div",rl,[t("div",nl,[e[117]||(e[117]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",-1)),t("p",ll,n(U.value.cars),1)]),t("div",dl,[e[118]||(e[118]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0627\u0644\u0639\u0642\u0648\u062F \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",-1)),t("p",il,n(U.value.contracts),1)]),t("div",cl,[e[119]||(e[119]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062A \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",-1)),t("p",ul,n(U.value.transactions),1)])])]),t("div",gl,[t("div",yl,[t("div",xl,[t("h3",pl," \u{1F4CA} \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 ("+n(L.value.length)+") ",1),t("div",vl,[N(t("select",{"onUpdate:modelValue":e[17]||(e[17]=s=>ct.value=s),onChange:V,class:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-gray-200 text-sm"},[...e[121]||(e[121]=[t("option",{value:"auto"},"\u{1F504} \u062A\u0644\u0642\u0627\u0626\u064A (\u062D\u0633\u0628 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0627\u0644\u062D\u0627\u0644\u064A)",-1),t("option",{value:"mysql"},"\u2601\uFE0F MySQL \u0633\u064A\u0631\u0641\u0631",-1),t("option",{value:"sync_sqlite"},"\u{1F5A5}\uFE0F SQLite \u0645\u062D\u0644\u064A",-1)])],544),[[pt,ct.value]]),t("span",{class:h(["px-3 py-1 rounded-full text-sm font-semibold",qt.value==="sync_sqlite"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100":"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-100"])},n(qt.value==="sync_sqlite"?"\u{1F5A5}\uFE0F SQLite \u0645\u062D\u0644\u064A":"\u2601\uFE0F MySQL \u0633\u064A\u0631\u0641\u0631"),3),t("button",{onClick:V,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",disabled:et.value},[et.value?(o(),r("span",ml,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",fl,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,bl),t("button",{onClick:Pe,class:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 text-sm",disabled:H.value},[H.value?(o(),r("span",wl,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...")):(o(),r("span",hl,"\u{1F504} \u0645\u0632\u0627\u0645\u0646\u0629 \u062B\u0646\u0627\u0626\u064A\u0629 \u0627\u0644\u0627\u062A\u062C\u0627\u0647"))],8,kl),t("button",{onClick:e[18]||(e[18]=s=>Gt("up")),class:"px-3 py-2 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 ml-2",disabled:_.value,title:"\u0646\u0642\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629 \u0645\u0646 SQLite \u0627\u0644\u0645\u062D\u0644\u064A \u0625\u0644\u0649 MySQL \u0627\u0644\u0633\u064A\u0631\u0641\u0631"},[_.value?(o(),r("span",Cl,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",$l,"\u{1F4E4} \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629 \u2191"))],8,_l),t("button",{onClick:e[19]||(e[19]=s=>Gt("down")),class:"px-3 py-2 bg-purple-500 text-white text-sm rounded hover:bg-purple-600 ml-2",disabled:_.value,title:"\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629 \u0645\u0646 MySQL \u0627\u0644\u0633\u064A\u0631\u0641\u0631 \u0625\u0644\u0649 SQLite \u0627\u0644\u0645\u062D\u0644\u064A"},[_.value?(o(),r("span",Ml,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",Ll,"\u{1F4E5} \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629 \u2193"))],8,Sl),t("button",{onClick:e[20]||(e[20]=s=>le("up")),class:"px-3 py-2 bg-green-600 text-white text-sm rounded hover:bg-green-700 ml-2",disabled:_.value,title:"\u0646\u0642\u0644 \u062C\u0645\u064A\u0639 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0645\u0646 SQLite \u0627\u0644\u0645\u062D\u0644\u064A \u0625\u0644\u0649 MySQL \u0627\u0644\u0633\u064A\u0631\u0641\u0631"},[_.value?(o(),r("span",Bl,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",jl,"\u{1F504} \u0627\u0644\u0643\u0644 \u2191"))],8,Tl),t("button",{onClick:e[21]||(e[21]=s=>le("down")),class:"px-3 py-2 bg-purple-600 text-white text-sm rounded hover:bg-purple-700 ml-2",disabled:_.value,title:"\u062A\u062D\u062F\u064A\u062B \u062C\u0645\u064A\u0639 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0645\u0646 MySQL \u0627\u0644\u0633\u064A\u0631\u0641\u0631 \u0625\u0644\u0649 SQLite \u0627\u0644\u0645\u062D\u0644\u064A"},[_.value?(o(),r("span",Il,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",Dl,"\u{1F504} \u0627\u0644\u0643\u0644 \u2193"))],8,Ql),t("button",{onClick:Re,class:"px-3 py-2 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700 ml-2",disabled:_.value,title:"\u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u062C\u062F\u0627\u0648\u0644 \u0645\u062D\u062F\u062F\u0629 (\u0633\u064A\u0627\u0631\u0627\u062A + \u0635\u0648\u0631 + \u062F\u0641\u0639\u0627\u062A + \u0645\u062D\u0627\u0641\u0638 + \u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646)"},[_.value?(o(),r("span",Ul,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",zl,"\u{1F697} \u0645\u062E\u062A\u0627\u0631\u0629 \u2191"))],8,Ol),t("button",{onClick:e[22]||(e[22]=(...s)=>a.syncCheckedTables&&a.syncCheckedTables(...s)),class:"px-3 py-2 bg-teal-600 text-white text-sm rounded hover:bg-teal-700 ml-2",disabled:_.value||Ut.value.length===0,title:"\u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 \u0645\u0646 \u0627\u0644\u0642\u0627\u0626\u0645\u0629 \u0623\u062F\u0646\u0627\u0647"},[_.value?(o(),r("span",Vl,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",El,"\u2705 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 \u2191"))],8,ql),t("button",{onClick:e[23]||(e[23]=(...s)=>a.syncVisibleTables&&a.syncVisibleTables(...s)),class:"px-3 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 ml-2",disabled:_.value,title:"\u0645\u0632\u0627\u0645\u0646\u0629 \u062C\u0645\u064A\u0639 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0639\u0631\u0648\u0636\u0629 \u062D\u0627\u0644\u064A\u0627\u064B (38 \u062C\u062F\u0648\u0644)"},[_.value?(o(),r("span",Al,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",Pl,"\u{1F4CB} \u0627\u0644\u0645\u0639\u0631\u0648\u0636\u0629 \u2191"))],8,Rl)])])]),et.value?(o(),r("div",Hl,[...e[122]||(e[122]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),t("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062C\u062F\u0627\u0648\u0644...",-1)])])):L.value.length===0?(o(),r("div",Fl,[...e[123]||(e[123]=[t("div",{class:"text-5xl mb-2"},"\u{1F4ED}",-1),t("p",{class:"text-gray-600 dark:text-gray-400"},"\u0644\u0627 \u062A\u0648\u062C\u062F \u062C\u062F\u0627\u0648\u0644 \u0645\u062A\u0627\u062D\u0629",-1)])])):(o(),r("div",Wl,[t("table",Gl,[e[124]||(e[124]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0633\u0645 \u0627\u0644\u062C\u062F\u0648\u0644 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0639\u062F\u062F \u0627\u0644\u0633\u062C\u0644\u0627\u062A "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0627\u062A\u0635\u0627\u0644 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A ")])],-1)),t("tbody",Jl,[(o(!0),r(M,null,B(L.value,s=>(o(),r("tr",{key:s.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",Kl,[t("span",Zl,n(s.name),1)]),t("td",Nl,[t("span",Xl,n(s.count.toLocaleString()),1)]),t("td",Yl,[t("span",{class:h(["px-2 py-1 text-xs font-semibold rounded-full",s.connection==="sync_sqlite"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200"])},n(s.connection==="sync_sqlite"?"SQLite":"MySQL"),3)]),t("td",td,[t("div",ed,[t("button",{onClick:d=>Be(s.name,s.connection),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400"}," \u0639\u0631\u0636 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644 ",8,sd),s.connection==="sync_sqlite"?(o(),r("div",ad,[t("button",{onClick:d=>qe(s.name),class:h(["text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",{"bg-gray-100 dark:bg-gray-700":K.value===s.name}])}," \u22EE ",10,od),K.value===s.name?(o(),r("div",{key:0,class:"absolute right-0 mt-1 w-36 bg-white dark:bg-gray-800 rounded-md shadow-lg z-10 border border-gray-200 dark:border-gray-700",onClick:e[24]||(e[24]=Xt(()=>{},["stop"]))},[t("button",{onClick:d=>{Ee(s.name),K.value=null},class:"block w-full text-left px-3 py-2 text-sm text-green-600 hover:bg-green-50 dark:text-green-400 dark:hover:bg-green-900",disabled:Dt.value===s.name},[Dt.value===s.name?(o(),r("span",nd,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",ld,"\u{1F4E4} \u0645\u0632\u0627\u0645\u0646\u0629"))],8,rd),t("button",{onClick:d=>{Ue(s.name),K.value=null},class:"block w-full text-left px-3 py-2 text-sm text-orange-600 hover:bg-orange-50 dark:text-orange-400 dark:hover:bg-orange-900",disabled:Qt.value===s.name},[Qt.value===s.name?(o(),r("span",id,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",cd,"\u{1F5D1}\uFE0F \u062A\u0641\u0631\u064A\u063A"))],8,dd),t("button",{onClick:d=>{Ve(s.name),K.value=null},class:"block w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900",disabled:It.value===s.name},[It.value===s.name?(o(),r("span",gd,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",yd,"\u274C \u062D\u0630\u0641"))],8,ud)])):v("",!0)])):v("",!0),K.value===s.name?(o(),r("div",{key:1,onClick:e[25]||(e[25]=d=>K.value=null),class:"fixed inset-0 z-5"})):v("",!0)])])]))),128))])])]))]),t("div",xd,[t("div",pd,[t("div",vd,[e[125]||(e[125]=t("h3",{class:"text-lg font-semibold dark:text-gray-200"}," \u{1F4CA} \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0630\u0643\u064A\u0629 (sync_metadata) ",-1)),t("button",{onClick:xt,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",disabled:Ct.value},[Ct.value?(o(),r("span",md,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",fd,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,bd)]),e[126]||(e[126]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-2"}," \u064A\u0639\u0631\u0636 \u0622\u062E\u0631 ID \u0648 updated_at \u0627\u0644\u0645\u0632\u0627\u0645\u0646 \u0644\u0643\u0644 \u062C\u062F\u0648\u0644 \u0648\u0627\u062A\u062C\u0627\u0647 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 ",-1))]),Ct.value?(o(),r("div",kd,[...e[127]||(e[127]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),t("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...",-1)])])):O.value.error?(o(),r("div",hd,[t("p",wd,n(O.value.error),1)])):O.value.data.length===0?(o(),r("div",_d,[...e[128]||(e[128]=[t("div",{class:"text-5xl mb-2"},"\u{1F4CB}",-1),t("p",{class:"text-gray-600 dark:text-gray-400"},"\u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0632\u0627\u0645\u0646\u0629",-1),t("p",{class:"text-xs mt-2 text-gray-500"},"\u0642\u0645 \u0628\u062A\u0634\u063A\u064A\u0644 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0623\u0648\u0644\u0627\u064B \u0644\u0628\u062F\u0621 \u062A\u062A\u0628\u0639 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",-1)])])):(o(),r("div",$d,[O.value.stats?(o(),r("div",Cd,[t("div",Sd,[t("div",null,[t("p",Ld,n(O.value.stats.total_tables),1),e[129]||(e[129]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0639\u062F\u062F \u0627\u0644\u062C\u062F\u0627\u0648\u0644",-1))]),t("div",null,[t("p",Md,n(O.value.stats.total_records),1),e[130]||(e[130]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0639\u062F\u062F \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1))]),t("div",null,[t("p",Td,n(((l=O.value.stats.total_synced_records)==null?void 0:l.toLocaleString())||0),1),e[131]||(e[131]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1))])])])):v("",!0),t("div",jd,[t("table",Bd,[e[132]||(e[132]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0633\u0645 \u0627\u0644\u062C\u062F\u0648\u0644"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u0627\u062A\u062C\u0627\u0647"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0622\u062E\u0631 ID \u0645\u0632\u0627\u0645\u0646"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0622\u062E\u0631 updated_at"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0622\u062E\u0631 \u0645\u0632\u0627\u0645\u0646\u0629"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0622\u062E\u0631 \u062A\u062D\u062F\u064A\u062B")])],-1)),t("tbody",Qd,[(o(!0),r(M,null,B(O.value.data,s=>{var d,g;return o(),r("tr",{key:`${s.table_name}-${s.direction}`,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",Dd,n(s.table_name),1),t("td",Id,[t("span",{class:h(["px-2 py-1 text-xs font-semibold rounded-full",s.direction==="down"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"])},n(s.direction_label),3)]),t("td",Od,n(((d=s.last_synced_id)==null?void 0:d.toLocaleString())||0),1),t("td",zd,n(s.last_updated_at||"-"),1),t("td",Ud,n(s.last_synced_at||"-"),1),t("td",qd,n(((g=s.total_synced)==null?void 0:g.toLocaleString())||0),1),t("td",Ed,n(s.updated_at||"-"),1)])}),128))])])])]))]),t("div",Vd,[t("div",Rd,[t("div",Pd,[e[133]||(e[133]=t("h3",{class:"text-lg font-semibold dark:text-gray-200"}," \u{1F4BE} \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 ",-1)),t("div",Ad,[t("button",{onClick:e[26]||(e[26]=s=>Y.value=!0),class:"px-4 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700 text-sm",title:"\u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u062C\u062F\u0627\u0648\u0644 \u0645\u062D\u062F\u062F\u0629 \u0645\u0646 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629"}," \u{1F4E6} \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0645\u062D\u062F\u062F\u0629 "),t("button",{onClick:St,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",disabled:bt.value},[bt.value?(o(),r("span",Wd,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",Fd,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,Hd)])])]),bt.value?(o(),r("div",Gd,[...e[134]||(e[134]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),t("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629...",-1)])])):Tt.value.length===0?(o(),r("div",Jd,[...e[135]||(e[135]=[t("div",{class:"text-5xl mb-2"},"\u{1F4E6}",-1),t("p",{class:"text-gray-600 dark:text-gray-400"},"\u0644\u0627 \u062A\u0648\u062C\u062F \u0646\u0633\u062E \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629",-1)])])):(o(),r("div",Kd,[t("table",Zd,[e[136]||(e[136]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0633\u0645 \u0627\u0644\u0645\u0644\u0641"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u062D\u062C\u0645"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A")])],-1)),t("tbody",Nd,[(o(!0),r(M,null,B(Tt.value,s=>(o(),r("tr",{key:s.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",Xd,n(s.name),1),t("td",Yd,n(ze(s.size)),1),t("td",ti,n(Ot(s.date)),1),t("td",ei,[t("button",{onClick:d=>De(s.name),class:"text-red-600 hover:text-red-900 dark:text-red-400 mr-3",disabled:Et.value}," \u{1F504} \u0627\u0633\u062A\u0639\u0627\u062F\u0629 ",8,si),t("button",{onClick:d=>Ie(s.name),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 mr-3"}," \u{1F4E5} \u062A\u062D\u0645\u064A\u0644 ",8,ai),t("button",{onClick:d=>Oe(s.name),class:"text-red-600 hover:text-red-900 dark:text-red-400",title:"\u062D\u0630\u0641 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629"}," \u{1F5D1}\uFE0F \u062D\u0630\u0641 ",8,oi)])]))),128))])])]))]),t("div",{class:"mt-6 bg-gray-50 dark:bg-gray-900 shadow-sm rounded-lg p-6"},[e[137]||(e[137]=t("h3",{class:"text-lg font-semibold mb-4 dark:text-gray-200"},"\u{1F6E0}\uFE0F \u0623\u062F\u0648\u0627\u062A \u0627\u0644\u0645\u0637\u0648\u0631",-1)),t("div",{class:"grid grid-cols-2 md:grid-cols-4 gap-3"},[t("button",{onClick:Me,class:"px-4 py-2 bg-indigo-500 text-white rounded hover:bg-indigo-600"}," \u{1F9EA} \u0627\u062E\u062A\u0628\u0627\u0631 Offline "),t("button",{onClick:ae,class:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600"}," \u{1F5D1}\uFE0F \u0645\u0633\u062D Cache "),t("button",{onClick:Te,class:"px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600"}," \u{1F4E5} \u062A\u0635\u062F\u064A\u0631 Logs "),t("button",{onClick:je,class:"px-4 py-2 bg-teal-500 text-white rounded hover:bg-teal-600"}," \u{1F4CA} \u0645\u0639\u0644\u0648\u0645\u0627\u062A DB ")])])])]),st(Zt,{show:p.value.show,onClose:e[28]||(e[28]=s=>p.value.show=!1)},{default:nt(()=>[t("div",ri,[e[138]||(e[138]=t("h3",{class:"text-lg font-semibold mb-4 dark:text-gray-200"},"\u{1F4C4} \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",-1)),t("pre",ni,n(JSON.stringify(p.value.data,null,2)),1),t("div",li,[t("button",{onClick:e[27]||(e[27]=s=>p.value.show=!1),class:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600"}," \u0625\u063A\u0644\u0627\u0642 ")])])]),_:1},8,["show"]),st(Zt,{show:T.value.show,onClose:e[31]||(e[31]=s=>T.value.show=!1)},{default:nt(()=>[t("div",di,[e[139]||(e[139]=t("h3",{class:"text-lg font-semibold mb-4 text-red-600 dark:text-red-400"},"\u274C \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062E\u0637\u0623",-1)),t("div",ii,[t("p",ci,n(T.value.title),1),t("p",ui,n(T.value.message),1)]),t("pre",gi,n(T.value.stack),1),t("div",yi,[t("button",{onClick:e[29]||(e[29]=s=>$e(T.value.item)),class:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600"}," \u{1F504} \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 "),t("button",{onClick:e[30]||(e[30]=s=>T.value.show=!1),class:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600"}," \u0625\u063A\u0644\u0627\u0642 ")])])]),_:1},8,["show"]),st(Zt,{show:y.value.show,onClose:e[35]||(e[35]=s=>y.value.show=!1)},{default:nt(()=>{var s;return[t("div",xi,[t("h3",pi," \u{1F4CB} \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062C\u062F\u0648\u0644: "+n(y.value.tableName),1),At.value?(o(),r("div",vi,[...e[140]||(e[140]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),t("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...",-1)])])):y.value.error?(o(),r("div",bi,[t("p",fi,n(y.value.error),1)])):(o(),r("div",mi,[t("div",ki,[t("div",hi,[e[141]||(e[141]=R(" \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0633\u062C\u0644\u0627\u062A: ",-1)),t("span",wi,n(((s=y.value.total)==null?void 0:s.toLocaleString())||0),1)]),t("div",_i,[e[142]||(e[142]=R(" \u0627\u0644\u0627\u062A\u0635\u0627\u0644: ",-1)),t("span",$i,n(y.value.connection||"-"),1)])]),y.value.columns.length===0&&y.value.data.length>0?(o(),r("div",Ci," \u26A0\uFE0F \u0627\u0644\u0623\u0639\u0645\u062F\u0629 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629\u060C \u064A\u062A\u0645 \u0627\u0633\u062A\u062E\u0631\u0627\u062C\u0647\u0627 \u0645\u0646 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A... ")):v("",!0),y.value.columns.length>0?(o(),r("div",Si,[t("table",Li,[t("thead",Mi,[t("tr",null,[(o(!0),r(M,null,B(y.value.columns,d=>(o(),r("th",{key:d,class:"px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase border-r border-gray-200 dark:border-gray-600"},n(d),1))),128))])]),t("tbody",Ti,[y.value.data.length===0?(o(),r("tr",ji,[t("td",{colspan:y.value.columns.length||1,class:"px-4 py-8 text-center text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A ",8,Bi)])):v("",!0),(o(!0),r(M,null,B(y.value.data,(d,g)=>(o(),r("tr",{key:g,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[(o(!0),r(M,null,B(y.value.columns,c=>(o(),r("td",{key:`${g}-${c}`,class:"px-4 py-2 text-xs dark:text-gray-300 border-r border-gray-100 dark:border-gray-700 whitespace-nowrap"},n(Qe(d[c])),1))),128))]))),128))])])])):(o(),r("div",Qi,[e[143]||(e[143]=t("div",{class:"text-5xl mb-2"},"\u{1F4CB}",-1)),e[144]||(e[144]=t("p",null,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0623\u0639\u0645\u062F\u0629 \u0645\u062A\u0627\u062D\u0629 \u0644\u0644\u0639\u0631\u0636",-1)),t("p",Di,"\u0639\u062F\u062F \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A: "+n(y.value.data.length),1)])),y.value.total>y.value.limit?(o(),r("div",Ii,[t("div",Oi," \u0639\u0631\u0636 "+n(y.value.offset+1)+" \u0625\u0644\u0649 "+n(Math.min(y.value.offset+y.value.limit,y.value.total))+" \u0645\u0646 "+n(y.value.total),1),t("div",zi,[t("button",{onClick:e[32]||(e[32]=d=>ne(y.value.tableName,y.value.offset-y.value.limit,y.value.tableConnection)),disabled:y.value.offset===0,class:"px-3 py-1 border rounded disabled:opacity-50 dark:text-gray-200 dark:border-gray-600"}," \u0627\u0644\u0633\u0627\u0628\u0642 ",8,Ui),t("button",{onClick:e[33]||(e[33]=d=>ne(y.value.tableName,y.value.offset+y.value.limit,y.value.tableConnection)),disabled:y.value.offset+y.value.limit>=y.value.total,class:"px-3 py-1 border rounded disabled:opacity-50 dark:text-gray-200 dark:border-gray-600"}," \u0627\u0644\u062A\u0627\u0644\u064A ",8,qi)])])):v("",!0)])),t("div",Ei,[t("button",{onClick:e[34]||(e[34]=d=>y.value.show=!1),class:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600"}," \u0625\u063A\u0644\u0627\u0642 ")])])]}),_:1},8,["show"]),st(Qs),Y.value?(o(),r("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e[42]||(e[42]=s=>Y.value=!1)},[t("div",{class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[80vh] overflow-hidden",onClick:e[41]||(e[41]=Xt(()=>{},["stop"]))},[t("div",Vi,[t("div",Ri,[e[146]||(e[146]=t("h3",{class:"text-lg font-semibold dark:text-gray-200"},"\u{1F4E6} \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u062C\u062F\u0627\u0648\u0644 \u0645\u062D\u062F\u062F\u0629 \u0645\u0646 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629",-1)),t("button",{onClick:e[36]||(e[36]=s=>Y.value=!1),class:"text-gray-400 hover:text-gray-600"},[...e[145]||(e[145]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),t("div",Pi,[t("div",Ai,[e[148]||(e[148]=t("label",{class:"block text-sm font-medium mb-2 dark:text-gray-200"},"\u0627\u062E\u062A\u0631 \u0645\u0644\u0641 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629:",-1)),N(t("select",{"onUpdate:modelValue":e[37]||(e[37]=s=>P.value=s),onChange:e[38]||(e[38]=s=>Ze(P.value)),class:"w-full p-2 border border-gray-300 rounded dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"},[e[147]||(e[147]=t("option",{value:"null"},"\u0627\u062E\u062A\u0631 \u0645\u0644\u0641...",-1)),(o(!0),r(M,null,B(Tt.value,s=>(o(),r("option",{key:s.name,value:s.name},n(s.name)+" ("+n(s.date)+") ",9,Hi))),128))],544),[[pt,P.value]])]),vt.value.length>0?(o(),r("div",Fi,[e[149]||(e[149]=t("h4",{class:"text-md font-medium mb-3 dark:text-gray-200"},"\u0627\u062E\u062A\u0631 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0631\u0627\u062F \u0627\u0633\u062A\u0639\u0627\u062F\u062A\u0647\u0627:",-1)),t("div",Wi,[(o(!0),r(M,null,B(vt.value,s=>(o(),r("label",{key:s,class:"flex items-center space-x-2 p-2 border rounded hover:bg-gray-50 dark:hover:bg-gray-700 dark:border-gray-600"},[N(t("input",{type:"checkbox",value:s,"onUpdate:modelValue":e[39]||(e[39]=d=>S.value=d),class:"rounded border-gray-300 dark:border-gray-600 dark:bg-gray-700"},null,8,Gi),[[Kt,S.value]]),t("span",Ji,n(s),1)]))),128))])])):v("",!0),S.value.length>0?(o(),r("div",Ki,[e[150]||(e[150]=t("h5",{class:"font-medium text-blue-900 dark:text-blue-100 mb-2"},"\u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 \u0644\u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629:",-1)),t("p",Zi,n(S.value.join(", ")),1),t("p",Ni,"\u0639\u062F\u062F \u0627\u0644\u062C\u062F\u0627\u0648\u0644: "+n(S.value.length),1)])):v("",!0)]),t("div",Xi,[t("button",{onClick:e[40]||(e[40]=s=>Y.value=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200"}," \u0625\u0644\u063A\u0627\u0621 "),t("button",{onClick:Ne,disabled:S.value.length===0,class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed"}," \u{1F504} \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u062F\u062F ",8,Yi)])])])):v("",!0)]}),_:1})],64))}},l0=ve(t0,[["__scopeId","data-v-dbc824ca"]]);export{l0 as default};
