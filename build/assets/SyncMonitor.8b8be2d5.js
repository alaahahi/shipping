import{r as g,q as E,m as Qt,p as Jt,o,a as r,b as t,i as v,t as n,n as w,g as Z,w as at,l as Le,j as Zt,L as Me,f as J,T as Te,y as je,x as De,F as L,H as Be,h as O,e as it,A as ht,O as Ie,W as Qe}from"./app.44064755.js";import{G as Oe}from"./GuestLayout.380604eb.js";import{M as It}from"./Modal.e980f193.js";import{_ as Xt}from"./_plugin-vue_export-helper.cdc0426e.js";import{a as S}from"./index.9f123431.js";/* empty css                                              */const ze=["title"],Ue={class:"status-icon"},qe={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},Ee={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},Ve={key:2,class:"animate-spin",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},Ae={key:0,class:"pending-badge"},Ne={class:"sync-details-header"},Pe={class:"sync-details-body"},Re={class:"detail-item"},He={class:"detail-item"},Fe={class:"detail-value"},We={key:0,class:"detail-item"},Ge={class:"detail-value"},Ke={key:1,class:"detail-item highlight"},Je={class:"detail-value"},Ze=["disabled"],Xe={key:0},Ye={key:1},ts={key:3,class:"offline-message"},es={class:"switch-section"},ss={class:"switch-buttons"},as=["disabled"],os=["disabled"],rs={class:"current-location"},ns={__name:"SyncIndicator",props:{position:{type:String,default:"fixed",validator:kt=>["fixed","relative","absolute"].includes(kt)},bottom:{type:String,default:"20px"},left:{type:String,default:"20px"},right:{type:String,default:"auto"},top:{type:String,default:"auto"},showSwitchButtons:{type:Boolean,default:!0}},setup(kt){const i=kt,h=g(navigator.onLine),b=g(!1),k=g(0),B=g(null),P=g(!1),y=g(window.location.href.startsWith("http://127.0.0.1")||window.location.href.startsWith("http://localhost")),ot=E(()=>b.value?"syncing":h.value?k.value>0?"pending":"online":"offline"),I=E(()=>b.value?"\u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...":h.value?k.value>0?`${k.value} \u0639\u0645\u0644\u064A\u0629 \u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631`:"\u0645\u062A\u0635\u0644 - \u0643\u0644 \u0634\u064A\u0621 \u0645\u062D\u062F\u062B":"\u063A\u064A\u0631 \u0645\u062A\u0635\u0644 - \u0648\u0636\u0639 Offline"),rt=E(()=>b.value?"\u{1F504} \u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...":k.value>0?`\u23F3 ${k.value} \u0639\u0645\u0644\u064A\u0629 \u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631`:"\u2705 \u0643\u0644 \u0634\u064A\u0621 \u0645\u062D\u062F\u0651\u062B"),z=E(()=>{if(!B.value)return"\u0644\u0645 \u062A\u062A\u0645 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0639\u062F";const f=new Date(B.value),A=new Date-f,tt=Math.floor(A/6e4),F=Math.floor(A/36e5),ct=Math.floor(A/864e5);return tt<1?"\u0645\u0646\u0630 \u0644\u062D\u0638\u0627\u062A":tt<60?`\u0645\u0646\u0630 ${tt} \u062F\u0642\u064A\u0642\u0629`:F<24?`\u0645\u0646\u0630 ${F} \u0633\u0627\u0639\u0629`:`\u0645\u0646\u0630 ${ct} \u064A\u0648\u0645`}),V=E(()=>({position:i.position,bottom:i.position==="fixed"?i.bottom:"auto",left:i.position==="fixed"?i.left:"auto",right:i.position==="fixed"?i.right:"auto",top:i.position==="fixed"?i.top:"auto"})),R=()=>{P.value=!P.value},X=async()=>{if(!(!h.value||b.value)){b.value=!0;try{window.$api&&(await window.$api.syncNow(),B.value=Date.now(),await $(),window.$toast&&window.$toast.success("\u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0646\u062C\u0627\u062D!"))}catch(f){console.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",f),window.$toast&&window.$toast.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: "+f.message)}finally{b.value=!1}}},$=async()=>{try{if(window.$api){const f=await window.$api.getSyncStatus();k.value=f.pendingCount}}catch(f){console.error("\u0641\u0634\u0644 \u062A\u062D\u062F\u064A\u062B \u062D\u0627\u0644\u0629 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",f)}},H=async()=>{h.value=!0,console.log("\u{1F310} \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0639\u0627\u062F"),await X()},M=()=>{h.value=!1,console.log("\u{1F4F4} \u0641\u0642\u062F\u0627\u0646 \u0627\u0644\u0627\u062A\u0635\u0627\u0644")},C=()=>{var f;if(window.switchToLocal)window.switchToLocal();else{const x=((f=window.connectionInfo)==null?void 0:f.local_url)||"http://127.0.0.1:8000/";window.location.href=x}},Y=()=>{var f;if(window.switchToOnline)window.switchToOnline();else{const x=((f=window.connectionInfo)==null?void 0:f.online_url)||"https://system.intellijapp.com/dashboard";window.location.href=x}};return Qt(()=>{window.addEventListener("online",H),window.addEventListener("offline",M);const f=()=>{y.value=window.location.href.startsWith("http://127.0.0.1")||window.location.href.startsWith("http://localhost")};window.addEventListener("focus",f),$(),f();const x=setInterval($,3e4);Jt(()=>{window.removeEventListener("online",H),window.removeEventListener("offline",M),window.removeEventListener("focus",f),clearInterval(x)})}),(f,x)=>(o(),r("div",{class:"sync-indicator-container",style:je(V.value)},[t("div",{class:w(["sync-indicator",ot.value]),onClick:R,title:I.value},[t("div",Ue,[h.value&&!b.value?(o(),r("svg",qe,[...x[3]||(x[3]=[t("path",{d:"M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9zm8 8l3 3 3-3c-1.65-1.66-4.34-1.66-6 0zm-4-4l2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13z"},null,-1)])])):h.value?b.value?(o(),r("svg",Ve,[...x[5]||(x[5]=[t("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"},null,-1)])])):v("",!0):(o(),r("svg",Ee,[...x[4]||(x[4]=[t("path",{d:"M23.64 7c-.45-.34-4.93-4-11.64-4-1.5 0-2.89.19-4.15.48L18.18 13.8 23.64 7zm-6.6 8.22L3.27 1.44 2 2.72l2.05 2.06C1.91 5.76.59 6.82.36 7l11.63 14.49.01.01.01-.01 3.9-4.86 3.32 3.32 1.27-1.27-3.46-3.46z"},null,-1)])]))]),k.value>0?(o(),r("div",Ae,n(k.value),1)):v("",!0)],10,ze),Z(Te,{name:"fade"},{default:at(()=>[P.value?(o(),r("div",{key:0,class:"sync-details",onClick:x[1]||(x[1]=Le(()=>{},["stop"]))},[t("div",Ne,[x[6]||(x[6]=t("h3",null,"\u062D\u0627\u0644\u0629 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1)),t("button",{onClick:x[0]||(x[0]=A=>P.value=!1),class:"close-btn"},"\xD7")]),t("div",Pe,[t("div",Re,[x[7]||(x[7]=t("span",{class:"detail-label"},"\u0627\u0644\u0627\u062A\u0635\u0627\u0644:",-1)),t("span",{class:w(["detail-value",{"text-green":h.value,"text-red":!h.value}])},n(h.value?"\u{1F310} \u0645\u062A\u0635\u0644":"\u{1F4F4} \u063A\u064A\u0631 \u0645\u062A\u0635\u0644"),3)]),t("div",He,[x[8]||(x[8]=t("span",{class:"detail-label"},"\u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",-1)),t("span",Fe,n(rt.value),1)]),B.value?(o(),r("div",We,[x[9]||(x[9]=t("span",{class:"detail-label"},"\u0622\u062E\u0631 \u0645\u0632\u0627\u0645\u0646\u0629:",-1)),t("span",Ge,n(z.value),1)])):v("",!0),k.value>0?(o(),r("div",Ke,[x[10]||(x[10]=t("span",{class:"detail-label"},"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631:",-1)),t("span",Je,n(k.value)+" \u0639\u0645\u0644\u064A\u0629",1)])):v("",!0),h.value&&k.value>0?(o(),r("button",{key:2,onClick:X,disabled:b.value,class:"sync-btn"},[b.value?(o(),r("span",Ye,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...")):(o(),r("span",Xe,"\u{1F504} \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0622\u0646"))],8,Ze)):v("",!0),Z(Zt(Me),{href:f.route("sync.monitor"),class:"monitor-link"},{default:at(()=>[...x[11]||(x[11]=[J(" \u{1F4CA} \u0635\u0641\u062D\u0629 \u0627\u0644\u0645\u0631\u0627\u0642\u0628\u0629 \u0627\u0644\u0643\u0627\u0645\u0644\u0629 ",-1)])]),_:1},8,["href"]),h.value?v("",!0):(o(),r("div",ts,[...x[12]||(x[12]=[t("p",null,"\u26A0\uFE0F \u0623\u0646\u062A \u062A\u0639\u0645\u0644 \u0641\u064A \u0648\u0636\u0639 Offline",-1),t("p",{class:"text-sm"},"\u0633\u064A\u062A\u0645 \u062D\u0641\u0638 \u062A\u063A\u064A\u064A\u0631\u0627\u062A\u0643 \u0645\u062D\u0644\u064A\u0627\u064B \u0648\u0645\u0632\u0627\u0645\u0646\u062A\u0647\u0627 \u0639\u0646\u062F \u0639\u0648\u062F\u0629 \u0627\u0644\u0627\u062A\u0635\u0627\u0644",-1)])])),t("div",es,[x[14]||(x[14]=t("div",{class:"switch-header"},[t("span",null,"\u{1F504} \u0627\u0644\u062A\u0628\u062F\u064A\u0644 \u0628\u064A\u0646 \u0627\u0644\u0633\u064A\u0631\u0641\u0631\u0627\u062A")],-1)),t("div",ss,[t("button",{onClick:C,class:w(["switch-btn",{active:y.value,disabled:y.value}]),disabled:y.value}," \u{1F4BB} Local ",10,as),t("button",{onClick:Y,class:w(["switch-btn",{active:!y.value,disabled:!y.value}]),disabled:!y.value}," \u{1F310} Online ",10,os)]),t("div",rs,[x[13]||(x[13]=t("span",{class:"location-label"},"\u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u062D\u0627\u0644\u064A:",-1)),t("span",{class:w(["location-value",y.value?"local":"online"])},n(y.value?"\u{1F4BB} Local":"\u{1F310} Online"),3)])])])])):v("",!0)]),_:1}),P.value?(o(),r("div",{key:0,class:"overlay",onClick:x[2]||(x[2]=A=>P.value=!1)})):v("",!0)],4))}},ls=Xt(ns,[["__scopeId","data-v-857a9455"]]);const ds={class:"flex justify-between items-center"},is={class:"flex gap-2"},cs=["disabled"],us={key:0},gs={key:1},ys=["disabled"],xs={key:0},ps={key:1},vs={class:"py-6"},bs={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},fs={class:"mb-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6"},ms={class:"flex justify-between items-center mb-4"},hs=["disabled"],ks={key:0},ws={key:1},_s={key:0,class:"text-center py-8"},$s={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Cs={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},Ss={class:"space-y-2 text-sm"},Ls={class:"flex justify-between"},Ms={class:"font-mono text-gray-900 dark:text-gray-100"},Ts={class:"flex justify-between"},js={class:"font-mono text-gray-900 dark:text-gray-100"},Ds={class:"flex justify-between"},Bs={class:"font-mono text-gray-900 dark:text-gray-100"},Is={class:"bg-blue-50 dark:bg-blue-900 p-4 rounded-lg"},Qs={class:"space-y-2 text-sm"},Os={class:"flex justify-between"},zs={class:"font-bold text-blue-900 dark:text-blue-100"},Us={class:"flex justify-between"},qs={class:"font-bold text-blue-900 dark:text-blue-100 text-xs"},Es={class:"flex justify-between"},Vs={class:"bg-green-50 dark:bg-green-900 p-4 rounded-lg"},As={class:"space-y-2 text-sm"},Ns={class:"flex justify-between"},Ps={class:"font-bold text-green-900 dark:text-green-100"},Rs={class:"flex justify-between"},Hs={class:"font-bold text-green-900 dark:text-green-100"},Fs={class:"flex justify-between"},Ws={class:"font-bold text-green-900 dark:text-green-100"},Gs={class:"bg-purple-50 dark:bg-purple-900 p-4 rounded-lg"},Ks={class:"space-y-2"},Js=["disabled"],Zs={class:"mb-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6"},Xs={class:"flex justify-between items-center mb-4"},Ys={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm dark:text-gray-200"},ta={class:"bg-gray-50 dark:bg-gray-700 p-3 rounded"},ea={class:"font-semibold text-sm"},sa={key:0},aa={class:"bg-gray-50 dark:bg-gray-700 p-3 rounded"},oa={class:"font-semibold text-sm"},ra={class:"text-xs text-gray-500 dark:text-gray-400"},na={class:"bg-gray-50 dark:bg-gray-700 p-3 rounded"},la={class:"font-semibold text-sm"},da={class:"text-xs text-gray-500 dark:text-gray-400"},ia={class:"bg-gray-50 dark:bg-gray-700 p-3 rounded"},ca=["title"],ua={class:"text-xs text-gray-500 dark:text-gray-400"},ga={class:"mb-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6"},ya={class:"flex flex-wrap justify-between items-start gap-4"},xa={class:"text-sm text-gray-500 dark:text-gray-400"},pa={class:"mt-4 grid grid-cols-1 md:grid-cols-4 gap-4 text-sm dark:text-gray-200"},va={class:"font-semibold"},ba={key:0},fa={class:"text-xs text-gray-500 dark:text-gray-400"},ma={class:"font-semibold"},ha={class:"text-xs text-gray-500 dark:text-gray-400"},ka={class:"font-semibold"},wa={class:"text-xs text-gray-500 dark:text-gray-400"},_a=["title"],$a={class:"text-xs text-gray-500 dark:text-gray-400"},Ca={class:"mt-4 text-xs text-gray-600 dark:text-gray-400"},Sa={class:"font-mono bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded inline-block break-all w-full md:w-auto"},La={key:0,class:"mb-6 bg-yellow-50 dark:bg-yellow-900 border-l-4 border-yellow-500 p-4 rounded"},Ma={class:"mb-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},Ta={class:"p-6 border-b border-gray-200 dark:border-gray-700"},ja={class:"flex justify-between items-center"},Da={class:"text-lg font-semibold dark:text-gray-200"},Ba={class:"overflow-x-auto"},Ia={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Qa={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Oa={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-200"},za={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Ua={class:"px-6 py-4 whitespace-nowrap"},qa={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},Ea=["onClick"],Va=["onClick"],Aa={key:0},Na={key:0,class:"p-4 border-t border-gray-200 dark:border-gray-600 text-center"},Pa={class:"mb-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},Ra={class:"border-b border-gray-200 dark:border-gray-700"},Ha={class:"flex"},Fa={key:0,class:"p-6"},Wa={class:"flex justify-between items-center mb-4"},Ga={class:"text-lg font-semibold dark:text-gray-200"},Ka={class:"flex gap-2"},Ja={class:"overflow-x-auto"},Za={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Xa={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Ya={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200"},to={class:"px-6 py-4 whitespace-nowrap"},eo={class:"text-sm font-medium text-gray-900 dark:text-gray-200"},so={class:"text-sm text-gray-500 dark:text-gray-400"},ao={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},oo={class:"px-6 py-4 whitespace-nowrap"},ro={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},no=["onClick"],lo=["onClick"],io={key:0},co={key:1,class:"p-6"},uo={class:"flex justify-between items-center mb-6"},go={class:"flex gap-2"},yo=["disabled"],xo={key:0},po={key:1},vo={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},bo={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},fo={class:"text-2xl font-bold text-blue-600"},mo={class:"bg-green-50 dark:bg-green-900 p-4 rounded-lg"},ho={class:"text-2xl font-bold text-green-600"},ko={class:"bg-yellow-50 dark:bg-yellow-900 p-4 rounded-lg"},wo={class:"text-2xl font-bold text-yellow-600"},_o={class:"bg-red-50 dark:bg-red-900 p-4 rounded-lg"},$o={class:"text-2xl font-bold text-red-600"},Co={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg mb-6"},So={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Lo={class:"flex items-center"},Mo={class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg"},To={class:"p-4 max-h-64 overflow-y-auto"},jo={key:0,class:"text-center text-gray-500 dark:text-gray-400 py-8"},Do={key:1,class:"space-y-2"},Bo={class:"flex-1"},Io={class:"text-gray-900 dark:text-gray-200"},Qo={class:"text-xs text-gray-500 dark:text-gray-400"},Oo={key:2,class:"p-6"},zo={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Uo={class:"bg-white dark:bg-gray-700 p-6 rounded-lg"},qo={class:"space-y-3"},Eo={class:"flex justify-between"},Vo={class:"font-mono text-sm"},Ao={class:"flex justify-between"},No={class:"font-mono text-sm"},Po={class:"flex justify-between"},Ro={class:"font-mono text-sm"},Ho={class:"flex justify-between"},Fo={class:"font-mono text-sm"},Wo={class:"bg-white dark:bg-gray-700 p-6 rounded-lg"},Go={class:"space-y-3"},Ko=["disabled"],Jo={key:0},Zo={key:1},Xo=["disabled"],Yo={key:0},tr={key:1},er=["disabled"],sr={key:0},ar={key:1},or=["disabled"],rr={key:0},nr={key:1},lr={class:"mt-6 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg"},dr={class:"p-4 max-h-64 overflow-y-auto"},ir={key:0,class:"text-center text-gray-500 dark:text-gray-400 py-8"},cr={key:1,class:"space-y-2"},ur={class:"flex-1"},gr={class:"text-gray-900 dark:text-gray-200"},yr={class:"text-xs text-gray-500 dark:text-gray-400"},xr={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},pr={class:"p-6 border-b border-gray-200 dark:border-gray-700"},vr={class:"flex justify-between items-center"},br={class:"text-lg font-semibold dark:text-gray-200"},fr={class:"flex gap-2"},mr={class:"overflow-x-auto"},hr={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},kr={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},wr={key:0},_r={colspan:"8",class:"px-6 py-8 text-center text-gray-500 dark:text-gray-400"},$r={class:"text-lg"},Cr={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},Sr={class:"px-6 py-4 whitespace-nowrap dark:text-gray-300"},Lr={class:"px-6 py-4 whitespace-nowrap dark:text-gray-300"},Mr={class:"px-6 py-4 dark:text-gray-300"},Tr=["onClick"],jr={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},Dr={class:"flex items-center gap-1"},Br={key:0,class:"text-red-600 text-lg"},Ir={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},Qr={class:"px-6 py-4 whitespace-nowrap"},Or={key:0,class:"flex items-center text-green-600 dark:text-green-400"},zr={key:1,class:"flex items-center text-red-600 dark:text-red-400"},Ur={key:2,class:"flex items-center text-yellow-600 dark:text-yellow-400"},qr={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Er={class:"flex gap-2"},Vr=["onClick","disabled"],Ar=["onClick"],Nr=["onClick"],Pr={key:0,class:"px-6 py-4 bg-gray-50 dark:bg-gray-700 flex justify-between items-center"},Rr={class:"text-sm text-gray-700 dark:text-gray-300"},Hr={class:"flex gap-2"},Fr=["disabled"],Wr=["disabled"],Gr={class:"mt-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6"},Kr={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Jr={class:"border dark:border-gray-700 rounded p-4"},Zr={class:"text-2xl font-bold dark:text-gray-200"},Xr={class:"border dark:border-gray-700 rounded p-4"},Yr={class:"text-2xl font-bold dark:text-gray-200"},tn={class:"border dark:border-gray-700 rounded p-4"},en={class:"text-2xl font-bold dark:text-gray-200"},sn={class:"mt-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},an={class:"p-6 border-b border-gray-200 dark:border-gray-700"},on={class:"flex justify-between items-center flex-wrap gap-4"},rn={class:"text-lg font-semibold dark:text-gray-200"},nn={class:"flex gap-2 items-center flex-wrap"},ln=["disabled"],dn={key:0},cn={key:1},un=["disabled"],gn={key:0},yn={key:1},xn=["disabled"],pn={key:0},vn={key:1},bn=["disabled"],fn={key:0},mn={key:1},hn={key:0,class:"p-8 text-center"},kn={key:1,class:"p-8 text-center"},wn={key:2,class:"overflow-x-auto"},_n={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},$n={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Cn={class:"px-6 py-4 whitespace-nowrap"},Sn={class:"text-sm font-medium dark:text-gray-200"},Ln={class:"px-6 py-4 whitespace-nowrap"},Mn={class:"text-sm dark:text-gray-300"},Tn={class:"px-6 py-4 whitespace-nowrap"},jn={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Dn={class:"flex gap-2 items-center"},Bn=["onClick"],In=["onClick","disabled"],Qn=["onClick","disabled"],On={class:"mt-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},zn={class:"p-6 border-b border-gray-200 dark:border-gray-700"},Un={class:"flex justify-between items-center"},qn=["disabled"],En={key:0},Vn={key:1},An={key:0,class:"p-8 text-center"},Nn={key:1,class:"p-4 bg-red-50 dark:bg-red-900 border-l-4 border-red-500"},Pn={class:"text-red-800 dark:text-red-200"},Rn={key:2,class:"p-8 text-center"},Hn={key:3},Fn={key:0,class:"p-4 bg-blue-50 dark:bg-blue-900 border-b border-gray-200 dark:border-gray-700"},Wn={class:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center"},Gn={class:"text-2xl font-bold dark:text-gray-200"},Kn={class:"text-2xl font-bold dark:text-gray-200"},Jn={class:"text-2xl font-bold dark:text-gray-200"},Zn={class:"overflow-x-auto"},Xn={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Yn={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},tl={class:"px-6 py-4 whitespace-nowrap text-sm font-medium dark:text-gray-200"},el={class:"px-6 py-4 whitespace-nowrap"},sl={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},al={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},ol={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},rl={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},nl={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},ll={class:"mt-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},dl={class:"p-6 border-b border-gray-200 dark:border-gray-700"},il={class:"flex justify-between items-center"},cl=["disabled"],ul={key:0},gl={key:1},yl={key:0,class:"p-8 text-center"},xl={key:1,class:"p-8 text-center"},pl={key:2,class:"overflow-x-auto"},vl={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},bl={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},fl={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},ml={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},hl={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},kl={class:"px-6 py-4 whitespace-nowrap text-sm"},wl=["onClick","disabled"],_l=["onClick"],$l=["onClick"],Cl={class:"p-6"},Sl={class:"bg-gray-100 dark:bg-gray-900 p-4 rounded overflow-auto max-h-96 text-sm dark:text-gray-300"},Ll={class:"mt-4 flex justify-end"},Ml={class:"p-6"},Tl={class:"bg-red-50 dark:bg-red-900 border-l-4 border-red-500 p-4 mb-4"},jl={class:"font-medium dark:text-gray-200"},Dl={class:"text-sm mt-2 dark:text-gray-300"},Bl={class:"bg-gray-100 dark:bg-gray-900 p-4 rounded overflow-auto max-h-64 text-xs dark:text-gray-300"},Il={class:"mt-4 flex justify-end gap-2"},Ql={class:"p-6"},Ol={class:"text-lg font-semibold mb-4 dark:text-gray-200"},zl={key:0,class:"text-center py-8"},Ul={key:1,class:"bg-red-50 dark:bg-red-900 border-l-4 border-red-500 p-4 mb-4"},ql={class:"text-red-800 dark:text-red-200"},El={key:2},Vl={class:"mb-4 flex justify-between items-center"},Al={class:"text-sm text-gray-600 dark:text-gray-400"},Nl={class:"font-semibold"},Pl={class:"text-sm text-gray-600 dark:text-gray-400"},Rl={class:"font-semibold"},Hl={key:0,class:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900 rounded text-xs"},Fl={key:1,class:"overflow-x-auto max-h-96 border border-gray-200 dark:border-gray-700 rounded"},Wl={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 text-sm"},Gl={class:"bg-gray-50 dark:bg-gray-700 sticky top-0"},Kl={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Jl={key:0},Zl=["colspan"],Xl={key:2,class:"p-8 text-center text-gray-500 dark:text-gray-400"},Yl={class:"text-xs mt-2"},td={key:3,class:"mt-4 flex justify-between items-center"},ed={class:"text-sm text-gray-600 dark:text-gray-400"},sd={class:"flex gap-2"},ad=["disabled"],od=["disabled"],rd={class:"mt-4 flex justify-end"},nd={__name:"SyncMonitor",setup(kt){const i=De(),h=g([]),b=g({online:navigator.onLine,syncing:!1}),k=g({pendingCount:0,lastSync:null}),B=g({cars:0,contracts:0,transactions:0}),P={environmentLabel:"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641",tip:"\u2014",host:"-",port:"",protocol:"-",origin:"-",secure:!1,networkType:"\u063A\u064A\u0631 \u0645\u062A\u0627\u062D",effectiveType:"\u063A\u064A\u0631 \u0645\u062A\u0627\u062D",downlink:null,rtt:null,apiBaseUrl:"-",lastUpdated:null,isLocal:!1},y=g(Ft()),ot=g(!1),I=g(!1),rt=g(new Set),z=g("all"),V=g(1),R=g(10);let X=null,$=null;const H=g({show:!1,data:null}),M=g({show:!1,item:null,title:"",message:"",stack:""}),C=g([]),Y=g(!1),f=g(!1),x=g("auto"),A=g("mysql"),tt=g([]),F=g(!1),ct=g(!1),N=g("operations"),nt=g(!1),U=g({total_transactions:0,migrated:0,remaining:0,errors:0}),et=g([]),Q=g({batchSize:100,delay:1,deleteOldData:!1}),Ot=g(!1),ut=g(!1),gt=g(!1),yt=g(!1),xt=g({}),lt=g([]),pt=g({}),vt=g(!1),wt=g(!1),$t=g(null),Ct=g(null),T=g({data:[],stats:null,error:null}),bt=g(!1),Yt=g({connection:"mysql",is_fallback:!1}),c=g({show:!1,tableName:"",columns:[],data:[],total:0,limit:50,offset:0,connection:"",error:null}),St=g(!1),te=E(()=>({total:h.value.length,synced:h.value.filter(a=>a.synced).length,pending:h.value.filter(a=>!a.synced&&a.retries<3).length,failed:h.value.filter(a=>a.retries>=3).length})),dt=E(()=>{let a=h.value;z.value==="pending"?a=a.filter(s=>s.status==="pending"||!s.synced&&s.retries<3):z.value==="synced"?a=a.filter(s=>s.status==="synced"||s.synced):z.value==="failed"&&(a=a.filter(s=>s.status==="failed"||s.retries>=3));const e=(V.value-1)*R.value,l=e+R.value;return a.slice(e,l)}),ee=E(()=>({all:"",pending:"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631",synced:"\u062A\u0645\u062A \u0645\u0632\u0627\u0645\u0646\u062A\u0647\u0627",failed:"\u0641\u0634\u0644\u062A"})[z.value]||""),se=E(()=>Math.ceil(h.value.length/R.value)),ae=E(()=>{if(!k.value.lastSync)return"\u0644\u0645 \u062A\u062A\u0645 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0639\u062F";const a=new Date(k.value.lastSync),l=new Date-a,s=Math.floor(l/6e4),d=Math.floor(l/36e5),u=Math.floor(l/864e5);return s<1?"\u0645\u0646\u0630 \u0644\u062D\u0638\u0627\u062A":s<60?`\u0645\u0646\u0630 ${s} \u062F\u0642\u064A\u0642\u0629`:d<24?`\u0645\u0646\u0630 ${d} \u0633\u0627\u0639\u0629`:`\u0645\u0646\u0630 ${u} \u064A\u0648\u0645`}),q=async()=>{ot.value=!0;try{if(b.value.online=navigator.onLine,st(),window.$db){const a=await window.$db.getAll("sync_queue");h.value=a.sort((e,l)=>l.timestamp-e.timestamp),k.value.pendingCount=a.filter(e=>!e.synced).length}if(window.$db&&(B.value={cars:(await window.$db.getAll("cars")).length,contracts:(await window.$db.getAll("contracts")).length,transactions:(await window.$db.getAll("transactions")).length}),window.$api){const a=await window.$api.getSyncStatus();k.value.pendingCount=a.pendingCount}i.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",{timeout:2e3})}catch(a){console.error("\u0641\u0634\u0644 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A:",a),i.error("\u0641\u0634\u0644 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A")}finally{ot.value=!1}},Lt=async()=>{if(!b.value.online){i.warning("\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 - \u063A\u064A\u0631 \u0645\u062A\u0635\u0644 \u0628\u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A");return}I.value=!0,b.value.syncing=!0;try{i.info("\u{1F504} \u0628\u062F\u0621 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...",{timeout:3e3}),window.$api&&(await window.$api.syncNow(),k.value.lastSync=Date.now()),window.$db&&await window.$db.processSyncQueue(),await q(),i.success("\u2705 \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0646\u062C\u0627\u062D!",{timeout:3e3})}catch(a){console.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",a),i.error("\u274C \u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: "+a.message)}finally{I.value=!1,b.value.syncing=!1}},Mt=async a=>{if(!b.value.online){i.warning("\u0644\u0627 \u064A\u0645\u0643\u0646 \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 - \u063A\u064A\u0631 \u0645\u062A\u0635\u0644");return}rt.value.add(a.id);try{i.info(`\u{1F504} \u0625\u0639\u0627\u062F\u0629 \u0645\u062D\u0627\u0648\u0644\u0629 ${Tt(a.storeName)}...`),window.$db&&(await window.$db.syncItem(a),a.synced=!0,a.retries=(a.retries||0)+1,await window.$db.save("sync_queue",a),i.success("\u2705 \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0646\u062C\u0627\u062D!"),await q())}catch(e){console.error("\u0641\u0634\u0644\u062A \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629:",e),a.retries=(a.retries||0)+1,a.error={message:e.message,timestamp:Date.now()},window.$db&&await window.$db.save("sync_queue",a),i.error("\u274C \u0641\u0634\u0644\u062A \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629"),await q()}finally{rt.value.delete(a.id)}},zt=async a=>{if(!!confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629\u061F"))try{window.$db&&(await window.$db.delete("sync_queue",a.id),i.success("\u062A\u0645 \u0627\u0644\u062D\u0630\u0641"),await q())}catch(e){console.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641:",e),i.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641")}},Ut=async()=>{if(!!confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0643\u0644 \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A\u061F \u0633\u064A\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0641\u0642\u0637."))try{if(window.$db){const a=h.value.filter(e=>e.synced);for(const e of a)await window.$db.delete("sync_queue",e.id);i.success(`\u062A\u0645 \u062D\u0630\u0641 ${a.length} \u0639\u0645\u0644\u064A\u0629`),await q()}}catch(a){console.error("\u0641\u0634\u0644 \u0627\u0644\u0645\u0633\u062D:",a),i.error("\u0641\u0634\u0644 \u0645\u0633\u062D \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A")}},oe=a=>{H.value={show:!0,data:a.data}},re=a=>{var e,l;M.value={show:!0,item:a,title:`\u0641\u0634\u0644 ${qt(a.action)} ${Tt(a.storeName)}`,message:((e=a.error)==null?void 0:e.message)||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641",stack:((l=a.error)==null?void 0:l.stack)||"\u0644\u0627 \u062A\u0648\u062C\u062F \u062A\u0641\u0627\u0635\u064A\u0644 \u0625\u0636\u0627\u0641\u064A\u0629"}},ne=async a=>{M.value.show=!1,await Mt(a)},Tt=a=>({cars:"\u{1F697} \u0633\u064A\u0627\u0631\u0629",contracts:"\u{1F4C4} \u0639\u0642\u062F",transactions:"\u{1F4B0} \u0645\u0639\u0627\u0645\u0644\u0629",sync_queue:"\u{1F504} \u0645\u0632\u0627\u0645\u0646\u0629"})[a]||a,le=a=>({cars:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",contracts:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",transactions:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"})[a]||"bg-gray-100 text-gray-800",qt=a=>({save:"\u{1F4BE} \u062D\u0641\u0638",update:"\u270F\uFE0F \u062A\u062D\u062F\u064A\u062B",delete:"\u{1F5D1}\uFE0F \u062D\u0630\u0641"})[a]||a,de=a=>({save:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",update:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",delete:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[a]||"bg-gray-100 text-gray-800",ie=a=>{if(!a)return"-";const e=new Date(a),s=new Date-e,d=Math.floor(s/6e4),u=Math.floor(s/36e5);return d<1?"\u0627\u0644\u0622\u0646":d<60?`\u0645\u0646\u0630 ${d} \u062F\u0642\u064A\u0642\u0629`:u<24?`\u0645\u0646\u0630 ${u} \u0633\u0627\u0639\u0629`:e.toLocaleDateString("ar-SA")+" "+e.toLocaleTimeString("ar-SA")},ce=()=>{i.info(`\u{1F4A1} \u0644\u0627\u062E\u062A\u0628\u0627\u0631 Offline Mode:
1. \u0627\u0641\u062A\u062D DevTools (F12)
2. \u0627\u0630\u0647\u0628 \u0625\u0644\u0649 Network
3. \u062D\u062F\u062F "Offline"`,{timeout:8e3})},Et=async()=>{if(!!confirm("\u0647\u0644 \u062A\u0631\u064A\u062F \u0645\u0633\u062D \u0643\u0644 \u0627\u0644\u0640 Cache\u061F"))try{if(window.$db&&await window.$db.clearExpiredCache(),"caches"in window){const a=await caches.keys();await Promise.all(a.map(e=>caches.delete(e)))}i.success("\u2705 \u062A\u0645 \u0645\u0633\u062D \u0627\u0644\u0640 Cache"),setTimeout(()=>window.location.reload(),1e3)}catch{i.error("\u0641\u0634\u0644 \u0645\u0633\u062D \u0627\u0644\u0640 Cache")}},ue=()=>{const a={timestamp:new Date().toISOString(),connectionStatus:b.value,syncStatus:k.value,queueItems:h.value,localDataCounts:B.value,stats:te.value},e=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),l=URL.createObjectURL(e),s=document.createElement("a");s.href=l,s.download=`sync-logs-${Date.now()}.json`,s.click(),i.success("\u2705 \u062A\u0645 \u062A\u0635\u062F\u064A\u0631 \u0627\u0644\u0640 Logs")},ge=async()=>{try{const a={online:b.value.online,pendingSync:k.value.pendingCount,localData:B.value,queueSize:h.value.length,browserSupport:{serviceWorker:"serviceWorker"in navigator,indexedDB:"indexedDB"in window,cacheAPI:"caches"in window}};console.table(a),i.info("\u{1F4CA} \u062A\u0645 \u0639\u0631\u0636 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0641\u064A Console",{timeout:3e3})}catch{i.error("\u0641\u0634\u0644 \u0639\u0631\u0636 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A")}},Vt=()=>{b.value.online=!0,st(),i.success("\u{1F310} \u0639\u0627\u062F \u0627\u0644\u0627\u062A\u0635\u0627\u0644!"),q(),setTimeout(()=>{k.value.pendingCount>0&&Lt()},1e3)},At=()=>{b.value.online=!1,st(),i.warning("\u{1F4F4} \u0641\u0642\u062F\u0627\u0646 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 - \u0648\u0636\u0639 Offline"),q()},W=async()=>{var a,e;Y.value=!0;try{const l={};x.value!=="auto"&&(l.force_connection=x.value);const s=await S.get("/api/sync-monitor/tables",{params:l,withCredentials:!0});C.value=s.data.tables||[],Yt.value={connection:s.data.connection||"mysql",is_fallback:s.data.is_fallback||!1},A.value=s.data.connection||"mysql",i.success("\u062A\u0645 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3})}catch(l){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062C\u062F\u0627\u0648\u0644:",l),i.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062C\u062F\u0627\u0648\u0644: "+(((e=(a=l.response)==null?void 0:a.data)==null?void 0:e.error)||l.message))}finally{Y.value=!1}},Nt=(a,e=null)=>{const l=`/sync-monitor/table/${a}${e?`?connection=${e}`:""}`;Qe.router.visit(l)},Pt=async(a,e=0,l=null)=>{var s,d,u,p;St.value=!0,c.value.error=null;try{const _={limit:c.value.limit,offset:e},D=l||c.value.tableConnection;D?_.force_connection=D:x.value!=="auto"&&(_.force_connection=x.value);const m=await S.get(`/api/sync-monitor/table/${a}`,{params:_,withCredentials:!0});console.log("Table details response:",{table:a,connection:D,columns:m.data.columns,columns_type:typeof m.data.columns,columns_is_array:Array.isArray(m.data.columns),data_count:((s=m.data.data)==null?void 0:s.length)||0,total:m.data.total,first_row:((d=m.data.data)==null?void 0:d[0])||null,response_data:m.data});let G=[];Array.isArray(m.data.columns)?G=m.data.columns:m.data.columns&&typeof m.data.columns=="object"&&(G=Object.values(m.data.columns));let K=[];if(Array.isArray(m.data.data)?K=m.data.data:m.data.data&&typeof m.data.data=="object"&&(K=Object.values(m.data.data)),G.length===0&&K.length>0){const Bt=K[0];Bt&&typeof Bt=="object"&&(G=Object.keys(Bt),console.log("Extracted columns from data:",G))}console.log("Final columns and data:",{columns_count:G.length,columns:G,data_count:K.length,first_row_keys:K.length>0?Object.keys(K[0]):[]}),c.value.columns=G,c.value.data=K,c.value.total=m.data.total||0,c.value.offset=m.data.offset||0,c.value.connection=m.data.connection||"",console.log("Table details modal updated:",{columns:c.value.columns.length,data:c.value.data.length,total:c.value.total})}catch(_){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062C\u062F\u0648\u0644:",_),c.value.error=((p=(u=_.response)==null?void 0:u.data)==null?void 0:p.error)||_.message||"\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",i.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062C\u062F\u0648\u0644")}finally{St.value=!1}},ye=a=>a==null?"-":typeof a=="boolean"?a?"\u2713":"\u2717":typeof a=="object"?JSON.stringify(a):typeof a=="string"&&a.length>50?a.substring(0,50)+"...":String(a),jt=async()=>{var a,e,l,s;bt.value=!0,T.value.error=null;try{const d=await S.get("/api/sync-monitor/metadata",{withCredentials:!0});T.value.data=d.data.metadata||[],T.value.stats=d.data.stats||null,i.success("\u062A\u0645 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",{timeout:2e3})}catch(d){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",d),T.value.error=((e=(a=d.response)==null?void 0:a.data)==null?void 0:e.error)||d.message||"\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",i.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: "+(((s=(l=d.response)==null?void 0:l.data)==null?void 0:s.error)||d.message))}finally{bt.value=!1}},ft=async()=>{var a,e;F.value=!0;try{const l=await S.get("/api/sync-monitor/backups",{withCredentials:!0});tt.value=l.data.backups||[],i.success("\u062A\u0645 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629",{timeout:2e3})}catch(l){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629:",l),i.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: "+(((e=(a=l.response)==null?void 0:a.data)==null?void 0:e.error)||l.message))}finally{F.value=!1}},xe=async a=>{var e,l;if(!!confirm(`\u26A0\uFE0F \u062A\u062D\u0630\u064A\u0631: \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 "${a}"\u061F

\u0647\u0630\u0627 \u0633\u064A\u0633\u062A\u0628\u062F\u0644 \u062C\u0645\u064A\u0639 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062D\u0627\u0644\u064A\u0629 \u0641\u064A \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A!`)){ct.value=!0;try{const s=await S.post("/api/sync-monitor/restore-backup",{backup_file:a},{withCredentials:!0});s.data.success?(i.success("\u2705 \u062A\u0645\u062A \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:3e3}),await ft(),await W()):i.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629: "+(s.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"))}catch(s){console.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629:",s),i.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629: "+(((l=(e=s.response)==null?void 0:e.data)==null?void 0:l.error)||s.message))}finally{ct.value=!1}}},pe=a=>{window.open(`/api/sync-monitor/download-backup?file=${encodeURIComponent(a)}`,"_blank")},ve=async a=>{var e,l;if(!!confirm(`\u26A0\uFE0F \u062A\u062D\u0630\u064A\u0631: \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 "${a}"\u061F

\u0647\u0630\u0627 \u0627\u0644\u0625\u062C\u0631\u0627\u0621 \u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646\u0647!`))try{const s=await S.delete("/api/sync-monitor/backup/delete",{params:{file:a},withCredentials:!0});s.data.success?(i.success("\u2705 \u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:3e3}),await ft()):i.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641: "+(s.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"))}catch(s){console.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641:",s),i.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641: "+(((l=(e=s.response)==null?void 0:e.data)==null?void 0:l.error)||s.message))}},be=a=>{if(!a)return"0 B";const e=1024,l=["B","KB","MB","GB"],s=Math.floor(Math.log(a)/Math.log(e));return Math.round(a/Math.pow(e,s)*100)/100+" "+l[s]},_t=a=>a?new Date(a).toLocaleString("ar-EG"):"-",Rt=async a=>{var e,l;if(!!confirm(`\u26A0\uFE0F \u062A\u062D\u0630\u064A\u0631: \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062A\u0641\u0631\u064A\u063A \u0627\u0644\u062C\u062F\u0648\u0644 "${a}"\u061F

\u0647\u0630\u0627 \u0633\u064A\u062D\u0630\u0641 \u062C\u0645\u064A\u0639 \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0645\u0646 \u0627\u0644\u062C\u062F\u0648\u0644 \u0641\u064A SQLite \u0627\u0644\u0645\u062D\u0644\u064A!`)){$t.value=a;try{const s=await S.post(`/api/sync-monitor/table/${a}/truncate`,{},{withCredentials:!0});s.data.success?(i.success(`\u2705 \u062A\u0645 \u062A\u0641\u0631\u064A\u063A \u0627\u0644\u062C\u062F\u0648\u0644 ${a} \u0628\u0646\u062C\u0627\u062D`,{timeout:3e3}),await W()):i.error("\u0641\u0634\u0644 \u0627\u0644\u062A\u0641\u0631\u064A\u063A: "+(s.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"))}catch(s){console.error("\u0641\u0634\u0644 \u062A\u0641\u0631\u064A\u063A \u0627\u0644\u062C\u062F\u0648\u0644:",s),i.error("\u0641\u0634\u0644 \u0627\u0644\u062A\u0641\u0631\u064A\u063A: "+(((l=(e=s.response)==null?void 0:e.data)==null?void 0:l.error)||s.message))}finally{$t.value=null}}},fe=async a=>{var e,l;if(!!confirm(`\u26A0\uFE0F\u26A0\uFE0F\u26A0\uFE0F \u062A\u062D\u0630\u064A\u0631 \u0634\u062F\u064A\u062F: \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u062A\u0645\u0627\u0645\u0627\u064B \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644 "${a}"\u061F

\u0647\u0630\u0627 \u0633\u064A\u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644 \u0628\u0627\u0644\u0643\u0627\u0645\u0644 \u0645\u0646 SQLite \u0627\u0644\u0645\u062D\u0644\u064A!

\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629!`)&&!!confirm(`\u26A0\uFE0F \u062A\u0623\u0643\u064A\u062F \u0646\u0647\u0627\u0626\u064A: \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F 100% \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644 "${a}"\u061F`)){Ct.value=a;try{const s=await S.delete(`/api/sync-monitor/table/${a}/delete`,{withCredentials:!0});s.data.success?(i.success(`\u2705 \u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644 ${a} \u0628\u0646\u062C\u0627\u062D`,{timeout:3e3}),await W()):i.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641: "+(s.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"))}catch(s){console.error("\u0641\u0634\u0644 \u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644:",s),i.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641: "+(((l=(e=s.response)==null?void 0:e.data)==null?void 0:l.error)||s.message))}finally{Ct.value=null}}},Ht=async a=>{var u,p;const e=a==="up"?"\u0645\u0646 SQLite \u0625\u0644\u0649 MySQL":"\u0645\u0646 MySQL \u0625\u0644\u0649 SQLite",l=a==="up"?"\u{1F4E4}":"\u{1F4E5}",s=["users","car","car_contract","transactions","wallets","buyer_payments","car_sales","internal_sales"],d=`\u0647\u0644 \u062A\u0631\u064A\u062F \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629 ${e}\u061F

\u{1F4CB} \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629: ${s.join(", ")}

\u26A0\uFE0F ${a==="up"?"\u062D\u0645\u0627\u064A\u0629 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0633\u064A\u0631\u0641\u0631:":"\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062D\u0644\u064A\u0629:"}
${a==="up"?"\u2705 \u0633\u064A\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u062A\u0644\u0642\u0627\u0626\u064A\u0627\u064B":"\u2705 \u0633\u064A\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062D\u0644\u064A\u0629"}
${a==="up"?"\u2705 Safe Mode: \u0625\u0636\u0627\u0641\u0629 \u0641\u0642\u0637 (\u0644\u0627 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0629)":"\u2705 \u0633\u064A\u062A\u0645 \u062C\u0644\u0628 \u0623\u062D\u062F\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 \u0627\u0644\u0633\u064A\u0631\u0641\u0631"}
${a==="up"?"\u2705 Transaction \u0645\u0639 Rollback \u0641\u064A \u062D\u0627\u0644\u0629 \u0627\u0644\u062E\u0637\u0623":"\u2705 \u0646\u0633\u062E \u0630\u0643\u064A (\u0641\u0642\u0637 \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u062C\u062F\u064A\u062F\u0629)"}

\u0633\u064A\u062A\u0645:
${a==="up"?"\u0646\u0642\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 SQLite \u0627\u0644\u0645\u062D\u0644\u064A \u0625\u0644\u0649 MySQL \u0627\u0644\u0633\u064A\u0631\u0641\u0631":"\u062A\u062D\u062F\u064A\u062B SQLite \u0627\u0644\u0645\u062D\u0644\u064A \u0645\u0646 MySQL \u0627\u0644\u0633\u064A\u0631\u0641\u0631"}`;if(!!confirm(d)){f.value=!0;try{i.info(`${l} \u0628\u062F\u0621 \u0645\u0632\u0627\u0645\u0646\u0629 ${s.length} \u062C\u062F\u0648\u0644 \u0623\u0633\u0627\u0633\u064A ${e}...`,{timeout:3e3});const _=await S.post("/api/sync-monitor/sync",{direction:a,tables:s.join(","),safe_mode:a!=="up",create_backup:a==="up",force_full_sync:!1},{withCredentials:!0});if(_.data.success){const D=_.data.results;console.log(`\u2705 \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 ${e}:`,D);let m=`\u2705 \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0646\u062C\u0627\u062D!

`;m+=`${l} ${e}: ${D.total_synced} \u0633\u062C\u0644
`,m+=`\u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: ${Object.keys(D.success||{}).length} \u0645\u0646 ${s.length} \u062C\u062F\u0648\u0644 \u0623\u0633\u0627\u0633\u064A
`,D.backup_file&&(m+=`\u{1F4BE} \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: ${D.backup_file.split("/").pop()}
`,i.info(`\u{1F4BE} \u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: ${D.backup_file.split("/").pop()}`,{timeout:3e3})),i.success(m,{timeout:5e3}),await jt(),await W()}else console.error(`\u274C \u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 ${e}:`,_.data.error),i.error(`\u274C \u0641\u0634\u0644\u062A \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629 ${e}: ${_.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"}`)}catch(_){console.error(`\u0641\u0634\u0644\u062A \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629 ${e}:`,_),i.error(`\u0641\u0634\u0644\u062A \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629 ${e}: `+(((p=(u=_.response)==null?void 0:u.data)==null?void 0:p.error)||_.message))}finally{f.value=!1}}},me=async()=>{var e,l;if(!!confirm(`\u0647\u0644 \u062A\u0631\u064A\u062F \u0645\u0632\u0627\u0645\u0646\u0629 \u062C\u0645\u064A\u0639 \u0627\u0644\u062C\u062F\u0627\u0648\u0644\u061F

\u26A0\uFE0F \u062D\u0645\u0627\u064A\u0629 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0633\u064A\u0631\u0641\u0631:
\u2705 \u0633\u064A\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u062A\u0644\u0642\u0627\u0626\u064A\u0627\u064B
\u2705 Safe Mode: \u0625\u0636\u0627\u0641\u0629 \u0641\u0642\u0637 (\u0644\u0627 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0629)
\u2705 Transaction \u0645\u0639 Rollback \u0641\u064A \u062D\u0627\u0644\u0629 \u0627\u0644\u062E\u0637\u0623

\u0633\u064A\u062A\u0645:
1. \u0646\u0642\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 SQLite \u0625\u0644\u0649 MySQL (\u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062D\u0644\u064A\u0629 \u2192 \u0627\u0644\u0633\u064A\u0631\u0641\u0631)
2. \u062B\u0645 \u062A\u062D\u062F\u064A\u062B SQLite \u0645\u0646 MySQL (\u0627\u0644\u062A\u062D\u062F\u064A\u062B\u0627\u062A \u0645\u0646 \u0627\u0644\u0633\u064A\u0631\u0641\u0631)`)){f.value=!0;try{i.info("\u{1F504} \u0628\u062F\u0621 \u0639\u0645\u0644\u064A\u0629 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0645\u0639 \u0627\u0644\u062D\u0645\u0627\u064A\u0629...",{timeout:3e3}),i.info("\u{1F4E4} \u0646\u0642\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 SQLite \u0625\u0644\u0649 MySQL (Safe Mode)...",{timeout:3e3});const s=await S.post("/api/sync-monitor/sync",{direction:"up",tables:null,safe_mode:!0,create_backup:!0},{withCredentials:!0});if(s.data.success){const u=s.data.results;console.log("\u2705 \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0645\u0646 SQLite \u0625\u0644\u0649 MySQL:",u),u.backup_file&&(console.log("\u{1F4BE} \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629:",u.backup_file),i.info(`\u{1F4BE} \u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: ${u.backup_file.split("/").pop()}`,{timeout:3e3}))}else console.error("\u274C \u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0645\u0646 SQLite \u0625\u0644\u0649 MySQL:",s.data.error),i.error("\u274C \u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 - \u062A\u0645 Rollback \u0648\u062D\u0645\u0627\u064A\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A");i.info("\u{1F4E5} \u062A\u062D\u062F\u064A\u062B SQLite \u0645\u0646 MySQL...",{timeout:3e3});const d=await S.post("/api/sync-monitor/sync",{direction:"down",tables:null},{withCredentials:!0});if(d.data.success){const u=d.data.results;let p=`\u2705 \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0646\u062C\u0627\u062D!

`;p+=`\u{1F4E4} \u0646\u0642\u0644 \u0625\u0644\u0649 MySQL: ${(resultsUp==null?void 0:resultsUp.total_synced)||0} \u0633\u062C\u0644 (Safe Mode)
`,p+=`\u{1F4E5} \u062A\u062D\u062F\u064A\u062B \u0645\u0646 MySQL: ${u.total_synced} \u0633\u062C\u0644
`,p+=`\u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: ${Object.keys(u.success).length}
`,resultsUp!=null&&resultsUp.backup_file&&(p+=`
\u{1F4BE} \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: ${resultsUp.backup_file.split("/").pop()}`),(Object.keys(u.failed).length>0||Object.keys((resultsUp==null?void 0:resultsUp.failed)||{}).length>0)&&(p+=`
\u26A0\uFE0F \u0641\u0634\u0644\u062A \u0628\u0639\u0636 \u0627\u0644\u062C\u062F\u0627\u0648\u0644`),i.success(p,{timeout:7e3}),await W()}else i.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: "+(d.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"))}catch(s){console.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",s),i.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: "+(((l=(e=s.response)==null?void 0:e.data)==null?void 0:l.error)||s.message))}finally{f.value=!1}}};Qt(()=>{q(),st(),W(),ft(),jt(),window.addEventListener("online",Vt),window.addEventListener("offline",At),X=setInterval(q,1e4),$=Wt(),$!=null&&$.addEventListener?$.addEventListener("change",st):$&&($.onchange=st)}),Jt(()=>{window.removeEventListener("online",Vt),window.removeEventListener("offline",At),X&&(clearInterval(X),X=null),$!=null&&$.removeEventListener?$.removeEventListener("change",st):$&&($.onchange=null)});const st=()=>{y.value=Ft()};function Ft(){if(typeof window>"u")return{...P};const{protocol:a,hostname:e,port:l,origin:s}=window.location,d=(e||"").toLowerCase(),u=["localhost","127.0.0.1"].includes(d)||d.startsWith("192.168.")||d.startsWith("10.")||d.endsWith(".local"),p=Wt(),_=typeof(p==null?void 0:p.downlink)=="number"?Number(p.downlink.toFixed(1)):null,D=typeof(p==null?void 0:p.rtt)=="number"?Math.round(p.rtt):null,m=he(s);return{environmentLabel:u?"\u{1F5A5}\uFE0F \u0628\u064A\u0626\u0629 \u0645\u062D\u0644\u064A\u0629 (Local)":"\u2601\uFE0F \u0627\u062A\u0635\u0627\u0644 \u062E\u0627\u062F\u0645/\u0633\u064A\u0631\u0641\u0631",tip:u?"\u0623\u0646\u062A \u062A\u0639\u0645\u0644 \u0639\u0644\u0649 \u0646\u0633\u062E\u0629 \u0645\u062D\u0644\u064A\u0629\u060C \u062A\u0630\u0643\u0651\u0631 \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0642\u0628\u0644 \u0646\u0634\u0631\u0647\u0627.":"\u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0645\u0628\u0627\u0634\u0631 \u0628\u0627\u0644\u0633\u064A\u0631\u0641\u0631\u060C \u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0633\u062A\u0642\u0631\u0627\u0631 \u0627\u0644\u0634\u0628\u0643\u0629 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629.",host:e||"-",port:l||(a==="https:"?"443":"80"),protocol:a?a.replace(":","").toUpperCase():"-",origin:s||"-",secure:a==="https:",networkType:(p==null?void 0:p.type)||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641",effectiveType:(p==null?void 0:p.effectiveType)||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641",downlink:_,rtt:D,apiBaseUrl:m,lastUpdated:new Date().toLocaleTimeString("ar-SA"),isLocal:u}}function he(a="-"){var e,l,s,d,u;return typeof window>"u"?a:(l=(e=window==null?void 0:window.axios)==null?void 0:e.defaults)!=null&&l.baseURL?window.axios.defaults.baseURL:(s=window==null?void 0:window.Ziggy)!=null&&s.url?window.Ziggy.url:(d=window==null?void 0:window.Laravel)!=null&&d.baseUrl?window.Laravel.baseUrl:((u=window.location)==null?void 0:u.origin)||a||"-"}function Wt(){return typeof navigator>"u"?null:navigator.connection||navigator.mozConnection||navigator.webkitConnection||null}const ke=async()=>{var l,s;if(nt.value||!confirm(`\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062A\u0634\u063A\u064A\u0644 \u0639\u0645\u0644\u064A\u0629 \u0646\u0642\u0644 \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A\u061F

\u0647\u0630\u0627 \u0642\u062F \u064A\u0633\u062A\u063A\u0631\u0642 \u0648\u0642\u062A\u0627\u064B \u0637\u0648\u064A\u0644\u0627\u064B \u062D\u0633\u0628 \u062D\u062C\u0645 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A.`))return;nt.value=!0,et.value=[];let a=0,e=!0;mt("info","\u0628\u062F\u0621 \u0639\u0645\u0644\u064A\u0629 \u0646\u0642\u0644 \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A");try{for(;e&&nt.value;){mt("info",`\u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u062F\u0641\u0639\u0629 ${a/Q.value.batchSize+1}...`);const d=await S.post("/api/car-history/migrate-transactions",{limit:Q.value.batchSize,confirm_delete:Q.value.deleteOldData,offset:a},{withCredentials:!0}),u=d.data.stats;U.value.migrated+=u.migrated,U.value.errors+=u.errors,mt("success",`\u062A\u0645 \u0646\u0642\u0644 ${u.migrated} \u0645\u0639\u0627\u0645\u0644\u0629\u060C \u0641\u0634\u0644 ${u.errors}\u060C \u062A\u0645 \u062D\u0630\u0641 ${u.deleted}`),d.data.next_offset?(a=d.data.next_offset,Q.value.delay>0&&await new Promise(p=>setTimeout(p,Q.value.delay*1e3))):(e=!1,mt("success","\u0627\u0646\u062A\u0647\u062A \u0639\u0645\u0644\u064A\u0629 \u0627\u0644\u0646\u0642\u0644 \u0628\u0646\u062C\u0627\u062D"))}await Dt()}catch(d){mt("error","\u0641\u0634\u0644\u062A \u0639\u0645\u0644\u064A\u0629 \u0627\u0644\u0646\u0642\u0644: "+(((s=(l=d.response)==null?void 0:l.data)==null?void 0:s.message)||d.message))}finally{nt.value=!1}},Dt=async()=>{try{const e=(await S.get("/api/sync-monitor/tables",{withCredentials:!0})).data.tables||[],l=e.find(d=>d.name==="transactions"),s=e.find(d=>d.name==="car_history");U.value={total_transactions:(l==null?void 0:l.count)||0,migrated:(s==null?void 0:s.count)||0,remaining:Math.max(0,((l==null?void 0:l.count)||0)-((s==null?void 0:s.count)||0)),errors:0}}catch(a){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A \u0627\u0644\u0646\u0642\u0644:",a)}},mt=(a,e)=>{et.value.unshift({type:a,message:e,timestamp:new Date().toISOString()}),et.value.length>50&&(et.value=et.value.slice(0,50))},Gt=a=>({info:"\u2139\uFE0F",success:"\u2705",warning:"\u26A0\uFE0F",error:"\u274C"})[a]||"\u{1F4DD}",we=a=>({pending:"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631",synced:"\u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",failed:"\u0641\u0634\u0644\u062A"})[a]||a,_e=async()=>{if(!ut.value){ut.value=!0,j("info","\u0628\u062F\u0621 \u062A\u062D\u0633\u064A\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A");try{await new Promise(a=>setTimeout(a,3e3)),j("success","\u062A\u0645 \u062A\u062D\u0633\u064A\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0628\u0646\u062C\u0627\u062D"),i.success("\u062A\u0645 \u062A\u062D\u0633\u064A\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0628\u0646\u062C\u0627\u062D")}catch{j("error","\u0641\u0634\u0644 \u062A\u062D\u0633\u064A\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"),i.error("\u0641\u0634\u0644 \u062A\u062D\u0633\u064A\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A")}finally{ut.value=!1}}},$e=async()=>{if(!gt.value){gt.value=!0,j("info","\u0628\u062F\u0621 \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629");try{await new Promise(a=>setTimeout(a,5e3)),j("success","\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u0628\u0646\u062C\u0627\u062D"),i.success("\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u0628\u0646\u062C\u0627\u062D"),await ft()}catch{j("error","\u0641\u0634\u0644 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629"),i.error("\u0641\u0634\u0644 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629")}finally{gt.value=!1}}},Ce=async()=>{if(!yt.value){yt.value=!0,j("info","\u0628\u062F\u0621 \u0641\u062D\u0635 \u0635\u062D\u0629 \u0627\u0644\u0646\u0638\u0627\u0645");try{const a=[{name:"\u0627\u062A\u0635\u0627\u0644 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",status:"ok"},{name:"\u0645\u0633\u0627\u062D\u0629 \u0627\u0644\u062A\u062E\u0632\u064A\u0646",status:"ok"},{name:"\u0630\u0627\u0643\u0631\u0629 \u0627\u0644\u0646\u0638\u0627\u0645",status:"warning"},{name:"\u0627\u062A\u0635\u0627\u0644 \u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A",status:b.value.online?"ok":"error"}];await new Promise(s=>setTimeout(s,2e3));const e=a.filter(s=>s.status==="error").length,l=a.filter(s=>s.status==="warning").length;xt.value={php_version:"8.2.12",laravel_version:"10.x",database:"SQLite",storage_used:"2.3 GB"},e===0&&l===0?(j("success","\u0627\u0644\u0646\u0638\u0627\u0645 \u0641\u064A \u062D\u0627\u0644\u0629 \u0645\u0645\u062A\u0627\u0632\u0629"),i.success("\u0627\u0644\u0646\u0638\u0627\u0645 \u0641\u064A \u062D\u0627\u0644\u0629 \u0645\u0645\u062A\u0627\u0632\u0629")):(j("warning",`\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 ${e} \u0623\u062E\u0637\u0627\u0621 \u0648 ${l} \u062A\u062D\u0630\u064A\u0631\u0627\u062A`),i.warning(`\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 ${e} \u0623\u062E\u0637\u0627\u0621 \u0648 ${l} \u062A\u062D\u0630\u064A\u0631\u0627\u062A`))}catch{j("error","\u0641\u0634\u0644 \u0641\u062D\u0635 \u0635\u062D\u0629 \u0627\u0644\u0646\u0638\u0627\u0645"),i.error("\u0641\u0634\u0644 \u0641\u062D\u0635 \u0635\u062D\u0629 \u0627\u0644\u0646\u0638\u0627\u0645")}finally{yt.value=!1}}},j=(a,e)=>{lt.value.unshift({type:a,message:e,timestamp:new Date().toISOString()}),lt.value.length>50&&(lt.value=lt.value.slice(0,50))},Kt=async()=>{vt.value=!0;try{const e=(await S.get("/api/sync-monitor/tables",{withCredentials:!0})).data.tables||[],l=e.reduce((d,u)=>d+(u.count||0),0);let s="\u063A\u064A\u0631 \u0645\u062D\u062F\u062F";try{const u=require("fs").statSync("database/database.sqlite");s=Se(u.size)}catch{s="\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"}pt.value={type:"SQLite",version:"3.x",path:"database/database.sqlite",total_tables:e.length,total_records:l,size:s},j("info","\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A")}catch(a){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A:",a),j("error","\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"),pt.value={type:"SQLite",version:"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F",path:"database/database.sqlite",total_tables:C.value.length,total_records:"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F",size:"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"}}finally{vt.value=!1}},Se=a=>{if(a===0)return"0 Bytes";const e=1024,l=["Bytes","KB","MB","GB","TB"],s=Math.floor(Math.log(a)/Math.log(e));return parseFloat((a/Math.pow(e,s)).toFixed(2))+" "+l[s]};return Qt(async()=>{await Dt(),await Kt()}),(a,e)=>(o(),r(L,null,[Z(Zt(Be),{title:"\u0645\u0631\u0627\u0642\u0628\u0629 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629"}),Z(Oe,null,{header:at(()=>[t("div",ds,[e[24]||(e[24]=t("h2",{class:"font-semibold text-xl dark:text-gray-200 text-gray-800"}," \u{1F504} \u0645\u0631\u0627\u0642\u0628\u0629 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0648\u0627\u0644\u0640 Offline Mode ",-1)),t("div",is,[t("button",{onClick:q,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",disabled:ot.value},[ot.value?(o(),r("span",gs,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",us,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,cs),k.value.pendingCount>0&&b.value.online?(o(),r("button",{key:0,onClick:Lt,class:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",disabled:I.value},[I.value?(o(),r("span",ps,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...")):(o(),r("span",xs,"\u2705 \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0643\u0644"))],8,ys)):v("",!0),t("button",{onClick:Ut,class:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600"}," \u{1F5D1}\uFE0F \u0645\u0633\u062D \u0627\u0644\u0643\u0644 ")])])]),default:at(()=>{var l;return[t("div",vs,[t("div",bs,[t("div",fs,[t("div",ms,[e[25]||(e[25]=t("div",null,[t("h3",{class:"text-lg font-semibold dark:text-gray-200"},"\u{1F5C4}\uFE0F \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0648\u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629"),t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0634\u0627\u0645\u0644\u0629 \u0639\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0648\u0627\u0644\u062D\u0627\u0644\u0629 \u0627\u0644\u062D\u0627\u0644\u064A\u0629")],-1)),t("button",{onClick:Kt,disabled:vt.value,class:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 disabled:opacity-50"},[vt.value?(o(),r("span",ws,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",ks,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,hs)]),vt.value?(o(),r("div",_s,[...e[26]||(e[26]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"},null,-1),t("p",{class:"mt-4 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...",-1)])])):(o(),r("div",$s,[t("div",Cs,[e[30]||(e[30]=t("h4",{class:"text-md font-semibold mb-3 text-gray-900 dark:text-gray-100"},"\u{1F4CA} \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",-1)),t("div",Ss,[t("div",Ls,[e[27]||(e[27]=t("span",{class:"text-gray-600 dark:text-gray-400"},"\u0627\u0644\u0646\u0648\u0639:",-1)),t("span",Ms,n(pt.value.type||"SQLite"),1)]),t("div",Ts,[e[28]||(e[28]=t("span",{class:"text-gray-600 dark:text-gray-400"},"\u0627\u0644\u062D\u062C\u0645:",-1)),t("span",js,n(pt.value.size||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),1)]),t("div",Ds,[e[29]||(e[29]=t("span",{class:"text-gray-600 dark:text-gray-400"},"\u0627\u0644\u062C\u062F\u0627\u0648\u0644:",-1)),t("span",Bs,n(pt.value.total_tables||C.value.length),1)])])]),t("div",Is,[e[34]||(e[34]=t("h4",{class:"text-md font-semibold mb-3 text-blue-900 dark:text-blue-100"},"\u{1F504} \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1)),t("div",Qs,[t("div",Os,[e[31]||(e[31]=t("span",{class:"text-blue-700 dark:text-blue-300"},"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631:",-1)),t("span",zs,n(k.value.pendingCount),1)]),t("div",Us,[e[32]||(e[32]=t("span",{class:"text-blue-700 dark:text-blue-300"},"\u0622\u062E\u0631 \u0645\u0632\u0627\u0645\u0646\u0629:",-1)),t("span",qs,n(ae.value),1)]),t("div",Es,[e[33]||(e[33]=t("span",{class:"text-blue-700 dark:text-blue-300"},"\u0627\u0644\u062D\u0627\u0644\u0629:",-1)),t("span",{class:w(["font-bold",b.value.online?"text-green-600":"text-red-600"])},n(b.value.online?"\u0645\u062A\u0635\u0644":"\u063A\u064A\u0631 \u0645\u062A\u0635\u0644"),3)])])]),t("div",Vs,[e[38]||(e[38]=t("h4",{class:"text-md font-semibold mb-3 text-green-900 dark:text-green-100"},"\u{1F697} \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A",-1)),t("div",As,[t("div",Ns,[e[35]||(e[35]=t("span",{class:"text-green-700 dark:text-green-300"},"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A:",-1)),t("span",Ps,n(U.value.total_transactions||0),1)]),t("div",Rs,[e[36]||(e[36]=t("span",{class:"text-green-700 dark:text-green-300"},"\u0645\u064F\u0646\u0642\u0644:",-1)),t("span",Hs,n(U.value.migrated||0),1)]),t("div",Fs,[e[37]||(e[37]=t("span",{class:"text-green-700 dark:text-green-300"},"\u0645\u062A\u0628\u0642\u064A:",-1)),t("span",Ws,n(U.value.remaining||0),1)])])]),t("div",Gs,[e[39]||(e[39]=t("h4",{class:"text-md font-semibold mb-3 text-purple-900 dark:text-purple-100"},"\u26A1 \u0625\u062C\u0631\u0627\u0621\u0627\u062A \u0633\u0631\u064A\u0639\u0629",-1)),t("div",Ks,[t("button",{onClick:Lt,disabled:!b.value.online||I.value,class:"w-full px-3 py-2 bg-green-600 text-white text-xs rounded hover:bg-green-700 disabled:opacity-50"}," \u{1F504} \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0643\u0644 ",8,Js),t("button",{onClick:Ut,class:"w-full px-3 py-2 bg-red-600 text-white text-xs rounded hover:bg-red-700"}," \u{1F5D1}\uFE0F \u0645\u0633\u062D \u0627\u0644\u0643\u0644 ")])])]))]),t("div",Zs,[t("div",Xs,[e[40]||(e[40]=t("h3",{class:"text-lg font-semibold dark:text-gray-200"},"\u{1F310} \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0627\u0644\u062A\u0642\u0646\u064A\u0629",-1)),t("span",{class:w(["px-3 py-1 rounded-full text-sm font-semibold",y.value.isLocal?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100":"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-100"])},n(y.value.environmentLabel),3)]),t("div",Ys,[t("div",ta,[e[41]||(e[41]=t("p",{class:"text-gray-600 dark:text-gray-400 text-xs"},"\u0627\u0644\u0645\u0636\u064A\u0641 \u0648\u0627\u0644\u0645\u0646\u0641\u0630",-1)),t("p",ea,[J(n(y.value.host||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),1),y.value.port?(o(),r("span",sa,":"+n(y.value.port),1)):v("",!0)])]),t("div",aa,[e[42]||(e[42]=t("p",{class:"text-gray-600 dark:text-gray-400 text-xs"},"\u0646\u0648\u0639 \u0627\u0644\u0634\u0628\u0643\u0629",-1)),t("p",oa,n(y.value.networkType||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),1),t("p",ra,"\u0633\u0631\u0639\u0629: "+n(y.value.effectiveType||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),1)]),t("div",na,[e[43]||(e[43]=t("p",{class:"text-gray-600 dark:text-gray-400 text-xs"},"\u0627\u0644\u0623\u062F\u0627\u0621 \u0627\u0644\u062A\u0642\u0646\u064A",-1)),t("p",la,n(y.value.downlink?y.value.downlink+" Mbps":"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),1),t("p",da,"RTT: "+n(y.value.rtt?y.value.rtt+"ms":"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),1)]),t("div",ia,[e[44]||(e[44]=t("p",{class:"text-gray-600 dark:text-gray-400 text-xs"},"\u0639\u0646\u0648\u0627\u0646 API",-1)),t("p",{class:"font-semibold text-xs truncate",title:y.value.apiBaseUrl},n(y.value.apiBaseUrl||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),9,ca),t("p",ua,n(y.value.protocol||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F")+" \u2022 "+n(y.value.secure?"\u{1F512} \u0622\u0645\u0646":"\u26A0\uFE0F \u063A\u064A\u0631 \u0622\u0645\u0646"),1)])])]),t("div",ga,[t("div",ya,[t("div",null,[e[45]||(e[45]=t("h3",{class:"text-lg font-semibold dark:text-gray-200"},"\u2139\uFE0F \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0627\u0644\u062D\u0627\u0644\u064A\u0629",-1)),t("p",xa,n(y.value.tip),1)]),t("span",{class:w(["px-3 py-1 rounded-full text-sm font-semibold",y.value.isLocal?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100":"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-100"])},n(y.value.environmentLabel),3)]),t("div",pa,[t("div",null,[e[46]||(e[46]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0627\u0644\u0645\u0636\u064A\u0641 / \u0627\u0644\u0645\u0646\u0641\u0630",-1)),t("p",va,[J(n(y.value.host),1),y.value.port?(o(),r("span",ba,":"+n(y.value.port),1)):v("",!0)]),t("p",fa,n(y.value.protocol)+" \u2022 "+n(y.value.secure?"\u{1F512} \u0627\u062A\u0635\u0627\u0644 \u0622\u0645\u0646":"\u26A0\uFE0F \u0627\u062A\u0635\u0627\u0644 \u063A\u064A\u0631 \u0645\u0634\u0641\u0631"),1)]),t("div",null,[e[47]||(e[47]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0646\u0648\u0639 \u0627\u0644\u0634\u0628\u0643\u0629",-1)),t("p",ma,n(y.value.networkType),1),t("p",ha," Effective: "+n(y.value.effectiveType),1)]),t("div",null,[e[48]||(e[48]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0633\u0631\u0639\u0629 \u062A\u0642\u0631\u064A\u0628\u064A\u0629",-1)),t("p",ka,n(y.value.downlink?y.value.downlink+" Mbps":"\u063A\u064A\u0631 \u0645\u062A\u0627\u062D"),1),t("p",wa," RTT: "+n(y.value.rtt?y.value.rtt+" ms":"\u063A\u064A\u0631 \u0645\u062A\u0627\u062D"),1)]),t("div",null,[e[49]||(e[49]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0639\u0646\u0648\u0627\u0646 API / \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1)),t("p",{class:"font-semibold truncate",title:y.value.apiBaseUrl},n(y.value.apiBaseUrl),9,_a),t("p",$a," \u0622\u062E\u0631 \u062A\u062D\u062F\u064A\u062B: "+n(y.value.lastUpdated||"\u2014"),1)])]),t("div",Ca,[t("span",Sa,n(y.value.origin),1)])]),b.value.online?v("",!0):(o(),r("div",La,[...e[50]||(e[50]=[t("div",{class:"flex items-center"},[t("div",{class:"flex-shrink-0"},[t("span",{class:"text-3xl"},"\u26A0\uFE0F")]),t("div",{class:"mr-3"},[t("p",{class:"text-lg font-medium text-yellow-800 dark:text-yellow-200"}," \u0623\u0646\u062A \u062D\u0627\u0644\u064A\u0627\u064B \u0641\u064A \u0648\u0636\u0639 Offline "),t("p",{class:"text-sm text-yellow-700 dark:text-yellow-300"}," \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0627\u0644\u062A\u064A \u062A\u062C\u0631\u064A\u0647\u0627 \u0633\u064A\u062A\u0645 \u062D\u0641\u0638\u0647\u0627 \u0645\u062D\u0644\u064A\u0627\u064B \u0648\u0645\u0632\u0627\u0645\u0646\u062A\u0647\u0627 \u062A\u0644\u0642\u0627\u0626\u064A\u0627\u064B \u0639\u0646\u062F \u0639\u0648\u062F\u0629 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 ")])],-1)])])),t("div",Ma,[t("div",Ta,[t("div",ja,[t("h3",Da," \u{1F4CB} \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 ("+n(C.value.length)+") ",1),t("button",{onClick:e[0]||(e[0]=(...s)=>a.loadTables&&a.loadTables(...s)),class:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700"}," \u{1F504} \u062A\u062D\u062F\u064A\u062B ")])]),t("div",Ba,[t("table",Ia,[e[52]||(e[52]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u062C\u062F\u0648\u0644"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u0633\u062C\u0644\u0627\u062A"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u0645\u0635\u062F\u0631"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A")])],-1)),t("tbody",Qa,[(o(!0),r(L,null,O(C.value.slice(0,wt.value?C.value.length:15),s=>(o(),r("tr",{key:s.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",Oa,n(s.name),1),t("td",za,n(s.count.toLocaleString()),1),t("td",Ua,[t("span",{class:w(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.connection==="sync_sqlite"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"])},n(s.connection==="sync_sqlite"?"SQLite \u0645\u062D\u0644\u064A":"MySQL \u062E\u0627\u062F\u0645"),3)]),t("td",qa,[t("button",{onClick:d=>Nt(s.name,s.connection),class:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300"}," \u0639\u0631\u0636 ",8,Ea),s.connection==="sync_sqlite"?(o(),r("button",{key:0,onClick:d=>Rt(s.name),class:"text-orange-600 hover:text-orange-900 dark:text-orange-400 dark:hover:text-orange-300"}," \u062A\u0641\u0631\u064A\u063A ",8,Va)):v("",!0)])]))),128)),C.value.length===0?(o(),r("tr",Aa,[...e[51]||(e[51]=[t("td",{colspan:"4",class:"px-6 py-4 text-center text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u062C\u062F\u0627\u0648\u0644 \u0645\u062A\u0627\u062D\u0629 ",-1)])])):v("",!0)])])]),C.value.length>15?(o(),r("div",Na,[t("button",{onClick:e[1]||(e[1]=s=>wt.value=!wt.value),class:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400"},n(wt.value?"\u0625\u062E\u0641\u0627\u0621 \u0627\u0644\u062C\u062F\u0627\u0648\u0644":"\u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0627\u0644\u062C\u062F\u0627\u0648\u0644")+" ("+n(C.value.length)+") ",1)])):v("",!0)]),t("div",Pa,[t("div",Ra,[t("div",Ha,[t("button",{onClick:e[2]||(e[2]=s=>N.value="operations"),class:w(["px-6 py-3 text-sm font-medium border-b-2 transition-colors",N.value==="operations"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"])}," \u{1F4CB} \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A ",2),t("button",{onClick:e[3]||(e[3]=s=>N.value="carHistory"),class:w(["px-6 py-3 text-sm font-medium border-b-2 transition-colors",N.value==="carHistory"?"border-green-500 text-green-600 dark:text-green-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"])}," \u{1F697} \u0646\u0642\u0644 \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A ",2),t("button",{onClick:e[4]||(e[4]=s=>N.value="system"),class:w(["px-6 py-3 text-sm font-medium border-b-2 transition-colors",N.value==="system"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"])}," \u{1F527} \u0627\u0644\u0646\u0638\u0627\u0645 ",2)])]),N.value==="operations"?(o(),r("div",Fa,[t("div",Wa,[t("h3",Ga," \u{1F4CB} \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A ("+n(h.value.length)+") ",1),t("div",Ka,[it(t("select",{"onUpdate:modelValue":e[5]||(e[5]=s=>z.value=s),class:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-gray-200"},[...e[53]||(e[53]=[t("option",{value:"all"},"\u0627\u0644\u0643\u0644",-1),t("option",{value:"pending"},"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631",-1),t("option",{value:"synced"},"\u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1),t("option",{value:"failed"},"\u0641\u0634\u0644\u062A",-1)])],512),[[ht,z.value]])])]),t("div",Ja,[t("table",Za,[e[55]||(e[55]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," # "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0639\u0645\u0644\u064A\u0629 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u062A\u0627\u0631\u064A\u062E "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u062D\u0627\u0644\u0629 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A ")])],-1)),t("tbody",Xa,[(o(!0),r(L,null,O(dt.value,(s,d)=>(o(),r("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",Ya,n(d+1),1),t("td",to,[t("div",eo,n(s.operation),1),t("div",so,n(s.details||"\u0628\u062F\u0648\u0646 \u062A\u0641\u0627\u0635\u064A\u0644"),1)]),t("td",ao,n(_t(s.created_at)),1),t("td",oo,[t("span",{class:w(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",{"bg-yellow-100 text-yellow-800":s.status==="pending","bg-green-100 text-green-800":s.status==="synced","bg-red-100 text-red-800":s.status==="failed"}])},n(we(s.status)),3)]),t("td",ro,[s.status==="pending"&&b.value.online?(o(),r("button",{key:0,onClick:u=>Mt(s),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300"}," \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 ",8,no)):v("",!0),t("button",{onClick:u=>zt(s),class:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300"}," \u062D\u0630\u0641 ",8,lo)])]))),128)),dt.value.length===0?(o(),r("tr",io,[...e[54]||(e[54]=[t("td",{colspan:"5",class:"px-6 py-4 text-center text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u0639\u0645\u0644\u064A\u0627\u062A ",-1)])])):v("",!0)])])])])):v("",!0),N.value==="carHistory"?(o(),r("div",co,[t("div",uo,[e[56]||(e[56]=t("div",null,[t("h3",{class:"text-xl font-semibold dark:text-gray-200 mb-2"}," \u{1F697} \u0646\u0642\u0644 \u0645\u0639\u0627\u0645\u0644\u0627\u062A \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0625\u0644\u0649 \u0646\u0638\u0627\u0645 \u0627\u0644\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062C\u062F\u064A\u062F "),t("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," \u0646\u0642\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 \u062C\u062F\u0648\u0644 transactions \u0625\u0644\u0649 \u062C\u062F\u0648\u0644 car_history \u0627\u0644\u062C\u062F\u064A\u062F ")],-1)),t("div",go,[t("button",{onClick:ke,disabled:nt.value,class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed"},[nt.value?(o(),r("span",po,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0646\u0642\u0644...")):(o(),r("span",xo,"\u25B6\uFE0F \u062A\u0634\u063A\u064A\u0644 \u0627\u0644\u0646\u0642\u0644"))],8,yo),t("button",{onClick:Dt,class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"}," \u{1F4CA} \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A ")])]),t("div",vo,[t("div",bo,[t("div",fo,n(U.value.total_transactions||0),1),e[57]||(e[57]=t("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062A",-1))]),t("div",mo,[t("div",ho,n(U.value.migrated||0),1),e[58]||(e[58]=t("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u062A\u0645 \u0627\u0644\u0646\u0642\u0644",-1))]),t("div",ko,[t("div",wo,n(U.value.remaining||0),1),e[59]||(e[59]=t("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0645\u062A\u0628\u0642\u064A",-1))]),t("div",_o,[t("div",$o,n(U.value.errors||0),1),e[60]||(e[60]=t("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0623\u062E\u0637\u0627\u0621",-1))])]),t("div",Co,[e[67]||(e[67]=t("h4",{class:"text-lg font-semibold mb-4 dark:text-gray-200"},"\u2699\uFE0F \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0646\u0642\u0644",-1)),t("div",So,[t("div",null,[e[62]||(e[62]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," \u062D\u062C\u0645 \u0627\u0644\u062F\u0641\u0639\u0629 ",-1)),it(t("select",{"onUpdate:modelValue":e[6]||(e[6]=s=>Q.value.batchSize=s),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-800 dark:text-gray-200"},[...e[61]||(e[61]=[t("option",{value:50},"50",-1),t("option",{value:100},"100",-1),t("option",{value:200},"200",-1),t("option",{value:500},"500",-1)])],512),[[ht,Q.value.batchSize]])]),t("div",null,[e[64]||(e[64]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," \u062A\u0623\u062E\u064A\u0631 \u0628\u064A\u0646 \u0627\u0644\u062F\u0641\u0639\u0627\u062A (\u062B\u0627\u0646\u064A\u0629) ",-1)),it(t("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>Q.value.delay=s),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-800 dark:text-gray-200"},[...e[63]||(e[63]=[t("option",{value:0},"0",-1),t("option",{value:1},"1",-1),t("option",{value:2},"2",-1),t("option",{value:5},"5",-1)])],512),[[ht,Q.value.delay]])]),t("div",null,[e[66]||(e[66]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," \u062D\u0630\u0641 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0642\u062F\u064A\u0645\u0629 ",-1)),t("div",Lo,[it(t("input",{type:"checkbox","onUpdate:modelValue":e[8]||(e[8]=s=>Q.value.deleteOldData=s),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[Ie,Q.value.deleteOldData]]),e[65]||(e[65]=t("span",{class:"mr-2 text-sm text-gray-600 dark:text-gray-400"}," \u062D\u0630\u0641 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062A \u0627\u0644\u0645\u064F\u0646\u0642\u0644\u0629 \u0645\u0646 \u062C\u062F\u0648\u0644 transactions ",-1))])])])]),t("div",Mo,[e[68]||(e[68]=t("div",{class:"p-4 border-b border-gray-200 dark:border-gray-600"},[t("h4",{class:"text-lg font-semibold dark:text-gray-200"},"\u{1F4DD} \u0633\u062C\u0644 \u0627\u0644\u0646\u0642\u0644")],-1)),t("div",To,[et.value.length===0?(o(),r("div",jo," \u0644\u0627 \u062A\u0648\u062C\u062F \u0633\u062C\u0644\u0627\u062A \u0646\u0642\u0644 \u0628\u0639\u062F ")):(o(),r("div",Do,[(o(!0),r(L,null,O(et.value,(s,d)=>(o(),r("div",{key:d,class:"flex items-start space-x-3 text-sm"},[t("span",{class:w(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",{"bg-blue-100 text-blue-800":s.type==="info","bg-green-100 text-green-800":s.type==="success","bg-yellow-100 text-yellow-800":s.type==="warning","bg-red-100 text-red-800":s.type==="error"}])},n(Gt(s.type)),3),t("div",Bo,[t("p",Io,n(s.message),1),t("p",Qo,n(_t(s.timestamp)),1)])]))),128))]))])])])):v("",!0),N.value==="system"?(o(),r("div",Oo,[t("div",zo,[t("div",Uo,[e[73]||(e[73]=t("h4",{class:"text-lg font-semibold mb-4 dark:text-gray-200"},"\u{1F5A5}\uFE0F \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0646\u0638\u0627\u0645",-1)),t("div",qo,[t("div",Eo,[e[69]||(e[69]=t("span",{class:"text-gray-600 dark:text-gray-400"},"\u0625\u0635\u062F\u0627\u0631 PHP:",-1)),t("span",Vo,n(xt.value.php_version||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)]),t("div",Ao,[e[70]||(e[70]=t("span",{class:"text-gray-600 dark:text-gray-400"},"\u0625\u0635\u062F\u0627\u0631 Laravel:",-1)),t("span",No,n(xt.value.laravel_version||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)]),t("div",Po,[e[71]||(e[71]=t("span",{class:"text-gray-600 dark:text-gray-400"},"\u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A:",-1)),t("span",Ro,n(xt.value.database||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)]),t("div",Ho,[e[72]||(e[72]=t("span",{class:"text-gray-600 dark:text-gray-400"},"\u0645\u0633\u0627\u062D\u0629 \u0627\u0644\u062A\u062E\u0632\u064A\u0646:",-1)),t("span",Fo,n(xt.value.storage_used||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)])])]),t("div",Wo,[e[74]||(e[74]=t("h4",{class:"text-lg font-semibold mb-4 dark:text-gray-200"},"\u{1F527} \u0623\u062F\u0648\u0627\u062A \u0627\u0644\u0646\u0638\u0627\u0645",-1)),t("div",Go,[t("button",{onClick:Et,disabled:Ot.value,class:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50"},[Ot.value?(o(),r("span",Zo,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0633\u062D...")):(o(),r("span",Jo,"\u{1F9F9} \u0645\u0633\u062D \u0627\u0644\u0640 Cache"))],8,Ko),t("button",{onClick:_e,disabled:ut.value,class:"w-full px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50"},[ut.value?(o(),r("span",tr,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0633\u064A\u0646...")):(o(),r("span",Yo,"\u26A1 \u062A\u062D\u0633\u064A\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"))],8,Xo),t("button",{onClick:$e,disabled:gt.value,class:"w-full px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:opacity-50"},[gt.value?(o(),r("span",ar,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0646\u0633\u062E...")):(o(),r("span",sr,"\u{1F4BE} \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629"))],8,er),t("button",{onClick:Ce,disabled:yt.value,class:"w-full px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50"},[yt.value?(o(),r("span",nr,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0641\u062D\u0635...")):(o(),r("span",rr,"\u{1F3E5} \u0641\u062D\u0635 \u0635\u062D\u0629 \u0627\u0644\u0646\u0638\u0627\u0645"))],8,or)])])]),t("div",lr,[e[75]||(e[75]=t("div",{class:"p-4 border-b border-gray-200 dark:border-gray-600"},[t("h4",{class:"text-lg font-semibold dark:text-gray-200"},"\u{1F4CB} \u0633\u062C\u0644 \u0639\u0645\u0644\u064A\u0627\u062A \u0627\u0644\u0646\u0638\u0627\u0645")],-1)),t("div",dr,[lt.value.length===0?(o(),r("div",ir," \u0644\u0627 \u062A\u0648\u062C\u062F \u0639\u0645\u0644\u064A\u0627\u062A \u0646\u0638\u0627\u0645 \u0628\u0639\u062F ")):(o(),r("div",cr,[(o(!0),r(L,null,O(lt.value,(s,d)=>(o(),r("div",{key:d,class:"flex items-start space-x-3 text-sm"},[t("span",{class:w(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",{"bg-blue-100 text-blue-800":s.type==="info","bg-green-100 text-green-800":s.type==="success","bg-yellow-100 text-yellow-800":s.type==="warning","bg-red-100 text-red-800":s.type==="error"}])},n(Gt(s.type)),3),t("div",ur,[t("p",gr,n(s.message),1),t("p",yr,n(_t(s.timestamp)),1)])]))),128))]))])])])):v("",!0)]),t("div",xr,[t("div",pr,[t("div",vr,[t("h3",br," \u{1F4CB} \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A ("+n(h.value.length)+") ",1),t("div",fr,[it(t("select",{"onUpdate:modelValue":e[9]||(e[9]=s=>z.value=s),class:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-gray-200"},[...e[76]||(e[76]=[t("option",{value:"all"},"\u0627\u0644\u0643\u0644",-1),t("option",{value:"pending"},"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631",-1),t("option",{value:"synced"},"\u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1),t("option",{value:"failed"},"\u0641\u0634\u0644\u062A",-1)])],512),[[ht,z.value]])])])]),t("div",mr,[t("table",hr,[e[85]||(e[85]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," # "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0646\u0648\u0639 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0639\u0645\u0644\u064A\u0629 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0627\u062A "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0648\u0642\u062A "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u062D\u0627\u0644\u0629 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A ")])],-1)),t("tbody",kr,[dt.value.length===0?(o(),r("tr",wr,[t("td",_r,[e[77]||(e[77]=t("div",{class:"text-5xl mb-2"},"\u{1F4ED}",-1)),t("p",$r,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0639\u0645\u0644\u064A\u0627\u062A "+n(ee.value),1)])])):v("",!0),(o(!0),r(L,null,O(dt.value,(s,d)=>(o(),r("tr",{key:s.id,class:w(["hover:bg-gray-50 dark:hover:bg-gray-700",{"bg-yellow-50 dark:bg-yellow-900":!s.synced&&s.retries<3,"bg-red-50 dark:bg-red-900":s.retries>=3,"bg-green-50 dark:bg-green-900":s.synced}])},[t("td",Cr,n(d+1),1),t("td",Sr,[t("span",{class:w(["px-2 py-1 text-xs font-semibold rounded-full",le(s.storeName)])},n(Tt(s.storeName)),3)]),t("td",Lr,[t("span",{class:w(["px-2 py-1 text-xs font-semibold rounded-full",de(s.action)])},n(qt(s.action)),3)]),t("td",Mr,[t("button",{onClick:u=>oe(s),class:"text-blue-600 hover:text-blue-800 dark:text-blue-400 text-sm underline"}," \u0639\u0631\u0636 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644 ",8,Tr)]),t("td",jr,[t("div",Dr,[t("span",null,n(s.retries||0),1),e[78]||(e[78]=t("span",{class:"text-xs text-gray-500"},"/ 3",-1)),s.retries>=3?(o(),r("div",Br,"\u26A0\uFE0F")):v("",!0)])]),t("td",Ir,n(ie(s.timestamp)),1),t("td",Qr,[s.synced?(o(),r("span",Or,[...e[79]||(e[79]=[t("svg",{class:"w-5 h-5 ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),J(" \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 ",-1)])])):s.retries>=3?(o(),r("span",zr,[...e[80]||(e[80]=[t("svg",{class:"w-5 h-5 ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1),J(" \u0641\u0634\u0644\u062A ",-1)])])):(o(),r("span",Ur,[...e[81]||(e[81]=[t("svg",{class:"w-5 h-5 ml-1 animate-spin",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),J(" \u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631 ",-1)])]))]),t("td",qr,[t("div",Er,[!s.synced&&b.value.online?(o(),r("button",{key:0,onClick:u=>Mt(s),class:"text-green-600 hover:text-green-900 dark:text-green-400",disabled:rt.value.has(s.id),title:"\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629"},[(o(),r("svg",{class:w(["w-5 h-5",{"animate-spin":rt.value.has(s.id)}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[82]||(e[82]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])],2))],8,Vr)):v("",!0),t("button",{onClick:u=>zt(s),class:"text-red-600 hover:text-red-900 dark:text-red-400",title:"\u062D\u0630\u0641"},[...e[83]||(e[83]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Ar),s.error?(o(),r("button",{key:1,onClick:u=>re(s),class:"text-orange-600 hover:text-orange-900 dark:text-orange-400",title:"\u0639\u0631\u0636 \u0627\u0644\u062E\u0637\u0623"},[...e[84]||(e[84]=[t("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)])],8,Nr)):v("",!0)])])],2))),128))])])]),h.value.length>R.value?(o(),r("div",Pr,[t("div",Rr," \u0639\u0631\u0636 "+n((V.value-1)*R.value+1)+" \u0625\u0644\u0649 "+n(Math.min(V.value*R.value,dt.value.length))+" \u0645\u0646 "+n(dt.value.length),1),t("div",Hr,[t("button",{onClick:e[10]||(e[10]=s=>V.value--),disabled:V.value===1,class:"px-3 py-1 border rounded disabled:opacity-50 dark:text-gray-200 dark:border-gray-600"}," \u0627\u0644\u0633\u0627\u0628\u0642 ",8,Fr),t("button",{onClick:e[11]||(e[11]=s=>V.value++),disabled:V.value>=se.value,class:"px-3 py-1 border rounded disabled:opacity-50 dark:text-gray-200 dark:border-gray-600"}," \u0627\u0644\u062A\u0627\u0644\u064A ",8,Wr)])])):v("",!0)]),t("div",Gr,[e[89]||(e[89]=t("h3",{class:"text-lg font-semibold mb-4 dark:text-gray-200"},"\u{1F4BE} \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u062A\u062E\u0632\u064A\u0646 \u0627\u0644\u0645\u062D\u0644\u064A",-1)),t("div",Kr,[t("div",Jr,[e[86]||(e[86]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",-1)),t("p",Zr,n(B.value.cars),1)]),t("div",Xr,[e[87]||(e[87]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0627\u0644\u0639\u0642\u0648\u062F \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",-1)),t("p",Yr,n(B.value.contracts),1)]),t("div",tn,[e[88]||(e[88]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062A \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",-1)),t("p",en,n(B.value.transactions),1)])])]),t("div",sn,[t("div",an,[t("div",on,[t("h3",rn," \u{1F4CA} \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 ("+n(C.value.length)+") ",1),t("div",nn,[it(t("select",{"onUpdate:modelValue":e[12]||(e[12]=s=>x.value=s),onChange:W,class:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-gray-200 text-sm"},[...e[90]||(e[90]=[t("option",{value:"auto"},"\u{1F504} \u062A\u0644\u0642\u0627\u0626\u064A (\u062D\u0633\u0628 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0627\u0644\u062D\u0627\u0644\u064A)",-1),t("option",{value:"mysql"},"\u2601\uFE0F MySQL \u0633\u064A\u0631\u0641\u0631",-1),t("option",{value:"sync_sqlite"},"\u{1F5A5}\uFE0F SQLite \u0645\u062D\u0644\u064A",-1)])],544),[[ht,x.value]]),t("span",{class:w(["px-3 py-1 rounded-full text-sm font-semibold",A.value==="sync_sqlite"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100":"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-100"])},n(A.value==="sync_sqlite"?"\u{1F5A5}\uFE0F SQLite \u0645\u062D\u0644\u064A":"\u2601\uFE0F MySQL \u0633\u064A\u0631\u0641\u0631"),3),t("button",{onClick:W,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",disabled:Y.value},[Y.value?(o(),r("span",cn,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",dn,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,ln),t("button",{onClick:me,class:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 text-sm",disabled:f.value},[f.value?(o(),r("span",yn,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...")):(o(),r("span",gn,"\u{1F504} \u0645\u0632\u0627\u0645\u0646\u0629 \u062B\u0646\u0627\u0626\u064A\u0629 \u0627\u0644\u0627\u062A\u062C\u0627\u0647"))],8,un),t("button",{onClick:e[13]||(e[13]=s=>Ht("up")),class:"px-3 py-2 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 ml-2",disabled:I.value,title:"\u0646\u0642\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629 \u0645\u0646 SQLite \u0627\u0644\u0645\u062D\u0644\u064A \u0625\u0644\u0649 MySQL \u0627\u0644\u0633\u064A\u0631\u0641\u0631"},[I.value?(o(),r("span",vn,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",pn,"\u{1F4E4} \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629 \u2191"))],8,xn),t("button",{onClick:e[14]||(e[14]=s=>Ht("down")),class:"px-3 py-2 bg-purple-500 text-white text-sm rounded hover:bg-purple-600 ml-2",disabled:I.value,title:"\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629 \u0645\u0646 MySQL \u0627\u0644\u0633\u064A\u0631\u0641\u0631 \u0625\u0644\u0649 SQLite \u0627\u0644\u0645\u062D\u0644\u064A"},[I.value?(o(),r("span",mn,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",fn,"\u{1F4E5} \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629 \u2193"))],8,bn)])])]),Y.value?(o(),r("div",hn,[...e[91]||(e[91]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),t("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062C\u062F\u0627\u0648\u0644...",-1)])])):C.value.length===0?(o(),r("div",kn,[...e[92]||(e[92]=[t("div",{class:"text-5xl mb-2"},"\u{1F4ED}",-1),t("p",{class:"text-gray-600 dark:text-gray-400"},"\u0644\u0627 \u062A\u0648\u062C\u062F \u062C\u062F\u0627\u0648\u0644 \u0645\u062A\u0627\u062D\u0629",-1)])])):(o(),r("div",wn,[t("table",_n,[e[93]||(e[93]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0633\u0645 \u0627\u0644\u062C\u062F\u0648\u0644 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0639\u062F\u062F \u0627\u0644\u0633\u062C\u0644\u0627\u062A "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0627\u062A\u0635\u0627\u0644 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A ")])],-1)),t("tbody",$n,[(o(!0),r(L,null,O(C.value,s=>(o(),r("tr",{key:s.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",Cn,[t("span",Sn,n(s.name),1)]),t("td",Ln,[t("span",Mn,n(s.count.toLocaleString()),1)]),t("td",Tn,[t("span",{class:w(["px-2 py-1 text-xs font-semibold rounded-full",s.connection==="sync_sqlite"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200"])},n(s.connection==="sync_sqlite"?"SQLite":"MySQL"),3)]),t("td",jn,[t("div",Dn,[t("button",{onClick:d=>Nt(s.name,s.connection),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400"}," \u0639\u0631\u0636 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644 ",8,Bn),s.connection==="sync_sqlite"?(o(),r(L,{key:0},[t("button",{onClick:d=>Rt(s.name),class:"text-orange-600 hover:text-orange-900 dark:text-orange-400",title:"\u062A\u0641\u0631\u064A\u063A \u0627\u0644\u062C\u062F\u0648\u0644 (\u062D\u0630\u0641 \u062C\u0645\u064A\u0639 \u0627\u0644\u0633\u062C\u0644\u0627\u062A)",disabled:$t.value===s.name}," \u{1F5D1}\uFE0F \u062A\u0641\u0631\u064A\u063A ",8,In),t("button",{onClick:d=>fe(s.name),class:"text-red-600 hover:text-red-900 dark:text-red-400",title:"\u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644 \u0628\u0627\u0644\u0643\u0627\u0645\u0644",disabled:Ct.value===s.name}," \u274C \u062D\u0630\u0641 ",8,Qn)],64)):v("",!0)])])]))),128))])])]))]),t("div",On,[t("div",zn,[t("div",Un,[e[94]||(e[94]=t("h3",{class:"text-lg font-semibold dark:text-gray-200"}," \u{1F4CA} \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0630\u0643\u064A\u0629 (sync_metadata) ",-1)),t("button",{onClick:jt,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",disabled:bt.value},[bt.value?(o(),r("span",Vn,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",En,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,qn)]),e[95]||(e[95]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-2"}," \u064A\u0639\u0631\u0636 \u0622\u062E\u0631 ID \u0648 updated_at \u0627\u0644\u0645\u0632\u0627\u0645\u0646 \u0644\u0643\u0644 \u062C\u062F\u0648\u0644 \u0648\u0627\u062A\u062C\u0627\u0647 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 ",-1))]),bt.value?(o(),r("div",An,[...e[96]||(e[96]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),t("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...",-1)])])):T.value.error?(o(),r("div",Nn,[t("p",Pn,n(T.value.error),1)])):T.value.data.length===0?(o(),r("div",Rn,[...e[97]||(e[97]=[t("div",{class:"text-5xl mb-2"},"\u{1F4CB}",-1),t("p",{class:"text-gray-600 dark:text-gray-400"},"\u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0632\u0627\u0645\u0646\u0629",-1),t("p",{class:"text-xs mt-2 text-gray-500"},"\u0642\u0645 \u0628\u062A\u0634\u063A\u064A\u0644 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0623\u0648\u0644\u0627\u064B \u0644\u0628\u062F\u0621 \u062A\u062A\u0628\u0639 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",-1)])])):(o(),r("div",Hn,[T.value.stats?(o(),r("div",Fn,[t("div",Wn,[t("div",null,[t("p",Gn,n(T.value.stats.total_tables),1),e[98]||(e[98]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0639\u062F\u062F \u0627\u0644\u062C\u062F\u0627\u0648\u0644",-1))]),t("div",null,[t("p",Kn,n(T.value.stats.total_records),1),e[99]||(e[99]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0639\u062F\u062F \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1))]),t("div",null,[t("p",Jn,n(((l=T.value.stats.total_synced_records)==null?void 0:l.toLocaleString())||0),1),e[100]||(e[100]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1))])])])):v("",!0),t("div",Zn,[t("table",Xn,[e[101]||(e[101]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0633\u0645 \u0627\u0644\u062C\u062F\u0648\u0644"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u0627\u062A\u062C\u0627\u0647"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0622\u062E\u0631 ID \u0645\u0632\u0627\u0645\u0646"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0622\u062E\u0631 updated_at"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0622\u062E\u0631 \u0645\u0632\u0627\u0645\u0646\u0629"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0622\u062E\u0631 \u062A\u062D\u062F\u064A\u062B")])],-1)),t("tbody",Yn,[(o(!0),r(L,null,O(T.value.data,s=>{var d,u;return o(),r("tr",{key:`${s.table_name}-${s.direction}`,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",tl,n(s.table_name),1),t("td",el,[t("span",{class:w(["px-2 py-1 text-xs font-semibold rounded-full",s.direction==="down"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"])},n(s.direction_label),3)]),t("td",sl,n(((d=s.last_synced_id)==null?void 0:d.toLocaleString())||0),1),t("td",al,n(s.last_updated_at||"-"),1),t("td",ol,n(s.last_synced_at||"-"),1),t("td",rl,n(((u=s.total_synced)==null?void 0:u.toLocaleString())||0),1),t("td",nl,n(s.updated_at||"-"),1)])}),128))])])])]))]),t("div",ll,[t("div",dl,[t("div",il,[e[102]||(e[102]=t("h3",{class:"text-lg font-semibold dark:text-gray-200"}," \u{1F4BE} \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 ",-1)),t("button",{onClick:ft,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",disabled:F.value},[F.value?(o(),r("span",gl,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",ul,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,cl)])]),F.value?(o(),r("div",yl,[...e[103]||(e[103]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),t("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629...",-1)])])):tt.value.length===0?(o(),r("div",xl,[...e[104]||(e[104]=[t("div",{class:"text-5xl mb-2"},"\u{1F4E6}",-1),t("p",{class:"text-gray-600 dark:text-gray-400"},"\u0644\u0627 \u062A\u0648\u062C\u062F \u0646\u0633\u062E \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629",-1)])])):(o(),r("div",pl,[t("table",vl,[e[105]||(e[105]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0633\u0645 \u0627\u0644\u0645\u0644\u0641"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u062D\u062C\u0645"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A")])],-1)),t("tbody",bl,[(o(!0),r(L,null,O(tt.value,s=>(o(),r("tr",{key:s.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",fl,n(s.name),1),t("td",ml,n(be(s.size)),1),t("td",hl,n(_t(s.date)),1),t("td",kl,[t("button",{onClick:d=>xe(s.name),class:"text-red-600 hover:text-red-900 dark:text-red-400 mr-3",disabled:ct.value}," \u{1F504} \u0627\u0633\u062A\u0639\u0627\u062F\u0629 ",8,wl),t("button",{onClick:d=>pe(s.name),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 mr-3"}," \u{1F4E5} \u062A\u062D\u0645\u064A\u0644 ",8,_l),t("button",{onClick:d=>ve(s.name),class:"text-red-600 hover:text-red-900 dark:text-red-400",title:"\u062D\u0630\u0641 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629"}," \u{1F5D1}\uFE0F \u062D\u0630\u0641 ",8,$l)])]))),128))])])]))]),t("div",{class:"mt-6 bg-gray-50 dark:bg-gray-900 shadow-sm rounded-lg p-6"},[e[106]||(e[106]=t("h3",{class:"text-lg font-semibold mb-4 dark:text-gray-200"},"\u{1F6E0}\uFE0F \u0623\u062F\u0648\u0627\u062A \u0627\u0644\u0645\u0637\u0648\u0631",-1)),t("div",{class:"grid grid-cols-2 md:grid-cols-4 gap-3"},[t("button",{onClick:ce,class:"px-4 py-2 bg-indigo-500 text-white rounded hover:bg-indigo-600"}," \u{1F9EA} \u0627\u062E\u062A\u0628\u0627\u0631 Offline "),t("button",{onClick:Et,class:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600"}," \u{1F5D1}\uFE0F \u0645\u0633\u062D Cache "),t("button",{onClick:ue,class:"px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600"}," \u{1F4E5} \u062A\u0635\u062F\u064A\u0631 Logs "),t("button",{onClick:ge,class:"px-4 py-2 bg-teal-500 text-white rounded hover:bg-teal-600"}," \u{1F4CA} \u0645\u0639\u0644\u0648\u0645\u0627\u062A DB ")])])])]),Z(It,{show:H.value.show,onClose:e[16]||(e[16]=s=>H.value.show=!1)},{default:at(()=>[t("div",Cl,[e[107]||(e[107]=t("h3",{class:"text-lg font-semibold mb-4 dark:text-gray-200"},"\u{1F4C4} \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",-1)),t("pre",Sl,n(JSON.stringify(H.value.data,null,2)),1),t("div",Ll,[t("button",{onClick:e[15]||(e[15]=s=>H.value.show=!1),class:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600"}," \u0625\u063A\u0644\u0627\u0642 ")])])]),_:1},8,["show"]),Z(It,{show:M.value.show,onClose:e[19]||(e[19]=s=>M.value.show=!1)},{default:at(()=>[t("div",Ml,[e[108]||(e[108]=t("h3",{class:"text-lg font-semibold mb-4 text-red-600 dark:text-red-400"},"\u274C \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062E\u0637\u0623",-1)),t("div",Tl,[t("p",jl,n(M.value.title),1),t("p",Dl,n(M.value.message),1)]),t("pre",Bl,n(M.value.stack),1),t("div",Il,[t("button",{onClick:e[17]||(e[17]=s=>ne(M.value.item)),class:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600"}," \u{1F504} \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 "),t("button",{onClick:e[18]||(e[18]=s=>M.value.show=!1),class:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600"}," \u0625\u063A\u0644\u0627\u0642 ")])])]),_:1},8,["show"]),Z(It,{show:c.value.show,onClose:e[23]||(e[23]=s=>c.value.show=!1)},{default:at(()=>{var s;return[t("div",Ql,[t("h3",Ol," \u{1F4CB} \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062C\u062F\u0648\u0644: "+n(c.value.tableName),1),St.value?(o(),r("div",zl,[...e[109]||(e[109]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),t("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...",-1)])])):c.value.error?(o(),r("div",Ul,[t("p",ql,n(c.value.error),1)])):(o(),r("div",El,[t("div",Vl,[t("div",Al,[e[110]||(e[110]=J(" \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0633\u062C\u0644\u0627\u062A: ",-1)),t("span",Nl,n(((s=c.value.total)==null?void 0:s.toLocaleString())||0),1)]),t("div",Pl,[e[111]||(e[111]=J(" \u0627\u0644\u0627\u062A\u0635\u0627\u0644: ",-1)),t("span",Rl,n(c.value.connection||"-"),1)])]),c.value.columns.length===0&&c.value.data.length>0?(o(),r("div",Hl," \u26A0\uFE0F \u0627\u0644\u0623\u0639\u0645\u062F\u0629 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629\u060C \u064A\u062A\u0645 \u0627\u0633\u062A\u062E\u0631\u0627\u062C\u0647\u0627 \u0645\u0646 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A... ")):v("",!0),c.value.columns.length>0?(o(),r("div",Fl,[t("table",Wl,[t("thead",Gl,[t("tr",null,[(o(!0),r(L,null,O(c.value.columns,d=>(o(),r("th",{key:d,class:"px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase border-r border-gray-200 dark:border-gray-600"},n(d),1))),128))])]),t("tbody",Kl,[c.value.data.length===0?(o(),r("tr",Jl,[t("td",{colspan:c.value.columns.length||1,class:"px-4 py-8 text-center text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A ",8,Zl)])):v("",!0),(o(!0),r(L,null,O(c.value.data,(d,u)=>(o(),r("tr",{key:u,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[(o(!0),r(L,null,O(c.value.columns,p=>(o(),r("td",{key:`${u}-${p}`,class:"px-4 py-2 text-xs dark:text-gray-300 border-r border-gray-100 dark:border-gray-700 whitespace-nowrap"},n(ye(d[p])),1))),128))]))),128))])])])):(o(),r("div",Xl,[e[112]||(e[112]=t("div",{class:"text-5xl mb-2"},"\u{1F4CB}",-1)),e[113]||(e[113]=t("p",null,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0623\u0639\u0645\u062F\u0629 \u0645\u062A\u0627\u062D\u0629 \u0644\u0644\u0639\u0631\u0636",-1)),t("p",Yl,"\u0639\u062F\u062F \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A: "+n(c.value.data.length),1)])),c.value.total>c.value.limit?(o(),r("div",td,[t("div",ed," \u0639\u0631\u0636 "+n(c.value.offset+1)+" \u0625\u0644\u0649 "+n(Math.min(c.value.offset+c.value.limit,c.value.total))+" \u0645\u0646 "+n(c.value.total),1),t("div",sd,[t("button",{onClick:e[20]||(e[20]=d=>Pt(c.value.tableName,c.value.offset-c.value.limit,c.value.tableConnection)),disabled:c.value.offset===0,class:"px-3 py-1 border rounded disabled:opacity-50 dark:text-gray-200 dark:border-gray-600"}," \u0627\u0644\u0633\u0627\u0628\u0642 ",8,ad),t("button",{onClick:e[21]||(e[21]=d=>Pt(c.value.tableName,c.value.offset+c.value.limit,c.value.tableConnection)),disabled:c.value.offset+c.value.limit>=c.value.total,class:"px-3 py-1 border rounded disabled:opacity-50 dark:text-gray-200 dark:border-gray-600"}," \u0627\u0644\u062A\u0627\u0644\u064A ",8,od)])])):v("",!0)])),t("div",rd,[t("button",{onClick:e[22]||(e[22]=d=>c.value.show=!1),class:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600"}," \u0625\u063A\u0644\u0627\u0642 ")])])]}),_:1},8,["show"]),Z(ls)]}),_:1})],64))}},xd=Xt(nd,[["__scopeId","data-v-45f56d53"]]);export{xd as default};
