import{y as ae,r as m,u as re,a as i,g as r,j as a,w,F as V,o as c,H as le,k as b,b as t,t as l,i as h,e as Nt,z as de,h as X,l as O,f as st,s as ne,n as ie}from"./app.14a33bc8.js";import{_ as ce}from"./AuthenticatedLayout.4cf055cd.js";import{M as ue}from"./Modal.1c107422.js";import{t as pe}from"./laravel-vue-pagination.es.f930ca1d.js";import{_}from"./InputLabel.8cdb8879.js";import{_ as y}from"./TextInput.89b00ca5.js";import{a as $}from"./index.9533cfff.js";import{M as ot}from"./ModalDelCar.d8363921.js";import{_ as me}from"./ModalEditCar_S.bfd848dd.js";import{_ as _e}from"./ModalAddCarPayment.2a4de53f.js";import{_ as he,a as be,b as ye,c as xe,e as fe}from"./exit.190bb5ee.js";import{p as at}from"./print.d26d1df2.js";import{p as At}from"./pay.a70d125e.js";import{t as ge}from"./trash.8536862e.js";import{e as ve}from"./edit.940ee420.js";import{s as ke}from"./show.529331de.js";import{n as we}from"./new.d72d9955.js";/* empty css                                              *//* empty css                                                    */import"./Uploader.de636b46.js";/* empty css                                                                 *//* empty css                                                       */const $e=t("h2",{class:"font-semibold text-xl dark:text-gray-400 text-gray-800 leading-tight"}," \u0634\u0631\u0643\u0629 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 ",-1),Ce={class:"mb-5 dark:text-gray-400 text-center"},Ne={class:"mb-5 dark:text-gray-400 text-center"},Ae=t("h2",{class:"mb-5 dark:text-gray-400 text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1),De={key:0},Pe={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},Ie={class:"ml-3 text-sm font-medium text-red-700 dark:text-red-800"},Me={key:1,class:"py-4"},Se={class:"text-center pb-2 dark:text-gray-400"},Fe={class:"max-w-9xl mx-auto sm:px-6 lg:px-8 p-6 dark:bg-gray-900"},Ee={class:"overflow-hidden shadow-sm sm:rounded-lg"},Te={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 lg:gap-1"},Be={class:"pr-4"},Ue={value:"undefined",disabled:""},Re=["value"],Ve={className:"mb-4  mr-5"},qe={class:"flex items-center ps-4 rounded-lg border border-gray-300 text-gray-900 mt-1"},ze=["value","checked"],je={for:"bordered-checkbox-1",class:"w-full pt-3 py-2 mx-4 text-sm font-medium text-gray-900 dark:text-gray-300"},He={class:"px-4"},Le={className:"mb-4 mx-5"},We={class:"px-4"},Oe={className:"mb-4 mx-5"},Ye={className:"mb-4  mr-5 print:hidden"},Ge=t("span",null,"\u0641\u0644\u062A\u0631\u0629",-1),Je=[Ge],Ke={className:"mb-4  mr-5 print:hidden"},Qe=["href"],Xe=t("span",null,"\u0637\u0628\u0627\u0639\u0629",-1),Ze=[Xe],ts={className:"mb-4  mr-5 print:hidden"},es=["href"],ss=t("span",null,"Excel",-1),os=[ss],as={className:"mb-4  mr-5"},rs={className:"mb-4  mr-5"},ls={className:"mb-4  mr-5"},ds={className:"mb-4  mr-5"},ns={className:"mb-4  mr-5"},is={key:0,className:"mb-4  mr-5 print:hidden"},cs=["disabled"],us=t("span",null,"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629",-1),ps=[us],ms=["disabled"],_s=t("span",null,"\u0627\u062E\u0641\u0627\u0621 \u062F\u0641\u0639\u0629",-1),hs=[_s],bs={className:"mb-4  mr-5 print:hidden"},ys=["disabled"],xs=t("span",null,"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1),fs=[xs],gs=t("span",null,"\u0627\u062E\u0641\u0627\u0621 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1),vs=[gs],ks={key:1,className:"mb-4  mr-5"},ws={className:"mb-4  mr-5"},$s={className:"mb-4  mr-5"},Cs={className:"mb-4  mr-5"},Ns={className:"mb-4  mr-5"},As={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 lg:gap-1"},Ds={className:"mb-4  mr-5"},Ps={className:"mb-4  mr-5"},Is={className:"mb-4  mr-5"},Ms={className:"mb-4  mr-5 print:hidden"},Ss=["disabled"],Fs={key:0},Es={key:1},Ts={key:2},Bs={key:1,class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},Us={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},Rs={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Vs={class:"bg-rose-500 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},qs=t("th",{className:"px-1 py-2 text-base"},"#",-1),zs={className:"px-1 py-2 text-base"},js={className:"px-1 py-2 text-base"},Hs={className:"px-1 py-2 text-base"},Ls={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},Ws={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Os=t("td",null,null,-1),Ys=t("td",null,null,-1),Gs=t("td",null,null,-1),Js=t("td",null,null,-1),Ks={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Qs=["href"],Xs={key:0,class:"text-center"},Zs={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},to={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},eo={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},so={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},oo={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ao=["href"],ro={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},lo=t("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A",-1),no=t("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1),io={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},co={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},uo={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},po={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},mo={class:"rounded-l-lg mb-2 sm:mb-0"},_o={scope:"col",class:"px-1 py-2 text-base"},ho={scope:"col",class:"px-1 py-2 text-base"},bo={scope:"col",class:"px-1 py-2 text-base"},yo={scope:"col",class:"px-1 py-2 text-base"},xo={scope:"col",class:"px-1 py-2 text-base"},fo={scope:"col",class:"px-1 py-2 text-base"},go={scope:"col",class:"px-1 py-2 text-base"},vo={scope:"col",class:"px-1 py-2 text-base"},ko={scope:"col",class:"px-1 py-2 text-base print:hidden"},wo={scope:"col",class:"px-1 py-2 text-base print:hidden"},$o=t("th",{scope:"col",class:"px-1 py-2 text-base print:hidden"}," \u062C\u0645\u0631\u0643 \u0645\u0646\u0641\u0633\u062A ",-1),Co=t("th",{scope:"col",class:"px-1 py-2 text-base print:hidden"}," \u062E\u0635\u0645 \u0645\u0628\u0627\u0634\u0631 ",-1),No={scope:"col",class:"px-1 py-2 text-base"},Ao={scope:"col",class:"px-1 py-2 text-base"},Do={scope:"col",class:"px-1 py-2 text-base"},Po={scope:"col",class:"px-1 py-2 text-base"},Io=t("th",{scope:"col",class:"px-1 py-2 text-base"}," \u0646\u0642\u0644 \u0628\u0631\u064A ",-1),Mo=t("th",{scope:"col",class:"px-1 py-2 text-base"},"\u0646\u0642\u0644 \u0648\u062A\u062E\u0644\u064A\u0635 \u062F\u064A\u0646\u0627\u0631",-1),So={scope:"col",class:"px-1 py-2 text-base"},Fo={scope:"col",class:"px-1 py-2 text-base"},Eo={scope:"col",class:"px-1 py-2 text-base"},To={scope:"col",class:"px-1 py-2 text-base"},Bo={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},Uo=t("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"100px"}}," \u062A\u062E\u0632\u064A\u0646 ",-1),Ro=t("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"120px"}}," \u0627\u0644\u0631\u0635\u064A\u062F ",-1),Vo={className:"border dark:border-gray-800 text-center px-2 py-1"},qo={className:"border dark:border-gray-800 text-center px-2 py-1"},zo={className:"border dark:border-gray-800 text-center px-2 py-1"},jo={className:"border dark:border-gray-800 text-center px-2 py-1"},Ho={className:"border dark:border-gray-800 text-center px-2 py-1"},Lo={className:"border dark:border-gray-800 text-center px-2 py-1"},Wo={className:"border dark:border-gray-800 text-center px-2 py-1"},Oo={className:"border dark:border-gray-800 text-center px-2 py-1"},Yo={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},Go={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},Jo={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},Ko={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},Qo={className:"border dark:border-gray-800 text-center px-2 py-1"},Xo={className:"border dark:border-gray-800 text-center px-2 py-1"},Zo={className:"border dark:border-gray-800 text-center px-2 py-1"},ta={className:"border dark:border-gray-800 text-center px-2 py-1"},ea={className:"border dark:border-gray-800 text-center px-2 py-1"},sa={className:"border dark:border-gray-800 text-center px-2 py-1"},oa={className:"border dark:border-gray-800 text-center px-2 py-1"},aa={className:"border dark:border-gray-800 text-center px-2 py-1"},ra={className:"border dark:border-gray-800 text-center px-1 py-2 "},la={className:"border dark:border-gray-800 text-center px-2 py-1"},da={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},na=["onClick"],ia=["onClick"],ca=["onClick"],ua=["onClick"],pa=["onClick"],ma=["onClick"],_a=["onClick"],ha=["href"],ba={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},ya=["href"],xa=["src"],fa={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},ga=["onClick"],va=["onClick"],ka={class:"mt-3 text-center",style:{direction:"ltr"}},wa={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 dark:text-gray-400 hidden print:block"},$a={class:"flex flex-row"},Ca={class:"basis-1/2"},Na=t("br",null,null,-1),Aa=t("div",{class:"basis-1/2 text-center"},"\u062A\u0648\u0642\u064A\u0639 \u0642\u0633\u0645 \u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1),Da=t("div",{class:"basis-1/2 text-end"},"\u062A\u0648\u0642\u064A\u0639 \u0627\u0644\u0645\u062F\u064A\u0631",-1),Qa={__name:"Show",props:{url:String,clients:Array,client_id:String,client:Object,q:String},setup(Y){const Z=Y;let x=ae();m(0);let d=m({}),I=m(0),C=m(0),N=m(0),S=m(!1),q=m(!1),z=m(!1),F=m(!1),tt=m(!1),j=m(!1),f=m(!1),E=m(!1),T=m(!1),B=m(!1),G=m(!1);m(0);let u=m({}),U=m(0),H=m(""),A=m(0),v=m(0);m(0);let L=m(!1),W=m(!1),K=async(s=1)=>{$.get(`/api/getIndexAccountsSelas?page=${s}&user_id=${Z.client_id}&from=${C.value}&to=${N.value}`).then(o=>{d.value=o.data,v.value=o.data.client.id}).catch(o=>{console.error(o)})};function D(){return{totalAmount:d.value.transactions.filter(n=>n.type==="out"&&n.amount<0&&n.is_pay===1).reduce((n,p)=>n+p.amount,0)}}function Dt(s={}){u.value=s,L.value=!0}function Pt(s={}){u.value=s,W.value=!0}function It(s){var o,n;s.balance=D().totalAmount*-1-((o=d.value)==null?void 0:o.cars_paid)-((n=d.value)==null?void 0:n.cars_discount),$.post("/api/AddPayFromBalanceCar",s).then(p=>{L.value=!1,window.location.reload()}).catch(p=>{console.error(p)})}function Mt(s){$.post("/api/DelPayFromBalanceCar",s).then(o=>{W.value=!1,window.location.reload()}).catch(o=>{console.error(o)})}const M=async(s=1)=>{$.get(`/api/getIndexAccountsSelas?page=${s}&user_id=${v.value}&from=${C.value}&to=${N.value}`).then(o=>{d.value=o.data,v.value=o.data.client.id}).catch(o=>{console.error(o)})};K();const St=re();let P=m(!1);function Ft(s){St.get(route("sentToCourt",s)),K(),P.value=!1}function Et(s={}){u.value=s,z.value=!0}function Tt(s={}){u.value=s,u.value.dinar_s==0&&(u.value.dinar_s=u.value.dinar),q.value=!0}function Bt(s={}){u.value=s,u.value.notePayment=" \u0628\u064A\u062F ",F.value=!0}function Ut(s){$.post("/api/DelCar",s).then(o=>{z.value=!1,window.location.reload()}).catch(o=>{console.error(o)})}function Rt(s){q.value=!1,$.post("/api/updateCarsS",s).then(o=>{P.value=!1,x.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),M()}).catch(o=>{x.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),M()})}function Vt(s){var o,n;s.discountPayment||(s.discountPayment=0),$.get(`/api/addPaymentCar?car_id=${s.id}&discount=${s.discountPayment}&amount=${(o=s.amountPayment)!=null?o:0}&note=${(n=s.notePayment)!=null?n:""}`).then(p=>{F.value=!1,x.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+s.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),M();let g=p.data;window.open(`/api/getIndexAccountsSelas?user_id=${Z.client_id}&print=2&transactions_id=${g.id}`,"_blank")}).catch(p=>{P.value=!1,console.log(p),x.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function qt(s,o,n,p){I.value=!0,$.get(`/api/addPaymentCarTotal?amount=${s!=null?s:0}&discount=${n!=null?n:0}&note=${p}&client_id=${o!=null?o:0}`).then(g=>{F.value=!1,x.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+s+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),S.value=!1,I.value=!1,M(),zt();let R=g.data;window.open(`/api/getIndexAccountsSelas?user_id=${Z.client_id}&print=2&transactions_id=${R.id}`,"_blank")}).catch(g=>{console.log(g),P.value=!1,I.value=!1,x.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function zt(){A.value=0,U.value=0,H.value=""}function jt(){S.value=!0,j.value=!1}function Ht(){S.value=!1}function Lt(){j.value=!0,S.value=!1}function Wt(){j.value=!1}function Ot(s={}){u.value=s,u.value.prices=100,u.value.price_dinars=5e4,E.value=!0}function Yt(s={}){u.value=s,T.value=!0}function Gt(s={}){u.value=s,u.value.createdExit=te(),B.value=!0}function Jt(s={}){u.value=s,G.value=!0}function Kt(){var o,n,p;let s=(p=(n=(o=d==null?void 0:d.value)==null?void 0:o.client)==null?void 0:n.wallet)==null?void 0:p.balance;A.value=s-U.value}function Qt(){var o,n,p;let s=(p=(n=(o=d==null?void 0:d.value)==null?void 0:o.client)==null?void 0:n.wallet)==null?void 0:p.balance;console.log(s),A.value>s?(A.value=s,tt.value=!0,x.info(" \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u062F\u064A\u0646 \u0627\u0644\u0645\u0637\u0644\u0648\u0628 "+A.value,{timeout:4e3,position:"bottom-right",rtl:!0})):tt.value=!1}function Xt(s){var o,n,p,g,R,J;$.get(`/api/addCarContracts?car_id=${s.id}&price=${(o=s.prices)!=null?o:0}&price_dinar=${(n=s.price_dinars)!=null?n:0}&paid=${(p=s.paids)!=null?p:0}&paid_dinar=${(g=s.paid_dinars)!=null?g:0}&phone=${(R=s.phone)!=null?R:""}&note=${(J=s.note)!=null?J:""}`).then(Q=>{E.value=!1,x.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u0628\u0646\u062C\u0627\u062D ",{timeout:4e3,position:"bottom-right",rtl:!0}),M()}).catch(Q=>{E.value=!1,x.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Zt(s){var o,n,p;$.get(`/api/editCarContracts?car_id=${s.id}&paid=${(o=s.paids)!=null?o:0}&paid_dinar=${(n=s.paid_dinars)!=null?n:0}&note=${(p=s.notePayment)!=null?p:""}`).then(g=>{T.value=!1,x.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+s.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),M()}).catch(g=>{T.value=!1,x.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function rt(s){$.get(`/api/makeCarExit?car_id=${s.id}&created=${s.createdExit}&phone=${s.phoneExit}&note=${s.noteExit}`).then(o=>{B.value=!1,x.success("\u062A\u0645 \u0627\u0636\u0627\u0641\u0629 \u062E\u0631\u0648\u062C\u064A\u0629 \u0644\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:5e3,position:"bottom-right",rtl:!0}),M()}).catch(o=>{B.value=!1,x.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function te(){const s=new Date,o=s.getFullYear(),n=String(s.getMonth()+1).padStart(2,"0"),p=String(s.getDate()).padStart(2,"0");return`${o}-${n}-${p}`}function ee(s){return`/public/uploadsResized/${s}`}function se(s){return`/public/uploads/${s}`}return(s,o)=>(c(),i(V,null,[r(a(le),{title:"Dashboard"}),r(ce,null,{header:w(()=>[$e]),default:w(()=>{var n,p,g,R,J,Q,lt,dt,nt,it,ct,ut,pt,mt,_t,ht,bt,yt;return[r(he,{formData:a(u),show:!!a(E),onA:o[0]||(o[0]=e=>Xt(e)),onClose:o[1]||(o[1]=e=>b(E)?E.value=!1:E=!1)},{header:w(()=>[]),_:1},8,["formData","show"]),r(ot,{show:!!a(L),formData:a(u),onA:o[2]||(o[2]=e=>It(e)),onClose:o[3]||(o[3]=e=>b(L)?L.value=!1:L=!1)},{header:w(()=>[t("h2",Ce," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062F\u0641\u0639 "+l(a(u).car_type)+" \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",1)]),_:1},8,["show","formData"]),r(ot,{show:!!a(W),formData:a(u),onA:o[4]||(o[4]=e=>Mt(e)),onClose:o[5]||(o[5]=e=>b(W)?W.value=!1:W=!1)},{header:w(()=>[t("h2",Ne," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0639\u0627\u062F\u0629 \u062F\u0641\u0639\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 "+l(a(u).car_type)+" \u0644\u0644\u0631\u0635\u064A\u062F \u061F ",1)]),_:1},8,["show","formData"]),r(be,{formData:a(u),show:!!a(T),onA:o[6]||(o[6]=e=>Zt(e)),onClose:o[7]||(o[7]=e=>b(T)?T.value=!1:T=!1)},{header:w(()=>[]),_:1},8,["formData","show"]),r(ye,{formData:a(u),show:!!a(B),onA:o[8]||(o[8]=e=>rt(e)),onClose:o[9]||(o[9]=e=>b(B)?B.value=!1:B=!1)},{header:w(()=>[]),_:1},8,["formData","show"]),r(xe,{formData:a(u),show:!!a(G),onA:o[10]||(o[10]=e=>rt(e)),onClose:o[11]||(o[11]=e=>b(G)?G.value=!1:G=!1)},{header:w(()=>[]),_:1},8,["formData","show"]),r(me,{formData:a(u),show:!!a(q),client:Y.clients,onA:o[12]||(o[12]=e=>Rt(e)),onClose:o[13]||(o[13]=e=>b(q)?q.value=!1:q=!1)},{header:w(()=>[]),_:1},8,["formData","show","client"]),r(_e,{formData:a(u),show:!!a(F),onA:o[14]||(o[14]=e=>Vt(e)),onClose:o[15]||(o[15]=e=>b(F)?F.value=!1:F=!1)},{header:w(()=>[]),_:1},8,["formData","show"]),r(ot,{show:!!a(z),formData:a(u),onA:o[16]||(o[16]=e=>Ut(e)),onClose:o[17]||(o[17]=e=>b(z)?z.value=!1:z=!1)},{header:w(()=>[Ae]),_:1},8,["show","formData"]),r(ue,{show:!!a(P),data:a(P).toString(),onA:o[18]||(o[18]=e=>Ft(e,s.arg1)),onClose:o[19]||(o[19]=e=>b(P)?P.value=!1:P=!1)},null,8,["show","data"]),s.$page.props.success?(c(),i("div",De,[t("div",Pe,[t("div",Ie,l(s.$page.props.success),1)])])):h("",!0),s.$page.props.auth.user.type_id==1||s.$page.props.auth.user.type_id==6?(c(),i("div",Me,[t("h2",Se,l(s.$t("sales_bill")),1),t("div",Fe,[t("div",Ee,[t("div",Te,[t("div",Be,[r(_,{class:"mb-1",for:"invoice_number",value:s.$t("Account")},null,8,["value"]),Nt(t("select",{onChange:o[20]||(o[20]=e=>M()),"onUpdate:modelValue":o[21]||(o[21]=e=>b(v)?v.value=e:v=e),id:"default",class:"pr-8 border border-gray-300 text-gray-900 mb-6 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:border-gray-400 dark:placeholder-gray-400 dark:text-gray-600 dark:focus:ring-red-500 dark:focus:border-red-500"},[t("option",Ue,l(s.$t("selectCustomer")),1),(c(!0),i(V,null,X(Y.clients,(e,et)=>(c(),i(V,{key:et},[e.wallet.balance>0||e.id==a(v)?(c(),i("option",{key:0,value:e.id},l(e.name),9,Re)):h("",!0)],64))),128))],544),[[de,a(v)]])]),t("div",null,[t("div",Ve,[r(_,{for:"totalAmount",value:"\u0641\u0644\u062A\u0631\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u0643\u062A\u0645\u0644\u0629"}),t("div",qe,[t("input",{id:"bordered-checkbox-1",type:"checkbox",onChange:o[22]||(o[22]=e=>a(f)==!0?b(f)?f.value=!1:f=!1:b(f)?f.value=!0:f=!0),value:a(f),checked:!a(f),name:"bordered-checkbox",class:"w-4 h-4 mx-2 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,ze),t("label",je,l(a(f)==!1?" \u062A\u0645 \u0627\u0644\u0641\u0644\u062A\u0631":"\u062A\u0645 \u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0629"),1)])])]),t("div",He,[t("div",Le,[r(_,{for:"from",value:s.$t("from_date")},null,8,["value"]),r(y,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:a(C),"onUpdate:modelValue":o[23]||(o[23]=e=>b(C)?C.value=e:C=e)},null,8,["modelValue"])])]),t("div",We,[t("div",Oe,[r(_,{for:"to",value:s.$t("to_date")},null,8,["value"]),r(y,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:a(N),"onUpdate:modelValue":o[24]||(o[24]=e=>b(N)?N.value=e:N=e)},null,8,["modelValue"])])]),t("div",Ye,[r(_,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),t("button",{onClick:o[25]||(o[25]=O(e=>a(K)(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},Je)]),t("div",Ke,[r(_,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),t("a",{href:`/api/getIndexAccountsSelas?user_id=${a(v)}&from=${a(C)}&to=${a(N)}&print=1&showComplatedCars=${a(f)?0:1}`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-orange-500 rounded block text-center",style:{width:"100%"}},Ze,8,Qe)]),t("div",ts,[r(_,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),t("a",{href:`/api/getIndexAccountsSelas?user_id=${a(v)}&from=${a(C)}&to=${a(N)}&print=1&printExcel=1&showComplatedCars=${a(f)?0:1}`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded block text-center",style:{width:"100%"}},os,8,es)]),t("div",as,[r(_,{for:"car_total",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A"}),r(y,{id:"car_total",type:"text",class:"mt-1 block w-full",value:a(d).car_total,disabled:""},null,8,["value"])]),t("div",rs,[r(_,{for:"cars_sum",value:s.$t("Total_in_dollars")+" \u062C\u0645\u0631\u0643 "},null,8,["value"]),r(y,{id:"cars_sum",type:"text",class:"mt-1 block w-full",value:(n=a(d))==null?void 0:n.cars_sum,disabled:""},null,8,["value"])]),t("div",ls,[r(_,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u062F\u0641\u0648\u0639  \u062C\u0645\u0631\u0643 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),r(y,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:parseFloat((p=a(d))==null?void 0:p.cars_sum)-(parseFloat((J=(R=(g=a(d))==null?void 0:g.client)==null?void 0:R.wallet)==null?void 0:J.balance)+parseFloat((Q=a(d))==null?void 0:Q.cars_discount)),disabled:""},null,8,["value"])]),t("div",ds,[r(_,{for:"cars_discount",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A  \u062C\u0645\u0631\u0643 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),r(y,{id:"cars_discount",type:"text",class:"mt-1 block w-full",value:(lt=a(d))==null?void 0:lt.cars_discount,disabled:""},null,8,["value"])]),t("div",ns,[r(_,{for:"cars_need_paid",value:"  \u0627\u0644\u0631\u0635\u064A\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),r(y,{id:"cars_need_paid",type:"number",class:"mt-1 block w-full",value:D().totalAmount*-1-((dt=a(d))==null?void 0:dt.cars_sum),disabled:""},null,8,["value"])]),D().totalAmount*-1-((nt=a(d))==null?void 0:nt.cars_sum)!=0?(c(),i("div",is,[r(_,{for:"pay",value:"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629"}),a(S)?h("",!0):(c(),i("button",{key:0,onClick:o[26]||(o[26]=O(e=>jt(),["prevent"])),disabled:a(I),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},ps,8,cs)),a(S)?(c(),i("button",{key:1,onClick:o[27]||(o[27]=O(e=>Ht(),["prevent"])),disabled:a(I),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},hs,8,ms)):h("",!0)])):h("",!0),t("div",bs,[r(_,{for:"pay",value:"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A"}),a(j)?h("",!0):(c(),i("button",{key:0,onClick:o[28]||(o[28]=O(e=>Lt(),["prevent"])),disabled:a(I),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-purple-500 rounded",style:{width:"100%"}},fs,8,ys)),a(j)?(c(),i("button",{key:1,onClick:o[29]||(o[29]=O(e=>Wt(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},vs)):h("",!0)]),D().totalAmount*-1-((it=a(d))==null?void 0:it.cars_discount)-((ct=a(d))==null?void 0:ct.cars_paid)!=0?(c(),i("div",ks,[r(_,{for:"cars_need_paid",value:"\u0627\u0644\u0631\u0635\u064A\u062F \u063A\u064A\u0631 \u0645\u0648\u0632\u0639 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),r(y,{id:"cars_need_paid",type:"number",class:"mt-1 block w-full",value:D().totalAmount*-1-((ut=a(d))==null?void 0:ut.cars_discount)-((pt=a(d))==null?void 0:pt.cars_paid)},null,8,["value"])])):h("",!0),t("div",ws,[r(_,{for:"contract_total",value:"\u0627\u0644\u0639\u0642\u0648\u062F \u0627\u0644\u0645\u0646\u062C\u0632\u0629"}),r(y,{id:"contract_total",type:"text",class:"mt-1 block w-full",value:a(d).contract_total,disabled:""},null,8,["value"])]),t("div",$s,[r(_,{for:"exit_car_total",value:"\u0627\u0644\u062E\u0631\u0648\u062C\u064A\u0627\u062A \u0627\u0644\u0645\u0646\u062C\u0632\u0629"}),r(y,{id:"exit_car_total",type:"text",class:"mt-1 block w-full",value:a(d).exit_car_total,disabled:""},null,8,["value"])]),t("div",Cs,[r(_,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u064A\u0646 \u0639\u0642\u0648\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),r(y,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:(mt=a(d))==null?void 0:mt.contract_total_debit_Dollar,disabled:""},null,8,["value"])]),t("div",Ns,[r(_,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u064A\u0646 \u0639\u0642\u0648\u062F \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631"}),r(y,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:(_t=a(d))==null?void 0:_t.contract_total_debit_Dinar,disabled:""},null,8,["value"])])]),a(S)?(c(),i("div",As,[t("div",Ds,[r(_,{for:"discount",value:"\u0627\u0644\u062E\u0635\u0645"}),r(y,{id:"discount",type:"number",onInput:Kt,class:"mt-1 block w-full",modelValue:a(U),"onUpdate:modelValue":o[30]||(o[30]=e=>b(U)?U.value=e:U=e)},null,8,["modelValue"])]),t("div",Ps,[r(_,{for:"percentage",value:" \u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0645\u0631\u0627\u062F \u062F\u0641\u0639\u0647"}),r(y,{id:"percentage",type:"number",onInput:Qt,class:"mt-1 block w-full",modelValue:a(A),"onUpdate:modelValue":o[31]||(o[31]=e=>b(A)?A.value=e:A=e)},null,8,["modelValue"])]),t("div",Is,[r(_,{for:"discount",value:"\u0645\u0644\u0627\u062D\u0638\u0629"}),r(y,{id:"discount",type:"text",class:"mt-1 block w-full",modelValue:a(H),"onUpdate:modelValue":o[32]||(o[32]=e=>b(H)?H.value=e:H=e)},null,8,["modelValue"])]),t("div",Ms,[r(_,{for:"pay",value:"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062F\u0641\u0639"}),t("button",{onClick:o[33]||(o[33]=O(e=>qt(a(A),a(v),a(U),a(H)),["prevent"])),disabled:a(I),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},[a(tt)?(c(),i("span",Fs,"\u064A\u0631\u062C\u0649 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u0645\u0628\u0644\u063A \u0644")):h("",!0),a(I)?(c(),i("span",Ts,"\u062C\u0627\u0631\u064A \u0627\u0644\u0637\u0628\u0627\u0639\u0629...")):(c(),i("span",Es,"\u062F\u0641\u0639"))],8,Ss)])])):h("",!0),a(j)?(c(),i("div",Bs,[t("table",Us,[t("thead",Rs,[t("tr",Vs,[qs,t("th",zs,l(s.$t("date")),1),t("th",js,l(s.$t("description")),1),t("th",Hs,l(s.$t("amount")),1),t("th",Ls,l(s.$t("execute")),1)])]),t("tbody",null,[t("tr",Ws,[Os,Ys,Gs,Js,t("td",Ks,[t("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${a(d).client.id}&from=${a(C)}&to=${a(N)}&print=4`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-blue-500 rounded"},[st(" \u062C\u0645\u064A\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A "),r(at)],8,Qs)])]),(c(!0),i(V,null,X(a(d).transactions,e=>(c(),i(V,{key:e.id},[e.type=="out"&&e.amount<0&&e.is_pay==1?(c(),i("tr",Xs,[t("td",Zs,l(e.id),1),t("td",to,l(e.created),1),t("td",eo,l(e.description),1),t("td",so,l(e.amount*-1),1),t("td",oo,[e.type=="out"&&e.amount<0?(c(),i("a",{key:0,target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${a(d).client.id}&from=${a(C)}&to=${a(N)}&print=2&transactions_id=${e.id}`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-green-500 rounded"},[r(at)],8,ao)):h("",!0)])])):h("",!0)],64))),128)),t("tr",ro,[lo,t("td",null,l((ht=a(d))==null?void 0:ht.cars_discount),1),no,t("td",io,l(D().totalAmount*-1),1),t("td",null,"\u0627\u0644\u0646\u062A\u0627\u062A\u062C : "+l(D().totalAmount*-1-parseInt((bt=a(d))==null?void 0:bt.cars_discount)),1)])])])])):h("",!0),t("div",null,[t("div",co,[t("table",uo,[t("thead",po,[t("tr",mo,[t("th",_o,l(s.$t("no")),1),t("th",ho,l(s.$t("car_type")),1),t("th",bo,l(s.$t("year")),1),t("th",yo,l(s.$t("color")),1),t("th",xo,l(s.$t("vin")),1),t("th",fo,l(s.$t("car_number")),1),t("th",go,l(s.$t("dinar")),1),t("th",vo,l(s.$t("dolar_price")),1),t("th",ko,l(s.$t("dolar_custom")),1),t("th",wo,l(s.$t("note")),1),$o,Co,t("th",No,l(s.$t("shipping_dolar")),1),t("th",Ao,l(s.$t("coc_dolar")),1),t("th",Do,l(s.$t("checkout")),1),t("th",Po,l(s.$t("expenses")),1),Io,Mo,t("th",So,l(s.$t("total")),1),t("th",Fo,l(s.$t("paid")),1),t("th",Eo,l(s.$t("discount")),1),t("th",To,l(s.$t("date")),1),t("th",Bo,l(s.$t("execute")),1),Uo,Ro])]),t("tbody",null,[(c(!0),i(V,null,X(a(d).data,(e,et)=>{var xt,ft,gt,vt,kt,wt,$t,Ct;return Nt((c(),i("tr",{key:e.id,class:ie([{"bg-red-100 dark:bg-red-900":e.results==0,"bg-red-100 dark:bg-red-900":e.results==1,"bg-green-100 dark:bg-green-900":e.results==2,"bg-yellow-100 dark:bg-yellow-900":e.vin.startsWith(Y.q)||(e.car_number?e.car_number.toString().startsWith(Y.q):"")},"border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[t("td",Vo,l(et+1),1),t("td",qo,l(e.car_type),1),t("td",zo,l(e.year),1),t("td",jo,l(e.car_color),1),t("td",Ho,l(e.vin),1),t("td",Lo,l(e.car_number),1),t("td",Wo,l(e.dinar_s),1),t("td",Oo,l(e.dolar_price_s),1),t("td",Yo,l((e.dinar_s/e.dolar_price_s*100).toFixed(0)||0),1),t("td",Go,l(e.note),1),t("td",Jo,l((e.dinar_s/13e4*100).toFixed(0)||0),1),t("td",Ko,l(((e.dinar_s/13e4*100).toFixed(0)||0)-((e.dinar_s/e.dolar_price_s*100).toFixed(0)||0)),1),t("td",Qo,l(e.shipping_dolar_s),1),t("td",Xo,l(e.coc_dolar_s),1),t("td",Zo,l(e.checkout_s),1),t("td",ta,l(e.expenses_s),1),t("td",ea,l(e.land_shipping),1),t("td",sa,l(e.land_shipping_dinar_s),1),t("td",oa,l(e.total_s.toFixed(0)),1),t("td",aa,l(e.paid),1),t("td",ra,l(e.discount),1),t("td",la,l(e.date),1),t("td",da,[t("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-slate-500 rounded",onClick:k=>Tt(e)},[r(ve)],8,na),t("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-orange-500 rounded",onClick:k=>Et(e)},[r(ge)],8,ia),e.total_s!=e.paid+e.discount?(c(),i("button",{key:0,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:k=>Bt(e)},[r(At)],8,ca)):h("",!0),((xt=e.contract)==null?void 0:xt.price)!=((ft=e.contract)==null?void 0:ft.paid)||((gt=e.contract)==null?void 0:gt.price_dinar)!=((vt=e.contract)==null?void 0:vt.paid_dinar)?(c(),i("button",{key:1,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-pink-500 rounded",onClick:k=>Yt(e)},[r(At)],8,ua)):h("",!0),e.contract?h("",!0):(c(),i("button",{key:2,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-yellow-500 rounded",onClick:k=>Ot(e)},[r(we)],8,pa)),e.is_exit?h("",!0):(c(),i("button",{key:3,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-red-500 rounded",onClick:k=>Gt(e)},[r(fe)],8,ma)),e.is_exit?(c(),i("button",{key:4,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-blue-500 rounded",onClick:k=>Jt(e)},[r(ke)],8,_a)):h("",!0),t("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${a(d).client.id}&print=6&car_id=${e.id}`,tabIndex:"1",class:"px-1 py-1 text-white m-1 bg-gray-900 rounded"},[r(at,{class:"inline-flex"})],8,ha)]),t("td",ba,[(c(!0),i(V,null,X(e.car_images,(k,oe)=>(c(),i("a",{key:oe,href:se(k.name),style:{cursor:"pointer"},target:"_blank"},[t("img",{src:ee(k.name),alt:"",class:"px-1",style:{"max-width":"80px","max-height":"50px",display:"inline"}},null,8,xa)],8,ya))),128))]),t("td",fa,[D().totalAmount*-1-((kt=a(d))==null?void 0:kt.cars_discount)-((wt=a(d))==null?void 0:wt.cars_paid)!=0?(c(),i("button",{key:0,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:k=>Dt(e)}," \u062F\u0641\u0639 \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",8,ga)):h("",!0),D().totalAmount*-1-(($t=a(d))==null?void 0:$t.cars_discount)-((Ct=a(d))==null?void 0:Ct.cars_sum)!=0&&e.paid?(c(),i("button",{key:1,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 mt-1 text-white mx-1 bg-red-500 rounded",onClick:k=>Pt(e)}," \u0627\u0639\u0627\u062F\u0629 \u0644\u0644\u0631\u0635\u064A\u062F ",8,va)):h("",!0)])],2)),[[ne,e.results==2&&a(f)||e.results!=2]])}),128))])])])]),t("div",ka,[r(a(pe),{data:a(d),onPaginationChangePage:a(K),limit:2},null,8,["data","onPaginationChangePage"])])])])])):h("",!0),t("div",wa,[t("div",$a,[t("div",Ca,[st(" \u062A\u0648\u0642\u064A\u0639 \u0635\u0627\u062D\u0628 \u0627\u0644\u062D\u0633\u0627\u0628 "),Na,st(" "+l((yt=a(d).client)==null?void 0:yt.name),1)]),Aa,Da])])]}),_:1})],64))}};export{Qa as default};
