import{o as n,c as ve,w as D,a as i,b as e,f as tt,t as d,d as he,e as T,v as j,i as f,T as _e,x as ke,r as p,m as we,E as $e,u as De,g as l,j as o,F as q,H as Ce,k as v,A as Ne,h as dt,l as X,s as Ae,n as Me,y as Se}from"./app.be1b0474.js";import{a as Pe,_ as Ie}from"./AuthenticatedLayout.ac267c22.js";import{M as Fe}from"./Modal.801f4645.js";import{t as Ee}from"./laravel-vue-pagination.es.2ca38374.js";import{_ as x}from"./InputLabel.314c304b.js";import{_}from"./TextInput.03e67060.js";import{a as $}from"./index.8252748a.js";import{M as ut}from"./ModalDelCar.1c5c346a.js";import{_ as Te}from"./ModalEditCar_S.78674e6a.js";import{_ as Be}from"./ModalAddCarPayment.cee73ed8.js";import{_ as Ue,a as Ve,b as Re,c as je,e as qe}from"./exit.ec78bf8e.js";import{p as lt}from"./print.e2c661b7.js";import{p as Ut}from"./pay.850a0441.js";import{t as He}from"./trash.6ec75794.js";import{e as ze}from"./edit.546cbb29.js";import{s as Le}from"./show.2009467d.js";import{n as Oe}from"./new.e419d959.js";import"./lodash.8bf7bf91.js";/* empty css                                              *//* empty css                                                    */import"./Uploader.2a88d026.js";/* empty css                                                                 *//* empty css                                                       */const We={key:0,class:"modal-mask"},Ye={class:"modal-wrapper max-h-[80vh]"},Ze={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},Ge={class:"modal-header text-center py-4 dark:text-gray-300"},Je={class:"modal-body"},Ke={class:"grid grid-cols-2 gap-3 lg:gap-2"},Qe={class:"mb-4 mx-5"},Xe={class:"mb-4 mx-5"},ta={class:"mb-4 mx-5"},ea={class:"mb-4 mx-5"},aa={class:"mb-4 mx-5"},ra={class:"mb-4 mx-5"},oa={class:"mb-4 mx-5"},sa={class:"mb-4 mx-5"},da={class:"modal-footer my-2"},la={class:"flex flex-row"},na={class:"basis-1/2 px-4"},ia={class:"basis-1/2 px-4"},ua=["disabled"],ca={__name:"ModalShowDriving",props:{show:Boolean,formDriving:Object},setup(m){return(b,s)=>(n(),ve(_e,{name:"modal"},{default:D(()=>[m.show?(n(),i("div",We,[e("div",Ye,[e("div",Ze,[e("div",Ge,[tt(" \u062A\u062E\u0648\u064A\u0644 \u0642\u064A\u0627\u062F\u0629 "+d(m.formDriving.car_typeDriving)+" "+d(m.formDriving.yearDriving)+" "+d(m.formDriving.car_colorDriving)+" \u0631\u0642\u0645 \u0634\u0627\u0646\u0635\u0649 "+d(m.formDriving.vinDriving)+" ",1),he(b.$slots,"header")]),e("div",Je,[e("div",Ke,[e("div",Qe,[s[10]||(s[10]=e("label",{class:"dark:text-gray-200",for:"amountTotal"},"\u0627\u0644\u0627\u0633\u0645 \u0643\u0627\u0645\u0644",-1)),T(e("input",{id:"amountTotal",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[0]||(s[0]=y=>m.formDriving.nameDriving=y)},null,512),[[j,m.formDriving.nameDriving]])]),e("div",Xe,[s[11]||(s[11]=e("label",{class:"dark:text-gray-200",for:"carType"},"\u0627\u0644\u0633\u064A\u0627\u0631\u0629",-1)),T(e("input",{id:"carType",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[1]||(s[1]=y=>m.formDriving.car_typeDriving=y)},null,512),[[j,m.formDriving.car_typeDriving]])]),e("div",ta,[s[12]||(s[12]=e("label",{class:"dark:text-gray-200",for:"vin"},"\u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0646\u0635\u064A",-1)),T(e("input",{id:"vin",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[2]||(s[2]=y=>m.formDriving.vinDriving=y)},null,512),[[j,m.formDriving.vinDriving]])]),e("div",ea,[s[13]||(s[13]=e("label",{class:"dark:text-gray-200",for:"carNumber"},"\u0631\u0642\u0645 \u0627\u0644\u0633\u064A\u0627\u0631\u0629",-1)),T(e("input",{id:"carNumber",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[3]||(s[3]=y=>m.formDriving.car_numberDriving=y)},null,512),[[j,m.formDriving.car_numberDriving]])]),e("div",aa,[s[14]||(s[14]=e("label",{class:"dark:text-gray-200",for:"color"},"\u0627\u0644\u0644\u0648\u0646",-1)),T(e("input",{id:"color",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[4]||(s[4]=y=>m.formDriving.car_colorDriving=y)},null,512),[[j,m.formDriving.car_colorDriving]])]),e("div",ra,[s[15]||(s[15]=e("label",{class:"dark:text-gray-200",for:"model"},"\u0645\u0648\u062F\u064A\u0644",-1)),T(e("input",{id:"model",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[5]||(s[5]=y=>m.formDriving.yearDriving=y)},null,512),[[j,m.formDriving.yearDriving]])]),e("div",oa,[s[16]||(s[16]=e("label",{class:"dark:text-gray-200",for:"exitDate"},"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062A\u062E\u0648\u064A\u0644",-1)),T(e("input",{id:"exitDate",type:"date",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[6]||(s[6]=y=>m.formDriving.createdDriving=y)},null,512),[[j,m.formDriving.createdDriving]])])]),e("div",sa,[s[17]||(s[17]=e("label",{class:"dark:text-gray-200",for:"note"},"\u062A\u062E\u0648\u064A\u0644 \u0627\u0644\u0642\u064A\u0627\u062F\u0629",-1)),T(e("textarea",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[7]||(s[7]=y=>m.formDriving.noteDriving=y)},null,512),[[j,m.formDriving.noteDriving]])])]),e("div",da,[e("div",la,[e("div",na,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:s[8]||(s[8]=y=>{b.$emit("close")})},d(b.$t("cancel")),1)]),e("div",ia,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:s[9]||(s[9]=y=>b.$emit("a",m.formDriving)),disabled:!m.formDriving.noteDriving},d(b.$t("yes")),9,ua)])])])])])])):f("",!0)]),_:3}))}},pa={},ma={class:"w-6 h-6 text-white dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"};function ba(m,b){return n(),i("svg",ma,[...b[0]||(b[0]=[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7h1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V5a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h11.5M7 14h6m-6 3h6m0-10h.5m-.5 3h.5M7 7h3v3H7V7Z"},null,-1)])])}const ga=Pe(pa,[["render",ba]]);const ya={class:"mb-5 dark:text-gray-400 text-center"},xa={class:"mb-5 dark:text-gray-400 text-center"},fa={key:0},va={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},ha={class:"ml-3 text-sm font-medium text-red-700 dark:text-red-800"},_a={key:1,class:"py-4"},ka={class:"text-center pb-2 dark:text-gray-400"},wa={class:"max-w-9xl mx-auto sm:px-6 lg:px-8 p-6 dark:bg-gray-900"},$a={class:"overflow-hidden shadow-sm sm:rounded-lg"},Da={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 lg:gap-1"},Ca={class:"pr-4"},Na={value:"undefined",disabled:""},Aa=["value"],Ma={className:"mb-4  mr-5"},Sa={class:"flex items-center ps-4 rounded-lg border border-gray-300 text-gray-900 mt-1"},Pa=["value","checked"],Ia={for:"bordered-checkbox-1",class:"w-full pt-3 py-2 mx-4 text-sm font-medium text-gray-900 dark:text-gray-300"},Fa={class:"px-4"},Ea={className:"mb-4 mx-5"},Ta={class:"px-4"},Ba={className:"mb-4 mx-5"},Ua={className:"mb-4  mr-5 print:hidden"},Va={className:"mb-4  mr-5 print:hidden"},Ra=["href"],ja={className:"mb-4  mr-5 print:hidden"},qa=["href"],Ha={className:"mb-4  mr-5"},za={className:"mb-4  mr-5"},La={className:"mb-4  mr-5"},Oa={className:"mb-4  mr-5"},Wa={className:"mb-4  mr-5"},Ya={key:0,className:"mb-4  mr-5 print:hidden"},Za=["disabled"],Ga=["disabled"],Ja={className:"mb-4  mr-5 print:hidden"},Ka=["disabled"],Qa={key:1,className:"mb-4  mr-5"},Xa={className:"mb-4  mr-5"},tr={className:"mb-4  mr-5"},er={className:"mb-4  mr-5"},ar={className:"mb-4  mr-5"},rr={className:"mb-4  mr-5"},or={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 lg:gap-1"},sr={className:"mb-4  mr-5"},dr={className:"mb-4  mr-5"},lr={className:"mb-4  mr-5"},nr={className:"mb-4  mr-5 print:hidden"},ir=["disabled"],ur={key:0},cr={key:1},pr={key:2},mr={key:1,class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},br={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},gr={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},yr={class:"bg-rose-500 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},xr={className:"px-1 py-2 text-base"},fr={className:"px-1 py-2 text-base"},vr={className:"px-1 py-2 text-base"},hr={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},_r={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},kr={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},wr=["href"],$r={key:0,class:"text-center"},Dr={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Cr={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Nr={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ar={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Mr={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Sr={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Pr=["href"],Ir={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Fr={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Er={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},Tr={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},Br={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Ur={class:"rounded-l-lg mb-2 sm:mb-0"},Vr={scope:"col",class:"px-1 py-2 text-base"},Rr={scope:"col",class:"px-1 py-2 text-base"},jr={scope:"col",class:"px-1 py-2 text-base"},qr={scope:"col",class:"px-1 py-2 text-base"},Hr={scope:"col",class:"px-1 py-2 text-base"},zr={scope:"col",class:"px-1 py-2 text-base"},Lr={scope:"col",class:"px-1 py-2 text-base"},Or={scope:"col",class:"px-1 py-2 text-base"},Wr={scope:"col",class:"px-1 py-2 text-base print:hidden"},Yr={scope:"col",class:"px-1 py-2 text-base print:hidden"},Zr={scope:"col",class:"px-1 py-2 text-base"},Gr={scope:"col",class:"px-1 py-2 text-base"},Jr={scope:"col",class:"px-1 py-2 text-base"},Kr={scope:"col",class:"px-1 py-2 text-base"},Qr={scope:"col",class:"px-1 py-2 text-base"},Xr={scope:"col",class:"px-1 py-2 text-base"},to={scope:"col",class:"px-1 py-2 text-base"},eo={scope:"col",class:"px-1 py-2 text-base"},ao={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},ro={className:"border dark:border-gray-800 text-center px-2 py-1"},oo={className:"border dark:border-gray-800 text-center px-2 py-1"},so={className:"border dark:border-gray-800 text-center px-2 py-1"},lo={className:"border dark:border-gray-800 text-center px-2 py-1"},no={className:"border dark:border-gray-800 text-center px-2 py-1"},io={className:"border dark:border-gray-800 text-center px-2 py-1"},uo={className:"border dark:border-gray-800 text-center px-2 py-1"},co={className:"border dark:border-gray-800 text-center px-2 py-1"},po={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},mo={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},bo={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},go={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},yo={className:"border dark:border-gray-800 text-center px-2 py-1"},xo={className:"border dark:border-gray-800 text-center px-2 py-1"},fo={className:"border dark:border-gray-800 text-center px-2 py-1"},vo={className:"border dark:border-gray-800 text-center px-2 py-1"},ho={className:"border dark:border-gray-800 text-center px-2 py-1"},_o={className:"border dark:border-gray-800 text-center px-2 py-1"},ko={className:"border dark:border-gray-800 text-center px-2 py-1"},wo={className:"border dark:border-gray-800 text-center px-1 py-2 "},$o={className:"border dark:border-gray-800 text-center px-2 py-1"},Do={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},Co=["onClick"],No=["onClick"],Ao=["onClick"],Mo=["onClick"],So=["onClick"],Po=["onClick"],Io=["onClick"],Fo=["onClick"],Eo=["href"],To={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},Bo=["href"],Uo=["src"],Vo={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},Ro=["onClick"],jo=["onClick"],qo={key:1,class:"bg-gradient-to-r from-purple-100 to-pink-100 dark:from-purple-900 dark:to-pink-900 border-b dark:border-gray-700"},Ho={colspan:"5",className:"border dark:border-gray-800 text-start px-3 py-2"},zo={class:"font-semibold mr-2"},Lo={className:"border dark:border-gray-800 text-center px-2 py-2 font-bold text-red-700 dark:text-red-300 text-base bg-red-50 dark:bg-red-950"},Oo={className:"border dark:border-gray-800 text-center px-2 py-2 font-bold text-base",style:{"background-color":"#c084fc",color:"white"}},Wo={className:"border dark:border-gray-800 text-center px-2 py-2 text-sm"},Yo={className:"border dark:border-gray-800 text-center px-2 py-2 print:hidden"},Zo=["href"],Go={class:"mt-3 text-center",style:{direction:"ltr"}},Jo={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 dark:text-gray-400 hidden print:block"},Ko={class:"flex flex-row"},Qo={class:"basis-1/2"},ks={__name:"Show",props:{url:String,clients:Array,client_id:String,client:Object,q:String},setup(m){let b=ke();p(0);let s=p({}),y=p(0),A=p(0),M=p(0),at=1,V=p(!1),G=p(!1),J=p(!1),H=p(!1),nt=p(!1),z=p(!1),k=p(!1),L=p(!1),O=p(!1),W=p(!1),rt=p(!1),Y=p(!1);p(0);let g=p({}),I=p({}),R=p(0),Z=p(""),S=p(0),ot=p(0),C=p(0);p(0);let K=p(!1),Q=p(!1);const B=m;let et=async(r=1)=>{$.get(`/api/getIndexAccountsSelas?page=${r}&user_id=${B.client_id}&from=${A.value}&to=${M.value}`).then(t=>{s.value=t.data,C.value=t.data.client.id,ce(t.data.cars_sum)}).catch(t=>{console.error(t)})};function F(){let r="",t="";try{r=s.value.transactions.filter(u=>u.type==="out"&&u.amount<0&&u.is_pay===1)}catch{}try{t=r.reduce((u,c)=>u+c.amount,0)}catch{}return{totalAmount:t}}function Vt(r={}){g.value=r,K.value=!0}function Rt(r={}){g.value=r,Q.value=!0}function jt(r){var t,u;r.balance=F().totalAmount*-1-((t=s.value)==null?void 0:t.cars_paid)-((u=s.value)==null?void 0:u.cars_discount),$.post("/api/AddPayFromBalanceCar",r).then(c=>{K.value=!1,P()}).catch(c=>{console.error(c)})}function qt(r){$.post("/api/DelPayFromBalanceCar",r).then(t=>{Q.value=!1,P()}).catch(t=>{console.error(t)})}const P=async(r=1)=>{$.get(`/api/getIndexAccountsSelas?page=${r}&user_id=${C.value}&from=${A.value}&to=${M.value}`).then(t=>{s.value=t.data,C.value=t.data.client.id}).catch(t=>{console.error(t)})};we(()=>{et()}),$e(()=>B.client_id,(r,t)=>{r&&r!==t&&(A.value=0,M.value=0,V.value=!1,z.value=!1,k.value=!1,S.value=0,R.value=0,Z.value="",at=1,et())},{immediate:!1});const Ht=De();let U=p(!1);function zt(r){Ht.get(route("sentToCourt",r)),et(),U.value=!1}function Lt(r={}){g.value=r,J.value=!0}function Ot(r={}){g.value=r,g.value.dinar_s==0&&(g.value.dinar_s=g.value.dinar),G.value=!0}function Wt(r={}){g.value=r,g.value.notePayment=" \u0628\u064A\u062F ",H.value=!0}function Yt(r){$.post("/api/DelCar",r).then(t=>{J.value=!1,b.success("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),P()}).catch(t=>{console.error(t),b.error("\u0641\u0634\u0644 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Zt(r){G.value=!1,$.post("/api/updateCarsS",r).then(t=>{U.value=!1,b.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),P()}).catch(t=>{b.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),P()})}function Gt(r){var t,u;r.discountPayment||(r.discountPayment=0),$.get(`/api/addPaymentCar?car_id=${r.id}&discount=${r.discountPayment}&amount=${(t=r.amountPayment)!=null?t:0}&note=${(u=r.notePayment)!=null?u:""}`).then(c=>{H.value=!1,b.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+r.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),P();let h=c.data;window.open(`/api/getIndexAccountsSelas?user_id=${B.client_id}&print=2&transactions_id=${h.id}`,"_blank")}).catch(c=>{U.value=!1,console.log(c),b.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Jt(r,t,u,c){y.value=!0,$.get(`/api/addPaymentCarTotal?amount=${r!=null?r:0}&discount=${u!=null?u:0}&note=${c}&client_id=${t!=null?t:0}`).then(h=>{H.value=!1,b.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+r+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),V.value=!1,y.value=!1,P(),Kt();let E=h.data;window.open(`/api/getIndexAccountsSelas?user_id=${B.client_id}&print=2&transactions_id=${E.id}`,"_blank")}).catch(h=>{console.log(h),U.value=!1,y.value=!1,b.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Kt(){S.value=0,R.value=0,Z.value=""}function Qt(){V.value=!0,z.value=!1}function Xt(){V.value=!1}function te(){z.value=!0,V.value=!1}function ee(){z.value=!1}function ae(r={}){g.value=r,g.value.prices=100,g.value.price_dinars=5e4,L.value=!0}function re(r={}){g.value=formshowModalShowExitCar,O.value=!0}function oe(r={}){g.value=r,g.value.createdExit=pt(),W.value=!0}function se(r={}){g.value=r.value=!0}function de(r={}){I.value.car_typeDriving=r.car_type,I.value.yearDriving=r.year,I.value.car_colorDriving=r.car_color,I.value.vinDriving=r.vin,I.value.nameDriving=B.client.name,I.value.clientIdDriving=C.value,I.value.car_numberDriving=r.car_number,I.value.createdDriving=pt(),I.value.noteDriving="\u0627\u0646\u0627 \u0643\u0627\u0631\u0632\u0627\u0646 \u0633\u0631\u0647\u0646\u0643 \u0645\u062D\u0645\u062F (\u0648\u0643\u064A\u0644 \u0639\u0627\u0645 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 \u0627\u064A\u0648\u0628 ) (\u0645\u062F\u064A\u0631 \u0645\u0641\u0648\u0636 \u0634\u0631\u0643\u0629 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 \u0627\u064A\u0648\u0628) \u0642\u062F \u062E\u0648\u0644\u062A \u0627\u0644\u0633\u064A\u062F(name) \u0628\u0642\u064A\u0627\u062F\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0630\u0627\u062A \u0627\u0644\u0645\u0648\u0627\u0635\u0641\u0627\u062A \u0627\u062F\u0646\u0627\u0647 \u0644\u0647 \u062D\u0642  \u0646\u0642\u0644\u0647\u0627  \u0645\u0646 \u0645\u062D\u0627\u0641\u0638\u0629 \u0627\u0644\u0649 \u0645\u062D\u0627\u0641\u0638\u0629 \u0627\u062E\u0631\u0649 \u0648\u062F\u0641\u0639 \u0627\u0644\u0631\u0633\u0648\u0645 \u0648\u0627\u0644\u063A\u0631\u0645\u0627\u062A \u0628\u064A\u0639 \u0648\u0634\u0631\u0627\u0621 \u0627\u0644\u0642\u0628\u0636 \u0627\u0644\u062B\u0645\u0646.",Y.value=!0}function le(){var t,u,c;let r=(c=(u=(t=s==null?void 0:s.value)==null?void 0:t.client)==null?void 0:u.wallet)==null?void 0:c.balance;S.value=r-R.value}function ne(){var t,u,c;let r=(c=(u=(t=s==null?void 0:s.value)==null?void 0:t.client)==null?void 0:u.wallet)==null?void 0:c.balance;console.log(r),S.value>r?(S.value=r,nt.value=!0,b.info(" \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u062F\u064A\u0646 \u0627\u0644\u0645\u0637\u0644\u0648\u0628 "+S.value,{timeout:4e3,position:"bottom-right",rtl:!0})):nt.value=!1}function ie(r){var t,u,c,h,E,w;$.get(`/api/addCarContracts?car_id=${r.id}&price=${(t=r.prices)!=null?t:0}&price_dinar=${(u=r.price_dinars)!=null?u:0}&paid=${(c=r.paids)!=null?c:0}&paid_dinar=${(h=r.paid_dinars)!=null?h:0}&phone=${(E=r.phone)!=null?E:""}&note=${(w=r.note)!=null?w:""}`).then(st=>{L.value=!1,b.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u0628\u0646\u062C\u0627\u062D ",{timeout:4e3,position:"bottom-right",rtl:!0}),P()}).catch(st=>{L.value=!1,b.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function ue(r){var t,u,c;$.get(`/api/editCarContracts?car_id=${r.id}&paid=${(t=r.paids)!=null?t:0}&paid_dinar=${(u=r.paid_dinars)!=null?u:0}&note=${(c=r.notePayment)!=null?c:""}`).then(h=>{O.value=!1,b.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+r.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),P()}).catch(h=>{O.value=!1,b.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function ct(r){$.get(`/api/makeCarExit?car_id=${r.id}&created=${r.createdExit}&phone=${r.phoneExit}&note=${r.noteExit}`).then(t=>{W.value=!1,b.success("\u062A\u0645 \u0627\u0636\u0627\u0641\u0629 \u062E\u0631\u0648\u062C\u064A\u0629 \u0644\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:5e3,position:"bottom-right",rtl:!0}),P()}).catch(t=>{W.value=!1,b.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function ce(r){$.get(`/api/checkClientBalance?userId=${B.client_id}&currentBalance=${r+F().totalAmount}`).then(t=>{console.log(t),t.status==201&&b.success(" \u062A\u0645 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u062D\u0633\u0627\u0628 \u0628\u0646\u062C\u0627\u062D  "+t.data,{timeout:5e3,position:"bottom-right",rtl:!0})}).catch(t=>{b.error("\u0644\u0645 \u064A\u062A\u0645 \u0627\u0639\u0627\u062F\u0629 \u0641\u062D\u0635 \u0627\u0644\u062D\u0633\u0627\u0628  \u0628\u0646\u062C\u0627\u062D ",{timeout:5e3,position:"bottom-right",rtl:!0})})}function pe(r){$.post("/api/makeDrivingDocument",r).then(t=>{Y.value=!1,window.open(`/api/makeDrivingDocumentPdf?doc_id=${t.data.id}`,"_blank")}).catch(t=>{Y.value=!1,b.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function pt(){const r=new Date,t=r.getFullYear(),u=String(r.getMonth()+1).padStart(2,"0"),c=String(r.getDate()).padStart(2,"0");return`${t}-${u}-${c}`}function mt(r,t){return t&&(r.type==="car"?ot.value+=(parseFloat(r.data.paid)||0)+(parseFloat(r.data.discount)||0):r.type==="payment"&&(ot.value-=parseFloat(r.data.amount)*-1||0)),ot.value.toFixed(0)}function me(){return ot.value=0,""}function be(r){return r.results==2&&k.value||r.results!=2}function ge(){var h,E;const r=[],t=((h=s.value)==null?void 0:h.data)||[],c=(((E=s.value)==null?void 0:E.transactions)||[]).filter(w=>w.type==="out"&&w.amount<0&&w.is_pay===1);return t.forEach(w=>{r.push({type:"car",data:w})}),c.forEach(w=>{r.push({type:"payment",data:w})}),r}function ye(r){return`/public/uploadsResized/${r}`}function xe(r){return`/public/uploads/${r}`}return(r,t)=>(n(),i(q,null,[l(o(Ce),{title:"Dashboard"}),l(Ie,null,{header:D(()=>[...t[36]||(t[36]=[e("h2",{class:"font-semibold text-xl dark:text-gray-400 text-gray-800 leading-tight"}," \u0634\u0631\u0643\u0629 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 ",-1)])]),default:D(()=>{var u,c,h,E,w,st,bt,gt,yt,xt,ft,vt,ht,_t,kt,wt,$t,Dt,Ct,Nt,At;return[l(Ue,{formData:o(g),show:!!o(L),onA:t[0]||(t[0]=a=>ie(a)),onClose:t[1]||(t[1]=a=>v(L)?L.value=!1:L=!1)},{header:D(()=>[...t[37]||(t[37]=[])]),_:1},8,["formData","show"]),l(ut,{show:!!o(K),formData:o(g),onA:t[2]||(t[2]=a=>jt(a)),onClose:t[3]||(t[3]=a=>v(K)?K.value=!1:K=!1)},{header:D(()=>[e("h2",ya," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062F\u0641\u0639 "+d(o(g).car_type)+" \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",1)]),_:1},8,["show","formData"]),l(ut,{show:!!o(Q),formData:o(g),onA:t[4]||(t[4]=a=>qt(a)),onClose:t[5]||(t[5]=a=>v(Q)?Q.value=!1:Q=!1)},{header:D(()=>[e("h2",xa," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0639\u0627\u062F\u0629 \u062F\u0641\u0639\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 "+d(o(g).car_type)+" \u0644\u0644\u0631\u0635\u064A\u062F \u061F ",1)]),_:1},8,["show","formData"]),l(Ve,{formData:o(g),show:!!o(O),onA:t[6]||(t[6]=a=>ue(a)),onClose:t[7]||(t[7]=a=>v(O)?O.value=!1:O=!1)},{header:D(()=>[...t[38]||(t[38]=[])]),_:1},8,["formData","show"]),l(Re,{formData:o(g),show:!!o(W),onA:t[8]||(t[8]=a=>ct(a)),onClose:t[9]||(t[9]=a=>v(W)?W.value=!1:W=!1)},{header:D(()=>[...t[39]||(t[39]=[])]),_:1},8,["formData","show"]),l(je,{formData:o(g),show:!!o(rt),onA:t[10]||(t[10]=a=>ct(a)),onClose:t[11]||(t[11]=a=>v(rt)?rt.value=!1:rt=!1)},{header:D(()=>[...t[40]||(t[40]=[])]),_:1},8,["formData","show"]),l(ca,{formDriving:o(I),show:!!o(Y),onA:t[12]||(t[12]=a=>pe(a)),onClose:t[13]||(t[13]=a=>v(Y)?Y.value=!1:Y=!1)},{header:D(()=>[...t[41]||(t[41]=[])]),_:1},8,["formDriving","show"]),l(Te,{formData:o(g),show:!!o(G),client:m.clients,onA:t[14]||(t[14]=a=>Zt(a)),onClose:t[15]||(t[15]=a=>v(G)?G.value=!1:G=!1)},{header:D(()=>[...t[42]||(t[42]=[])]),_:1},8,["formData","show","client"]),l(Be,{formData:o(g),show:!!o(H),onA:t[16]||(t[16]=a=>Gt(a)),onClose:t[17]||(t[17]=a=>v(H)?H.value=!1:H=!1)},{header:D(()=>[...t[43]||(t[43]=[])]),_:1},8,["formData","show"]),l(ut,{show:!!o(J),formData:o(g),onA:t[18]||(t[18]=a=>Yt(a)),onClose:t[19]||(t[19]=a=>v(J)?J.value=!1:J=!1)},{header:D(()=>[...t[44]||(t[44]=[e("h2",{class:"mb-5 dark:text-gray-400 text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1)])]),_:1},8,["show","formData"]),l(Fe,{show:!!o(U),data:o(U).toString(),onA:t[20]||(t[20]=a=>zt(a,r.arg1)),onClose:t[21]||(t[21]=a=>v(U)?U.value=!1:U=!1)},null,8,["show","data"]),r.$page.props.success?(n(),i("div",fa,[e("div",va,[e("div",ha,d(r.$page.props.success),1)])])):f("",!0),r.$page.props.auth.user.type_id==1||r.$page.props.auth.user.type_id==6?(n(),i("div",_a,[e("h2",ka,d(r.$t("sales_bill")),1),e("div",wa,[e("div",$a,[e("div",Da,[e("div",Ca,[l(x,{class:"mb-1",for:"invoice_number",value:r.$t("Account")},null,8,["value"]),T(e("select",{onChange:t[22]||(t[22]=a=>P()),"onUpdate:modelValue":t[23]||(t[23]=a=>v(C)?C.value=a:C=a),id:"default",class:"pr-8 border border-gray-300 text-gray-900 mb-6 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:border-gray-400 dark:placeholder-gray-400 dark:text-gray-600 dark:focus:ring-red-500 dark:focus:border-red-500"},[e("option",Na,d(r.$t("selectCustomer")),1),(n(!0),i(q,null,dt(m.clients,(a,it)=>(n(),i(q,{key:it},[a.wallet.balance>0||a.id==o(C)?(n(),i("option",{key:0,value:a.id},d(a.name),9,Aa)):f("",!0)],64))),128))],544),[[Ne,o(C)]])]),e("div",null,[e("div",Ma,[l(x,{for:"totalAmount",value:"\u0641\u0644\u062A\u0631\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u0643\u062A\u0645\u0644\u0629"}),e("div",Sa,[e("input",{id:"bordered-checkbox-1",type:"checkbox",onChange:t[24]||(t[24]=a=>o(k)==!0?v(k)?k.value=!1:k=!1:v(k)?k.value=!0:k=!0),value:o(k),checked:!o(k),name:"bordered-checkbox",class:"w-4 h-4 mx-2 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,Pa),e("label",Ia,d(o(k)==!1?" \u062A\u0645 \u0627\u0644\u0641\u0644\u062A\u0631":"\u062A\u0645 \u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0629"),1)])])]),e("div",Fa,[e("div",Ea,[l(x,{for:"from",value:r.$t("from_date")},null,8,["value"]),l(_,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:o(A),"onUpdate:modelValue":t[25]||(t[25]=a=>v(A)?A.value=a:A=a)},null,8,["modelValue"])])]),e("div",Ta,[e("div",Ba,[l(x,{for:"to",value:r.$t("to_date")},null,8,["value"]),l(_,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:o(M),"onUpdate:modelValue":t[26]||(t[26]=a=>v(M)?M.value=a:M=a)},null,8,["modelValue"])])]),e("div",Ua,[l(x,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),e("button",{onClick:t[27]||(t[27]=X(a=>o(et)(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},[...t[45]||(t[45]=[e("span",null,"\u0641\u0644\u062A\u0631\u0629",-1)])])]),e("div",Va,[l(x,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),e("a",{href:`/api/getIndexAccountsSelas?user_id=${o(C)}&from=${o(A)}&to=${o(M)}&print=1&showComplatedCars=${o(k)?0:1}`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-orange-500 rounded block text-center",style:{width:"100%"}},[...t[46]||(t[46]=[e("span",null,"\u0637\u0628\u0627\u0639\u0629",-1)])],8,Ra)]),e("div",ja,[l(x,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),e("a",{href:`/api/getIndexAccountsSelas?user_id=${o(C)}&from=${o(A)}&to=${o(M)}&print=1&printExcel=1&showComplatedCars=${o(k)?0:1}`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded block text-center",style:{width:"100%"}},[...t[47]||(t[47]=[e("span",null,"Excel",-1)])],8,qa)]),e("div",Ha,[l(x,{for:"car_total",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A"}),l(_,{id:"car_total",type:"text",class:"mt-1 block w-full",value:o(s).car_total,disabled:""},null,8,["value"])]),e("div",za,[l(x,{for:"cars_sum",value:r.$t("Total_in_dollars")+" \u062C\u0645\u0631\u0643 "},null,8,["value"]),l(_,{id:"cars_sum",type:"text",class:"mt-1 block w-full",value:(u=o(s))==null?void 0:u.cars_sum,disabled:""},null,8,["value"])]),e("div",La,[l(x,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u062F\u0641\u0648\u0639  \u062C\u0645\u0631\u0643 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(_,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:parseFloat((c=o(s))==null?void 0:c.cars_sum)-(parseFloat((w=(E=(h=o(s))==null?void 0:h.client)==null?void 0:E.wallet)==null?void 0:w.balance)+parseFloat((st=o(s))==null?void 0:st.cars_discount)),disabled:""},null,8,["value"])]),e("div",Oa,[l(x,{for:"cars_discount",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A  \u062C\u0645\u0631\u0643 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(_,{id:"cars_discount",type:"text",class:"mt-1 block w-full",value:(bt=o(s))==null?void 0:bt.cars_discount,disabled:""},null,8,["value"])]),e("div",Wa,[l(x,{for:"cars_need_paid",value:"  \u0627\u0644\u0631\u0635\u064A\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(_,{id:"cars_need_paid",type:"number",class:"mt-1 block w-full",value:F().totalAmount*-1-((gt=o(s))==null?void 0:gt.cars_sum),disabled:""},null,8,["value"])]),F().totalAmount*-1-((yt=o(s))==null?void 0:yt.cars_sum)!=0?(n(),i("div",Ya,[l(x,{for:"pay",value:"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629"}),o(V)?f("",!0):(n(),i("button",{key:0,onClick:t[28]||(t[28]=X(a=>Qt(),["prevent"])),disabled:o(y),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},[...t[48]||(t[48]=[e("span",null,"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629",-1)])],8,Za)),o(V)?(n(),i("button",{key:1,onClick:t[29]||(t[29]=X(a=>Xt(),["prevent"])),disabled:o(y),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},[...t[49]||(t[49]=[e("span",null,"\u0627\u062E\u0641\u0627\u0621 \u062F\u0641\u0639\u0629",-1)])],8,Ga)):f("",!0)])):f("",!0),e("div",Ja,[l(x,{for:"pay",value:"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A"}),o(z)?f("",!0):(n(),i("button",{key:0,onClick:t[30]||(t[30]=X(a=>te(),["prevent"])),disabled:o(y),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-purple-500 rounded",style:{width:"100%"}},[...t[50]||(t[50]=[e("span",null,"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1)])],8,Ka)),o(z)?(n(),i("button",{key:1,onClick:t[31]||(t[31]=X(a=>ee(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},[...t[51]||(t[51]=[e("span",null,"\u0627\u062E\u0641\u0627\u0621 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1)])])):f("",!0)]),F().totalAmount*-1-((xt=o(s))==null?void 0:xt.cars_discount)-((ft=o(s))==null?void 0:ft.cars_paid)!=0?(n(),i("div",Qa,[l(x,{for:"cars_need_paid",value:"\u0627\u0644\u0631\u0635\u064A\u062F \u063A\u064A\u0631 \u0645\u0648\u0632\u0639 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(_,{id:"cars_need_paid",type:"number",class:"mt-1 block w-full",value:F().totalAmount*-1-((vt=o(s))==null?void 0:vt.cars_discount)-((ht=o(s))==null?void 0:ht.cars_paid)},null,8,["value"])])):f("",!0),e("div",Xa,[l(x,{for:"total_running_balance",value:"\u{1F4B0} \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0631\u0635\u064A\u062F \u0627\u0644\u0645\u062A\u0635\u0644"}),l(_,{id:"total_running_balance",type:"text",class:"mt-1 block w-full font-bold bg-blue-100 text-blue-900",value:((_t=o(s))==null?void 0:_t.cars_paid)+((kt=o(s))==null?void 0:kt.cars_discount),disabled:""},null,8,["value"])]),e("div",tr,[l(x,{for:"contract_total",value:"\u0627\u0644\u0639\u0642\u0648\u062F \u0627\u0644\u0645\u0646\u062C\u0632\u0629"}),l(_,{id:"contract_total",type:"text",class:"mt-1 block w-full",value:o(s).contract_total,disabled:""},null,8,["value"])]),e("div",er,[l(x,{for:"exit_car_total",value:"\u0627\u0644\u062E\u0631\u0648\u062C\u064A\u0627\u062A \u0627\u0644\u0645\u0646\u062C\u0632\u0629"}),l(_,{id:"exit_car_total",type:"text",class:"mt-1 block w-full",value:o(s).exit_car_total,disabled:""},null,8,["value"])]),e("div",ar,[l(x,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u064A\u0646 \u0639\u0642\u0648\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(_,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:(wt=o(s))==null?void 0:wt.contract_total_debit_Dollar,disabled:""},null,8,["value"])]),e("div",rr,[l(x,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u064A\u0646 \u0639\u0642\u0648\u062F \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631"}),l(_,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:($t=o(s))==null?void 0:$t.contract_total_debit_Dinar,disabled:""},null,8,["value"])])]),o(V)?(n(),i("div",or,[e("div",sr,[l(x,{for:"discount",value:"\u0627\u0644\u062E\u0635\u0645"}),l(_,{id:"discount",type:"number",onInput:le,class:"mt-1 block w-full",modelValue:o(R),"onUpdate:modelValue":t[32]||(t[32]=a=>v(R)?R.value=a:R=a)},null,8,["modelValue"])]),e("div",dr,[l(x,{for:"percentage",value:" \u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0645\u0631\u0627\u062F \u062F\u0641\u0639\u0647"}),l(_,{id:"percentage",type:"number",onInput:ne,class:"mt-1 block w-full",modelValue:o(S),"onUpdate:modelValue":t[33]||(t[33]=a=>v(S)?S.value=a:S=a)},null,8,["modelValue"])]),e("div",lr,[l(x,{for:"discount",value:"\u0645\u0644\u0627\u062D\u0638\u0629"}),l(_,{id:"discount",type:"text",class:"mt-1 block w-full",modelValue:o(Z),"onUpdate:modelValue":t[34]||(t[34]=a=>v(Z)?Z.value=a:Z=a)},null,8,["modelValue"])]),e("div",nr,[l(x,{for:"pay",value:"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062F\u0641\u0639"}),e("button",{onClick:t[35]||(t[35]=X(a=>Jt(o(S),o(C),o(R),o(Z)),["prevent"])),disabled:o(y),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},[o(nt)?(n(),i("span",ur,"\u064A\u0631\u062C\u0649 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u0645\u0628\u0644\u063A \u0644")):f("",!0),o(y)?(n(),i("span",pr,"\u062C\u0627\u0631\u064A \u0627\u0644\u0637\u0628\u0627\u0639\u0629...")):(n(),i("span",cr,"\u062F\u0641\u0639"))],8,ir)])])):f("",!0),o(z)?(n(),i("div",mr,[e("table",br,[e("thead",gr,[e("tr",yr,[t[52]||(t[52]=e("th",{className:"px-1 py-2 text-base"},"#",-1)),e("th",xr,d(r.$t("date")),1),e("th",fr,d(r.$t("description")),1),e("th",vr,d(r.$t("amount")),1),e("th",hr,d(r.$t("execute")),1)])]),e("tbody",null,[e("tr",_r,[t[54]||(t[54]=e("td",null,null,-1)),t[55]||(t[55]=e("td",null,null,-1)),t[56]||(t[56]=e("td",null,null,-1)),t[57]||(t[57]=e("td",null,null,-1)),e("td",kr,[e("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${o(s).client.id}&from=${o(A)}&to=${o(M)}&print=4`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-blue-500 rounded"},[t[53]||(t[53]=tt(" \u062C\u0645\u064A\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A ",-1)),l(lt)],8,wr)])]),(n(!0),i(q,null,dt(((Dt=o(s))==null?void 0:Dt.transactions)||[],a=>(n(),i(q,{key:a.id},[a.type=="out"&&a.amount<0&&a.is_pay==1?(n(),i("tr",$r,[e("td",Dr,d(v(at)?at.value++:at++),1),e("td",Cr,d(a.id),1),e("td",Nr,d(a.created),1),e("td",Ar,d(a.description),1),e("td",Mr,d(a.amount*-1),1),e("td",Sr,[a.type=="out"&&a.amount<0?(n(),i("a",{key:0,target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${o(s).client.id}&from=${o(A)}&to=${o(M)}&print=2&transactions_id=${a.id}`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-green-500 rounded"},[l(lt)],8,Pr)):f("",!0)])])):f("",!0)],64))),128)),e("tr",Ir,[t[58]||(t[58]=e("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A",-1)),e("td",null,d((Ct=o(s))==null?void 0:Ct.cars_discount),1),t[59]||(t[59]=e("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1)),e("td",Fr,d(F().totalAmount*-1),1),e("td",null,"\u0627\u0644\u0646\u062A\u0627\u062A\u062C : "+d(F().totalAmount*-1-parseInt((Nt=o(s))==null?void 0:Nt.cars_discount)),1)])])])])):f("",!0),e("div",null,[e("div",Er,[e("table",Tr,[e("thead",Br,[e("tr",Ur,[e("th",Vr,d(r.$t("no")),1),e("th",Rr,d(r.$t("car_type")),1),e("th",jr,d(r.$t("year")),1),e("th",qr,d(r.$t("color")),1),e("th",Hr,d(r.$t("vin")),1),e("th",zr,d(r.$t("car_number")),1),e("th",Lr,d(r.$t("dinar")),1),e("th",Or,d(r.$t("dolar_price")),1),e("th",Wr,d(r.$t("dolar_custom")),1),e("th",Yr,d(r.$t("note")),1),t[60]||(t[60]=e("th",{scope:"col",class:"px-1 py-2 text-base print:hidden"}," \u062C\u0645\u0631\u0643 \u0645\u0646\u0641\u0633\u062A ",-1)),t[61]||(t[61]=e("th",{scope:"col",class:"px-1 py-2 text-base print:hidden"}," \u062E\u0635\u0645 \u0645\u0628\u0627\u0634\u0631 ",-1)),e("th",Zr,d(r.$t("shipping_dolar")),1),e("th",Gr,d(r.$t("coc_dolar")),1),e("th",Jr,d(r.$t("checkout")),1),e("th",Kr,d(r.$t("expenses")),1),t[62]||(t[62]=e("th",{scope:"col",class:"px-1 py-2 text-base"}," \u0646\u0642\u0644 \u0628\u0631\u064A ",-1)),e("th",Qr,d(r.$t("total")),1),e("th",Xr,d(r.$t("paid")),1),e("th",to,d(r.$t("discount")),1),t[63]||(t[63]=e("th",{scope:"col",class:"px-1 py-2 text-base bg-blue-500 text-white"}," \u0627\u0644\u0631\u0635\u064A\u062F \u0627\u0644\u0645\u062A\u0635\u0644 \u{1F4B0} ",-1)),e("th",eo,d(r.$t("date")),1),e("th",ao,d(r.$t("execute")),1),t[64]||(t[64]=e("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"100px"}}," \u062A\u062E\u0632\u064A\u0646 ",-1)),t[65]||(t[65]=e("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"120px"}}," \u0627\u0644\u0631\u0635\u064A\u062F ",-1))])]),e("tbody",null,[tt(d(me())+" ",1),(n(!0),i(q,null,dt(ge(),(a,it)=>{var Mt,St,Pt,It,Ft,Et,Tt,Bt;return n(),i(q,{key:a.type+"-"+a.data.id},[a.type==="car"?T((n(),i("tr",{key:0,class:Me([{"bg-red-100 dark:bg-red-900":a.data.results==0,"bg-red-100 dark:bg-red-900":a.data.results==1,"bg-green-100 dark:bg-green-900":a.data.results==2,"bg-yellow-100 dark:bg-yellow-900":B.q&&(a.data.vin.startsWith(B.q)||(a.data.car_number?a.data.car_number.toString().startsWith(B.q):!1))},"border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[e("td",ro,d(it+1),1),e("td",oo,d(a.data.car_type),1),e("td",so,d(a.data.year),1),e("td",lo,d(a.data.car_color),1),e("td",no,d(a.data.vin),1),e("td",io,d(a.data.car_number),1),e("td",uo,d(a.data.dinar_s),1),e("td",co,d(a.data.dolar_price_s),1),e("td",po,d((a.data.dinar_s/a.data.dolar_price_s*100).toFixed(0)||0),1),e("td",mo,d(a.data.note),1),e("td",bo,d((a.data.dinar_s/13e4*100).toFixed(0)||0),1),e("td",go,d(((a.data.dinar_s/13e4*100).toFixed(0)||0)-((a.data.dinar_s/a.data.dolar_price_s*100).toFixed(0)||0)),1),e("td",yo,d(a.data.shipping_dolar_s),1),e("td",xo,d(a.data.coc_dolar_s),1),e("td",fo,d(a.data.checkout_s),1),e("td",vo,d(a.data.expenses_s),1),e("td",ho,d(a.data.land_shipping_s),1),e("td",_o,d(a.data.total_s.toFixed(0)),1),e("td",ko,d(a.data.paid),1),e("td",wo,d(a.data.discount),1),e("td",{className:"border dark:border-gray-800 text-center px-2 py-1 font-bold",style:Se({backgroundColor:a.data.paid>0||a.data.discount>0?"#bfdbfe":"#e5e7eb",color:a.data.paid>0||a.data.discount>0?"#1e40af":"#374151"})},d(mt(a,be(a.data))),5),e("td",$o,d(a.data.date),1),e("td",Do,[e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-slate-500 rounded",onClick:N=>Ot(a.data)},[l(ze)],8,Co),e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-orange-500 rounded",onClick:N=>Lt(a.data)},[l(He)],8,No),a.data.total_s!=a.data.paid+a.data.discount?(n(),i("button",{key:0,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:N=>Wt(a.data)},[l(Ut)],8,Ao)):f("",!0),((Mt=a.data.contract)==null?void 0:Mt.price)!=((St=a.data.contract)==null?void 0:St.paid)||((Pt=a.data.contract)==null?void 0:Pt.price_dinar)!=((It=a.data.contract)==null?void 0:It.paid_dinar)?(n(),i("button",{key:1,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-pink-500 rounded",onClick:N=>re(a.data)},[l(Ut)],8,Mo)):f("",!0),a.data.contract?f("",!0):(n(),i("button",{key:2,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-yellow-500 rounded",onClick:N=>ae(a.data)},[l(Oe)],8,So)),a.data.is_exit?f("",!0):(n(),i("button",{key:3,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-red-500 rounded",onClick:N=>oe(a.data)},[l(qe)],8,Po)),a.data.is_exit?(n(),i("button",{key:4,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-blue-500 rounded",onClick:N=>se(a.data)},[l(Le)],8,Io)):f("",!0),e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-violet-500 rounded",onClick:N=>de(a.data)},[l(ga)],8,Fo),e("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${o(s).client.id}&print=6&car_id=${a.data.id}`,tabIndex:"1",class:"px-1 py-1 text-white m-1 bg-gray-900 rounded"},[l(lt,{class:"inline-flex"})],8,Eo)]),e("td",To,[(n(!0),i(q,null,dt(a.data.car_images,(N,fe)=>(n(),i("a",{key:fe,href:xe(N.name),style:{cursor:"pointer"},target:"_blank"},[e("img",{src:ye(N.name),alt:"",class:"px-1",style:{"max-width":"80px","max-height":"50px",display:"inline"}},null,8,Uo)],8,Bo))),128))]),e("td",Vo,[F().totalAmount*-1-((Ft=o(s))==null?void 0:Ft.cars_discount)-((Et=o(s))==null?void 0:Et.cars_paid)!=0?(n(),i("button",{key:0,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:N=>Vt(a.data)}," \u062F\u0641\u0639 \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",8,Ro)):f("",!0),F().totalAmount*-1-((Tt=o(s))==null?void 0:Tt.cars_discount)-((Bt=o(s))==null?void 0:Bt.cars_sum)!=0&&a.data.paid?(n(),i("button",{key:1,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 mt-1 text-white mx-1 bg-red-500 rounded",onClick:N=>Rt(a.data)}," \u0627\u0639\u0627\u062F\u0629 \u0644\u0644\u0631\u0635\u064A\u062F ",8,jo)):f("",!0)])],2)),[[Ae,a.data.results==2&&o(k)||a.data.results!=2]]):f("",!0),a.type==="payment"?(n(),i("tr",qo,[t[68]||(t[68]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-2 font-bold text-purple-800 dark:text-purple-200"}," \u{1F4B3} ",-1)),e("td",Ho,[t[66]||(t[66]=e("span",{class:"font-bold text-purple-800 dark:text-purple-200"},"\u{1F4B0} \u062F\u0641\u0639\u0629 \u0645\u0646 \u0627\u0644\u0639\u0645\u064A\u0644:",-1)),e("span",zo,d(a.data.description),1)]),t[69]||(t[69]=e("td",{colspan:"2",className:"border dark:border-gray-800 text-center px-2 py-2"},null,-1)),t[70]||(t[70]=e("td",{colspan:"4",className:"border dark:border-gray-800 text-center px-2 py-2 print:hidden"},null,-1)),t[71]||(t[71]=e("td",{colspan:"5",className:"border dark:border-gray-800 text-center px-2 py-2"},null,-1)),e("td",Lo,[t[67]||(t[67]=e("span",{class:"text-red-600 dark:text-red-400"},"\u2B07\uFE0F -",-1)),tt(" "+d((a.data.amount*-1).toFixed(0)),1)]),t[72]||(t[72]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-2 bg-red-50 dark:bg-red-950"},null,-1)),t[73]||(t[73]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-2 bg-red-50 dark:bg-red-950"},null,-1)),e("td",Oo,d(mt(a,!0)),1),e("td",Wo," \u{1F4C5} "+d(a.data.created),1),e("td",Yo,[e("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${o(s).client.id}&print=2&transactions_id=${a.data.id}`,tabIndex:"1",class:"px-2 py-1 text-white bg-purple-600 rounded hover:bg-purple-700"},[l(lt,{class:"inline-flex"})],8,Zo)]),t[74]||(t[74]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-2 print:hidden"},null,-1)),t[75]||(t[75]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-2 print:hidden"},null,-1))])):f("",!0)],64)}),128))])])])]),e("div",Go,[l(o(Ee),{data:o(s),onPaginationChangePage:o(et),limit:2},null,8,["data","onPaginationChangePage"])])])])])):f("",!0),e("div",Jo,[e("div",Ko,[e("div",Qo,[t[76]||(t[76]=tt(" \u062A\u0648\u0642\u064A\u0639 \u0635\u0627\u062D\u0628 \u0627\u0644\u062D\u0633\u0627\u0628 ",-1)),t[77]||(t[77]=e("br",null,null,-1)),tt(" "+d((At=o(s).client)==null?void 0:At.name),1)]),t[78]||(t[78]=e("div",{class:"basis-1/2 text-center"},"\u062A\u0648\u0642\u064A\u0639 \u0642\u0633\u0645 \u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1)),t[79]||(t[79]=e("div",{class:"basis-1/2 text-end"},"\u062A\u0648\u0642\u064A\u0639 \u0627\u0644\u0645\u062F\u064A\u0631",-1))])])]}),_:1})],64))}};export{ks as default};
