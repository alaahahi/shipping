import{_ as oe}from"./AuthenticatedLayout.5d660c22.js";/* empty css                                              */import{r as a,o as b,c as ae,w as c,a as g,b as s,d as ne,e as M,v as T,i as y,T as re,u as le,g as r,j as u,F as W,H as de,k as f,t as D,h as ie,n as ue,f as pe}from"./app.c20c6492.js";import{M as me,_ as ce,a as E,b as be,c as ge,i as ve}from"./imags.bf23b097.js";import{_ as S}from"./InputLabel.59fc044e.js";import{_ as B}from"./TextInput.855a5ddc.js";/* empty css                                                            */import{a as h}from"./index.2a4804ac.js";import{t as fe}from"./trash.d51ec3af.js";import{W as he}from"./v3-infinite-loading.es.d4a0e894.js";import{d as ye}from"./debounce.3cc36ef8.js";import{f as xe}from"./datetime.47733478.js";import"./Uploader.d68835a5.js";/* empty css                                                                 */const we={key:0,class:"modal-mask"},_e={class:"modal-wrapper max-h-[80vh]"},$e={class:"modal-container"},ke={class:"modal-header"},De={class:"modal-body"},Ae={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-2 gap-3 lg:gap-3"},Ce={className:"mb-4 mx-5"},Ne={className:"mb-4 mx-5"},Ue={className:"mb-4 mx-5"},Me={className:"mb-4 mx-5"},Te={class:"modal-footer my-2"},Se={class:"flex flex-row"},Be={class:"basis-1/2 px-4"},Ie={class:"basis-1/2 px-4"},O={__name:"ModalAddExpensesWallet",props:{show:Boolean,boxes:Array,sum_transactions:Intl,sum_transactions_dinar:Intl},setup(m){const i=m,d=a({id:i.boxes.id,date:C()});function C(){const p=new Date,n=p.getFullYear(),l=String(p.getMonth()+1).padStart(2,"0"),x=String(p.getDate()).padStart(2,"0");return`${n}-${l}-${x}`}const v=()=>{d.value={id:i.boxes.id,date:C()}};return(p,n)=>(b(),ae(re,{name:"modal"},{default:c(()=>[m.show?(b(),g("div",we,[s("div",_e,[s("div",$e,[s("div",ke,[ne(p.$slots,"header")]),s("div",De,[s("div",Ae,[s("div",Ce,[n[6]||(n[6]=s("label",{for:"amountDollar"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1)),M(s("input",{id:"amountDollar",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":n[0]||(n[0]=l=>d.value.amountDollar=l)},null,512),[[T,d.value.amountDollar]])]),s("div",Ne,[n[7]||(n[7]=s("label",{for:"amountDinar"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0639\u0631\u0627\u0642\u064A",-1)),M(s("input",{id:"amountDinar",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":n[1]||(n[1]=l=>d.value.amountDinar=l)},null,512),[[T,d.value.amountDinar]])]),s("div",Ue,[n[8]||(n[8]=s("label",{for:"note"},"\u0645\u0644\u0627\u062D\u0638\u0629",-1)),M(s("input",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":n[2]||(n[2]=l=>d.value.note=l)},null,512),[[T,d.value.note]])]),s("div",Me,[n[9]||(n[9]=s("label",{for:"card"},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E",-1)),M(s("input",{id:"card",type:"date",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":n[3]||(n[3]=l=>d.value.date=l)},null,512),[[T,d.value.date]])])])]),s("div",Te,[s("div",Se,[s("div",Be,[s("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:n[4]||(n[4]=l=>{p.$emit("close")})},"\u062A\u0631\u0627\u062C\u0639")]),s("div",Ie,[s("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:n[5]||(n[5]=l=>{p.$emit("a",d.value),v()})},"\u0646\u0639\u0645")])])])])])])):y("",!0)]),_:3}))}};const Ve={key:0},We={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},Ee={class:"ml-3 font-medium text-red-700 dark:text-red-800"},Oe={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},Fe={class:"overflow-hidden shadow-sm sm:rounded-lg"},je={class:"border-b border-gray-200"},qe={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 lg:gap-3 mb-4"},He={class:"pt-5 print:hidden"},Re={class:"pt-5 print:hidden"},ze={class:"pt-5 print:hidden"},Le={class:"pt-5 print:hidden"},Ye={class:"pt-5 print:hidden"},Ge={class:"pt-5 print:hidden"};const Je={class:"grid grid-cols-2 md:grid-cols-5 lg:grid-cols-6 gap-3 lg:gap-3"},Ke={class:"px-4"},Pe={class:"px-4"},Qe={class:"px-4"},Xe={class:"px-4"},Ze={class:"overflow-x-auto shadow-md mt-5"},es={class:"w-full text-right text-gray-500 dark:text-gray-400 text-center"},ss={className:"border dark:border-gray-800 text-center px-2 py-1"},ts={key:0,class:"text-xs text-blue-600 dark:text-blue-300 font-bold"},os={className:"border dark:border-gray-800 text-center px-2 py-1"},as={className:"border dark:border-gray-800 text-center px-2 py-1"},ns={className:"border dark:border-gray-800 text-center px-2 py-1"},rs={className:"border dark:border-gray-800 text-center px-2 py-1"},ls={className:"border dark:border-gray-800 text-center px-2 py-1"},ds={class:"action-group"},is=["onClick"],us=["onClick"],ps={class:"spaner"},Ns={__name:"Wallet",props:{url:String,boxes:Object},setup(m){const i=a({});a("");let d=a(!1),C=a(!1),v=a(!1);a(!1);let p=a(!1),n=a(!1),l=a(!1),x=a(!1),$=a(!1),k=a(!1),N=a([]);a(0);let U=a({});a({}),a({}),a(!1),a(""),a(""),a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0);let I=a(!1),V=1,F="";const A=()=>{V=0,N.value.length=0,I.value=!I.value};ye(A,500);const j=async o=>{try{const t=(await h.get("/getIndexAccounting",{params:{limit:1e3,page:V,q:F,user_id:w.boxes.id,type:"wallet"}})).data;t.transactions.data.length<1e3?(N.value.push(...t.transactions.data),o.complete()):(N.value.push(...t.transactions.data),o.loaded()),i.value=t,V++}catch(e){console.log(e)}};function q(){d.value=!0}function H(){v.value=!0}function R(){$.value=!0}function z(){k.value=!0}function ms(){p.value=!0}function cs(){n.value=!0}function L(o){U.value=o,l.value=!0}function Y(o){U.value=o,x.value=!0}const w=m;le(),a(!1);const _=a(0);function G(o){o.id=w.boxes.id,h.post("/api/receiptArrivedUser",o).then(e=>{d.value=!1,window.location.reload()}).catch(e=>{_.value=e.response.data.errors})}function J(o){h.post("/api/salesDebtUser",o).then(e=>{C.value=!1,v.value=!1,window.location.reload()}).catch(e=>{_.value=e.response.data.errors})}function K(o){o.id=w.boxes.id,h.post("/api/receiptArrivedUserAmanah",o).then(e=>{$.value=!1,window.location.reload()}).catch(e=>{_.value=e.response.data.errors})}function P(o){h.post("/api/salesDebtUserAmanah",o).then(e=>{k.value=!1,window.location.reload()}).catch(e=>{_.value=e.response.data.errors})}function Q(o){h.post("/api/convertDollarDinar",o).then(e=>{A(),p.value=!1}).catch(e=>{_.value=e.response.data.errors})}function X(o){h.post("/api/convertDinarDollar",o).then(e=>{A(),n.value=!1}).catch(e=>{_.value=e.response.data.errors})}function Z(o){h.post(`/api/delTransactions?id=${o.id}`).then(e=>{A(),l.value=!1}).catch(e=>{_.value=e.response.data.errors})}function ee(){var o;(o=w.boxes)!=null&&o.id&&window.open(`/getIndexAccounting?user_id=${w.boxes.id}&type=wallet&print=7`,"_blank")}function se(){var o;(o=w.boxes)!=null&&o.id&&window.open(`/getIndexAccounting?user_id=${w.boxes.id}&type=wallet&print=8`,"_blank")}return(o,e)=>(b(),g(W,null,[r(u(de),{title:"Dashboard"}),r(oe,null,{header:c(()=>[...e[24]||(e[24]=[])]),default:c(()=>[r(me,{show:!!u(l),formData:u(U),onA:e[0]||(e[0]=t=>Z(t)),onClose:e[1]||(e[1]=t=>f(l)?l.value=!1:l=!1)},{header:c(()=>[...e[25]||(e[25]=[s("h2",{class:"mb-5 dark:text-white text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0644\u062D\u0630\u0641 \u061F ",-1)])]),_:1},8,["show","formData"]),r(ce,{show:!!u(x),formData:u(U),onA:e[2]||(e[2]=t=>A()),onClose:e[3]||(e[3]=t=>f(x)?x.value=!1:x=!1)},{header:c(()=>[...e[26]||(e[26]=[s("h2",{class:"mb-5 dark:text-white text-center"}," \u0645\u0631\u0641\u0642\u0627\u062A \u0627\u0644\u062D\u0631\u0643\u0629 ",-1)])]),_:1},8,["show","formData"]),r(E,{show:!!u(d),onA:e[4]||(e[4]=t=>G(t)),onClose:e[5]||(e[5]=t=>f(d)?d.value=!1:d=!1)},{header:c(()=>[...e[27]||(e[27]=[s("h3",{class:"text-center"},"\u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1)])]),_:1},8,["show"]),r(O,{show:!!u(v),boxes:m.boxes,sum_transactions:i.value.sum_transactions,sum_transactions_dinar:i.value.sum_transactions_dinar,onA:e[6]||(e[6]=t=>J(t)),onClose:e[7]||(e[7]=t=>f(v)?v.value=!1:v=!1)},{header:c(()=>[...e[28]||(e[28]=[s("h3",{class:"text-center"}," \u0633\u062D\u0628 \u0645\u0646 \u0627\u0644\u0642\u0627\u0633\u0647",-1)])]),_:1},8,["show","boxes","sum_transactions","sum_transactions_dinar"]),r(E,{show:!!u($),onA:e[8]||(e[8]=t=>K(t)),onClose:e[9]||(e[9]=t=>f($)?$.value=!1:$=!1)},{header:c(()=>[...e[29]||(e[29]=[s("h3",{class:"text-center"},"\u0623\u0645\u0627\u0646\u0629 - \u0625\u064A\u062F\u0627\u0639",-1)])]),_:1},8,["show"]),r(O,{show:!!u(k),boxes:m.boxes,sum_transactions:i.value.sum_transactions,sum_transactions_dinar:i.value.sum_transactions_dinar,onA:e[10]||(e[10]=t=>P(t)),onClose:e[11]||(e[11]=t=>f(k)?k.value=!1:k=!1)},{header:c(()=>[...e[30]||(e[30]=[s("h3",{class:"text-center"},"\u0623\u0645\u0627\u0646\u0629 - \u0633\u062D\u0628",-1)])]),_:1},8,["show","boxes","sum_transactions","sum_transactions_dinar"]),r(be,{show:!!u(p),boxes:m.boxes,onA:e[12]||(e[12]=t=>Q(t)),onClose:e[13]||(e[13]=t=>f(p)?p.value=!1:p=!1)},{header:c(()=>[...e[31]||(e[31]=[s("h3",{class:"text-center"},"\u062A\u062D\u0648\u064A\u0644 \u0645\u0646 \u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0644\u0644\u062F\u064A\u0646\u0627\u0631",-1)])]),_:1},8,["show","boxes"]),r(ge,{show:!!u(n),boxes:m.boxes,onA:e[14]||(e[14]=t=>X(t)),onClose:e[15]||(e[15]=t=>f(n)?n.value=!1:n=!1)},{header:c(()=>[...e[32]||(e[32]=[s("h3",{class:"text-center"},"\u062A\u062D\u0648\u064A\u0644 \u0645\u0646 \u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0644\u0644\u062F\u0648\u0644\u0627\u0631",-1)])]),_:1},8,["show","boxes"]),o.$page.props.success?(b(),g("div",Ve,[s("div",We,[s("div",Ee,D(o.$page.props.success),1)])])):y("",!0),s("div",null,[s("div",Oe,[s("div",Fe,[s("div",je,[s("div",qe,[s("div",He,[o.$page.props.auth.user.type_id==1||o.$page.props.auth.user.type_id==2||o.$page.props.auth.user.type_id==5?(b(),g("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-green-800 rounded-md focus:outline-none hover:bg-green-900 transition",onClick:e[16]||(e[16]=t=>q())}," \u0648\u0635\u0644 \u0642\u0628\u0636 (\u0625\u0636\u0627\u0641\u0629) ")):y("",!0)]),s("div",Re,[o.$page.props.auth.user.type_id==1||o.$page.props.auth.user.type_id==2||o.$page.props.auth.user.type_id==5?(b(),g("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-red-800 rounded-md focus:outline-none hover:bg-red-900 transition",onClick:e[17]||(e[17]=t=>H())}," \u0648\u0635\u0644 \u0635\u0631\u0641 (\u0633\u062D\u0628) ")):y("",!0)]),s("div",ze,[o.$page.props.auth.user.type_id==1||o.$page.props.auth.user.type_id==2||o.$page.props.auth.user.type_id==5?(b(),g("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-green-600 rounded-md focus:outline-none border-2 border-green-300 hover:bg-green-700 transition",onClick:e[18]||(e[18]=t=>R())}," \u0623\u0645\u0627\u0646\u0629 - \u0625\u064A\u062F\u0627\u0639 ")):y("",!0)]),s("div",Le,[o.$page.props.auth.user.type_id==1||o.$page.props.auth.user.type_id==2||o.$page.props.auth.user.type_id==5?(b(),g("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-red-600 rounded-md focus:outline-none border-2 border-red-300 hover:bg-red-700 transition",onClick:e[19]||(e[19]=t=>z())}," \u0623\u0645\u0627\u0646\u0629 - \u0633\u062D\u0628 ")):y("",!0)]),s("div",Ye,[s("button",{style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-blue-600 rounded-md focus:outline-none hover:bg-blue-700 transition font-semibold",onClick:e[20]||(e[20]=t=>ee())}," \u0637\u0628\u0627\u0639\u0629 \u0627\u0644\u0623\u0645\u0627\u0646\u0629 ")]),s("div",Ge,[s("button",{style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-orange-600 rounded-md focus:outline-none hover:bg-orange-700 transition font-semibold",onClick:e[21]||(e[21]=t=>se())}," \u0637\u0628\u0627\u0639\u0629 \u0627\u0644\u0635\u0646\u062F\u0648\u0642 ")])]),y("",!0),s("div",Je,[s("div",Ke,[s("div",null,[r(S,{for:"to",value:`\u062D\u0633\u0627\u0628 ${m.boxes.name} \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631`},null,8,["value"]),r(B,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:i.value.sumInTransactionsUser-i.value.sumOutTransactionsUser},null,8,["value"])])]),s("div",Pe,[s("div",null,[r(S,{for:"to",value:`\u062D\u0633\u0627\u0628 ${m.boxes.name} \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0639\u0631\u0627\u0642\u064A`},null,8,["value"]),r(B,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:i.value.sumInTransactionsDinarUser-i.value.sumOutTransactionsDinarUser},null,8,["value"])])]),s("div",Qe,[s("div",null,[r(S,{for:"to",value:`\u0623\u0645\u0627\u0646\u0629 ${m.boxes.name} \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631`},null,8,["value"]),r(B,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full bg-blue-50",value:(i.value.sumInTransactionsUserAmanah||0)-(i.value.sumOutTransactionsUserAmanah||0)},null,8,["value"])])]),s("div",Xe,[s("div",null,[r(S,{for:"to",value:`\u0623\u0645\u0627\u0646\u0629 ${m.boxes.name} \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0639\u0631\u0627\u0642\u064A`},null,8,["value"]),r(B,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full bg-blue-50",value:(i.value.sumInTransactionsDinarUserAmanah||0)-(i.value.sumOutTransactionsDinarUserAmanah||0)},null,8,["value"])])])]),s("div",Ze,[s("table",es,[e[33]||(e[33]=s("thead",{class:"text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},[s("tr",{class:"rounded-l-lg mb-2 sm:mb-0"},[s("th",{className:"px-2 py-2"},"\u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644"),s("th",{className:"px-2 py-2"},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),s("th",{className:"px-2 py-2"},"\u0627\u0644\u0648\u0635\u0641"),s("th",{className:"px-2 py-2"},"\u0627\u064A\u062F\u0627\u0639"),s("th",{className:"px-2 py-2"},"\u0633\u062D\u0628"),s("th",{className:"px-2 py-2"},"\u062A\u0646\u0641\u064A\u0630")])],-1)),s("tbody",null,[(b(!0),g(W,null,ie(u(N),t=>(b(),g("tr",{key:t.id,class:ue([[t.type=="inUserAmanah"?"bg-blue-100 dark:bg-blue-900 border-l-4 border-blue-500":t.type=="outUserAmanah"?"bg-orange-100 dark:bg-orange-900 border-l-4 border-orange-500":t.type!="inUser"?"bg-red-100 dark:bg-red-900":"bg-green-100 dark:bg-green-900"],"bg-white border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[s("td",ss,[pe(D(t.id)+" ",1),t.type=="inUserAmanah"||t.type=="outUserAmanah"?(b(),g("span",ts,"(\u0623\u0645\u0627\u0646\u0629)")):y("",!0)]),s("td",os,D(u(xe)(t==null?void 0:t.created_at)),1),s("th",as,D(t.description),1),s("td",ns,D(t.type=="inUser"||t.type=="inUserAmanah"?t.amount+" "+t.currency:""),1),s("td",rs,D(t.type=="outUser"||t.type=="outUserAmanah"?t.amount+" "+t.currency:""),1),s("td",ls,[s("div",ds,[s("button",{class:"action-btn action-btn--upload",onClick:te=>Y(t),title:"\u0645\u0631\u0641\u0642\u0627\u062A \u0627\u0644\u062D\u0631\u0643\u0629"},[r(ve)],8,is),s("button",{class:"action-btn action-btn--delete",onClick:te=>L(t),title:"\u062D\u0630\u0641 \u0627\u0644\u062D\u0631\u0643\u0629"},[r(fe)],8,us)])])],2))),128))])])]),s("div",ps,[r(u(he),{car:o.car,onInfinite:j,identifier:u(I)},null,8,["car","identifier"])])])])])])]),_:1})],64))}};export{Ns as default};
