import{x as Q,r as n,y as X,a as r,g as u,j as c,w as h,k as w,F as C,o as l,H as Y,b as e,n as D,e as Z,v as S,i as A,h as M,t as a,f as E}from"./app.44831d8a.js";import{_ as ee}from"./AuthenticatedLayout.1f0f98d7.js";import"./vue-tailwind-datepicker.7b86aef6.js";import{M as te,a as se,_ as oe,b as ae}from"./ModalArchiveCarBack.e661283a.js";import{M as re}from"./ModalDelCar.6a4440b2.js";import{a as y}from"./index.85f7be3e.js";import{d as le}from"./debounce.b170ba45.js";/* empty css                                                                 */import"./VueSearchSelect.94b78274.js";/* empty css                        *//* empty css                                                            */import"./print.b41baefa.js";import"./trash.0157c8df.js";/* empty css                                                    */const ne=e("h2",{class:"mb-5 dark:text-gray-400 text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1),ie={key:0,class:"py-2"},ce={class:"sm:px-6 lg:px-8 text-sm font-medium text-center text-gray-500 rounded-lg flex dark:divide-gray-700 dark:text-gray-400"},de={class:"w-full"},pe={class:"w-full"},ue={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},me={class:"bg-white overflow-hidden shadow-sm"},he={class:"p-6 dark:bg-gray-900"},ye={class:"flex flex-col"},xe=e("br",null,null,-1),_e=["disabled"],fe={key:0},ge={key:1},ve={key:0,class:"text-center mt-4 text-gray-500"},be=e("span",{class:"loader"},null,-1),ke=e("p",null,"\u062C\u0627\u0631\u064A \u0627\u0644\u0628\u062D\u062B\u060C \u064A\u0631\u062C\u0649 \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631...",-1),we=[be,ke],Ce=e("h3",{class:"text-center h3 py-3"},"\u0627\u0644\u0646\u062A\u0627\u0626\u062C",-1),$e={key:1},De=e("h3",{class:"mt-8 text-lg font-semibold text-red-500"},"\u0627\u0644\u0623\u0631\u0642\u0627\u0645 \u0627\u0644\u062A\u064A \u0644\u064A\u0633 \u0644\u0647\u0627 \u0646\u062A\u0627\u0626\u062C:",-1),Ae={class:"text-sm text-gray-300 mb-2"},Me={class:"font-bold"},Ne={key:2},Ve={class:"text-lg font-semibold text-gray-100"},Be={class:"text-sm text-gray-300 mb-2"},Ee=e("span",{class:"font-bold"},"\u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0635\u064A:",-1),Fe={key:0},Ie={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Re={scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},Te={scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},Ue={scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},We={scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},ze={scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},He={scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},Le={scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},je={scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},qe=e("th",{scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},"\u0641\u0631\u0639",-1),Ge=e("th",{class:"px-1 py-3 text-base"},"\u062A\u062E\u0632\u064A\u0646",-1),Je={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},Ke={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},Oe={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},Pe={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},Qe={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},Xe={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},Ye={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},Ze={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},Se={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},et={className:"border dark:border-gray-800 text-center px-1 py-2 "},tt=["href"],st=["src"],ot={key:1},at={class:"text-red-500"},rt={class:"font-bold"},lt=e("div",null,null,-1),bt={__name:"index",props:{client:Array},setup(U){Q();const x=n({}),_=X();n("");let f=n(!1),g=n(!1),d=n(!1),m=n(!1),v=n(!1),b=n(!1),W=n([]);const $=n(!0);let F=n(!1);const p=()=>{W.value.length=0,F.value=!F.value};le(p,500);function z(s){y.post("/api/confirmExpensesCar",s).then(t=>{d.value=!1,_.success("\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),p()}).catch(t=>{console.error(t)})}function H(s){y.post("/api/addCarFavorite",s).then(t=>{d.value=!1,_.success("\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),p(),g.value=!1}).catch(t=>{console.error(t)})}function L(s){y.post("/api/confirmArchiveCar",s).then(t=>{d.value=!1,_.success("\u062A\u0645 \u0646\u0642\u0644 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),p(),m.value=!1}).catch(t=>{console.error(t)})}function j(s){y.post("/api/confirmArchiveCarBack",s).then(t=>{v.value=!1,_.success("\u062A\u0645 \u0646\u0642\u0644 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),p(),m.value=!1}).catch(t=>{console.error(t)})}function I(s){$.value=s,p()}function q(s){y.post("/api/confirmDelCarFav",s).then(t=>{b.value=!1,_.success("\u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:3e3,position:"bottom-right",rtl:!0}),p()}).catch(t=>{console.error(t)})}const N=n(""),V=n([]),B=n([]),G=async()=>{f.value=!0;const s=N.value.split(`
`).map(t=>t.trim());try{const t=await y.post("/api/search-vins",{vins:s});V.value=t.data.results,B.value=t.data.noResultsVINs,f.value=!1}catch(t){console.error("\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u0628\u062D\u062B:",t)}};function J(s){return`/public/uploadsResized/${s}`}function K(s){return`/public/uploads/${s}`}return(s,t)=>(l(),r(C,null,[u(c(Y),{title:"Dashboard"}),u(te,{formData:x.value,show:!!c(m),onA:t[0]||(t[0]=o=>L(o)),onClose:t[1]||(t[1]=o=>w(m)?m.value=!1:m=!1)},{header:h(()=>[]),_:1},8,["formData","show"]),u(se,{formData:x.value,show:!!c(v),onA:t[2]||(t[2]=o=>j(o)),onClose:t[3]||(t[3]=o=>w(v)?v.value=!1:v=!1)},{header:h(()=>[]),_:1},8,["formData","show"]),u(oe,{formData:x.value,show:!!c(g),client:U.client,onA:t[4]||(t[4]=o=>H(o)),onClose:t[5]||(t[5]=o=>w(g)?g.value=!1:g=!1)},{header:h(()=>[]),_:1},8,["formData","show","client"]),u(ae,{formData:x.value,show:!!c(d),currentWork:$.value,onA:t[6]||(t[6]=o=>z(o)),onClose:t[7]||(t[7]=o=>w(d)?d.value=!1:d=!1)},{header:h(()=>[]),_:1},8,["formData","show","currentWork"]),u(re,{show:!!c(b),formData:x.value,onA:t[8]||(t[8]=o=>q(o)),onClose:t[9]||(t[9]=o=>w(b)?b.value=!1:b=!1)},{header:h(()=>[ne]),_:1},8,["show","formData"]),u(ee,null,{default:h(()=>[s.$page.props.auth.user.type_id==1||s.$page.props.auth.user.type_id==7?(l(),r("div",ie,[e("ul",ce,[e("li",de,[e("button",{onClick:t[10]||(t[10]=o=>I(!0)),class:D(["inline-block w-full p-4 border-r border-gray-200 dark:border-gray-700 hover:text-gray-700 hover:bg-gray-50 focus:outline-none dark:text-white",$.value?"bg-white  dark:bg-gray-900":"dark:bg-gray-800 dark:hover:bg-gray-700"])},"\u0642\u064A\u062F \u0627\u0644\u0639\u0645\u0644 ",2)]),e("li",pe,[e("button",{onClick:t[11]||(t[11]=o=>I(!1)),class:D(["inline-block w-full p-4 border-r border-gray-200 dark:border-gray-700 hover:text-gray-700 hover:bg-gray-50 focus:outline-none dark:text-white",$.value?"dark:bg-gray-800 dark:hover:bg-gray-700":"bg-white  dark:bg-gray-900"])},"\u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0627\u0644\u0645\u0643\u062A\u0645\u0644\u0629",2)])]),e("div",ue,[e("div",me,[e("div",he,[e("div",ye,[Z(e("textarea",{"onUpdate:modelValue":t[12]||(t[12]=o=>N.value=o),placeholder:"\u0623\u062F\u062E\u0644 \u0627\u0644\u0623\u0643\u0648\u0627\u062F \u0647\u0646\u0627",style:{height:"500px"}},null,512),[[S,N.value]]),xe,e("button",{class:"px-6 mb-12 mx-2 py-2 font-bold text-white bg-green-500 rounded",onClick:G,disabled:c(f)},[c(f)?(l(),r("span",ge,"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644...")):(l(),r("span",fe,"\u062A\u0634\u063A\u064A\u0644"))],8,_e),c(f)?(l(),r("div",ve,we)):A("",!0),Ce,B.value.length?(l(),r("div",$e,[De,e("ul",null,[(l(!0),r(C,null,M(B.value,(o,k)=>(l(),r("li",{key:k},[e("p",Ae,[e("span",Me,a(k+1)+"- \u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0635\u064A: ",1),E(" "+a(o),1)])]))),128))])])):A("",!0),V.value.length?(l(),r("div",Ne,[(l(!0),r(C,null,M(V.value,(o,k)=>(l(),r("div",{key:k},[e("h4",Ve,"\u0628\u062D\u062B "+a(k+1),1),e("p",Be,[Ee,E(" "+a(o.vin||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)]),o.cars&&o.cars.length?(l(),r("div",Fe,[e("table",{class:D([o.cars.length>1?"bg-yellow-200 text-gray-800":"bg-emerald-200 text-gray-800","w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center divide-y divide-gray-200 dark:divide-gray-800"])},[e("thead",Ie,[e("tr",{class:D(o.cars.length>1?"bg-yellow-600 text-gray-100":"bg-emerald-600 text-gray-100")},[e("th",Re,a(s.$t("date")),1),e("th",Te,a(s.$t("car_owner")),1),e("th",Ue,a(s.$t("car_type")),1),e("th",We,a(s.$t("year")),1),e("th",ze,a(s.$t("color")),1),e("th",He,a(s.$t("vin")),1),e("th",Le,a(s.$t("car_number")),1),e("th",je,a(s.$t("note")),1),qe,Ge],2)]),e("tbody",null,[(l(!0),r(C,null,M(o.cars,(i,O)=>{var R;return l(),r("tr",{key:O,class:"bg-white dark:bg-gray-800"},[e("td",Je,a(i.date),1),e("td",Ke,a((R=i.client)==null?void 0:R.name),1),e("td",Oe,a(i.car_type),1),e("td",Pe,a(i.year),1),e("td",Qe,a(i.car_color),1),e("td",Xe,a(i.vin),1),e("td",Ye,a(i.car_number),1),e("td",Ze,a(i.note),1),e("td",Se,a(i.owner_id==1?"\u0627\u0631\u0628\u064A\u0644":"\u0643\u0631\u0643\u0648\u0643"),1),e("td",et,[(l(!0),r(C,null,M(i.car_images,(T,P)=>(l(),r("a",{key:P,href:K(T.name),style:{cursor:"pointer"},target:"_blank"},[e("img",{src:J(T.name),alt:"",class:"px-1",style:{"max-width":"100px","max-height":"50px",display:"inline"}},null,8,st)],8,tt))),128))])])}),128))])],2)])):(l(),r("div",ot,[e("p",at,[E(" \u0644\u0627 \u062A\u0648\u062C\u062F \u0646\u062A\u0627\u0626\u062C \u0644\u0647\u0630\u0627 \u0627\u0644\u0631\u0642\u0645: "),e("span",rt,a(o.vin||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)])]))]))),128))])):A("",!0)])])])])])):A("",!0),lt]),_:1})],64))}};export{bt as default};
