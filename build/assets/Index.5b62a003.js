import{r as h,o as u,c as T,w as D,a as g,b as e,d as q,j as c,i as m,k as p,e as f,v as b,t as l,g as v,T as F,z as O,x as Q,F as B,H as X,y as Z,h as S,n as ee}from"./app.31e42467.js";import{_ as te}from"./AuthenticatedLayout.8d9e20a0.js";import{t as ae}from"./trash.9d303411.js";import{e as oe}from"./edit.c3a2af6a.js";import{a as C}from"./index.683cde21.js";import{U as H}from"./Uploader.548fa87e.js";import{q as E}from"./VueSearchSelect.4b4226ad.js";import{M as re}from"./ModalDelCar.3ac622bd.js";import{W as se}from"./v3-infinite-loading.es.5dc23f98.js";import{d as de}from"./debounce.eb8d70d1.js";/* empty css                                                                 *//* empty css                                                    */const le={key:0,class:"modal-mask"},ne={class:"modal-wrapper max-h-[80vh]"},ie={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},ue={class:"modal-header"},ce={class:"text-center dark:text-gray-200"},ge={class:"modal-body"},me={key:0,class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},fe={class:"mb-4 mx-1"},be=e("label",{class:"dark:text-gray-200",for:"color_id"}," \u0635\u0627\u062D\u0628 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 ",-1),ye={class:"relative"},he={class:"relative"},pe={key:0,className:"mb-4 mx-1"},ve={class:"dark:text-gray-200",for:"number"},ke={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-1 lg:gap-2"},xe={className:"mb-4 mx-1"},$e={class:"dark:text-gray-200",for:"car_number"},we={className:"mb-4 mx-1"},_e={class:"dark:text-gray-200",for:"pin"},De={className:"mb-4 mx-1"},Ce={class:"dark:text-gray-200",for:"pin"},Ae={className:"mb-4 mx-1"},Ue={class:"dark:text-gray-200",for:"pin"},Ne={className:"mb-4 mx-1"},Ve={class:"dark:text-gray-200",for:"pin"},Me={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},Ie={className:"mb-4 mx-1"},Be={class:"dark:text-gray-200",for:"note"},Te={key:1,class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},ze=["disabled"],Re={key:2,class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},Se={class:"mb-4"},je=e("label",{class:"form-label"},"\u0627\u0644\u0635\u0648\u0631",-1),qe={class:"mt-3"},Fe={key:0,class:"text-danger"},Oe={class:"modal-footer my-2"},He={class:"flex flex-row m-auto"},Ee={__name:"ModalAddCarsAnnual",props:{show:Boolean,formData:Object,client:Array,saveCar:Boolean},setup(t){function $(){const o=new Date,a=o.getFullYear(),y=String(o.getMonth()+1).padStart(2,"0"),x=String(o.getDate()).padStart(2,"0");return`${a}-${y}-${x}`}let n=h(!0);function k(o){C.get("/api/carsAnnualImageDel?name="+o.name).then(a=>{toast.success("\u062A\u0645  \u062D\u0630\u0641 \u0627\u0644\u0635\u0648\u0631\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:5e3,position:"bottom-right",rtl:!0})}).catch(a=>{console.error(a)})}return(o,a)=>(u(),T(F,{name:"modal"},{default:D(()=>{var y,x,w;return[t.show?(u(),g("div",le,[e("div",ne,[e("div",ie,[e("div",ue,[q(o.$slots,"header",{},()=>[e("h2",ce,l(o.$t("add_car")),1)])]),e("div",ge,[t.formData.id?m("",!0):(u(),g("div",me,[e("div",fe,[be,e("div",ye,[c(n)?m("",!0):(u(),T(c(E),{key:0,optionValue:"id",optionText:"name",modelValue:t.formData.client_id,"onUpdate:modelValue":a[0]||(a[0]=r=>t.formData.client_id=r),list:t.client,placeholder:"\u062A\u062D\u062F\u064A\u062F \u0635\u0627\u062D\u0628 \u0627\u0644\u0633\u064A\u0627\u0631\u0629"},null,8,["modelValue","list"])),c(n)?m("",!0):(u(),g("button",{key:1,type:"button",onClick:a[1]||(a[1]=r=>{p(n)?n.value=!0:n=!0,t.formData.client_name="",t.formData.client_id=""}),class:"absolute left-0 top-0 h-full px-3 py-2 font-bold text-white bg-green-500 rounded-tl-lg rounded-bl-lg"}," \u0625\u0636\u0627\u0641\u0629 \u0635\u0627\u062D\u0628 \u0633\u064A\u0627\u0631\u0629 "))]),e("div",he,[c(n)?f((u(),g("input",{key:0,id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[2]||(a[2]=r=>t.formData.client_name=r)},null,512)),[[b,t.formData.client_name]]):m("",!0),c(n)?(u(),g("button",{key:1,type:"button",onClick:a[3]||(a[3]=r=>{p(n)?n.value=!1:n=!1,t.formData.client=""}),class:"absolute left-0 top-0 h-full px-3 py-2 font-bold text-white bg-pink-500 rounded-tl-lg rounded-bl-lg"}," \u062A\u062D\u062F\u064A\u062F \u0635\u0627\u062D\u0628 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 ")):m("",!0)])]),c(n)?(u(),g("div",pe,[e("label",ve,l(o.$t("phoneNumber")),1),f(e("input",{id:"number",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[4]||(a[4]=r=>t.formData.client_phone=r)},null,512),[[b,t.formData.client_phone]])])):m("",!0)])),e("div",ke,[e("div",xe,[e("label",$e,l(o.$t("car_number")),1),f(e("input",{id:"car_number",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[5]||(a[5]=r=>t.formData.car_number=r)},null,512),[[b,t.formData.car_number]])]),e("div",we,[e("label",_e,l(o.$t("car_type")),1),f(e("input",{id:"car_type",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[6]||(a[6]=r=>t.formData.car_type=r)},null,512),[[b,t.formData.car_type]])]),e("div",De,[e("label",Ce,l(o.$t("year")),1),f(e("input",{id:"year",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[7]||(a[7]=r=>t.formData.year=r)},null,512),[[b,t.formData.year]])]),e("div",Ae,[e("label",Ue,l(o.$t("color")),1),f(e("input",{id:"car_color",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[8]||(a[8]=r=>t.formData.car_color=r)},null,512),[[b,t.formData.car_color]])]),e("div",Ne,[e("label",Ve,l(o.$t("date")),1),f(e("input",{id:"date",type:"date",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[9]||(a[9]=r=>t.formData.date=r)},null,512),[[b,t.formData.date]])])]),e("div",Me,[e("div",Ie,[e("label",Be,l(o.$t("note")),1),f(e("input",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[10]||(a[10]=r=>t.formData.note=r)},null,512),[[b,t.formData.note]])])]),t.saveCar?m("",!0):(u(),g("div",Te,[e("button",{class:"modal-default-button py-3 bg-blue-500 rounded col-6",onClick:a[11]||(a[11]=r=>{t.formData.date=t.formData.date?t.formData.date:$(),o.$emit("a",t.formData)}),disabled:!t.formData.client_id&&!t.formData.client_name}," \u062D\u0641\u0638 \u0648\u0645\u062A\u0627\u0628\u0639\u0629 ",8,ze)])),t.saveCar?(u(),g("div",Re,[e("div",Se,[je,e("div",qe,[v(c(H),{server:"/api/carsAnnualUpload?carId="+t.saveCar,"is-invalid":!!((y=o.errors)!=null&&y.media),onChange:o.changeMedia,location:"/storage/posts/media",onInit:o.initMedia,onAdd:o.addMedia,onRemove:k},null,8,["server","is-invalid","onChange","onInit","onAdd"])]),(x=o.errors)!=null&&x.media?(u(),g("p",Fe,l((w=o.errors)==null?void 0:w.media[0]),1)):m("",!0)])])):m("",!0)]),e("div",Oe,[e("div",He,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:a[12]||(a[12]=r=>{o.$emit("close"),t.formData=""})}," \u0625\u063A\u0644\u0627\u0642 ")])])])])])):m("",!0)]}),_:3}))}};const Ge={key:0,class:"modal-mask"},Le={class:"modal-wrapper max-h-[80vh]"},We={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},Ye={class:"modal-header"},Je=e("h2",{class:"text-center dark:text-gray-200"}," \u062A\u0639\u062F\u064A\u0644 \u0645\u0639\u0644\u0648\u0645\u0627\u062A ",-1),Ke={class:"modal-body"},Pe={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},Qe={class:"mb-4 mx-1"},Xe=e("label",{class:"dark:text-gray-200",for:"color_id"}," \u0635\u0627\u062D\u0628 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 ",-1),Ze={class:"relative"},et={class:"relative"},tt={key:0,className:"mb-4 mx-1"},at={class:"dark:text-gray-200",for:"number"},ot={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-1 lg:gap-2"},rt={className:"mb-4 mx-1"},st={class:"dark:text-gray-200",for:"car_number"},dt={className:"mb-4 mx-1"},lt={class:"dark:text-gray-200",for:"pin"},nt={className:"mb-4 mx-1"},it={class:"dark:text-gray-200",for:"pin"},ut={className:"mb-4 mx-1"},ct={class:"dark:text-gray-200",for:"pin"},gt={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},mt={className:"mb-4 mx-1"},ft={class:"dark:text-gray-200",for:"note"},bt={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},yt={class:"m-4"},ht=e("label",{class:"form-label"},"\u0627\u0644\u0635\u0648\u0631",-1),pt={key:0,class:"text-danger"},vt={class:"modal-footer my-2"},kt={class:"flex flex-row"},xt={class:"basis-1/2 px-4"},$t={class:"basis-1/2 px-4"},wt=["disabled"],_t={__name:"ModalUpdateCarsAnnual",props:{show:Boolean,formData:Object,client:Array,saveCar:Boolean},setup(t){const $=O();let n=h(!1);function k(o){C.get("/api/carsAnnualImageDel?name="+o.name).then(a=>{$.success("\u062A\u0645  \u062D\u0630\u0641 \u0627\u0644\u0635\u0648\u0631\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:5e3,position:"bottom-right",rtl:!0})}).catch(a=>{console.error(a)})}return(o,a)=>(u(),T(F,{name:"modal"},{default:D(()=>{var y,x,w;return[t.show?(u(),g("div",Ge,[e("div",Le,[e("div",We,[e("div",Ye,[q(o.$slots,"header",{},()=>[Je])]),e("div",Ke,[e("div",Pe,[e("div",Qe,[Xe,e("div",Ze,[c(n)?m("",!0):(u(),T(c(E),{key:0,optionValue:"id",optionText:"name",modelValue:t.formData.client_id,"onUpdate:modelValue":a[0]||(a[0]=r=>t.formData.client_id=r),list:t.client,placeholder:"\u062A\u062D\u062F\u064A\u062F \u0635\u0627\u062D\u0628 \u0627\u0644\u0633\u064A\u0627\u0631\u0629"},null,8,["modelValue","list"])),c(n)?m("",!0):(u(),g("button",{key:1,type:"button",onClick:a[1]||(a[1]=r=>{p(n)?n.value=!0:n=!0,t.formData.client_name="",t.formData.client_id=""}),class:"absolute left-0 top-0 h-full px-3 py-2 font-bold text-white bg-green-500 rounded-tl-lg rounded-bl-lg"}," \u0625\u0636\u0627\u0641\u0629 \u0635\u0627\u062D\u0628 \u0633\u064A\u0627\u0631\u0629 "))]),e("div",et,[c(n)?f((u(),g("input",{key:0,id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[2]||(a[2]=r=>t.formData.client_name=r)},null,512)),[[b,t.formData.client_name]]):m("",!0),c(n)?(u(),g("button",{key:1,type:"button",onClick:a[3]||(a[3]=r=>{p(n)?n.value=!1:n=!1,t.formData.client=""}),class:"absolute left-0 top-0 h-full px-3 py-2 font-bold text-white bg-pink-500 rounded-tl-lg rounded-bl-lg"}," \u062A\u062D\u062F\u064A\u062F \u0635\u0627\u062D\u0628 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 ")):m("",!0)])]),c(n)?(u(),g("div",tt,[e("label",at,l(o.$t("phoneNumber")),1),f(e("input",{id:"number",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[4]||(a[4]=r=>t.formData.client_phone=r)},null,512),[[b,t.formData.client_phone]])])):m("",!0)]),e("div",ot,[e("div",rt,[e("label",st,l(o.$t("car_number")),1),f(e("input",{id:"car_number",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[5]||(a[5]=r=>t.formData.car_number=r)},null,512),[[b,t.formData.car_number]])]),e("div",dt,[e("label",lt,l(o.$t("car_type")),1),f(e("input",{id:"car_type",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[6]||(a[6]=r=>t.formData.car_type=r)},null,512),[[b,t.formData.car_type]])]),e("div",nt,[e("label",it,l(o.$t("year")),1),f(e("input",{id:"year",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[7]||(a[7]=r=>t.formData.year=r)},null,512),[[b,t.formData.year]])]),e("div",ut,[e("label",ct,l(o.$t("color")),1),f(e("input",{id:"car_color",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[8]||(a[8]=r=>t.formData.car_color=r)},null,512),[[b,t.formData.car_color]])])]),e("div",gt,[e("div",mt,[e("label",ft,l(o.$t("note")),1),f(e("input",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[9]||(a[9]=r=>t.formData.note=r)},null,512),[[b,t.formData.note]])])]),e("div",bt,[e("div",yt,[ht,e("div",null,[v(c(H),{server:"/api/carsAnnualUpload?carId="+t.formData.id,"is-invalid":!!((y=o.errors)!=null&&y.media),onChange:o.changeMedia,onInitMedia:o.media,location:"/public/uploadsResized",media:t.formData.car_images,onAdd:o.addMedia,onRemove:k},null,8,["server","is-invalid","onChange","onInitMedia","media","onAdd"])]),(x=o.errors)!=null&&x.media?(u(),g("p",pt,l((w=o.errors)==null?void 0:w.media[0]),1)):m("",!0)])])]),e("div",vt,[e("div",kt,[e("div",xt,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:a[10]||(a[10]=r=>o.$emit("close"))}," \u0627\u063A\u0644\u0627\u0642 ")]),e("div",$t,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:a[11]||(a[11]=r=>{t.formData.date=t.formData.date?t.formData.date:o.getTodayDate(),o.$emit("a",t.formData),t.formData="",p(n)?n.value=!1:n=!1}),disabled:!t.formData.client_id&&!t.formData.client_name}," \u062D\u0641\u0638 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A ",8,wt)])])])])])])):m("",!0)]}),_:3}))}},Dt=e("h2",{class:"mb-5 dark:text-white text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1),Ct={key:0,class:"py-2"},At={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},Ut={class:"bg-white overflow-hidden shadow-sm"},Nt={class:"p-6 dark:bg-gray-900"},Vt={class:"flex flex-col"},Mt={class:"grid grid-cols-2 md:grid-cols-5 lg:grid-cols-5 gap-2 lg:gap-1"},It={class:"flex items-center max-w-5xl"},Bt=e("label",{class:"dark:text-gray-200",for:"simple-search"},null,-1),Tt={class:"relative w-full"},zt=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[e("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-200 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),Rt={value:"0",disabled:""},St={value:""},jt=["value"],qt={class:"text-center"},Ft=e("div",null,null,-1),Ot={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},Ht={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},Et={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Gt=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0627\u0633\u0645 \u0635\u0627\u062D\u0628 \u0627\u0644\u0633\u06CC\u0627\u0631\u06D5 ",-1),Lt={scope:"col",class:"px-1 py-3 text-base"},Wt={scope:"col",class:"px-1 py-3 text-base"},Yt={scope:"col",class:"px-1 py-3 text-base"},Jt={scope:"col",class:"px-1 py-3 text-base"},Kt={scope:"col",class:"px-1 py-3 text-base"},Pt={scope:"col",class:"px-1 py-3 text-base"},Qt=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0627\u0644\u0645\u0644\u0641\u0627\u062A \u0627\u0644\u0645\u062E\u0632\u0646\u0629 ",-1),Xt={scope:"col",class:"px-1 py-3 text-base",style:{width:"90px"}},Zt={className:"border dark:border-gray-800 text-center  dark:text-gray-200 text-black px-1 py-2 ",style:{"font-weight":"bold","font-size":"16px"}},ea={className:"border dark:border-gray-800 text-center px-1 py-2 "},ta={className:"border dark:border-gray-800 text-center px-1 py-2 "},aa={className:"border dark:border-gray-800 text-center px-1 py-2 "},oa={className:"border dark:border-gray-800 text-center px-1 py-2 "},ra={className:"border dark:border-gray-800 text-center px-1 py-2 "},sa={className:"border dark:border-gray-800 text-center px-1 py-2 "},da={className:"border dark:border-gray-800 text-center px-1 py-2 "},la=["href"],na=["src"],ia={className:"border dark:border-gray-800 text-start px-1 py-2"},ua=["onClick"],ca=["onClick"],ga={class:"spaner"},ma=e("div",null,null,-1),Ca={__name:"Index",props:{clientAnnual:Array},setup(t){Q();const $=O();let n=h(!1),k=h(!1),o=h(!1),a=h(!1);h(0),h(0);let y=h(!1);function x(i={}){_.value=i,o.value=!0}function w(i={}){_.value=i,a.value=!0}function r(i={}){_.value={},k.value=!0}const _=h({}),A=h([]);let z=h(!1),U=0,R=1,N="";const V=()=>{R=0,A.value.length=0,z.value=!z.value},G=async i=>{console.log(i);try{const s=(await C.get("api/getIndexCarAnnual",{params:{limit:100,page:R,q:N,user_id:U}})).data;s.data.length<100?(A.value.push(...s.data),i.complete()):(A.value.push(...s.data),i.loaded()),R++}catch(d){console.log(d)}};function L(i){o.value=!1,C.post("/api/updateCarsAnnual",i).then(d=>{n.value=!1,$.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),V()}).catch(d=>{n.value=!1,$.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function W(i){C.post("/api/delCarsAnnualr",i).then(d=>{a.value=!1,$.success("\u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:3e3,position:"bottom-right",rtl:!0}),V()}).catch(d=>{console.error(d)})}const j=de(V,500);function Y(i){C.post("/api/addCarsAnnual",i).then(d=>{y.value=d.data.id,$.success("\u062A\u0645 \u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0628\u0646\u062C\u0627\u062D",{timeout:5e3,position:"bottom-right",rtl:!0})}).catch(d=>{console.error(d)})}function J(i){return`/public/uploadsResized/${i}`}function K(i){return`/public/uploads/${i}`}return(i,d)=>(u(),g(B,null,[v(c(X),{title:"Dashboard"}),v(Ee,{formData:_.value,saveCar:c(y),show:!!c(k),client:t.clientAnnual,onA:d[0]||(d[0]=s=>Y(s)),onClose:d[1]||(d[1]=s=>{p(k)?k.value=!1:k=!1,p(y)?y.value=0:y=0,V()})},{header:D(()=>[]),_:1},8,["formData","saveCar","show","client"]),v(_t,{formData:_.value,saveCar:c(y),show:!!c(o),client:t.clientAnnual,onA:d[2]||(d[2]=s=>L(s)),onClose:d[3]||(d[3]=s=>p(o)?o.value=!1:o=!1)},{header:D(()=>[]),_:1},8,["formData","saveCar","show","client"]),v(re,{show:!!c(a),formData:_.value,onA:d[4]||(d[4]=s=>W(s)),onClose:d[5]||(d[5]=s=>p(a)?a.value=!1:a=!1)},{header:D(()=>[Dt]),_:1},8,["show","formData"]),v(te,null,{default:D(()=>[i.$page.props.auth.user.type_id==1?(u(),g("div",Ct,[e("div",At,[e("div",Ut,[e("div",Nt,[e("div",Vt,[e("div",Mt,[e("div",null,[e("form",It,[Bt,e("div",Tt,[zt,f(e("input",{"onUpdate:modelValue":d[6]||(d[6]=s=>p(N)?N.value=s:N=s),onInput:d[7]||(d[7]=(...s)=>c(j)&&c(j)(...s)),type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"\u0628\u062D\u062B",required:""},null,544),[[b,c(N)]])])])]),e("div",null,[f(e("select",{onChange:d[8]||(d[8]=s=>V()),"onUpdate:modelValue":d[9]||(d[9]=s=>p(U)?U.value=s:U=s),id:"default",class:"pr-8 bg-gray-50 border border-gray-300 text-gray-900 mb-6 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-red-500 dark:focus:border-red-500"},[e("option",Rt,l(i.$t("selectCustomer")),1),e("option",St,l(i.$t("allOwners")),1),(u(!0),g(B,null,S(t.clientAnnual,(s,M)=>(u(),g("option",{key:M,value:s.id},l(s.name),9,jt))),128))],544),[[Z,c(U)]])]),e("div",qt,[e("button",{type:"button",onClick:d[10]||(d[10]=s=>r()),style:{"min-width":"150px"},className:"px-6 mb-12 mx-2 py-2 font-bold text-white bg-purple-600 rounded"}," \u0627\u0636\u0627\u0641\u0629 \u0633\u064A\u0627\u0631\u0629 ")])]),e("div",null,[Ft,e("div",Ot,[e("table",Ht,[e("thead",Et,[e("tr",null,[Gt,e("th",Lt,l(i.$t("car_type")),1),e("th",Wt,l(i.$t("year")),1),e("th",Yt,l(i.$t("color")),1),e("th",Jt,l(i.$t("car_number")),1),e("th",Kt,l(i.$t("note")),1),e("th",Pt,l(i.$t("date")),1),Qt,e("th",Xt,l(i.$t("execute")),1)])]),e("tbody",null,[(u(!0),g(B,null,S(A.value,s=>{var M;return u(),g("tr",{key:s.id,class:ee([s.results==0?"":s.results==1?"bg-red-100 dark:bg-red-900":"bg-green-100 dark:bg-green-900","bg-white border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[e("td",Zt,l(((M=s.client)==null?void 0:M.name)||s.client_name),1),e("td",ea,l(s.car_type),1),e("td",ta,l(s.year),1),e("td",aa,l(s.car_color),1),e("td",oa,l(s.car_number),1),e("td",ra,l(s.note),1),e("td",sa,l(s.date),1),e("td",da,[(u(!0),g(B,null,S(s.car_images,(I,P)=>(u(),g("a",{key:P,href:K(I.name),style:{cursor:"pointer"},target:"_blank"},[e("img",{src:J(I.name),alt:"",class:"px-1",style:{"max-width":"100px","max-height":"50px",display:"inline"}},null,8,na)],8,la))),128))]),e("td",ia,[e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-slate-500 rounded",onClick:I=>x(s)},[v(oe)],8,ua),e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-orange-500 rounded",onClick:I=>w(s)},[v(ae)],8,ca)])],2)}),128))])])])]),e("div",ga,[v(c(se),{car:A.value,onInfinite:G,identifier:c(z)},null,8,["car","identifier"])])])])])])])):m("",!0),ma]),_:1})],64))}};export{Ca as default};
