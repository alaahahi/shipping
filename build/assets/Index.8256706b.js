import{o as d,a as n,b as t,t as r,j as c,q as D,F as f,h as v,i as y,n as k,r as C,U as Y,m as S,E as A,g as b,w as F,H,e as N,s as P,c as $}from"./app.cafa9086.js";import{_ as E}from"./AuthenticatedLayout.31aa859b.js";import{a as U}from"./index.33ebcead.js";import"./_plugin-vue_export-helper.cdc0426e.js";const x=o=>{if(o==null||o==="")return"0";const s=typeof o=="string"?parseFloat(o):o;return isNaN(s)?"0":new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(s)},L={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},q={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},R={class:"flex items-center"},G={class:"ml-5 w-0 flex-1"},J={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},K={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},Q={class:"flex items-center"},W={class:"ml-5 w-0 flex-1"},X={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},Z={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},tt={class:"flex items-center"},et={class:"ml-5 w-0 flex-1"},st={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},at={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},rt={class:"flex items-center"},ot={class:"ml-5 w-0 flex-1"},dt={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},lt={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},nt={class:"flex items-center"},it={class:"ml-5 w-0 flex-1"},ct={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},ut={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},xt={class:"flex items-center"},gt={class:"ml-5 w-0 flex-1"},mt={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},yt={__name:"StatCards",props:{carsCount:{type:Number,default:0},totalCustoms:{type:Number,default:0},exchangeProfit:{type:Number,default:0},netProfit:{type:Number,default:0},netTransfers:{type:Number,default:0},cashBalance:{type:Number,default:0}},setup(o){return(s,e)=>(d(),n("div",L,[t("div",q,[t("div",R,[e[1]||(e[1]=t("div",{class:"flex-shrink-0 bg-blue-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),t("div",G,[t("dl",null,[e[0]||(e[0]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0639\u062F\u062F \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A ",-1)),t("dd",J,r(o.carsCount),1)])])])]),t("div",K,[t("div",Q,[e[3]||(e[3]=t("div",{class:"flex-shrink-0 bg-green-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",W,[t("dl",null,[e[2]||(e[2]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062C\u0645\u0631\u0643 ",-1)),t("dd",X,r(c(x)(o.totalCustoms)),1)])])])]),t("div",Z,[t("div",tt,[e[5]||(e[5]=t("div",{class:"flex-shrink-0 bg-yellow-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])],-1)),t("div",et,[t("dl",null,[e[4]||(e[4]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0627\u0644\u0641\u0627\u0626\u062F\u0629 \u0645\u0646 \u0641\u0631\u0642 \u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641 ",-1)),t("dd",st,r(c(x)(o.exchangeProfit)),1)])])])]),t("div",at,[t("div",rt,[e[7]||(e[7]=t("div",{class:"flex-shrink-0 bg-purple-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),t("div",ot,[t("dl",null,[e[6]||(e[6]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0635\u0627\u0641\u064A \u0627\u0644\u0631\u0628\u062D ",-1)),t("dd",dt,r(c(x)(o.netProfit)),1)])])])]),t("div",lt,[t("div",nt,[e[9]||(e[9]=t("div",{class:"flex-shrink-0 bg-indigo-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})])],-1)),t("div",it,[t("dl",null,[e[8]||(e[8]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0635\u0627\u0641\u064A \u0627\u0644\u062D\u0648\u0644\u0627\u062A ",-1)),t("dd",ct,r(c(x)(o.netTransfers)),1)])])])]),t("div",ut,[t("div",xt,[e[11]||(e[11]=t("div",{class:"flex-shrink-0 bg-red-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),t("div",gt,[t("dl",null,[e[10]||(e[10]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0627\u0644\u0631\u0635\u064A\u062F \u0627\u0644\u0646\u0642\u062F\u064A ",-1)),t("dd",mt,r(c(x)(o.cashBalance)),1)])])])])]))}},ht={class:"w-full"},pt={viewBox:"0 0 400 200",class:"w-full h-64"},ft=["y"],vt=["x"],kt=["points"],bt=["cx","cy"],_t={class:"mt-4 text-center text-sm text-gray-600 dark:text-gray-400"},wt={class:"mt-1"},$t={class:"mt-1"},Ct={__name:"ProfitChart",props:{labels:{type:Array,default:()=>[]},monthlyProfit:{type:Array,default:()=>[]},yearlyProfit:{type:Number,default:0}},setup(o){const s=o,e=D(()=>{if(!s.monthlyProfit||s.monthlyProfit.length===0)return{max:0,points:[]};const u=s.monthlyProfit,g=Math.max(...u,0),a=Math.min(...u,0),l=g-a||1,p=u.map((m,i)=>{const h=l>0?(m-a)/l*100:50;return{x:i/(u.length-1||1)*100,y:100-h,profit:m,label:s.labels[i]||i+1}});return{max:g,min:a,range:l,points:p}});return(u,g)=>(d(),n("div",ht,[(d(),n("svg",pt,[g[0]||(g[0]=t("defs",null,[t("pattern",{id:"grid-profit",width:"20",height:"20",patternUnits:"userSpaceOnUse"},[t("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"#e5e7eb","stroke-width":"0.5",class:"dark:stroke-gray-700"})])],-1)),g[1]||(g[1]=t("rect",{width:"100%",height:"100%",fill:"url(#grid-profit)"},null,-1)),(d(),n(f,null,v(5,(a,l)=>t("text",{key:a,x:5,y:l*25+10,class:"text-xs fill-gray-600 dark:fill-gray-400","text-anchor":"start"},r(c(x)(e.value.max-e.value.max/4*l)),9,ft)),64)),(d(!0),n(f,null,v(e.value.points.filter((a,l)=>l%2===0),(a,l)=>(d(),n("text",{key:l,x:a.x/100*380+20,y:195,class:"text-xs fill-gray-600 dark:fill-gray-400","text-anchor":"middle"},r(a.label),9,vt))),128)),e.value.points.length>0?(d(),n("polyline",{key:0,points:e.value.points.map(a=>`${a.x/100*380+20},${a.y/100*180+10}`).join(" "),fill:"none",stroke:"#3b82f6","stroke-width":"2",class:"dark:stroke-blue-400"},null,8,kt)):y("",!0),(d(!0),n(f,null,v(e.value.points,(a,l)=>(d(),n("circle",{key:l,cx:a.x/100*380+20,cy:a.y/100*180+10,r:"4",fill:"#3b82f6",class:"dark:fill-blue-400"},[t("title",null,r(a.label)+": "+r(c(x)(a.profit)),1)],8,bt))),128))])),t("div",_t,[t("p",null,"\u0625\u062C\u0645\u0627\u0644\u064A \u0631\u0628\u062D \u0627\u0644\u0633\u0646\u0629: "+r(c(x)(o.yearlyProfit)),1),t("p",wt,"\u0623\u0639\u0644\u0649 \u0631\u0628\u062D \u0634\u0647\u0631\u064A: "+r(c(x)(e.value.max)),1),t("p",$t,"\u0623\u0642\u0644 \u0631\u0628\u062D \u0634\u0647\u0631\u064A: "+r(c(x)(e.value.min)),1)])]))}},Nt={class:"overflow-x-auto"},Pt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Dt={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Mt={key:0},Bt={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},It={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},jt={class:"px-4 py-3 whitespace-nowrap text-sm font-semibold text-red-600 dark:text-red-400"},Vt={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},zt={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Tt={class:"mt-4 grid grid-cols-3 gap-4 text-sm"},Ft={class:"text-center"},Ot={class:"font-semibold text-red-600 dark:text-red-400"},Yt={class:"text-center"},St={class:"font-semibold text-red-600 dark:text-red-400"},At={class:"text-center"},Ht={class:"font-semibold text-red-600 dark:text-red-400"},Et={__name:"DiscountTable",props:{discounts:{type:Array,default:()=>[]},totalDiscounts:{type:Number,default:0},maxDiscount:{type:Number,default:0},minDiscount:{type:Number,default:0}},setup(o){return(s,e)=>(d(),n("div",Nt,[t("table",Pt,[e[1]||(e[1]=t("thead",{class:"bg-gray-50 dark:bg-gray-900"},[t("tr",null,[t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0631\u0642\u0645 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," VIN "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u062E\u0635\u0645 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0634\u0631\u0627\u0621 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0628\u064A\u0639 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0631\u0628\u062D \u0628\u0639\u062F \u0627\u0644\u062E\u0635\u0645 ")])],-1)),t("tbody",Dt,[o.discounts.length===0?(d(),n("tr",Mt,[...e[0]||(e[0]=[t("td",{colspan:"6",class:"px-4 py-4 text-center text-sm text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A ",-1)])])):y("",!0),(d(!0),n(f,null,v(o.discounts.slice(0,10),(u,g)=>(d(),n("tr",{key:g,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",Bt,r(u.car_number||"-"),1),t("td",It,r(u.vin||"-"),1),t("td",jt,r(c(x)(u.discount||0)),1),t("td",Vt,r(c(x)(u.total||0)),1),t("td",zt,r(c(x)(u.total_s||0)),1),t("td",{class:k(["px-4 py-3 whitespace-nowrap text-sm font-semibold",(u.profit_after_discount||u.profit||0)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},r(c(x)(u.profit_after_discount||u.profit||0)),3)]))),128))])]),t("div",Tt,[t("div",Ft,[e[2]||(e[2]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0627\u0644\u0645\u062C\u0645\u0648\u0639",-1)),t("p",Ot,r(c(x)(o.totalDiscounts)),1)]),t("div",Yt,[e[3]||(e[3]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0623\u0639\u0644\u0649 \u062E\u0635\u0645",-1)),t("p",St,r(c(x)(o.maxDiscount)),1)]),t("div",At,[e[4]||(e[4]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0623\u0642\u0644 \u062E\u0635\u0645",-1)),t("p",Ht,r(c(x)(o.minDiscount)),1)])])]))}},Ut={class:"overflow-x-auto"},Lt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},qt={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Rt={key:0},Gt={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Jt={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Kt={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Qt={class:"mt-4 grid grid-cols-3 gap-4 text-sm"},Wt={class:"text-center"},Xt={class:"font-semibold text-green-600 dark:text-green-400"},Zt={class:"text-center"},te={class:"font-semibold text-red-600 dark:text-red-400"},ee={class:"text-center"},se={class:"font-semibold text-gray-900 dark:text-gray-100"},O={__name:"CarProfitTable",props:{cars:{type:Array,default:()=>[]},maxProfit:{type:Number,default:0},minProfit:{type:Number,default:0},avgProfit:{type:Number,default:0}},setup(o){return(s,e)=>(d(),n("div",Ut,[t("table",Lt,[e[1]||(e[1]=t("thead",{class:"bg-gray-50 dark:bg-gray-900"},[t("tr",null,[t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," # "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0631\u0642\u0645 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," VIN "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0635\u0627\u0641\u064A \u0627\u0644\u0631\u0628\u062D ")])],-1)),t("tbody",qt,[o.cars.length===0?(d(),n("tr",Rt,[...e[0]||(e[0]=[t("td",{colspan:"4",class:"px-4 py-4 text-center text-sm text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A ",-1)])])):y("",!0),(d(!0),n(f,null,v(o.cars,(u,g)=>(d(),n("tr",{key:u.id||g,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",Gt,r(g+1),1),t("td",Jt,r(u.car_number||"-"),1),t("td",Kt,r(u.vin||"-"),1),t("td",{class:k(["px-4 py-3 whitespace-nowrap text-sm font-semibold",(u.net_profit||u.profit||0)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},r(c(x)(u.net_profit||u.profit||0)),3)]))),128))])]),t("div",Qt,[t("div",Wt,[e[2]||(e[2]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0623\u0639\u0644\u0649 \u0631\u0628\u062D",-1)),t("p",Xt,r(c(x)(o.maxProfit)),1)]),t("div",Zt,[e[3]||(e[3]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0623\u0642\u0644 \u0631\u0628\u062D",-1)),t("p",te,r(c(x)(o.minProfit)),1)]),t("div",ee,[e[4]||(e[4]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0645\u062A\u0648\u0633\u0637 \u0627\u0644\u0631\u0628\u062D",-1)),t("p",se,r(c(x)(o.avgProfit)),1)])])]))}},ae={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},re={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},oe={class:"flex items-center"},de={class:"ml-5 w-0 flex-1"},le={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},ne={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},ie={class:"flex items-center"},ce={class:"ml-5 w-0 flex-1"},ue={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},xe={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},ge={class:"flex items-center"},me={class:"ml-5 w-0 flex-1"},ye={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},he={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},pe={class:"flex items-center"},fe={class:"ml-5 w-0 flex-1"},ve={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},ke={__name:"TransfersSummary",props:{grossTransfers:{type:Number,default:0},transferFees:{type:Number,default:0},netTransfers:{type:Number,default:0},erbilTransfers:{type:Number,default:0}},setup(o){return(s,e)=>(d(),n("div",ae,[t("div",re,[t("div",oe,[e[1]||(e[1]=t("div",{class:"flex-shrink-0 bg-blue-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})])],-1)),t("div",de,[t("dl",null,[e[0]||(e[0]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u062D\u0648\u0644\u0627\u062A ",-1)),t("dd",le,r(c(x)(o.grossTransfers)),1)])])])]),t("div",ne,[t("div",ie,[e[3]||(e[3]=t("div",{class:"flex-shrink-0 bg-yellow-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",ce,[t("dl",null,[e[2]||(e[2]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0631\u0633\u0648\u0645 \u0627\u0644\u062D\u0648\u0644\u0627\u062A ",-1)),t("dd",ue,r(c(x)(o.transferFees)),1)])])])]),t("div",xe,[t("div",ge,[e[5]||(e[5]=t("div",{class:"flex-shrink-0 bg-green-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",me,[t("dl",null,[e[4]||(e[4]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0635\u0627\u0641\u064A \u0627\u0644\u062D\u0648\u0644\u0627\u062A ",-1)),t("dd",ye,r(c(x)(o.netTransfers)),1)])])])]),t("div",he,[t("div",pe,[e[7]||(e[7]=t("div",{class:"flex-shrink-0 bg-purple-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})])],-1)),t("div",fe,[t("dl",null,[e[6]||(e[6]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u062D\u0648\u0644\u0627\u062A \u0623\u0631\u0628\u064A\u0644 ",-1)),t("dd",ve,r(c(x)(o.erbilTransfers)),1)])])])])]))}},be={class:"overflow-x-auto"},_e={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},we={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},$e={key:0},Ce=["onClick"],Ne={class:"px-4 py-3 whitespace-nowrap"},Pe={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},De={class:"px-4 py-3 whitespace-nowrap text-sm font-semibold text-gray-900 dark:text-gray-100"},Me={class:"px-4 py-3 whitespace-nowrap text-sm text-orange-600 dark:text-orange-400"},Be={class:"px-4 py-3 whitespace-nowrap text-sm font-semibold text-green-600 dark:text-green-400"},Ie={class:"px-4 py-3 whitespace-nowrap"},je={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Ve={key:0,class:"bg-gray-50 dark:bg-gray-900"},ze={colspan:"7",class:"px-4 py-4"},Te={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},Fe={key:0},Oe={class:"text-gray-600 dark:text-gray-400"},Ye={key:1},Se={class:"text-gray-600 dark:text-gray-400"},Ae={key:2},He={class:"text-gray-600 dark:text-gray-400"},Ee={key:3},Ue={class:"text-gray-600 dark:text-gray-400"},Le={__name:"TransfersDetailTable",props:{transfers:{type:Array,default:()=>[]}},setup(o){const s=C([]),e=g=>{const a=s.value.indexOf(g);a>-1?s.value.splice(a,1):s.value.push(g)},u=g=>g==="\u062A\u0645 \u0627\u0644\u0623\u0633\u062A\u0644\u0627\u0645"||g==="\u062A\u0645 \u0627\u0644\u0627\u0633\u062A\u0644\u0627\u0645"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";return(g,a)=>(d(),n("div",be,[t("table",_e,[a[6]||(a[6]=t("thead",{class:"bg-gray-50 dark:bg-gray-900"},[t("tr",null,[t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-12"}),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0631\u0642\u0645 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0645\u0628\u0644\u063A "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0631\u0633\u0648\u0645 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0635\u0627\u0641\u064A "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u062D\u0627\u0644\u0629 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u062A\u0627\u0631\u064A\u062E ")])],-1)),t("tbody",we,[o.transfers.length===0?(d(),n("tr",$e,[...a[0]||(a[0]=[t("td",{colspan:"7",class:"px-4 py-4 text-center text-sm text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u062D\u0648\u0644\u0627\u062A ",-1)])])):y("",!0),(d(!0),n(f,null,v(o.transfers,(l,p)=>(d(),n(f,{key:l.id||p},[t("tr",{class:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:m=>e(l.id)},[t("td",Ne,[(d(),n("svg",{class:k(["w-5 h-5 transition-transform",{"rotate-90":s.value.includes(l.id)}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...a[1]||(a[1]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)])],2))]),t("td",Pe,r(l.no||l.id),1),t("td",De,r(c(x)(l.amount||0)),1),t("td",Me,r(c(x)(l.fee||0)),1),t("td",Be,r(c(x)((l.amount||0)-(l.fee||0))),1),t("td",Ie,[t("span",{class:k(["px-2 py-1 text-xs font-semibold rounded-full",u(l.stauts||l.status)])},r(l.stauts||l.status||"\u0642\u064A\u062F \u0627\u0644\u062A\u0633\u0644\u064A\u0645"),3)]),t("td",je,r(new Date(l.created_at).toLocaleDateString("ar-EG")),1)],8,Ce),s.value.includes(l.id)?(d(),n("tr",Ve,[t("td",ze,[t("div",Te,[l.sender_note?(d(),n("div",Fe,[a[2]||(a[2]=t("p",{class:"font-medium text-gray-700 dark:text-gray-300 mb-1"},"\u0645\u0644\u0627\u062D\u0638\u0629 \u0627\u0644\u0645\u0631\u0633\u0644:",-1)),t("p",Oe,r(l.sender_note),1)])):y("",!0),l.receiver_note?(d(),n("div",Ye,[a[3]||(a[3]=t("p",{class:"font-medium text-gray-700 dark:text-gray-300 mb-1"},"\u0645\u0644\u0627\u062D\u0638\u0629 \u0627\u0644\u0645\u0633\u062A\u0642\u0628\u0644:",-1)),t("p",Se,r(l.receiver_note),1)])):y("",!0),l.note?(d(),n("div",Ae,[a[4]||(a[4]=t("p",{class:"font-medium text-gray-700 dark:text-gray-300 mb-1"},"\u0645\u0644\u0627\u062D\u0638\u0627\u062A:",-1)),t("p",He,r(l.note),1)])):y("",!0),l.currency?(d(),n("div",Ee,[a[5]||(a[5]=t("p",{class:"font-medium text-gray-700 dark:text-gray-300 mb-1"},"\u0627\u0644\u0639\u0645\u0644\u0629:",-1)),t("p",Ue,r(l.currency),1)])):y("",!0)])])])):y("",!0)],64))),128))])])]))}},qe={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Re={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},Ge={class:"flex items-center"},Je={class:"ml-5 w-0 flex-1"},Ke={class:"text-lg font-semibold text-green-600 dark:text-green-400"},Qe={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},We={class:"flex items-center"},Xe={class:"ml-5 w-0 flex-1"},Ze={class:"text-lg font-semibold text-red-600 dark:text-red-400"},ts={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},es={class:"flex items-center"},ss={class:"ml-5 w-0 flex-1"},as={__name:"CashFlowCards",props:{cashIn:{type:Number,default:0},cashOut:{type:Number,default:0},netCash:{type:Number,default:0}},setup(o){return(s,e)=>(d(),n("div",qe,[t("div",Re,[t("div",Ge,[e[1]||(e[1]=t("div",{class:"flex-shrink-0 bg-green-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])],-1)),t("div",Je,[t("dl",null,[e[0]||(e[0]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0627\u0644\u0646\u0642\u062F \u0627\u0644\u0648\u0627\u0631\u062F ",-1)),t("dd",Ke,r(c(x)(o.cashIn)),1)])])])]),t("div",Qe,[t("div",We,[e[3]||(e[3]=t("div",{class:"flex-shrink-0 bg-red-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})])],-1)),t("div",Xe,[t("dl",null,[e[2]||(e[2]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0627\u0644\u0646\u0642\u062F \u0627\u0644\u0635\u0627\u062F\u0631 ",-1)),t("dd",Ze,r(c(x)(o.cashOut)),1)])])])]),t("div",ts,[t("div",es,[e[5]||(e[5]=t("div",{class:"flex-shrink-0 bg-blue-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),t("div",ss,[t("dl",null,[e[4]||(e[4]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0635\u0627\u0641\u064A \u0627\u0644\u0646\u0642\u062F ",-1)),t("dd",{class:k(["text-lg font-semibold",o.netCash>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},r(c(x)(o.netCash)),3)])])])])]))}},rs={class:"w-full"},os={viewBox:"0 0 400 200",class:"w-full h-64"},ds=["y"],ls=["x"],ns=["points"],is=["points"],cs=["cx","cy"],us=["cx","cy"],xs={__name:"CashFlowChart",props:{labels:{type:Array,default:()=>[]},cashInData:{type:Array,default:()=>[]},cashOutData:{type:Array,default:()=>[]}},setup(o){const s=o,e=D(()=>{if(!s.cashInData||s.cashInData.length===0)return{max:0,cashInPoints:[],cashOutPoints:[]};const u=[...s.cashInData,...s.cashOutData],g=Math.max(...u,0),a=Math.min(...u,0),l=g-a||1,p=s.cashInData.map((i,h)=>{const w=l>0?(i-a)/l*100:50;return{x:h/(s.cashInData.length-1||1)*100,y:100-w,value:i,label:s.labels[h]||h+1}}),m=s.cashOutData.map((i,h)=>{const w=l>0?(i-a)/l*100:50;return{x:h/(s.cashOutData.length-1||1)*100,y:100-w,value:i,label:s.labels[h]||h+1}});return{max:g,min:a,range:l,cashInPoints:p,cashOutPoints:m}});return(u,g)=>(d(),n("div",rs,[(d(),n("svg",os,[g[0]||(g[0]=t("defs",null,[t("pattern",{id:"grid-cash",width:"20",height:"20",patternUnits:"userSpaceOnUse"},[t("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"#e5e7eb","stroke-width":"0.5",class:"dark:stroke-gray-700"})])],-1)),g[1]||(g[1]=t("rect",{width:"100%",height:"100%",fill:"url(#grid-cash)"},null,-1)),(d(),n(f,null,v(5,(a,l)=>t("text",{key:a,x:5,y:l*25+10,class:"text-xs fill-gray-600 dark:fill-gray-400","text-anchor":"start"},r(c(x)(e.value.max-e.value.max/4*l)),9,ds)),64)),(d(!0),n(f,null,v(e.value.cashInPoints.filter((a,l)=>l%2===0),(a,l)=>(d(),n("text",{key:l,x:a.x/100*380+20,y:195,class:"text-xs fill-gray-600 dark:fill-gray-400","text-anchor":"middle"},r(a.label),9,ls))),128)),e.value.cashInPoints.length>0?(d(),n("polyline",{key:0,points:e.value.cashInPoints.map(a=>`${a.x/100*380+20},${a.y/100*180+10}`).join(" "),fill:"none",stroke:"#10b981","stroke-width":"2",class:"dark:stroke-green-400"},null,8,ns)):y("",!0),e.value.cashOutPoints.length>0?(d(),n("polyline",{key:1,points:e.value.cashOutPoints.map(a=>`${a.x/100*380+20},${a.y/100*180+10}`).join(" "),fill:"none",stroke:"#ef4444","stroke-width":"2",class:"dark:stroke-red-400"},null,8,is)):y("",!0),(d(!0),n(f,null,v(e.value.cashInPoints,(a,l)=>(d(),n("circle",{key:"in-"+l,cx:a.x/100*380+20,cy:a.y/100*180+10,r:"4",fill:"#10b981",class:"dark:fill-green-400"},[t("title",null,"\u0648\u0627\u0631\u062F - "+r(a.label)+": "+r(c(x)(a.value)),1)],8,cs))),128)),(d(!0),n(f,null,v(e.value.cashOutPoints,(a,l)=>(d(),n("circle",{key:"out-"+l,cx:a.x/100*380+20,cy:a.y/100*180+10,r:"4",fill:"#ef4444",class:"dark:fill-red-400"},[t("title",null,"\u0635\u0627\u062F\u0631 - "+r(a.label)+": "+r(c(x)(a.value)),1)],8,us))),128))])),g[2]||(g[2]=Y('<div class="mt-4 flex justify-center gap-6 text-sm"><div class="flex items-center gap-2"><div class="w-4 h-4 bg-green-500 rounded"></div><span class="text-gray-600 dark:text-gray-400">\u0627\u0644\u0646\u0642\u062F \u0627\u0644\u0648\u0627\u0631\u062F</span></div><div class="flex items-center gap-2"><div class="w-4 h-4 bg-red-500 rounded"></div><span class="text-gray-600 dark:text-gray-400">\u0627\u0644\u0646\u0642\u062F \u0627\u0644\u0635\u0627\u062F\u0631</span></div></div>',1))]))}},gs={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},ms={class:"flex items-center justify-between mb-4"},ys={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},hs={key:0,class:"px-3 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},ps={key:1,class:"px-3 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},fs={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},vs={class:"mt-1 text-2xl font-semibold text-green-600 dark:text-green-400"},ks={class:"mt-1 text-2xl font-semibold text-red-600 dark:text-red-400"},bs={class:"mt-1 text-2xl font-semibold text-orange-600 dark:text-orange-400"},_s={class:"mt-1 text-2xl font-semibold text-blue-600 dark:text-blue-400"},ws={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-gray-100"},$s={__name:"YearClosingSummary",props:{year:{type:Number,required:!0},totalIncome:{type:Number,default:0},totalExpenses:{type:Number,default:0},totalDiscounts:{type:Number,default:0},netYearProfit:{type:Number,default:0},carriedProfit:{type:Number,default:0},isClosed:{type:Boolean,default:!1}},setup(o){return(s,e)=>(d(),n("div",gs,[t("div",ms,[t("h3",ys," \u062E\u0644\u0627\u0635\u0629 \u0625\u063A\u0644\u0627\u0642 \u0627\u0644\u0633\u0646\u0629 "+r(o.year),1),o.isClosed?(d(),n("span",hs," \u0645\u063A\u0644\u0642\u0629 ")):(d(),n("span",ps," \u0645\u0641\u062A\u0648\u062D\u0629 "))]),t("div",fs,[t("div",null,[e[0]||(e[0]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u062F\u062E\u0644 ",-1)),t("dd",vs,r(c(x)(o.totalIncome)),1)]),t("div",null,[e[1]||(e[1]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0635\u0627\u0631\u064A\u0641 ",-1)),t("dd",ks,r(c(x)(o.totalExpenses)),1)]),t("div",null,[e[2]||(e[2]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A ",-1)),t("dd",bs,r(c(x)(o.totalDiscounts)),1)]),t("div",null,[e[3]||(e[3]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," \u0635\u0627\u0641\u064A \u0631\u0628\u062D \u0627\u0644\u0633\u0646\u0629 ",-1)),t("dd",{class:k(["mt-1 text-2xl font-semibold",o.netYearProfit>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},r(c(x)(o.netYearProfit)),3)]),t("div",null,[e[4]||(e[4]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," \u0627\u0644\u0631\u0628\u062D \u0627\u0644\u0645\u062D\u0645\u0648\u0644 ",-1)),t("dd",_s,r(c(x)(o.carriedProfit)),1)]),t("div",null,[e[5]||(e[5]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0646\u0647\u0627\u0626\u064A ",-1)),t("dd",ws,r(c(x)(o.netYearProfit+o.carriedProfit)),1)])])]))}},Cs={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-4"},Ns={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ps=["value"],Ds=["value"],Ms=["value"],Bs=["value"],Is={__name:"Filters",props:{selectedYear:{type:Number,required:!0},selectedMonth:{type:Number,default:null},years:{type:Array,required:!0}},emits:["update:selectedYear","update:selectedMonth"],setup(o,{emit:s}){const e=s,u=[{value:null,label:"\u062C\u0645\u064A\u0639 \u0627\u0644\u0623\u0634\u0647\u0631"},{value:1,label:"\u064A\u0646\u0627\u064A\u0631"},{value:2,label:"\u0641\u0628\u0631\u0627\u064A\u0631"},{value:3,label:"\u0645\u0627\u0631\u0633"},{value:4,label:"\u0623\u0628\u0631\u064A\u0644"},{value:5,label:"\u0645\u0627\u064A\u0648"},{value:6,label:"\u064A\u0648\u0646\u064A\u0648"},{value:7,label:"\u064A\u0648\u0644\u064A\u0648"},{value:8,label:"\u0623\u063A\u0633\u0637\u0633"},{value:9,label:"\u0633\u0628\u062A\u0645\u0628\u0631"},{value:10,label:"\u0623\u0643\u062A\u0648\u0628\u0631"},{value:11,label:"\u0646\u0648\u0641\u0645\u0628\u0631"},{value:12,label:"\u062F\u064A\u0633\u0645\u0628\u0631"}],g=l=>{e("update:selectedYear",parseInt(l.target.value))},a=l=>{const p=l.target.value===""?null:parseInt(l.target.value);e("update:selectedMonth",p)};return(l,p)=>(d(),n("div",Cs,[t("div",Ns,[t("div",null,[p[0]||(p[0]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," \u0627\u0644\u0633\u0646\u0629 ",-1)),t("select",{value:o.selectedYear,onChange:g,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},[(d(!0),n(f,null,v(o.years,m=>(d(),n("option",{key:m,value:m},r(m),9,Ds))),128))],40,Ps)]),t("div",null,[p[1]||(p[1]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," \u0627\u0644\u0634\u0647\u0631 ",-1)),t("select",{value:o.selectedMonth,onChange:a,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},[(d(),n(f,null,v(u,m=>t("option",{key:m.value,value:m.value},r(m.label),9,Bs)),64))],40,Ms)])])]))}},js={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},Vs={class:"p-6"},zs={class:"overflow-x-auto"},Ts={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Fs={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Os={key:0},Ys={class:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100"},Ss={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100 font-mono"},As={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Hs={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Es={key:0,class:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},Us={class:"flex justify-between items-center"},Ls={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},qs={class:"flex justify-between items-center mt-2"},Rs={__name:"CustomDifferenceTable",props:{cars:{type:Array,default:()=>[]},totalDifference:{type:Number,default:0}},setup(o){return(s,e)=>(d(),n("div",js,[t("div",Vs,[e[4]||(e[4]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0630\u0627\u062A \u0627\u0644\u0641\u0631\u0642 \u0641\u064A \u0627\u0644\u062C\u0645\u0631\u0643 ",-1)),t("div",zs,[t("table",Ts,[e[1]||(e[1]=t("thead",{class:"bg-gray-50 dark:bg-gray-900"},[t("tr",null,[t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0631\u0642\u0645 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," VIN "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u062C\u0645\u0631\u0643 \u0627\u0644\u0634\u0631\u0627\u0621 (\u062F\u064A\u0646\u0627\u0631) "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u062C\u0645\u0631\u0643 \u0627\u0644\u0628\u064A\u0639 (\u062F\u064A\u0646\u0627\u0631) "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0641\u0631\u0642 ")])],-1)),t("tbody",Fs,[o.cars.length===0?(d(),n("tr",Os,[...e[0]||(e[0]=[t("td",{colspan:"5",class:"px-4 py-4 text-center text-sm text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u0633\u064A\u0627\u0631\u0627\u062A \u0628\u0647\u0627 \u0641\u0631\u0642 \u0641\u064A \u0627\u0644\u062C\u0645\u0631\u0643 ",-1)])])):y("",!0),(d(!0),n(f,null,v(o.cars,(u,g)=>(d(),n("tr",{key:g,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",Ys,r(u.car_number||"-"),1),t("td",Ss,r(u.vin||"-"),1),t("td",As,r(c(x)(u.dinar||0)),1),t("td",Hs,r(c(x)(u.dinar_s||0)),1),t("td",{class:k(["px-4 py-3 whitespace-nowrap text-sm font-semibold",(u.difference||0)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},r(c(x)(u.difference||0)),3)]))),128))])])]),o.cars.length>0?(d(),n("div",Es,[t("div",Us,[e[2]||(e[2]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"}," \u0639\u062F\u062F \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A: ",-1)),t("span",Ls,r(o.cars.length),1)]),t("div",qs,[e[3]||(e[3]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"}," \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0641\u0631\u0642: ",-1)),t("span",{class:k(["text-sm font-semibold",o.totalDifference>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},r(c(x)(o.totalDifference)),3)])])):y("",!0)])]))}},Gs={class:"py-12"},Js={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Ks={class:"mb-6"},Qs={key:0,class:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg shadow"},Ws={key:1},Xs={class:"mb-6 border-b border-gray-200 dark:border-gray-700"},Zs={class:"-mb-px flex space-x-8","aria-label":"Tabs"},ta={class:"space-y-6"},ea={key:0},sa={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},aa={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},ra={class:"p-6"},oa={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},da={class:"p-6"},la={key:1},na={key:2},ia={class:"space-y-6"},ca={key:0},ua={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},xa={class:"p-6"},ga={class:"space-y-6"},ma={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},ya={class:"p-6"},ha={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},pa={class:"p-6"},fa={class:"space-y-6"},va={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},ka={class:"p-6"},Ca={__name:"Index",setup(o){const s=C({}),e=C(!1),u=C(new Date().getFullYear()),g=C(null),a=C("overview"),l=D(()=>{const m=new Date().getFullYear(),i=[];for(let h=0;h<10;h++)i.push(m-h);return i}),p=async()=>{e.value=!0;try{const m={};u.value&&(m.year=u.value),g.value!==null&&g.value!==void 0&&g.value!==""&&(m.month=g.value),console.log("Fetching statistics with params:",m);const i=await U.get("/api/statistics",{params:m});console.log("Statistics API Response:",i.data),s.value=i.data}catch(m){console.error("Error fetching statistics:",m),console.error("Error response:",m.response),console.error("Error message:",m.message)}finally{e.value=!1}};return S(()=>{p()}),A([u,g],()=>{p()}),(m,i)=>(d(),n(f,null,[b(c(H),{title:"\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A Dashboard"}),b(E,null,{header:F(()=>[...i[6]||(i[6]=[t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," \u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A Dashboard ",-1)])]),default:F(()=>{var h,w,M,B,I,j,V,z,T;return[t("div",Gs,[t("div",Js,[t("div",Ks,[b(Is,{"selected-year":u.value,"selected-month":g.value,years:l.value,"onUpdate:selectedYear":i[0]||(i[0]=_=>u.value=_),"onUpdate:selectedMonth":i[1]||(i[1]=_=>g.value=_)},null,8,["selected-year","selected-month","years"])]),e.value?(d(),n("div",Qs,[...i[7]||(i[7]=[t("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 dark:border-gray-100"},null,-1),t("p",{class:"mt-4 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...",-1)])])):(d(),n("div",Ws,[t("div",Xs,[t("nav",Zs,[t("button",{onClick:i[2]||(i[2]=_=>a.value="overview"),class:k([a.value==="overview"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," \u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 ",2),t("button",{onClick:i[3]||(i[3]=_=>a.value="transfers"),class:k([a.value==="transfers"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," \u0627\u0644\u062D\u0648\u0644\u0627\u062A ",2),t("button",{onClick:i[4]||(i[4]=_=>a.value="profits"),class:k([a.value==="profits"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," \u0627\u0644\u0623\u0631\u0628\u0627\u062D ",2),t("button",{onClick:i[5]||(i[5]=_=>a.value="discounts"),class:k([a.value==="discounts"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A ",2)])]),N(t("div",ta,[b(yt,{"cars-count":s.value.cars_count||0,"total-customs":s.value.total_customs||0,"exchange-profit":s.value.exchange_profit||0,"net-profit":s.value.net_profit||0,"net-transfers":s.value.net_transfers||0,"cash-balance":s.value.cash_balance||0},null,8,["cars-count","total-customs","exchange-profit","net-profit","net-transfers","cash-balance"]),s.value.cash_flow?(d(),n("div",ea,[i[8]||(i[8]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0627\u0644\u062A\u062F\u0641\u0642\u0627\u062A \u0627\u0644\u0646\u0642\u062F\u064A\u0629 ",-1)),b(as,{"cash-in":s.value.cash_flow.cash_in||0,"cash-out":s.value.cash_flow.cash_out||0,"net-cash":s.value.cash_flow.net_cash||0},null,8,["cash-in","cash-out","net-cash"])])):y("",!0),t("div",sa,[t("div",aa,[t("div",ra,[i[9]||(i[9]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0627\u0644\u0623\u0631\u0628\u0627\u062D \u0627\u0644\u0634\u0647\u0631\u064A\u0629 ",-1)),s.value.monthly_profits&&s.value.month_labels?(d(),$(Ct,{key:0,labels:s.value.month_labels,"monthly-profit":s.value.monthly_profits,"yearly-profit":s.value.yearly_profit||0},null,8,["labels","monthly-profit","yearly-profit"])):y("",!0)])]),t("div",oa,[t("div",da,[i[10]||(i[10]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0627\u0644\u062A\u062F\u0641\u0642\u0627\u062A \u0627\u0644\u0646\u0642\u062F\u064A\u0629 \u0627\u0644\u0634\u0647\u0631\u064A\u0629 ",-1)),s.value.cash_flow_chart?(d(),$(xs,{key:0,labels:s.value.cash_flow_chart.labels||[],"cash-in-data":s.value.cash_flow_chart.cash_in_data||[],"cash-out-data":s.value.cash_flow_chart.cash_out_data||[]},null,8,["labels","cash-in-data","cash-out-data"])):y("",!0)])])]),s.value.year_closing?(d(),n("div",la,[b($s,{year:s.value.year_closing.year,"total-income":s.value.year_closing.total_income||0,"total-expenses":s.value.year_closing.total_expenses||0,"total-discounts":s.value.year_closing.total_discounts||0,"net-year-profit":s.value.year_closing.net_year_profit||0,"carried-profit":s.value.year_closing.carried_profit||0,"is-closed":s.value.year_closing.is_closed||!1},null,8,["year","total-income","total-expenses","total-discounts","net-year-profit","carried-profit","is-closed"])])):y("",!0),s.value.custom&&s.value.custom.cars_with_difference&&s.value.custom.cars_with_difference.length>0?(d(),n("div",na,[b(Rs,{cars:s.value.custom.cars_with_difference||[],"total-difference":s.value.custom.difference||0},null,8,["cars","total-difference"])])):y("",!0)],512),[[P,a.value==="overview"]]),N(t("div",ia,[s.value.transfers_summary?(d(),n("div",ca,[i[11]||(i[11]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0645\u0644\u062E\u0635 \u0627\u0644\u062D\u0648\u0644\u0627\u062A ",-1)),b(ke,{"gross-transfers":s.value.transfers_summary.gross_transfers||0,"transfer-fees":s.value.transfers_summary.transfer_fees||0,"net-transfers":s.value.transfers_summary.net_transfers||0,"erbil-transfers":s.value.transfers_summary.erbil_transfers||0},null,8,["gross-transfers","transfer-fees","net-transfers","erbil-transfers"])])):y("",!0),t("div",ua,[t("div",xa,[i[12]||(i[12]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062D\u0648\u0644\u0627\u062A ",-1)),s.value.transfers_summary&&s.value.transfers_summary.details?(d(),$(Le,{key:0,transfers:s.value.transfers_summary.details},null,8,["transfers"])):y("",!0)])])],512),[[P,a.value==="transfers"]]),N(t("div",ga,[t("div",ma,[t("div",ya,[i[13]||(i[13]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0623\u0639\u0644\u0649 10 \u0633\u064A\u0627\u0631\u0627\u062A \u0631\u0628\u062D\u0627\u064B ",-1)),s.value.cars_with_profit?(d(),$(O,{key:0,cars:s.value.cars_with_profit,"max-profit":((h=s.value.profit_stats)==null?void 0:h.max)||0,"min-profit":((w=s.value.profit_stats)==null?void 0:w.min)||0,"avg-profit":((M=s.value.profit_stats)==null?void 0:M.avg)||0},null,8,["cars","max-profit","min-profit","avg-profit"])):y("",!0)])]),t("div",ha,[t("div",pa,[i[14]||(i[14]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0623\u0642\u0644 10 \u0633\u064A\u0627\u0631\u0627\u062A \u0631\u0628\u062D\u0627\u064B ",-1)),s.value.cars_with_lowest_profit?(d(),$(O,{key:0,cars:s.value.cars_with_lowest_profit,"max-profit":((B=s.value.profit_stats)==null?void 0:B.max)||0,"min-profit":((I=s.value.profit_stats)==null?void 0:I.min)||0,"avg-profit":((j=s.value.profit_stats)==null?void 0:j.avg)||0},null,8,["cars","max-profit","min-profit","avg-profit"])):y("",!0)])])],512),[[P,a.value==="profits"]]),N(t("div",fa,[t("div",va,[t("div",ka,[i[15]||(i[15]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0633\u062C\u0644 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A ",-1)),s.value.discount_records?(d(),$(Et,{key:0,discounts:s.value.discount_records,"total-discounts":((V=s.value.discount_stats)==null?void 0:V.total)||0,"max-discount":((z=s.value.discount_stats)==null?void 0:z.max)||0,"min-discount":((T=s.value.discount_stats)==null?void 0:T.min)||0},null,8,["discounts","total-discounts","max-discount","min-discount"])):y("",!0)])])],512),[[P,a.value==="discounts"]])]))])])]}),_:1})],64))}};export{Ca as default};
