import{_ as v}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as s,a as l,b as t,c as g,w as M,e as x,n as p,A as f,d as b,M as w,t as L,i as y,z as C,T as z,N as S,g as k,F as c,h}from"./app.0dd0962b.js";/* empty css                                                                 */import{a as A}from"./index.36f544af.js";const N={name:"line-scale",props:{color:{type:String,default:"#CCC"},size:{type:String,default:"40px"},duration:{type:String,default:"0.6s"}}},B=["width","height"],F=["fill"],T=["dur"],D=["dur"],I=["fill"],$=["dur"],X=["dur"],R=["fill"],U=["dur"],V=["dur"];function Y(a,i,e,u,n,d){return s(),l("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:e.size,height:e.size,viewBox:"0 0 24 30",style:{"enable-background":"new 0 0 50 50"},"xml:space":"preserve"},[t("rect",{x:"0",y:"13",width:"4",height:"5",fill:e.color},[t("animate",{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0s",dur:e.duration,repeatCount:"indefinite"},null,8,T),t("animate",{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0s",dur:e.duration,repeatCount:"indefinite"},null,8,D)],8,F),t("rect",{x:"10",y:"13",width:"4",height:"5",fill:e.color},[t("animate",{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0.15s",dur:e.duration,repeatCount:"indefinite"},null,8,$),t("animate",{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0.15s",dur:e.duration,repeatCount:"indefinite"},null,8,X)],8,I),t("rect",{x:"20",y:"13",width:"4",height:"5",fill:e.color},[t("animate",{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0.3s",dur:e.duration,repeatCount:"indefinite"},null,8,U),t("animate",{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0.3s",dur:e.duration,repeatCount:"indefinite"},null,8,V)],8,R)],8,B)}const j=v(N,[["render",Y]]),E={LineScale:j},O={name:"vue-element-loading",props:{active:Boolean,spinner:{type:String,default:"spinner"},text:{type:String,default:""},textStyle:{type:Object,default:function(){return{}}},color:{type:String,default:"#000"},isFullScreen:{type:Boolean,default:!1},backgroundColor:{type:String,default:"rgba(255, 255, 255, .9)"},size:{type:String,default:"40"},duration:{type:String,default:"0.6"},delay:{type:[String,Number],default:0}},data(){return{isActive:this.active||!1,isActiveDelay:!1}},mounted(){if(this.$refs.velmld.parentNode.classList.add("velmld-parent"),this.delay){const a=+this.delay*1e3;this.delayActive(a)}},methods:{delayActive(a){this.isActiveDelay=!0,setTimeout(()=>{this.isActiveDelay=!1},a)}},watch:{active(a){this.isActive=a,a&&this.$refs.velmld.parentNode.classList.add("velmld-parent")}},components:E},H={class:"velmld-spinner"};function q(a,i,e,u,n,d){return s(),g(z,{name:"fade"},{default:M(()=>[x(t("div",{class:p([{"velmld-full-screen":e.isFullScreen},"velmld-overlay"]),style:f({backgroundColor:e.backgroundColor}),ref:"velmld"},[t("div",H,[b(a.$slots,"default",{},()=>[(s(),g(w(e.spinner),{color:e.color,size:`${e.size}px`,duration:`${e.duration}s`},null,8,["color","size","duration"]))],!0),e.text.length?(s(),l("div",{key:0,style:f({color:e.color,...e.textStyle})},L(e.text),5)):y("",!0)])],6),[[C,n.isActive||n.isActiveDelay]])]),_:3})}const G=v(O,[["render",q],["__scopeId","data-v-82159762"]]),J={props:{server:{type:String,default:"/api/upload"},isInvalid:{type:Boolean,default:!1},media:{type:Array,default:[]},location:{type:String,default:""},max:{type:Number,default:null},maxFilesize:{type:Number,default:4},warnings:{type:Boolean,default:!0}},mounted(){this.init()},data(){return{addedMedia:[],savedMedia:[],removedMedia:[],isLoading:!0}},methods:{init(){this.savedMedia=this.media,this.savedMedia.forEach((a,i)=>{this.savedMedia[i].url||(this.savedMedia[i].url=this.location+"/"+a.name)}),setTimeout(()=>this.isLoading=!1,1e3),this.$emit("init",this.allMedia)},async fileChange(a){this.isLoading=!0;let i=a.target.files;for(var e=0;e<i.length;e++)if(!this.max||this.allMedia.length<this.max)if(i[e].size<=this.maxFilesize*1e6){let u=new FormData,n=URL.createObjectURL(i[e]);u.set("image",i[e]);const{data:d}=await A.post(this.server,u);let m={url:n,name:d.name,size:i[e].size,type:i[e].type};this.addedMedia.push(m),this.$emit("change",this.allMedia),this.$emit("add",m,this.addedMedia)}else{this.$emit("maxFilesize",i[e].size),this.warnings&&alert(`The file you are trying to upload is too big. 
Maximum Filesize: `+this.maxFilesize+"MB");break}else{this.$emit("max"),this.warnings&&alert(`You have reached the maximum number of files that you can upload. 
Maximum Files: `+this.max);break}a.target.value=null,this.isLoading=!1},removeAddedMedia(a){let i=this.addedMedia[a];this.addedMedia.splice(a,1),this.$emit("change",this.allMedia),this.$emit("remove",i,this.removedMedia)},removeSavedMedia(a){let i=this.savedMedia[a];this.removedMedia.push(i),this.savedMedia.splice(a,1),this.$emit("change",this.allMedia),this.$emit("remove",i,this.removedMedia)}},computed:{allMedia(){return[...this.savedMedia,...this.addedMedia]}},emits:["init","change","add","remove","max","maxFilesize"],components:{Loader:G}},K={class:"mu-elements-wraper"},P={class:"mu-plusbox-container"},Q=["src"],W=["onClick"],Z=["src"],ee=["onClick"],te=["value"],ie=["value"],ae={key:0,class:"mu-mt-1"};function se(a,i,e,u,n,d){const m=S("Loader");return s(),l("div",null,[t("div",{class:p(["mu-container",e.isInvalid?"mu-red-border":""])},[k(m,{color:"#0275d8",active:n.isLoading,spinner:"line-scale","background-color":"rgba(255, 255, 255, .4)"},null,8,["active"]),t("div",K,[t("div",P,[i[1]||(i[1]=t("label",{for:"mu-file-input",class:"mu-plusbox"},[t("svg",{class:"mu-plus-icon",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},[t("g",{fill:"none"},[t("path",{d:"M12 1C5.925 1 1 5.925 1 12s4.925 11 11 11s11-4.925 11-11S18.075 1 12 1zm1 15a1 1 0 1 1-2 0v-3H8a1 1 0 1 1 0-2h3V8a1 1 0 1 1 2 0v3h3a1 1 0 1 1 0 2h-3v3z",fill:"currentColor"})])])],-1)),t("input",{onChange:i[0]||(i[0]=(...r)=>d.fileChange&&d.fileChange(...r)),id:"mu-file-input",type:"file",accept:"image/*",multiple:"",hidden:""},null,32)]),(s(!0),l(c,null,h(n.savedMedia,(r,o)=>(s(),l("div",{key:o,class:"mu-image-container"},[t("img",{src:e.location+"/"+r.name,alt:"",class:"mu-images-preview"},null,8,Q),t("button",{onClick:_=>d.removeSavedMedia(o),class:"mu-close-btn",type:"button"},[...i[2]||(i[2]=[t("svg",{class:"mu-times-icon",xmlns:"http://www.w3.org/2000/svg",width:"0.65em",height:"0.65em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 352 512"},[t("path",{d:"m242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28L75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256L9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",fill:"currentColor"})],-1)])],8,W)]))),128)),(s(!0),l(c,null,h(n.addedMedia,(r,o)=>(s(),l("div",{key:o,class:"mu-image-container"},[t("img",{src:r.url,alt:"",class:"mu-images-preview"},null,8,Z),t("button",{onClick:_=>d.removeAddedMedia(o),class:"mu-close-btn",type:"button"},[...i[3]||(i[3]=[t("svg",{class:"mu-times-icon",xmlns:"http://www.w3.org/2000/svg",width:"0.65em",height:"0.65em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 352 512"},[t("path",{d:"m242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28L75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256L9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",fill:"currentColor"})],-1)])],8,ee)]))),128))])],2),t("div",null,[(s(!0),l(c,null,h(n.addedMedia,(r,o)=>(s(),l("div",{key:o,class:"mu-mt-1"},[t("input",{type:"text",name:"added_media[]",value:r.name,hidden:""},null,8,te)]))),128)),(s(!0),l(c,null,h(n.removedMedia,(r,o)=>(s(),l("div",{key:o,class:"mu-mt-1"},[t("input",{type:"text",name:"removed_media[]",value:r.name,hidden:""},null,8,ie)]))),128)),d.allMedia.length?(s(),l("div",ae,[...i[4]||(i[4]=[t("input",{type:"text",name:"media",value:"1",hidden:""},null,-1)])])):y("",!0)])])}const oe=v(J,[["render",se],["__scopeId","data-v-1238f422"]]);export{oe as U};
