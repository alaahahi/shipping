import{o as i,c as ue,w,a as u,b as t,f as st,t as r,d as me,e as I,v as B,i as h,T as pe,y as _e,r as p,u as ge,g as n,j as s,F as O,H as be,k as y,z as he,h as at,l as Q,s as ye,n as fe}from"./app.44831d8a.js";import{a as xe,_ as ve}from"./AuthenticatedLayout.1f0f98d7.js";import{M as ke}from"./Modal.20792b27.js";import{t as we}from"./laravel-vue-pagination.es.033bc823.js";import{_ as b}from"./InputLabel.121558bc.js";import{_ as f}from"./TextInput.2ec9391f.js";import{a as k}from"./index.85f7be3e.js";import{M as lt}from"./ModalDelCar.6a4440b2.js";import{_ as $e}from"./ModalEditCar_S.7f181c59.js";import{_ as De}from"./ModalAddCarPayment.267812ca.js";import{_ as Ce,a as Ne,b as Ae,c as Me,e as Pe}from"./exit.a513f1b0.js";import{p as it}from"./print.b41baefa.js";import{p as It}from"./pay.8f73a80e.js";import{t as Se}from"./trash.0157c8df.js";import{e as Ie}from"./edit.31fbafc1.js";import{s as Fe}from"./show.33c6df87.js";import{n as Te}from"./new.c23fd90f.js";import"./lodash.63ffb83f.js";/* empty css                                              *//* empty css                                                    */import"./Uploader.2ddf273d.js";/* empty css                                                                 *//* empty css                                                       */const Ee={key:0,class:"modal-mask"},Be={class:"modal-wrapper max-h-[80vh]"},Ue={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},Ve={class:"modal-header text-center py-4 dark:text-gray-300"},je={class:"modal-body"},He={class:"grid grid-cols-2 gap-3 lg:gap-2"},Re={class:"mb-4 mx-5"},qe=t("label",{class:"dark:text-gray-200",for:"amountTotal"},"\u0627\u0644\u0627\u0633\u0645 \u0643\u0627\u0645\u0644",-1),ze={class:"mb-4 mx-5"},Le=t("label",{class:"dark:text-gray-200",for:"carType"},"\u0627\u0644\u0633\u064A\u0627\u0631\u0629",-1),Oe={class:"mb-4 mx-5"},We=t("label",{class:"dark:text-gray-200",for:"vin"},"\u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0646\u0635\u064A",-1),Ye={class:"mb-4 mx-5"},Ze=t("label",{class:"dark:text-gray-200",for:"carNumber"},"\u0631\u0642\u0645 \u0627\u0644\u0633\u064A\u0627\u0631\u0629",-1),Ge={class:"mb-4 mx-5"},Je=t("label",{class:"dark:text-gray-200",for:"color"},"\u0627\u0644\u0644\u0648\u0646",-1),Ke={class:"mb-4 mx-5"},Qe=t("label",{class:"dark:text-gray-200",for:"model"},"\u0645\u0648\u062F\u064A\u0644",-1),Xe={class:"mb-4 mx-5"},to=t("label",{class:"dark:text-gray-200",for:"exitDate"},"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062A\u062E\u0648\u064A\u0644",-1),eo={class:"mb-4 mx-5"},oo=t("label",{class:"dark:text-gray-200",for:"note"},"\u062A\u062E\u0648\u064A\u0644 \u0627\u0644\u0642\u064A\u0627\u062F\u0629",-1),ao={class:"modal-footer my-2"},so={class:"flex flex-row"},ro={class:"basis-1/2 px-4"},no={class:"basis-1/2 px-4"},lo=["disabled"],io={__name:"ModalShowDriving",props:{show:Boolean,formDriving:Object},setup(m){return($,l)=>(i(),ue(pe,{name:"modal"},{default:w(()=>[m.show?(i(),u("div",Ee,[t("div",Be,[t("div",Ue,[t("div",Ve,[st(" \u062A\u062E\u0648\u064A\u0644 \u0642\u064A\u0627\u062F\u0629 "+r(m.formDriving.car_typeDriving)+" "+r(m.formDriving.yearDriving)+" "+r(m.formDriving.car_colorDriving)+" \u0631\u0642\u0645 \u0634\u0627\u0646\u0635\u0649 "+r(m.formDriving.vinDriving)+" ",1),me($.$slots,"header")]),t("div",je,[t("div",He,[t("div",Re,[qe,I(t("input",{id:"amountTotal",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":l[0]||(l[0]=d=>m.formDriving.nameDriving=d)},null,512),[[B,m.formDriving.nameDriving]])]),t("div",ze,[Le,I(t("input",{id:"carType",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":l[1]||(l[1]=d=>m.formDriving.car_typeDriving=d)},null,512),[[B,m.formDriving.car_typeDriving]])]),t("div",Oe,[We,I(t("input",{id:"vin",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":l[2]||(l[2]=d=>m.formDriving.vinDriving=d)},null,512),[[B,m.formDriving.vinDriving]])]),t("div",Ye,[Ze,I(t("input",{id:"carNumber",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":l[3]||(l[3]=d=>m.formDriving.car_numberDriving=d)},null,512),[[B,m.formDriving.car_numberDriving]])]),t("div",Ge,[Je,I(t("input",{id:"color",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":l[4]||(l[4]=d=>m.formDriving.car_colorDriving=d)},null,512),[[B,m.formDriving.car_colorDriving]])]),t("div",Ke,[Qe,I(t("input",{id:"model",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":l[5]||(l[5]=d=>m.formDriving.yearDriving=d)},null,512),[[B,m.formDriving.yearDriving]])]),t("div",Xe,[to,I(t("input",{id:"exitDate",type:"date",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":l[6]||(l[6]=d=>m.formDriving.createdDriving=d)},null,512),[[B,m.formDriving.createdDriving]])])]),t("div",eo,[oo,I(t("textarea",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":l[7]||(l[7]=d=>m.formDriving.noteDriving=d)},null,512),[[B,m.formDriving.noteDriving]])])]),t("div",ao,[t("div",so,[t("div",ro,[t("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:l[8]||(l[8]=d=>{$.$emit("close")})},r($.$t("cancel")),1)]),t("div",no,[t("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:l[9]||(l[9]=d=>$.$emit("a",m.formDriving)),disabled:!m.formDriving.noteDriving},r($.$t("yes")),9,lo)])])])])])])):h("",!0)]),_:3}))}},co={},uo={class:"w-6 h-6 text-white dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},mo=t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7h1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V5a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h11.5M7 14h6m-6 3h6m0-10h.5m-.5 3h.5M7 7h3v3H7V7Z"},null,-1),po=[mo];function _o(m,$){return i(),u("svg",uo,po)}const go=xe(co,[["render",_o]]);const bo=t("h2",{class:"font-semibold text-xl dark:text-gray-400 text-gray-800 leading-tight"}," \u0634\u0631\u0643\u0629 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 ",-1),ho={class:"mb-5 dark:text-gray-400 text-center"},yo={class:"mb-5 dark:text-gray-400 text-center"},fo=t("h2",{class:"mb-5 dark:text-gray-400 text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1),xo={key:0},vo={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},ko={class:"ml-3 text-sm font-medium text-red-700 dark:text-red-800"},wo={key:1,class:"py-4"},$o={class:"text-center pb-2 dark:text-gray-400"},Do={class:"max-w-9xl mx-auto sm:px-6 lg:px-8 p-6 dark:bg-gray-900"},Co={class:"overflow-hidden shadow-sm sm:rounded-lg"},No={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 lg:gap-1"},Ao={class:"pr-4"},Mo={value:"undefined",disabled:""},Po=["value"],So={className:"mb-4  mr-5"},Io={class:"flex items-center ps-4 rounded-lg border border-gray-300 text-gray-900 mt-1"},Fo=["value","checked"],To={for:"bordered-checkbox-1",class:"w-full pt-3 py-2 mx-4 text-sm font-medium text-gray-900 dark:text-gray-300"},Eo={class:"px-4"},Bo={className:"mb-4 mx-5"},Uo={class:"px-4"},Vo={className:"mb-4 mx-5"},jo={className:"mb-4  mr-5 print:hidden"},Ho=t("span",null,"\u0641\u0644\u062A\u0631\u0629",-1),Ro=[Ho],qo={className:"mb-4  mr-5 print:hidden"},zo=["href"],Lo=t("span",null,"\u0637\u0628\u0627\u0639\u0629",-1),Oo=[Lo],Wo={className:"mb-4  mr-5 print:hidden"},Yo=["href"],Zo=t("span",null,"Excel",-1),Go=[Zo],Jo={className:"mb-4  mr-5"},Ko={className:"mb-4  mr-5"},Qo={className:"mb-4  mr-5"},Xo={className:"mb-4  mr-5"},ta={className:"mb-4  mr-5"},ea={key:0,className:"mb-4  mr-5 print:hidden"},oa=["disabled"],aa=t("span",null,"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629",-1),sa=[aa],ra=["disabled"],na=t("span",null,"\u0627\u062E\u0641\u0627\u0621 \u062F\u0641\u0639\u0629",-1),da=[na],la={className:"mb-4  mr-5 print:hidden"},ia=["disabled"],ca=t("span",null,"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1),ua=[ca],ma=t("span",null,"\u0627\u062E\u0641\u0627\u0621 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1),pa=[ma],_a={key:1,className:"mb-4  mr-5"},ga={className:"mb-4  mr-5"},ba={className:"mb-4  mr-5"},ha={className:"mb-4  mr-5"},ya={className:"mb-4  mr-5"},fa={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 lg:gap-1"},xa={className:"mb-4  mr-5"},va={className:"mb-4  mr-5"},ka={className:"mb-4  mr-5"},wa={className:"mb-4  mr-5 print:hidden"},$a=["disabled"],Da={key:0},Ca={key:1},Na={key:2},Aa={key:1,class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},Ma={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},Pa={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Sa={class:"bg-rose-500 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},Ia=t("th",{className:"px-1 py-2 text-base"},"#",-1),Fa={className:"px-1 py-2 text-base"},Ta={className:"px-1 py-2 text-base"},Ea={className:"px-1 py-2 text-base"},Ba={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},Ua={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Va=t("td",null,null,-1),ja=t("td",null,null,-1),Ha=t("td",null,null,-1),Ra=t("td",null,null,-1),qa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},za=["href"],La={key:0,class:"text-center"},Oa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Wa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ya={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Za={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ga={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ja={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ka=["href"],Qa={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Xa=t("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A",-1),ts=t("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1),es={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},os={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},as={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},ss={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},rs={class:"rounded-l-lg mb-2 sm:mb-0"},ns={scope:"col",class:"px-1 py-2 text-base"},ds={scope:"col",class:"px-1 py-2 text-base"},ls={scope:"col",class:"px-1 py-2 text-base"},is={scope:"col",class:"px-1 py-2 text-base"},cs={scope:"col",class:"px-1 py-2 text-base"},us={scope:"col",class:"px-1 py-2 text-base"},ms={scope:"col",class:"px-1 py-2 text-base"},ps={scope:"col",class:"px-1 py-2 text-base"},_s={scope:"col",class:"px-1 py-2 text-base print:hidden"},gs={scope:"col",class:"px-1 py-2 text-base print:hidden"},bs=t("th",{scope:"col",class:"px-1 py-2 text-base print:hidden"}," \u062C\u0645\u0631\u0643 \u0645\u0646\u0641\u0633\u062A ",-1),hs=t("th",{scope:"col",class:"px-1 py-2 text-base print:hidden"}," \u062E\u0635\u0645 \u0645\u0628\u0627\u0634\u0631 ",-1),ys={scope:"col",class:"px-1 py-2 text-base"},fs={scope:"col",class:"px-1 py-2 text-base"},xs={scope:"col",class:"px-1 py-2 text-base"},vs={scope:"col",class:"px-1 py-2 text-base"},ks=t("th",{scope:"col",class:"px-1 py-2 text-base"}," \u0646\u0642\u0644 \u0628\u0631\u064A ",-1),ws={scope:"col",class:"px-1 py-2 text-base"},$s={scope:"col",class:"px-1 py-2 text-base"},Ds={scope:"col",class:"px-1 py-2 text-base"},Cs={scope:"col",class:"px-1 py-2 text-base"},Ns={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},As=t("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"100px"}}," \u062A\u062E\u0632\u064A\u0646 ",-1),Ms=t("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"120px"}}," \u0627\u0644\u0631\u0635\u064A\u062F ",-1),Ps={className:"border dark:border-gray-800 text-center px-2 py-1"},Ss={className:"border dark:border-gray-800 text-center px-2 py-1"},Is={className:"border dark:border-gray-800 text-center px-2 py-1"},Fs={className:"border dark:border-gray-800 text-center px-2 py-1"},Ts={className:"border dark:border-gray-800 text-center px-2 py-1"},Es={className:"border dark:border-gray-800 text-center px-2 py-1"},Bs={className:"border dark:border-gray-800 text-center px-2 py-1"},Us={className:"border dark:border-gray-800 text-center px-2 py-1"},Vs={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},js={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},Hs={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},Rs={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},qs={className:"border dark:border-gray-800 text-center px-2 py-1"},zs={className:"border dark:border-gray-800 text-center px-2 py-1"},Ls={className:"border dark:border-gray-800 text-center px-2 py-1"},Os={className:"border dark:border-gray-800 text-center px-2 py-1"},Ws={className:"border dark:border-gray-800 text-center px-2 py-1"},Ys={className:"border dark:border-gray-800 text-center px-2 py-1"},Zs={className:"border dark:border-gray-800 text-center px-2 py-1"},Gs={className:"border dark:border-gray-800 text-center px-1 py-2 "},Js={className:"border dark:border-gray-800 text-center px-2 py-1"},Ks={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},Qs=["onClick"],Xs=["onClick"],tr=["onClick"],er=["onClick"],or=["onClick"],ar=["onClick"],sr=["onClick"],rr=["onClick"],nr=["href"],dr={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},lr=["href"],ir=["src"],cr={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},ur=["onClick"],mr=["onClick"],pr={class:"mt-3 text-center",style:{direction:"ltr"}},_r={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 dark:text-gray-400 hidden print:block"},gr={class:"flex flex-row"},br={class:"basis-1/2"},hr=t("br",null,null,-1),yr=t("div",{class:"basis-1/2 text-center"},"\u062A\u0648\u0642\u064A\u0639 \u0642\u0633\u0645 \u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1),fr=t("div",{class:"basis-1/2 text-end"},"\u062A\u0648\u0642\u064A\u0639 \u0627\u0644\u0645\u062F\u064A\u0631",-1),zr={__name:"Show",props:{url:String,clients:Array,client_id:String,client:Object,q:String},setup(m){const $=m;let l=_e();p(0);let d=p({}),T=p(0),N=p(0),A=p(0),rt=1,U=p(!1),W=p(!1),Y=p(!1),V=p(!1),nt=p(!1),Z=p(!1),x=p(!1),j=p(!1),H=p(!1),R=p(!1),tt=p(!1),q=p(!1);p(0);let _=p({}),M=p({}),z=p(0),G=p(""),P=p(0),D=p(0);p(0);let J=p(!1),K=p(!1),et=async(a=1)=>{k.get(`/api/getIndexAccountsSelas?page=${a}&user_id=${$.client_id}&from=${N.value}&to=${A.value}`).then(o=>{d.value=o.data,D.value=o.data.client.id,ne(o.data.cars_sum)}).catch(o=>{console.error(o)})};function S(){let a="",o="";try{a=d.value.transactions.filter(c=>c.type==="out"&&c.amount<0&&c.is_pay===1)}catch{}try{o=a.reduce((c,g)=>c+g.amount,0)}catch{}return{totalAmount:o}}function Ft(a={}){_.value=a,J.value=!0}function Tt(a={}){_.value=a,K.value=!0}function Et(a){var o,c;a.balance=S().totalAmount*-1-((o=d.value)==null?void 0:o.cars_paid)-((c=d.value)==null?void 0:c.cars_discount),k.post("/api/AddPayFromBalanceCar",a).then(g=>{J.value=!1,window.location.reload()}).catch(g=>{console.error(g)})}function Bt(a){k.post("/api/DelPayFromBalanceCar",a).then(o=>{K.value=!1,window.location.reload()}).catch(o=>{console.error(o)})}const E=async(a=1)=>{k.get(`/api/getIndexAccountsSelas?page=${a}&user_id=${D.value}&from=${N.value}&to=${A.value}`).then(o=>{d.value=o.data,D.value=o.data.client.id}).catch(o=>{console.error(o)})};et();const Ut=ge();let F=p(!1);function Vt(a){Ut.get(route("sentToCourt",a)),et(),F.value=!1}function jt(a={}){_.value=a,Y.value=!0}function Ht(a={}){_.value=a,_.value.dinar_s==0&&(_.value.dinar_s=_.value.dinar),W.value=!0}function Rt(a={}){_.value=a,_.value.notePayment=" \u0628\u064A\u062F ",V.value=!0}function qt(a){k.post("/api/DelCar",a).then(o=>{Y.value=!1,window.location.reload()}).catch(o=>{console.error(o)})}function zt(a){W.value=!1,k.post("/api/updateCarsS",a).then(o=>{F.value=!1,l.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),E()}).catch(o=>{l.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),E()})}function Lt(a){var o,c;a.discountPayment||(a.discountPayment=0),k.get(`/api/addPaymentCar?car_id=${a.id}&discount=${a.discountPayment}&amount=${(o=a.amountPayment)!=null?o:0}&note=${(c=a.notePayment)!=null?c:""}`).then(g=>{V.value=!1,l.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+a.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),E();let v=g.data;window.open(`/api/getIndexAccountsSelas?user_id=${$.client_id}&print=2&transactions_id=${v.id}`,"_blank")}).catch(g=>{F.value=!1,console.log(g),l.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Ot(a,o,c,g){T.value=!0,k.get(`/api/addPaymentCarTotal?amount=${a!=null?a:0}&discount=${c!=null?c:0}&note=${g}&client_id=${o!=null?o:0}`).then(v=>{V.value=!1,l.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+a+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),U.value=!1,T.value=!1,E(),Wt();let L=v.data;window.open(`/api/getIndexAccountsSelas?user_id=${$.client_id}&print=2&transactions_id=${L.id}`,"_blank")}).catch(v=>{console.log(v),F.value=!1,T.value=!1,l.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Wt(){P.value=0,z.value=0,G.value=""}function Yt(){U.value=!0,Z.value=!1}function Zt(){U.value=!1}function Gt(){Z.value=!0,U.value=!1}function Jt(){Z.value=!1}function Kt(a={}){_.value=a,_.value.prices=100,_.value.price_dinars=5e4,j.value=!0}function Qt(a={}){_.value=formshowModalShowExitCar,H.value=!0}function Xt(a={}){_.value=a,_.value.createdExit=ut(),R.value=!0}function te(a={}){_.value=a.value=!0}function ee(a={}){M.value.car_typeDriving=a.car_type,M.value.yearDriving=a.year,M.value.car_colorDriving=a.car_color,M.value.vinDriving=a.vin,M.value.nameDriving=$.client.name,M.value.clientIdDriving=D.value,M.value.car_numberDriving=a.car_number,M.value.createdDriving=ut(),M.value.noteDriving="\u0627\u0646\u0627 \u0643\u0627\u0631\u0632\u0627\u0646 \u0633\u0631\u0647\u0646\u0643 \u0645\u062D\u0645\u062F (\u0648\u0643\u064A\u0644 \u0639\u0627\u0645 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 \u0627\u064A\u0648\u0628 ) (\u0645\u062F\u064A\u0631 \u0645\u0641\u0648\u0636 \u0634\u0631\u0643\u0629 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 \u0627\u064A\u0648\u0628) \u0642\u062F \u062E\u0648\u0644\u062A \u0627\u0644\u0633\u064A\u062F(name) \u0628\u0642\u064A\u0627\u062F\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0630\u0627\u062A \u0627\u0644\u0645\u0648\u0627\u0635\u0641\u0627\u062A \u0627\u062F\u0646\u0627\u0647 \u0644\u0647 \u062D\u0642  \u0646\u0642\u0644\u0647\u0627  \u0645\u0646 \u0645\u062D\u0627\u0641\u0638\u0629 \u0627\u0644\u0649 \u0645\u062D\u0627\u0641\u0638\u0629 \u0627\u062E\u0631\u0649 \u0648\u062F\u0641\u0639 \u0627\u0644\u0631\u0633\u0648\u0645 \u0648\u0627\u0644\u063A\u0631\u0645\u0627\u062A \u0628\u064A\u0639 \u0648\u0634\u0631\u0627\u0621 \u0627\u0644\u0642\u0628\u0636 \u0627\u0644\u062B\u0645\u0646.",q.value=!0}function oe(){var o,c,g;let a=(g=(c=(o=d==null?void 0:d.value)==null?void 0:o.client)==null?void 0:c.wallet)==null?void 0:g.balance;P.value=a-z.value}function ae(){var o,c,g;let a=(g=(c=(o=d==null?void 0:d.value)==null?void 0:o.client)==null?void 0:c.wallet)==null?void 0:g.balance;console.log(a),P.value>a?(P.value=a,nt.value=!0,l.info(" \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u062F\u064A\u0646 \u0627\u0644\u0645\u0637\u0644\u0648\u0628 "+P.value,{timeout:4e3,position:"bottom-right",rtl:!0})):nt.value=!1}function se(a){var o,c,g,v,L,X;k.get(`/api/addCarContracts?car_id=${a.id}&price=${(o=a.prices)!=null?o:0}&price_dinar=${(c=a.price_dinars)!=null?c:0}&paid=${(g=a.paids)!=null?g:0}&paid_dinar=${(v=a.paid_dinars)!=null?v:0}&phone=${(L=a.phone)!=null?L:""}&note=${(X=a.note)!=null?X:""}`).then(ot=>{j.value=!1,l.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u0628\u0646\u062C\u0627\u062D ",{timeout:4e3,position:"bottom-right",rtl:!0}),E()}).catch(ot=>{j.value=!1,l.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function re(a){var o,c,g;k.get(`/api/editCarContracts?car_id=${a.id}&paid=${(o=a.paids)!=null?o:0}&paid_dinar=${(c=a.paid_dinars)!=null?c:0}&note=${(g=a.notePayment)!=null?g:""}`).then(v=>{H.value=!1,l.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+a.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),E()}).catch(v=>{H.value=!1,l.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function ct(a){k.get(`/api/makeCarExit?car_id=${a.id}&created=${a.createdExit}&phone=${a.phoneExit}&note=${a.noteExit}`).then(o=>{R.value=!1,l.success("\u062A\u0645 \u0627\u0636\u0627\u0641\u0629 \u062E\u0631\u0648\u062C\u064A\u0629 \u0644\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:5e3,position:"bottom-right",rtl:!0}),E()}).catch(o=>{R.value=!1,l.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function ne(a){k.get(`/api/checkClientBalance?userId=${$.client_id}&currentBalance=${a+S().totalAmount}`).then(o=>{console.log(o),o.status==201&&l.success(" \u062A\u0645 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u062D\u0633\u0627\u0628 \u0628\u0646\u062C\u0627\u062D  "+o.data,{timeout:5e3,position:"bottom-right",rtl:!0})}).catch(o=>{l.error("\u0644\u0645 \u064A\u062A\u0645 \u0627\u0639\u0627\u062F\u0629 \u0641\u062D\u0635 \u0627\u0644\u062D\u0633\u0627\u0628  \u0628\u0646\u062C\u0627\u062D ",{timeout:5e3,position:"bottom-right",rtl:!0})})}function de(a){k.post("/api/makeDrivingDocument",a).then(o=>{q.value=!1,window.open(`/api/makeDrivingDocumentPdf?doc_id=${o.data.id}`,"_blank")}).catch(o=>{q.value=!1,l.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function ut(){const a=new Date,o=a.getFullYear(),c=String(a.getMonth()+1).padStart(2,"0"),g=String(a.getDate()).padStart(2,"0");return`${o}-${c}-${g}`}function le(a){return`/public/uploadsResized/${a}`}function ie(a){return`/public/uploads/${a}`}return(a,o)=>(i(),u(O,null,[n(s(be),{title:"Dashboard"}),n(ve,null,{header:w(()=>[bo]),default:w(()=>{var c,g,v,L,X,ot,mt,pt,_t,gt,bt,ht,yt,ft,xt,vt,kt,wt;return[n(Ce,{formData:s(_),show:!!s(j),onA:o[0]||(o[0]=e=>se(e)),onClose:o[1]||(o[1]=e=>y(j)?j.value=!1:j=!1)},{header:w(()=>[]),_:1},8,["formData","show"]),n(lt,{show:!!s(J),formData:s(_),onA:o[2]||(o[2]=e=>Et(e)),onClose:o[3]||(o[3]=e=>y(J)?J.value=!1:J=!1)},{header:w(()=>[t("h2",ho," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062F\u0641\u0639 "+r(s(_).car_type)+" \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",1)]),_:1},8,["show","formData"]),n(lt,{show:!!s(K),formData:s(_),onA:o[4]||(o[4]=e=>Bt(e)),onClose:o[5]||(o[5]=e=>y(K)?K.value=!1:K=!1)},{header:w(()=>[t("h2",yo," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0639\u0627\u062F\u0629 \u062F\u0641\u0639\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 "+r(s(_).car_type)+" \u0644\u0644\u0631\u0635\u064A\u062F \u061F ",1)]),_:1},8,["show","formData"]),n(Ne,{formData:s(_),show:!!s(H),onA:o[6]||(o[6]=e=>re(e)),onClose:o[7]||(o[7]=e=>y(H)?H.value=!1:H=!1)},{header:w(()=>[]),_:1},8,["formData","show"]),n(Ae,{formData:s(_),show:!!s(R),onA:o[8]||(o[8]=e=>ct(e)),onClose:o[9]||(o[9]=e=>y(R)?R.value=!1:R=!1)},{header:w(()=>[]),_:1},8,["formData","show"]),n(Me,{formData:s(_),show:!!s(tt),onA:o[10]||(o[10]=e=>ct(e)),onClose:o[11]||(o[11]=e=>y(tt)?tt.value=!1:tt=!1)},{header:w(()=>[]),_:1},8,["formData","show"]),n(io,{formDriving:s(M),show:!!s(q),onA:o[12]||(o[12]=e=>de(e)),onClose:o[13]||(o[13]=e=>y(q)?q.value=!1:q=!1)},{header:w(()=>[]),_:1},8,["formDriving","show"]),n($e,{formData:s(_),show:!!s(W),client:m.clients,onA:o[14]||(o[14]=e=>zt(e)),onClose:o[15]||(o[15]=e=>y(W)?W.value=!1:W=!1)},{header:w(()=>[]),_:1},8,["formData","show","client"]),n(De,{formData:s(_),show:!!s(V),onA:o[16]||(o[16]=e=>Lt(e)),onClose:o[17]||(o[17]=e=>y(V)?V.value=!1:V=!1)},{header:w(()=>[]),_:1},8,["formData","show"]),n(lt,{show:!!s(Y),formData:s(_),onA:o[18]||(o[18]=e=>qt(e)),onClose:o[19]||(o[19]=e=>y(Y)?Y.value=!1:Y=!1)},{header:w(()=>[fo]),_:1},8,["show","formData"]),n(ke,{show:!!s(F),data:s(F).toString(),onA:o[20]||(o[20]=e=>Vt(e,a.arg1)),onClose:o[21]||(o[21]=e=>y(F)?F.value=!1:F=!1)},null,8,["show","data"]),a.$page.props.success?(i(),u("div",xo,[t("div",vo,[t("div",ko,r(a.$page.props.success),1)])])):h("",!0),a.$page.props.auth.user.type_id==1||a.$page.props.auth.user.type_id==6?(i(),u("div",wo,[t("h2",$o,r(a.$t("sales_bill")),1),t("div",Do,[t("div",Co,[t("div",No,[t("div",Ao,[n(b,{class:"mb-1",for:"invoice_number",value:a.$t("Account")},null,8,["value"]),I(t("select",{onChange:o[22]||(o[22]=e=>E()),"onUpdate:modelValue":o[23]||(o[23]=e=>y(D)?D.value=e:D=e),id:"default",class:"pr-8 border border-gray-300 text-gray-900 mb-6 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:border-gray-400 dark:placeholder-gray-400 dark:text-gray-600 dark:focus:ring-red-500 dark:focus:border-red-500"},[t("option",Mo,r(a.$t("selectCustomer")),1),(i(!0),u(O,null,at(m.clients,(e,dt)=>(i(),u(O,{key:dt},[e.wallet.balance>0||e.id==s(D)?(i(),u("option",{key:0,value:e.id},r(e.name),9,Po)):h("",!0)],64))),128))],544),[[he,s(D)]])]),t("div",null,[t("div",So,[n(b,{for:"totalAmount",value:"\u0641\u0644\u062A\u0631\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u0643\u062A\u0645\u0644\u0629"}),t("div",Io,[t("input",{id:"bordered-checkbox-1",type:"checkbox",onChange:o[24]||(o[24]=e=>s(x)==!0?y(x)?x.value=!1:x=!1:y(x)?x.value=!0:x=!0),value:s(x),checked:!s(x),name:"bordered-checkbox",class:"w-4 h-4 mx-2 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,Fo),t("label",To,r(s(x)==!1?" \u062A\u0645 \u0627\u0644\u0641\u0644\u062A\u0631":"\u062A\u0645 \u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0629"),1)])])]),t("div",Eo,[t("div",Bo,[n(b,{for:"from",value:a.$t("from_date")},null,8,["value"]),n(f,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:s(N),"onUpdate:modelValue":o[25]||(o[25]=e=>y(N)?N.value=e:N=e)},null,8,["modelValue"])])]),t("div",Uo,[t("div",Vo,[n(b,{for:"to",value:a.$t("to_date")},null,8,["value"]),n(f,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:s(A),"onUpdate:modelValue":o[26]||(o[26]=e=>y(A)?A.value=e:A=e)},null,8,["modelValue"])])]),t("div",jo,[n(b,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),t("button",{onClick:o[27]||(o[27]=Q(e=>s(et)(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},Ro)]),t("div",qo,[n(b,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),t("a",{href:`/api/getIndexAccountsSelas?user_id=${s(D)}&from=${s(N)}&to=${s(A)}&print=1&showComplatedCars=${s(x)?0:1}`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-orange-500 rounded block text-center",style:{width:"100%"}},Oo,8,zo)]),t("div",Wo,[n(b,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),t("a",{href:`/api/getIndexAccountsSelas?user_id=${s(D)}&from=${s(N)}&to=${s(A)}&print=1&printExcel=1&showComplatedCars=${s(x)?0:1}`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded block text-center",style:{width:"100%"}},Go,8,Yo)]),t("div",Jo,[n(b,{for:"car_total",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A"}),n(f,{id:"car_total",type:"text",class:"mt-1 block w-full",value:s(d).car_total,disabled:""},null,8,["value"])]),t("div",Ko,[n(b,{for:"cars_sum",value:a.$t("Total_in_dollars")+" \u062C\u0645\u0631\u0643 "},null,8,["value"]),n(f,{id:"cars_sum",type:"text",class:"mt-1 block w-full",value:(c=s(d))==null?void 0:c.cars_sum,disabled:""},null,8,["value"])]),t("div",Qo,[n(b,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u062F\u0641\u0648\u0639  \u062C\u0645\u0631\u0643 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),n(f,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:parseFloat((g=s(d))==null?void 0:g.cars_sum)-(parseFloat((X=(L=(v=s(d))==null?void 0:v.client)==null?void 0:L.wallet)==null?void 0:X.balance)+parseFloat((ot=s(d))==null?void 0:ot.cars_discount)),disabled:""},null,8,["value"])]),t("div",Xo,[n(b,{for:"cars_discount",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A  \u062C\u0645\u0631\u0643 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),n(f,{id:"cars_discount",type:"text",class:"mt-1 block w-full",value:(mt=s(d))==null?void 0:mt.cars_discount,disabled:""},null,8,["value"])]),t("div",ta,[n(b,{for:"cars_need_paid",value:"  \u0627\u0644\u0631\u0635\u064A\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),n(f,{id:"cars_need_paid",type:"number",class:"mt-1 block w-full",value:S().totalAmount*-1-((pt=s(d))==null?void 0:pt.cars_sum),disabled:""},null,8,["value"])]),S().totalAmount*-1-((_t=s(d))==null?void 0:_t.cars_sum)!=0?(i(),u("div",ea,[n(b,{for:"pay",value:"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629"}),s(U)?h("",!0):(i(),u("button",{key:0,onClick:o[28]||(o[28]=Q(e=>Yt(),["prevent"])),disabled:s(T),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},sa,8,oa)),s(U)?(i(),u("button",{key:1,onClick:o[29]||(o[29]=Q(e=>Zt(),["prevent"])),disabled:s(T),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},da,8,ra)):h("",!0)])):h("",!0),t("div",la,[n(b,{for:"pay",value:"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A"}),s(Z)?h("",!0):(i(),u("button",{key:0,onClick:o[30]||(o[30]=Q(e=>Gt(),["prevent"])),disabled:s(T),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-purple-500 rounded",style:{width:"100%"}},ua,8,ia)),s(Z)?(i(),u("button",{key:1,onClick:o[31]||(o[31]=Q(e=>Jt(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},pa)):h("",!0)]),S().totalAmount*-1-((gt=s(d))==null?void 0:gt.cars_discount)-((bt=s(d))==null?void 0:bt.cars_paid)!=0?(i(),u("div",_a,[n(b,{for:"cars_need_paid",value:"\u0627\u0644\u0631\u0635\u064A\u062F \u063A\u064A\u0631 \u0645\u0648\u0632\u0639 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),n(f,{id:"cars_need_paid",type:"number",class:"mt-1 block w-full",value:S().totalAmount*-1-((ht=s(d))==null?void 0:ht.cars_discount)-((yt=s(d))==null?void 0:yt.cars_paid)},null,8,["value"])])):h("",!0),t("div",ga,[n(b,{for:"contract_total",value:"\u0627\u0644\u0639\u0642\u0648\u062F \u0627\u0644\u0645\u0646\u062C\u0632\u0629"}),n(f,{id:"contract_total",type:"text",class:"mt-1 block w-full",value:s(d).contract_total,disabled:""},null,8,["value"])]),t("div",ba,[n(b,{for:"exit_car_total",value:"\u0627\u0644\u062E\u0631\u0648\u062C\u064A\u0627\u062A \u0627\u0644\u0645\u0646\u062C\u0632\u0629"}),n(f,{id:"exit_car_total",type:"text",class:"mt-1 block w-full",value:s(d).exit_car_total,disabled:""},null,8,["value"])]),t("div",ha,[n(b,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u064A\u0646 \u0639\u0642\u0648\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),n(f,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:(ft=s(d))==null?void 0:ft.contract_total_debit_Dollar,disabled:""},null,8,["value"])]),t("div",ya,[n(b,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u064A\u0646 \u0639\u0642\u0648\u062F \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631"}),n(f,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:(xt=s(d))==null?void 0:xt.contract_total_debit_Dinar,disabled:""},null,8,["value"])])]),s(U)?(i(),u("div",fa,[t("div",xa,[n(b,{for:"discount",value:"\u0627\u0644\u062E\u0635\u0645"}),n(f,{id:"discount",type:"number",onInput:oe,class:"mt-1 block w-full",modelValue:s(z),"onUpdate:modelValue":o[32]||(o[32]=e=>y(z)?z.value=e:z=e)},null,8,["modelValue"])]),t("div",va,[n(b,{for:"percentage",value:" \u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0645\u0631\u0627\u062F \u062F\u0641\u0639\u0647"}),n(f,{id:"percentage",type:"number",onInput:ae,class:"mt-1 block w-full",modelValue:s(P),"onUpdate:modelValue":o[33]||(o[33]=e=>y(P)?P.value=e:P=e)},null,8,["modelValue"])]),t("div",ka,[n(b,{for:"discount",value:"\u0645\u0644\u0627\u062D\u0638\u0629"}),n(f,{id:"discount",type:"text",class:"mt-1 block w-full",modelValue:s(G),"onUpdate:modelValue":o[34]||(o[34]=e=>y(G)?G.value=e:G=e)},null,8,["modelValue"])]),t("div",wa,[n(b,{for:"pay",value:"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062F\u0641\u0639"}),t("button",{onClick:o[35]||(o[35]=Q(e=>Ot(s(P),s(D),s(z),s(G)),["prevent"])),disabled:s(T),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},[s(nt)?(i(),u("span",Da,"\u064A\u0631\u062C\u0649 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u0645\u0628\u0644\u063A \u0644")):h("",!0),s(T)?(i(),u("span",Na,"\u062C\u0627\u0631\u064A \u0627\u0644\u0637\u0628\u0627\u0639\u0629...")):(i(),u("span",Ca,"\u062F\u0641\u0639"))],8,$a)])])):h("",!0),s(Z)?(i(),u("div",Aa,[t("table",Ma,[t("thead",Pa,[t("tr",Sa,[Ia,t("th",Fa,r(a.$t("date")),1),t("th",Ta,r(a.$t("description")),1),t("th",Ea,r(a.$t("amount")),1),t("th",Ba,r(a.$t("execute")),1)])]),t("tbody",null,[t("tr",Ua,[Va,ja,Ha,Ra,t("td",qa,[t("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${s(d).client.id}&from=${s(N)}&to=${s(A)}&print=4`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-blue-500 rounded"},[st(" \u062C\u0645\u064A\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A "),n(it)],8,za)])]),(i(!0),u(O,null,at(s(d).transactions,e=>(i(),u(O,{key:e.id},[e.type=="out"&&e.amount<0&&e.is_pay==1?(i(),u("tr",La,[t("td",Oa,r(y(rt)?rt.value++:rt++),1),t("td",Wa,r(e.id),1),t("td",Ya,r(e.created),1),t("td",Za,r(e.description),1),t("td",Ga,r(e.amount*-1),1),t("td",Ja,[e.type=="out"&&e.amount<0?(i(),u("a",{key:0,target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${s(d).client.id}&from=${s(N)}&to=${s(A)}&print=2&transactions_id=${e.id}`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-green-500 rounded"},[n(it)],8,Ka)):h("",!0)])])):h("",!0)],64))),128)),t("tr",Qa,[Xa,t("td",null,r((vt=s(d))==null?void 0:vt.cars_discount),1),ts,t("td",es,r(S().totalAmount*-1),1),t("td",null,"\u0627\u0644\u0646\u062A\u0627\u062A\u062C : "+r(S().totalAmount*-1-parseInt((kt=s(d))==null?void 0:kt.cars_discount)),1)])])])])):h("",!0),t("div",null,[t("div",os,[t("table",as,[t("thead",ss,[t("tr",rs,[t("th",ns,r(a.$t("no")),1),t("th",ds,r(a.$t("car_type")),1),t("th",ls,r(a.$t("year")),1),t("th",is,r(a.$t("color")),1),t("th",cs,r(a.$t("vin")),1),t("th",us,r(a.$t("car_number")),1),t("th",ms,r(a.$t("dinar")),1),t("th",ps,r(a.$t("dolar_price")),1),t("th",_s,r(a.$t("dolar_custom")),1),t("th",gs,r(a.$t("note")),1),bs,hs,t("th",ys,r(a.$t("shipping_dolar")),1),t("th",fs,r(a.$t("coc_dolar")),1),t("th",xs,r(a.$t("checkout")),1),t("th",vs,r(a.$t("expenses")),1),ks,t("th",ws,r(a.$t("total")),1),t("th",$s,r(a.$t("paid")),1),t("th",Ds,r(a.$t("discount")),1),t("th",Cs,r(a.$t("date")),1),t("th",Ns,r(a.$t("execute")),1),As,Ms])]),t("tbody",null,[(i(!0),u(O,null,at(s(d).data,(e,dt)=>{var $t,Dt,Ct,Nt,At,Mt,Pt,St;return I((i(),u("tr",{key:e.id,class:fe([{"bg-red-100 dark:bg-red-900":e.results==0,"bg-red-100 dark:bg-red-900":e.results==1,"bg-green-100 dark:bg-green-900":e.results==2,"bg-yellow-100 dark:bg-yellow-900":e.vin.startsWith(m.q)||(e.car_number?e.car_number.toString().startsWith(m.q):"")},"border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[t("td",Ps,r(dt+1),1),t("td",Ss,r(e.car_type),1),t("td",Is,r(e.year),1),t("td",Fs,r(e.car_color),1),t("td",Ts,r(e.vin),1),t("td",Es,r(e.car_number),1),t("td",Bs,r(e.dinar_s),1),t("td",Us,r(e.dolar_price_s),1),t("td",Vs,r((e.dinar_s/e.dolar_price_s*100).toFixed(0)||0),1),t("td",js,r(e.note),1),t("td",Hs,r((e.dinar_s/13e4*100).toFixed(0)||0),1),t("td",Rs,r(((e.dinar_s/13e4*100).toFixed(0)||0)-((e.dinar_s/e.dolar_price_s*100).toFixed(0)||0)),1),t("td",qs,r(e.shipping_dolar_s),1),t("td",zs,r(e.coc_dolar_s),1),t("td",Ls,r(e.checkout_s),1),t("td",Os,r(e.expenses_s),1),t("td",Ws,r(e.land_shipping_s),1),t("td",Ys,r(e.total_s.toFixed(0)),1),t("td",Zs,r(e.paid),1),t("td",Gs,r(e.discount),1),t("td",Js,r(e.date),1),t("td",Ks,[t("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-slate-500 rounded",onClick:C=>Ht(e)},[n(Ie)],8,Qs),t("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-orange-500 rounded",onClick:C=>jt(e)},[n(Se)],8,Xs),e.total_s!=e.paid+e.discount?(i(),u("button",{key:0,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:C=>Rt(e)},[n(It)],8,tr)):h("",!0),(($t=e.contract)==null?void 0:$t.price)!=((Dt=e.contract)==null?void 0:Dt.paid)||((Ct=e.contract)==null?void 0:Ct.price_dinar)!=((Nt=e.contract)==null?void 0:Nt.paid_dinar)?(i(),u("button",{key:1,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-pink-500 rounded",onClick:C=>Qt(e)},[n(It)],8,er)):h("",!0),e.contract?h("",!0):(i(),u("button",{key:2,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-yellow-500 rounded",onClick:C=>Kt(e)},[n(Te)],8,or)),e.is_exit?h("",!0):(i(),u("button",{key:3,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-red-500 rounded",onClick:C=>Xt(e)},[n(Pe)],8,ar)),e.is_exit?(i(),u("button",{key:4,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-blue-500 rounded",onClick:C=>te(e)},[n(Fe)],8,sr)):h("",!0),t("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-violet-500 rounded",onClick:C=>ee(e)},[n(go)],8,rr),t("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${s(d).client.id}&print=6&car_id=${e.id}`,tabIndex:"1",class:"px-1 py-1 text-white m-1 bg-gray-900 rounded"},[n(it,{class:"inline-flex"})],8,nr)]),t("td",dr,[(i(!0),u(O,null,at(e.car_images,(C,ce)=>(i(),u("a",{key:ce,href:ie(C.name),style:{cursor:"pointer"},target:"_blank"},[t("img",{src:le(C.name),alt:"",class:"px-1",style:{"max-width":"80px","max-height":"50px",display:"inline"}},null,8,ir)],8,lr))),128))]),t("td",cr,[S().totalAmount*-1-((At=s(d))==null?void 0:At.cars_discount)-((Mt=s(d))==null?void 0:Mt.cars_paid)!=0?(i(),u("button",{key:0,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:C=>Ft(e)}," \u062F\u0641\u0639 \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",8,ur)):h("",!0),S().totalAmount*-1-((Pt=s(d))==null?void 0:Pt.cars_discount)-((St=s(d))==null?void 0:St.cars_sum)!=0&&e.paid?(i(),u("button",{key:1,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 mt-1 text-white mx-1 bg-red-500 rounded",onClick:C=>Tt(e)}," \u0627\u0639\u0627\u062F\u0629 \u0644\u0644\u0631\u0635\u064A\u062F ",8,mr)):h("",!0)])],2)),[[ye,e.results==2&&s(x)||e.results!=2]])}),128))])])])]),t("div",pr,[n(s(we),{data:s(d),onPaginationChangePage:s(et),limit:2},null,8,["data","onPaginationChangePage"])])])])])):h("",!0),t("div",_r,[t("div",gr,[t("div",br,[st(" \u062A\u0648\u0642\u064A\u0639 \u0635\u0627\u062D\u0628 \u0627\u0644\u062D\u0633\u0627\u0628 "),hr,st(" "+r((wt=s(d).client)==null?void 0:wt.name),1)]),yr,fr])])]}),_:1})],64))}};export{zr as default};
