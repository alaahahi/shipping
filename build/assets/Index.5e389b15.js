import{o as d,a as l,b as t,t as r,j as g,n as $,q,F as _,h as C,i as p,f as F,r as w,U as xt,m as ct,E as W,g as B,w as A,H as gt,e as z,s as Y,c as U,v as X}from"./app.6b2701c8.js";import{_ as ut}from"./AuthenticatedLayout.fee64a1c.js";import{a as I}from"./index.dc89fd1b.js";import{M as yt}from"./Modal.2b0743c8.js";import"./_plugin-vue_export-helper.cdc0426e.js";/* empty css                                              */const y=i=>{if(i==null||i==="")return"0";const o=typeof i=="string"?parseFloat(i):i;return isNaN(o)?"0":new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(o)},mt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},pt={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},ft={class:"flex items-center"},ht={class:"ml-5 w-0 flex-1"},vt={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},kt={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},bt={class:"flex items-center"},_t={class:"ml-5 w-0 flex-1"},wt={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},$t={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},Ct={class:"flex items-center"},Pt={class:"ml-5 w-0 flex-1"},Dt={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},Mt={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},Nt={class:"flex items-center"},jt={class:"ml-5 w-0 flex-1"},Vt={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},Tt={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},Bt={class:"flex items-center"},zt={class:"ml-5 w-0 flex-1"},Et={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},It={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},Yt={class:"flex items-center"},Ut={class:"ml-5 w-0 flex-1"},At={class:"text-lg font-semibold text-green-600 dark:text-green-400"},Ot={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},Lt={class:"flex items-center"},Rt={class:"ml-5 w-0 flex-1"},St={class:"text-lg font-semibold text-red-600 dark:text-red-400"},Ft={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},Ht={class:"flex items-center"},qt={class:"ml-5 w-0 flex-1"},Gt={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},Jt={class:"flex items-center"},Kt={class:"ml-5 w-0 flex-1"},Qt={class:"text-lg font-semibold text-orange-600 dark:text-orange-400"},Wt={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},Xt={class:"flex items-center"},Zt={class:"ml-5 w-0 flex-1"},te={class:"text-lg font-semibold text-teal-600 dark:text-teal-400"},ee={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},se={class:"flex items-center"},ae={class:"ml-5 w-0 flex-1"},re={class:"text-lg font-semibold text-cyan-600 dark:text-cyan-400"},de={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},oe={class:"flex items-center"},le={class:"ml-5 w-0 flex-1"},ne={__name:"StatCards",props:{carsCount:{type:Number,default:0},totalCustoms:{type:Number,default:0},exchangeProfit:{type:Number,default:0},netProfit:{type:Number,default:0},netTransfers:{type:Number,default:0},totalSales:{type:Number,default:0},totalPurchases:{type:Number,default:0},salesPurchaseDifference:{type:Number,default:0},tradersDebt:{type:Number,default:0},tradersPayments:{type:Number,default:0},totalPaymentsAndDebt:{type:Number,default:0},salesVsPaymentsDifference:{type:Number,default:0}},setup(i){return(o,e)=>(d(),l("div",mt,[t("div",pt,[t("div",ft,[e[1]||(e[1]=t("div",{class:"flex-shrink-0 bg-blue-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),t("div",ht,[t("dl",null,[e[0]||(e[0]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0639\u062F\u062F \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A ",-1)),t("dd",vt,r(i.carsCount),1)])])])]),t("div",kt,[t("div",bt,[e[3]||(e[3]=t("div",{class:"flex-shrink-0 bg-green-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",_t,[t("dl",null,[e[2]||(e[2]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062C\u0645\u0631\u0643 ",-1)),t("dd",wt,r(g(y)(i.totalCustoms)),1)])])])]),t("div",$t,[t("div",Ct,[e[5]||(e[5]=t("div",{class:"flex-shrink-0 bg-yellow-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])],-1)),t("div",Pt,[t("dl",null,[e[4]||(e[4]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0627\u0644\u0641\u0627\u0626\u062F\u0629 \u0645\u0646 \u0641\u0631\u0642 \u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641 ",-1)),t("dd",Dt,r(g(y)(i.exchangeProfit)),1)])])])]),t("div",Mt,[t("div",Nt,[e[7]||(e[7]=t("div",{class:"flex-shrink-0 bg-purple-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),t("div",jt,[t("dl",null,[e[6]||(e[6]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0635\u0627\u0641\u064A \u0627\u0644\u0631\u0628\u062D ",-1)),t("dd",Vt,r(g(y)(i.netProfit)),1)])])])]),t("div",Tt,[t("div",Bt,[e[9]||(e[9]=t("div",{class:"flex-shrink-0 bg-indigo-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})])],-1)),t("div",zt,[t("dl",null,[e[8]||(e[8]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0635\u0627\u0641\u064A \u0627\u0644\u062D\u0648\u0644\u0627\u062A ",-1)),t("dd",Et,r(g(y)(i.netTransfers)),1)])])])]),t("div",It,[t("div",Yt,[e[11]||(e[11]=t("div",{class:"flex-shrink-0 bg-green-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])],-1)),t("div",Ut,[t("dl",null,[e[10]||(e[10]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A ",-1)),t("dd",At,r(g(y)(i.totalSales)),1)])])])]),t("div",Ot,[t("div",Lt,[e[13]||(e[13]=t("div",{class:"flex-shrink-0 bg-red-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})])],-1)),t("div",Rt,[t("dl",null,[e[12]||(e[12]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A ",-1)),t("dd",St,r(g(y)(i.totalPurchases)),1)])])])]),t("div",Ft,[t("div",Ht,[e[15]||(e[15]=t("div",{class:"flex-shrink-0 bg-blue-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),t("div",qt,[t("dl",null,[e[14]||(e[14]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0627\u0644\u0641\u0631\u0642 ",-1)),t("dd",{class:$(["text-lg font-semibold",i.salesPurchaseDifference>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},r(g(y)(i.salesPurchaseDifference)),3)])])])]),t("div",Gt,[t("div",Jt,[e[17]||(e[17]=t("div",{class:"flex-shrink-0 bg-orange-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),t("div",Kt,[t("dl",null,[e[16]||(e[16]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u062F\u064A\u0646 \u0627\u0644\u062A\u062C\u0627\u0631 ",-1)),t("dd",Qt,r(g(y)(i.tradersDebt)),1)])])])]),t("div",Wt,[t("div",Xt,[e[19]||(e[19]=t("div",{class:"flex-shrink-0 bg-teal-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",Zt,[t("dl",null,[e[18]||(e[18]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0645\u062C\u0645\u0648\u0639 \u062F\u0641\u0639\u0627\u062A \u0627\u0644\u062A\u062C\u0627\u0631 ",-1)),t("dd",te,r(g(y)(i.tradersPayments)),1)])])])]),t("div",ee,[t("div",se,[e[21]||(e[21]=t("div",{class:"flex-shrink-0 bg-cyan-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),t("div",ae,[t("dl",null,[e[20]||(e[20]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0625\u062C\u0645\u0627\u0644\u064A (\u062F\u0641\u0639\u0627\u062A + \u062F\u064A\u0646) ",-1)),t("dd",re,r(g(y)(i.totalPaymentsAndDebt)),1)])])])]),t("div",de,[t("div",oe,[e[23]||(e[23]=t("div",{class:"flex-shrink-0 bg-pink-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})])],-1)),t("div",le,[t("dl",null,[e[22]||(e[22]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0627\u0644\u0641\u0631\u0642 (\u0645\u0628\u064A\u0639\u0627\u062A - \u062F\u0641\u0639\u0627\u062A \u0648\u062F\u064A\u0646) ",-1)),t("dd",{class:$(["text-lg font-semibold",i.salesVsPaymentsDifference>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},r(g(y)(i.salesVsPaymentsDifference)),3)])])])])]))}},ie={class:"w-full"},xe={viewBox:"0 0 400 200",class:"w-full h-64"},ce=["y"],ge=["x"],ue=["points"],ye=["cx","cy"],me=["x","y"],pe={class:"mt-4 text-center"},fe={class:"text-base font-bold text-gray-800 dark:text-gray-200"},he={class:"text-blue-600 dark:text-blue-400"},ve={class:"mt-2 flex justify-center gap-4 text-sm"},ke={class:"text-gray-700 dark:text-gray-300"},be={class:"font-semibold text-green-600 dark:text-green-400"},_e={class:"text-gray-700 dark:text-gray-300"},we={class:"font-semibold text-red-600 dark:text-red-400"},$e={__name:"ProfitChart",props:{labels:{type:Array,default:()=>[]},monthlyProfit:{type:Array,default:()=>[]},yearlyProfit:{type:Number,default:0}},setup(i){const o=i,e=q(()=>{if(!o.monthlyProfit||o.monthlyProfit.length===0)return{max:0,points:[]};const x=o.monthlyProfit,c=Math.max(...x,0),s=Math.min(...x,0),n=c-s||1,N=x.map((D,P)=>{const f=n>0?(D-s)/n*100:50;return{x:P/(x.length-1||1)*100,y:100-f,profit:D,label:o.labels[P]||P+1}});return{max:c,min:s,range:n,points:N}});return(x,c)=>(d(),l("div",ie,[(d(),l("svg",xe,[c[0]||(c[0]=t("defs",null,[t("pattern",{id:"grid-profit",width:"20",height:"20",patternUnits:"userSpaceOnUse"},[t("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"#e5e7eb","stroke-width":"0.5",class:"dark:stroke-gray-700"})])],-1)),c[1]||(c[1]=t("rect",{width:"100%",height:"100%",fill:"url(#grid-profit)"},null,-1)),(d(),l(_,null,C(5,(s,n)=>t("text",{key:s,x:8,y:n*25+15,class:"text-sm font-semibold fill-gray-800 dark:fill-gray-200","text-anchor":"start",style:{"font-size":"11px","font-weight":"600"}},r(g(y)(e.value.max-e.value.max/4*n)),9,ce)),64)),(d(!0),l(_,null,C(e.value.points,(s,n)=>(d(),l("text",{key:n,x:s.x/100*380+20,y:192,class:"text-sm font-semibold fill-gray-800 dark:fill-gray-200","text-anchor":"middle",style:{"font-size":"10px","font-weight":"600"}},r(s.label),9,ge))),128)),e.value.points.length>0?(d(),l("polyline",{key:0,points:e.value.points.map(s=>`${s.x/100*380+20},${s.y/100*180+10}`).join(" "),fill:"none",stroke:"#3b82f6","stroke-width":"2",class:"dark:stroke-blue-400"},null,8,ue)):p("",!0),(d(!0),l(_,null,C(e.value.points,(s,n)=>(d(),l("g",{key:n},[t("circle",{cx:s.x/100*380+20,cy:s.y/100*180+10,r:"5",fill:"#3b82f6",stroke:"#ffffff","stroke-width":"2",class:"dark:fill-blue-400 dark:stroke-gray-800"},[t("title",null,r(s.label)+": "+r(g(y)(s.profit)),1)],8,ye),t("text",{x:s.x/100*380+20,y:s.y/100*180-5,class:"text-xs font-bold fill-gray-900 dark:fill-gray-100","text-anchor":"middle",style:{"font-size":"9px","font-weight":"700","pointer-events":"none"}},r(g(y)(s.profit)),9,me)]))),128))])),t("div",pe,[t("p",fe,[c[2]||(c[2]=F(" \u0625\u062C\u0645\u0627\u0644\u064A \u0631\u0628\u062D \u0627\u0644\u0633\u0646\u0629: ",-1)),t("span",he,r(g(y)(i.yearlyProfit)),1)]),t("div",ve,[t("span",ke,[c[3]||(c[3]=F(" \u0623\u0639\u0644\u0649 \u0631\u0628\u062D \u0634\u0647\u0631\u064A: ",-1)),t("span",be,r(g(y)(e.value.max)),1)]),t("span",_e,[c[4]||(c[4]=F(" \u0623\u0642\u0644 \u0631\u0628\u062D \u0634\u0647\u0631\u064A: ",-1)),t("span",we,r(g(y)(e.value.min)),1)])])])]))}},Ce={class:"overflow-x-auto"},Pe={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},De={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Me={key:0},Ne={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},je={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Ve={class:"px-4 py-3 whitespace-nowrap text-sm font-semibold text-red-600 dark:text-red-400"},Te={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Be={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},ze={class:"mt-4 grid grid-cols-3 gap-4 text-sm"},Ee={class:"text-center"},Ie={class:"font-semibold text-red-600 dark:text-red-400"},Ye={class:"text-center"},Ue={class:"font-semibold text-red-600 dark:text-red-400"},Ae={class:"text-center"},Oe={class:"font-semibold text-red-600 dark:text-red-400"},Le={__name:"DiscountTable",props:{discounts:{type:Array,default:()=>[]},totalDiscounts:{type:Number,default:0},maxDiscount:{type:Number,default:0},minDiscount:{type:Number,default:0}},setup(i){return(o,e)=>(d(),l("div",Ce,[t("table",Pe,[e[1]||(e[1]=t("thead",{class:"bg-gray-50 dark:bg-gray-900"},[t("tr",null,[t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0631\u0642\u0645 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," VIN "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u062E\u0635\u0645 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0634\u0631\u0627\u0621 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0628\u064A\u0639 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0631\u0628\u062D \u0628\u0639\u062F \u0627\u0644\u062E\u0635\u0645 ")])],-1)),t("tbody",De,[i.discounts.length===0?(d(),l("tr",Me,[...e[0]||(e[0]=[t("td",{colspan:"6",class:"px-4 py-4 text-center text-sm text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A ",-1)])])):p("",!0),(d(!0),l(_,null,C(i.discounts.slice(0,10),(x,c)=>(d(),l("tr",{key:c,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",Ne,r(x.car_number||"-"),1),t("td",je,r(x.vin||"-"),1),t("td",Ve,r(g(y)(x.discount||0)),1),t("td",Te,r(g(y)(x.total||0)),1),t("td",Be,r(g(y)(x.total_s||0)),1),t("td",{class:$(["px-4 py-3 whitespace-nowrap text-sm font-semibold",(x.profit_after_discount||x.profit||0)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},r(g(y)(x.profit_after_discount||x.profit||0)),3)]))),128))])]),t("div",ze,[t("div",Ee,[e[2]||(e[2]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0627\u0644\u0645\u062C\u0645\u0648\u0639",-1)),t("p",Ie,r(g(y)(i.totalDiscounts)),1)]),t("div",Ye,[e[3]||(e[3]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0623\u0639\u0644\u0649 \u062E\u0635\u0645",-1)),t("p",Ue,r(g(y)(i.maxDiscount)),1)]),t("div",Ae,[e[4]||(e[4]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0623\u0642\u0644 \u062E\u0635\u0645",-1)),t("p",Oe,r(g(y)(i.minDiscount)),1)])])]))}},Re={class:"overflow-x-auto"},Se={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Fe={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},He={key:0},qe={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Ge={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Je={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Ke={class:"mt-4 grid grid-cols-3 gap-4 text-sm"},Qe={class:"text-center"},We={class:"font-semibold text-green-600 dark:text-green-400"},Xe={class:"text-center"},Ze={class:"font-semibold text-red-600 dark:text-red-400"},ts={class:"text-center"},es={class:"font-semibold text-gray-900 dark:text-gray-100"},Z={__name:"CarProfitTable",props:{cars:{type:Array,default:()=>[]},maxProfit:{type:Number,default:0},minProfit:{type:Number,default:0},avgProfit:{type:Number,default:0}},setup(i){return(o,e)=>(d(),l("div",Re,[t("table",Se,[e[1]||(e[1]=t("thead",{class:"bg-gray-50 dark:bg-gray-900"},[t("tr",null,[t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," # "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0631\u0642\u0645 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," VIN "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0635\u0627\u0641\u064A \u0627\u0644\u0631\u0628\u062D ")])],-1)),t("tbody",Fe,[i.cars.length===0?(d(),l("tr",He,[...e[0]||(e[0]=[t("td",{colspan:"4",class:"px-4 py-4 text-center text-sm text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A ",-1)])])):p("",!0),(d(!0),l(_,null,C(i.cars,(x,c)=>(d(),l("tr",{key:x.id||c,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",qe,r(c+1),1),t("td",Ge,r(x.car_number||"-"),1),t("td",Je,r(x.vin||"-"),1),t("td",{class:$(["px-4 py-3 whitespace-nowrap text-sm font-semibold",(x.net_profit||x.profit||0)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},r(g(y)(x.net_profit||x.profit||0)),3)]))),128))])]),t("div",Ke,[t("div",Qe,[e[2]||(e[2]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0623\u0639\u0644\u0649 \u0631\u0628\u062D",-1)),t("p",We,r(g(y)(i.maxProfit)),1)]),t("div",Xe,[e[3]||(e[3]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0623\u0642\u0644 \u0631\u0628\u062D",-1)),t("p",Ze,r(g(y)(i.minProfit)),1)]),t("div",ts,[e[4]||(e[4]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0645\u062A\u0648\u0633\u0637 \u0627\u0644\u0631\u0628\u062D",-1)),t("p",es,r(g(y)(i.avgProfit)),1)])])]))}},ss={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},as={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},rs={class:"flex items-center"},ds={class:"ml-5 w-0 flex-1"},os={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},ls={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},ns={class:"flex items-center"},is={class:"ml-5 w-0 flex-1"},xs={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},cs={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},gs={class:"flex items-center"},us={class:"ml-5 w-0 flex-1"},ys={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},ms={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},ps={class:"flex items-center"},fs={class:"ml-5 w-0 flex-1"},hs={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},vs={__name:"TransfersSummary",props:{grossTransfers:{type:Number,default:0},transferFees:{type:Number,default:0},netTransfers:{type:Number,default:0},erbilTransfers:{type:Number,default:0}},setup(i){return(o,e)=>(d(),l("div",ss,[t("div",as,[t("div",rs,[e[1]||(e[1]=t("div",{class:"flex-shrink-0 bg-blue-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})])],-1)),t("div",ds,[t("dl",null,[e[0]||(e[0]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u062D\u0648\u0644\u0627\u062A ",-1)),t("dd",os,r(g(y)(i.grossTransfers)),1)])])])]),t("div",ls,[t("div",ns,[e[3]||(e[3]=t("div",{class:"flex-shrink-0 bg-yellow-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",is,[t("dl",null,[e[2]||(e[2]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0631\u0633\u0648\u0645 \u0627\u0644\u062D\u0648\u0644\u0627\u062A ",-1)),t("dd",xs,r(g(y)(i.transferFees)),1)])])])]),t("div",cs,[t("div",gs,[e[5]||(e[5]=t("div",{class:"flex-shrink-0 bg-green-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",us,[t("dl",null,[e[4]||(e[4]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0635\u0627\u0641\u064A \u0627\u0644\u062D\u0648\u0644\u0627\u062A ",-1)),t("dd",ys,r(g(y)(i.netTransfers)),1)])])])]),t("div",ms,[t("div",ps,[e[7]||(e[7]=t("div",{class:"flex-shrink-0 bg-purple-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})])],-1)),t("div",fs,[t("dl",null,[e[6]||(e[6]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u062D\u0648\u0644\u0627\u062A \u0623\u0631\u0628\u064A\u0644 ",-1)),t("dd",hs,r(g(y)(i.erbilTransfers)),1)])])])])]))}},ks={class:"overflow-x-auto"},bs={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},_s={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},ws={key:0},$s=["onClick"],Cs={class:"px-4 py-3 whitespace-nowrap"},Ps={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Ds={class:"px-4 py-3 whitespace-nowrap text-sm font-semibold text-gray-900 dark:text-gray-100"},Ms={class:"px-4 py-3 whitespace-nowrap text-sm text-orange-600 dark:text-orange-400"},Ns={class:"px-4 py-3 whitespace-nowrap text-sm font-semibold text-green-600 dark:text-green-400"},js={class:"px-4 py-3 whitespace-nowrap"},Vs={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Ts={key:0,class:"bg-gray-50 dark:bg-gray-900"},Bs={colspan:"7",class:"px-4 py-4"},zs={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},Es={key:0},Is={class:"text-gray-600 dark:text-gray-400"},Ys={key:1},Us={class:"text-gray-600 dark:text-gray-400"},As={key:2},Os={class:"text-gray-600 dark:text-gray-400"},Ls={key:3},Rs={class:"text-gray-600 dark:text-gray-400"},Ss={__name:"TransfersDetailTable",props:{transfers:{type:Array,default:()=>[]}},setup(i){const o=w([]),e=c=>{const s=o.value.indexOf(c);s>-1?o.value.splice(s,1):o.value.push(c)},x=c=>c==="\u062A\u0645 \u0627\u0644\u0623\u0633\u062A\u0644\u0627\u0645"||c==="\u062A\u0645 \u0627\u0644\u0627\u0633\u062A\u0644\u0627\u0645"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";return(c,s)=>(d(),l("div",ks,[t("table",bs,[s[6]||(s[6]=t("thead",{class:"bg-gray-50 dark:bg-gray-900"},[t("tr",null,[t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-12"}),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0631\u0642\u0645 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0645\u0628\u0644\u063A "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0631\u0633\u0648\u0645 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0635\u0627\u0641\u064A "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u062D\u0627\u0644\u0629 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u062A\u0627\u0631\u064A\u062E ")])],-1)),t("tbody",_s,[i.transfers.length===0?(d(),l("tr",ws,[...s[0]||(s[0]=[t("td",{colspan:"7",class:"px-4 py-4 text-center text-sm text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u062D\u0648\u0644\u0627\u062A ",-1)])])):p("",!0),(d(!0),l(_,null,C(i.transfers,(n,N)=>(d(),l(_,{key:n.id||N},[t("tr",{class:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:D=>e(n.id)},[t("td",Cs,[(d(),l("svg",{class:$(["w-5 h-5 transition-transform",{"rotate-90":o.value.includes(n.id)}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...s[1]||(s[1]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)])],2))]),t("td",Ps,r(n.no||n.id),1),t("td",Ds,r(g(y)(n.amount||0)),1),t("td",Ms,r(g(y)(n.fee||0)),1),t("td",Ns,r(g(y)((n.amount||0)-(n.fee||0))),1),t("td",js,[t("span",{class:$(["px-2 py-1 text-xs font-semibold rounded-full",x(n.stauts||n.status)])},r(n.stauts||n.status||"\u0642\u064A\u062F \u0627\u0644\u062A\u0633\u0644\u064A\u0645"),3)]),t("td",Vs,r(new Date(n.created_at).toLocaleDateString("ar-EG")),1)],8,$s),o.value.includes(n.id)?(d(),l("tr",Ts,[t("td",Bs,[t("div",zs,[n.sender_note?(d(),l("div",Es,[s[2]||(s[2]=t("p",{class:"font-medium text-gray-700 dark:text-gray-300 mb-1"},"\u0645\u0644\u0627\u062D\u0638\u0629 \u0627\u0644\u0645\u0631\u0633\u0644:",-1)),t("p",Is,r(n.sender_note),1)])):p("",!0),n.receiver_note?(d(),l("div",Ys,[s[3]||(s[3]=t("p",{class:"font-medium text-gray-700 dark:text-gray-300 mb-1"},"\u0645\u0644\u0627\u062D\u0638\u0629 \u0627\u0644\u0645\u0633\u062A\u0642\u0628\u0644:",-1)),t("p",Us,r(n.receiver_note),1)])):p("",!0),n.note?(d(),l("div",As,[s[4]||(s[4]=t("p",{class:"font-medium text-gray-700 dark:text-gray-300 mb-1"},"\u0645\u0644\u0627\u062D\u0638\u0627\u062A:",-1)),t("p",Os,r(n.note),1)])):p("",!0),n.currency?(d(),l("div",Ls,[s[5]||(s[5]=t("p",{class:"font-medium text-gray-700 dark:text-gray-300 mb-1"},"\u0627\u0644\u0639\u0645\u0644\u0629:",-1)),t("p",Rs,r(n.currency),1)])):p("",!0)])])])):p("",!0)],64))),128))])])]))}},Fs={class:"w-full"},Hs={viewBox:"0 0 400 200",class:"w-full h-64"},qs=["y"],Gs=["x"],Js=["points"],Ks=["points"],Qs=["cx","cy"],Ws=["x","y"],Xs=["cx","cy"],Zs=["x","y"],ta={__name:"CashFlowChart",props:{labels:{type:Array,default:()=>[]},cashInData:{type:Array,default:()=>[]},cashOutData:{type:Array,default:()=>[]}},setup(i){const o=i,e=q(()=>{if(!o.cashInData||o.cashInData.length===0)return{max:0,cashInPoints:[],cashOutPoints:[]};const x=[...o.cashInData,...o.cashOutData],c=Math.max(...x,0),s=Math.min(...x,0),n=c-s||1,N=o.cashInData.map((P,f)=>{const b=n>0?(P-s)/n*100:50;return{x:f/(o.cashInData.length-1||1)*100,y:100-b,value:P,label:o.labels[f]||f+1}}),D=o.cashOutData.map((P,f)=>{const b=n>0?(P-s)/n*100:50;return{x:f/(o.cashOutData.length-1||1)*100,y:100-b,value:P,label:o.labels[f]||f+1}});return{max:c,min:s,range:n,cashInPoints:N,cashOutPoints:D}});return(x,c)=>(d(),l("div",Fs,[(d(),l("svg",Hs,[c[0]||(c[0]=t("defs",null,[t("pattern",{id:"grid-cash",width:"20",height:"20",patternUnits:"userSpaceOnUse"},[t("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"#e5e7eb","stroke-width":"0.5",class:"dark:stroke-gray-700"})])],-1)),c[1]||(c[1]=t("rect",{width:"100%",height:"100%",fill:"url(#grid-cash)"},null,-1)),(d(),l(_,null,C(5,(s,n)=>t("text",{key:s,x:8,y:n*25+15,class:"text-sm font-semibold fill-gray-800 dark:fill-gray-200","text-anchor":"start",style:{"font-size":"11px","font-weight":"600"}},r(g(y)(e.value.max-e.value.max/4*n)),9,qs)),64)),(d(!0),l(_,null,C(e.value.cashInPoints,(s,n)=>(d(),l("text",{key:n,x:s.x/100*380+20,y:192,class:"text-sm font-semibold fill-gray-800 dark:fill-gray-200","text-anchor":"middle",style:{"font-size":"10px","font-weight":"600"}},r(s.label),9,Gs))),128)),e.value.cashInPoints.length>0?(d(),l("polyline",{key:0,points:e.value.cashInPoints.map(s=>`${s.x/100*380+20},${s.y/100*180+10}`).join(" "),fill:"none",stroke:"#10b981","stroke-width":"2",class:"dark:stroke-green-400"},null,8,Js)):p("",!0),e.value.cashOutPoints.length>0?(d(),l("polyline",{key:1,points:e.value.cashOutPoints.map(s=>`${s.x/100*380+20},${s.y/100*180+10}`).join(" "),fill:"none",stroke:"#ef4444","stroke-width":"2",class:"dark:stroke-red-400"},null,8,Ks)):p("",!0),(d(!0),l(_,null,C(e.value.cashInPoints,(s,n)=>(d(),l("g",{key:"in-"+n},[t("circle",{cx:s.x/100*380+20,cy:s.y/100*180+10,r:"5",fill:"#10b981",stroke:"#ffffff","stroke-width":"2",class:"dark:fill-green-400 dark:stroke-gray-800"},[t("title",null,"\u0648\u0627\u0631\u062F - "+r(s.label)+": "+r(g(y)(s.value)),1)],8,Qs),t("text",{x:s.x/100*380+20,y:s.y/100*180-5,class:"text-xs font-bold fill-gray-900 dark:fill-gray-100","text-anchor":"middle",style:{"font-size":"9px","font-weight":"700","pointer-events":"none"}},r(g(y)(s.value)),9,Ws)]))),128)),(d(!0),l(_,null,C(e.value.cashOutPoints,(s,n)=>(d(),l("g",{key:"out-"+n},[t("circle",{cx:s.x/100*380+20,cy:s.y/100*180+10,r:"5",fill:"#ef4444",stroke:"#ffffff","stroke-width":"2",class:"dark:fill-red-400 dark:stroke-gray-800"},[t("title",null,"\u0635\u0627\u062F\u0631 - "+r(s.label)+": "+r(g(y)(s.value)),1)],8,Xs),t("text",{x:s.x/100*380+20,y:s.y/100*180-5,class:"text-xs font-bold fill-gray-900 dark:fill-gray-100","text-anchor":"middle",style:{"font-size":"9px","font-weight":"700","pointer-events":"none"}},r(g(y)(s.value)),9,Zs)]))),128))])),c[2]||(c[2]=xt('<div class="mt-4 flex justify-center gap-6 text-sm"><div class="flex items-center gap-2"><div class="w-4 h-4 bg-green-500 rounded"></div><span class="text-gray-600 dark:text-gray-400">\u0627\u0644\u0646\u0642\u062F \u0627\u0644\u0648\u0627\u0631\u062F</span></div><div class="flex items-center gap-2"><div class="w-4 h-4 bg-red-500 rounded"></div><span class="text-gray-600 dark:text-gray-400">\u0627\u0644\u0646\u0642\u062F \u0627\u0644\u0635\u0627\u062F\u0631</span></div></div>',1))]))}},ea={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},sa={class:"flex items-center justify-between mb-4"},aa={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},ra={key:0,class:"px-3 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},da={key:1,class:"px-3 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},oa={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},la={class:"mt-1 text-2xl font-semibold text-green-600 dark:text-green-400"},na={class:"mt-1 text-2xl font-semibold text-red-600 dark:text-red-400"},ia={class:"mt-1 text-2xl font-semibold text-orange-600 dark:text-orange-400"},xa={class:"mt-1 text-2xl font-semibold text-blue-600 dark:text-blue-400"},ca={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-gray-100"},ga={__name:"YearClosingSummary",props:{year:{type:Number,required:!0},totalIncome:{type:Number,default:0},totalExpenses:{type:Number,default:0},totalDiscounts:{type:Number,default:0},netYearProfit:{type:Number,default:0},carriedProfit:{type:Number,default:0},isClosed:{type:Boolean,default:!1}},setup(i){return(o,e)=>(d(),l("div",ea,[t("div",sa,[t("h3",aa," \u062E\u0644\u0627\u0635\u0629 \u0625\u063A\u0644\u0627\u0642 \u0627\u0644\u0633\u0646\u0629 "+r(i.year),1),i.isClosed?(d(),l("span",ra," \u0645\u063A\u0644\u0642\u0629 ")):(d(),l("span",da," \u0645\u0641\u062A\u0648\u062D\u0629 "))]),t("div",oa,[t("div",null,[e[0]||(e[0]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u062F\u062E\u0644 ",-1)),t("dd",la,r(g(y)(i.totalIncome)),1)]),t("div",null,[e[1]||(e[1]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0635\u0627\u0631\u064A\u0641 ",-1)),t("dd",na,r(g(y)(i.totalExpenses)),1)]),t("div",null,[e[2]||(e[2]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A ",-1)),t("dd",ia,r(g(y)(i.totalDiscounts)),1)]),t("div",null,[e[3]||(e[3]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," \u0635\u0627\u0641\u064A \u0631\u0628\u062D \u0627\u0644\u0633\u0646\u0629 ",-1)),t("dd",{class:$(["mt-1 text-2xl font-semibold",i.netYearProfit>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},r(g(y)(i.netYearProfit)),3)]),t("div",null,[e[4]||(e[4]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," \u0627\u0644\u0631\u0628\u062D \u0627\u0644\u0645\u062D\u0645\u0648\u0644 ",-1)),t("dd",xa,r(g(y)(i.carriedProfit)),1)]),t("div",null,[e[5]||(e[5]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0646\u0647\u0627\u0626\u064A ",-1)),t("dd",ca,r(g(y)(i.netYearProfit+i.carriedProfit)),1)])])]))}},ua={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-4"},ya={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ma=["value"],pa=["value"],fa={class:"border border-gray-300 dark:border-gray-600 rounded-md p-2 max-h-32 overflow-y-auto dark:bg-gray-700"},ha={class:"flex flex-wrap gap-2"},va=["checked","onChange"],ka={class:"mr-2 text-sm text-gray-700 dark:text-gray-300"},ba=["value"],_a=["value"],wa={__name:"Filters",props:{selectedYear:{type:Number,default:null},selectedYears:{type:Array,default:()=>[]},selectedMonth:{type:Number,default:null},years:{type:Array,required:!0}},emits:["update:selectedYear","update:selectedYears","update:selectedMonth"],setup(i,{emit:o}){const e=i,x=o,c=[{value:null,label:"\u062C\u0645\u064A\u0639 \u0627\u0644\u0623\u0634\u0647\u0631"},{value:1,label:"\u064A\u0646\u0627\u064A\u0631"},{value:2,label:"\u0641\u0628\u0631\u0627\u064A\u0631"},{value:3,label:"\u0645\u0627\u0631\u0633"},{value:4,label:"\u0623\u0628\u0631\u064A\u0644"},{value:5,label:"\u0645\u0627\u064A\u0648"},{value:6,label:"\u064A\u0648\u0646\u064A\u0648"},{value:7,label:"\u064A\u0648\u0644\u064A\u0648"},{value:8,label:"\u0623\u063A\u0633\u0637\u0633"},{value:9,label:"\u0633\u0628\u062A\u0645\u0628\u0631"},{value:10,label:"\u0623\u0643\u062A\u0648\u0628\u0631"},{value:11,label:"\u0646\u0648\u0641\u0645\u0628\u0631"},{value:12,label:"\u062F\u064A\u0633\u0645\u0628\u0631"}],s=f=>{x("update:selectedYear",parseInt(f.target.value))},n=(f,b)=>{const h=[...e.selectedYears];if(b)h.includes(f)||h.push(f);else{const T=h.indexOf(f);T>-1&&h.splice(T,1)}x("update:selectedYears",h)},N=()=>{x("update:selectedYears",[...e.years])},D=()=>{x("update:selectedYears",[])},P=f=>{const b=f.target.value===""?null:parseInt(f.target.value);x("update:selectedMonth",b)};return(f,b)=>(d(),l("div",ua,[t("div",ya,[t("div",null,[b[1]||(b[1]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," \u0627\u0644\u0633\u0646\u0629 (\u0648\u0627\u062D\u062F\u0629) ",-1)),t("select",{value:i.selectedYear,onChange:s,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},[b[0]||(b[0]=t("option",{value:null},"\u062C\u0645\u064A\u0639 \u0627\u0644\u0633\u0646\u0648\u0627\u062A",-1)),(d(!0),l(_,null,C(i.years,h=>(d(),l("option",{key:h,value:h},r(h),9,pa))),128))],40,ma)]),t("div",null,[t("div",{class:"flex justify-between items-center mb-2"},[b[2]||(b[2]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," \u0627\u0644\u0633\u0646\u0648\u0627\u062A (\u0645\u062A\u0639\u062F\u062F\u0629) ",-1)),t("div",{class:"flex gap-2"},[t("button",{onClick:N,class:"text-xs text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300"}," \u062A\u062D\u062F\u064A\u062F \u0627\u0644\u0643\u0644 "),t("button",{onClick:D,class:"text-xs text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300"}," \u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u0643\u0644 ")])]),t("div",fa,[t("div",ha,[(d(!0),l(_,null,C(i.years,h=>(d(),l("label",{key:h,class:"inline-flex items-center px-2 py-1 rounded cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600"},[t("input",{type:"checkbox",checked:i.selectedYears.includes(h),onChange:T=>n(h,T.target.checked),class:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700"},null,40,va),t("span",ka,r(h),1)]))),128))])])]),t("div",null,[b[3]||(b[3]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," \u0627\u0644\u0634\u0647\u0631 ",-1)),t("select",{value:i.selectedMonth,onChange:P,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},[(d(),l(_,null,C(c,h=>t("option",{key:h.value,value:h.value},r(h.label),9,_a)),64))],40,ba)])])]))}},$a={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},Ca={class:"p-6"},Pa={class:"overflow-x-auto"},Da={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Ma={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Na={key:0},ja={class:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100"},Va={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100 font-mono"},Ta={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Ba={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},za={key:0,class:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},Ea={class:"flex justify-between items-center"},Ia={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},Ya={class:"flex justify-between items-center mt-2"},Ua={__name:"CustomDifferenceTable",props:{cars:{type:Array,default:()=>[]},totalDifference:{type:Number,default:0}},setup(i){return(o,e)=>(d(),l("div",$a,[t("div",Ca,[e[4]||(e[4]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0630\u0627\u062A \u0627\u0644\u0641\u0631\u0642 \u0641\u064A \u0627\u0644\u062C\u0645\u0631\u0643 ",-1)),t("div",Pa,[t("table",Da,[e[1]||(e[1]=t("thead",{class:"bg-gray-50 dark:bg-gray-900"},[t("tr",null,[t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0631\u0642\u0645 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," VIN "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u062C\u0645\u0631\u0643 \u0627\u0644\u0634\u0631\u0627\u0621 (\u062F\u064A\u0646\u0627\u0631) "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u062C\u0645\u0631\u0643 \u0627\u0644\u0628\u064A\u0639 (\u062F\u064A\u0646\u0627\u0631) "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0641\u0631\u0642 ")])],-1)),t("tbody",Ma,[i.cars.length===0?(d(),l("tr",Na,[...e[0]||(e[0]=[t("td",{colspan:"5",class:"px-4 py-4 text-center text-sm text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u0633\u064A\u0627\u0631\u0627\u062A \u0628\u0647\u0627 \u0641\u0631\u0642 \u0641\u064A \u0627\u0644\u062C\u0645\u0631\u0643 ",-1)])])):p("",!0),(d(!0),l(_,null,C(i.cars,(x,c)=>(d(),l("tr",{key:c,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",ja,r(x.car_number||"-"),1),t("td",Va,r(x.vin||"-"),1),t("td",Ta,r(g(y)(x.dinar||0)),1),t("td",Ba,r(g(y)(x.dinar_s||0)),1),t("td",{class:$(["px-4 py-3 whitespace-nowrap text-sm font-semibold",(x.difference||0)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},r(g(y)(x.difference||0)),3)]))),128))])])]),i.cars.length>0?(d(),l("div",za,[t("div",Ea,[e[2]||(e[2]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"}," \u0639\u062F\u062F \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A: ",-1)),t("span",Ia,r(i.cars.length),1)]),t("div",Ya,[e[3]||(e[3]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"}," \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0641\u0631\u0642: ",-1)),t("span",{class:$(["text-sm font-semibold",i.totalDifference>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},r(g(y)(i.totalDifference)),3)])])):p("",!0)])]))}},Aa={class:"overflow-x-auto"},Oa={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},La={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Ra={key:0},Sa={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Fa={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Ha={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},qa={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Ga={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Ja={__name:"TradersProfitTable",props:{traders:{type:Array,default:()=>[]}},setup(i){return(o,e)=>(d(),l("div",Aa,[t("table",Oa,[e[1]||(e[1]=t("thead",{class:"bg-gray-50 dark:bg-gray-900"},[t("tr",null,[t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0633\u0645 \u0627\u0644\u062A\u0627\u062C\u0631 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0647\u0627\u062A\u0641 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0639\u062F\u062F \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0631\u0628\u062D ")])],-1)),t("tbody",La,[i.traders.length===0?(d(),l("tr",Ra,[...e[0]||(e[0]=[t("td",{colspan:"6",class:"px-4 py-4 text-center text-sm text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A ",-1)])])):p("",!0),(d(!0),l(_,null,C(i.traders,(x,c)=>(d(),l("tr",{key:c,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",Sa,r(x.trader_name||"-"),1),t("td",Fa,r(x.trader_phone||"-"),1),t("td",Ha,r(x.cars_count||0),1),t("td",qa,r(g(y)(x.total_purchases||0)),1),t("td",Ga,r(g(y)(x.total_sales||0)),1),t("td",{class:$(["px-4 py-3 whitespace-nowrap text-sm font-semibold",(x.total_profit||0)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},r(g(y)(x.total_profit||0)),3)]))),128))])])]))}},Ka={class:"py-12"},Qa={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Wa={class:"mb-6"},Xa={class:"mb-4 flex justify-end gap-4"},Za=["disabled"],tr={key:0},er={key:1},sr=["disabled"],ar={key:0},rr={key:1},dr=["disabled"],or={key:0},lr={key:1},nr=["disabled"],ir={key:0},xr={key:1},cr={key:0,class:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg shadow"},gr={key:1},ur={class:"mb-6 border-b border-gray-200 dark:border-gray-700"},yr={class:"-mb-px flex space-x-8","aria-label":"Tabs"},mr={class:"space-y-6"},pr={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},fr={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},hr={class:"p-6"},vr={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},kr={class:"p-6"},br={key:0},_r={key:1},wr={class:"space-y-6"},$r={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-4"},Cr={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Pr={class:"flex items-end"},Dr=["disabled"],Mr={key:0},Nr={key:1},jr={key:0},Vr={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},Tr={class:"p-6"},Br={class:"space-y-6"},zr={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},Er={class:"p-6"},Ir={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},Yr={class:"p-6"},Ur={class:"space-y-6"},Ar={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},Or={class:"p-6"},Lr={class:"space-y-6"},Rr={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},Sr={class:"p-6"},Fr={class:"space-y-6"},Hr={class:"space-y-6"},qr={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},Gr={class:"p-6"},Jr={key:0,class:"text-center py-8"},Kr={key:1,class:"text-center py-8 text-gray-500 dark:text-gray-400"},Qr={key:2,class:"overflow-x-auto"},Wr={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Xr={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Zr={class:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100"},td={class:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100"},ed={class:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100 font-mono"},sd={class:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100"},ad={class:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100"},rd={class:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100"},dd={class:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100"},od={class:"bg-gray-50 dark:bg-gray-900"},ld={class:"px-4 py-3 text-sm font-semibold text-gray-900 dark:text-gray-100"},nd={key:0,class:"space-y-4"},id={class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg"},xd={class:"grid grid-cols-2 gap-4"},cd={class:"font-bold ml-2"},gd={class:"font-bold ml-2 text-red-600"},ud={key:0,class:"overflow-x-auto"},yd={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},md={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},pd={class:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100"},fd={class:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100"},hd={class:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100"},vd={class:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100"},kd={class:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100"},bd={class:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100"},_d={class:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100"},wd={class:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100"},$d={class:"list-disc list-inside text-xs"},Cd={key:1,class:"text-center py-8 text-gray-500 dark:text-gray-400"},Pd={key:1,class:"text-center py-8"},Dd={class:"flex justify-end"},zd={__name:"Index",setup(i){const o=w({}),e=w(!1),x=w(new Date().getFullYear()),c=w([]),s=w(null),n=w("overview"),N=w([]),D=w([]),P=w(!1),f=w(!1),b=w(null),h=w(null),T=w(!1),O=w(!1),L=w(!1),R=w(!1),E=w(null),S=w(!1),tt=q(()=>{const u=new Date().getFullYear(),a=[];for(let v=0;v<10;v++){const k=u-v;k>=2023&&a.push(k)}return a}),H=async()=>{e.value=!0;try{const u={};x.value&&(u.year=x.value),c.value&&c.value.length>0&&(u.years=c.value),s.value!==null&&s.value!==void 0&&s.value!==""&&(u.month=s.value),console.log("Fetching statistics with params:",u);const a=await I.get("/api/statistics",{params:u});console.log("Statistics API Response:",a.data),o.value=a.data}catch(u){console.error("Error fetching statistics:",u),console.error("Error response:",u.response),console.error("Error message:",u.message)}finally{e.value=!1}};ct(()=>{H()}),W([x,c,s],()=>{H()});const et=async()=>{f.value=!0;try{const u={};x.value&&(u.year=x.value),c.value&&c.value.length>0&&(u.years=c.value),s.value!==null&&s.value!==void 0&&s.value!==""&&(u.month=s.value);const a=await I.post("/api/statistics/recalculate-profit",u);alert(`\u062A\u0645 \u062A\u062D\u062F\u064A\u062B ${a.data.updated_cars} \u0633\u064A\u0627\u0631\u0629 \u0645\u0646 ${a.data.total_cars} \u0633\u064A\u0627\u0631\u0629`),await H()}catch(u){console.error("Error recalculating profit:",u),alert("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0639\u0627\u062F\u0629 \u062D\u0633\u0627\u0628 \u0627\u0644\u0631\u0628\u062D")}finally{f.value=!1}},st=async()=>{try{const u={};x.value&&(u.year=x.value),c.value&&c.value.length>0&&(u.years=c.value),s.value!==null&&s.value!==void 0&&s.value!==""&&(u.month=s.value);const a=await I.get("/api/statistics/traders-profit",{params:u});N.value=a.data.traders||[]}catch(u){console.error("Error fetching traders profit:",u),N.value=[]}};W([n],()=>{n.value==="traders"?st():n.value==="deleted-cars"&&at()});const at=async()=>{P.value=!0;try{const u={};x.value&&(u.year=x.value),c.value&&c.value.length>0&&(u.years=c.value),s.value!==null&&s.value!==void 0&&s.value!==""&&(u.month=s.value);const a=await I.get("/api/statistics/deleted-cars",{params:u});a.data.success?D.value=a.data.deleted_cars||[]:(console.error("Error fetching deleted cars:",a.data.message),D.value=[])}catch(u){console.error("Error fetching deleted cars:",u),D.value=[]}finally{P.value=!1}},rt=async()=>{T.value=!0;try{const u={};b.value&&(u.from=b.value),h.value&&(u.to=h.value),x.value&&(u.year=x.value),c.value&&c.value.length>0&&(u.years=c.value),s.value!==null&&s.value!==void 0&&s.value!==""&&(u.month=s.value);const a=await I.get("/api/statistics/export-transfers-excel",{params:u,responseType:"blob"}),v=window.URL.createObjectURL(new Blob([a.data])),k=document.createElement("a");k.href=v;const j=a.headers["content-disposition"];let V="\u0627\u0644\u062D\u0648\u0644\u0627\u062A.xlsx";if(j){const M=j.match(/filename="?(.+)"?/i);M&&M[1]&&(V=M[1])}k.setAttribute("download",V),document.body.appendChild(k),k.click(),k.remove(),window.URL.revokeObjectURL(v)}catch(u){console.error("Error exporting transfers:",u),alert("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u0635\u062F\u064A\u0631 \u0627\u0644\u062D\u0648\u0644\u0627\u062A")}finally{T.value=!1}},dt=async()=>{O.value=!0;try{const u={};x.value&&(u.year=x.value),c.value&&c.value.length>0&&(u.years=c.value),s.value!==null&&s.value!==void 0&&s.value!==""&&(u.month=s.value);const a=await I.get("/api/statistics/export-excel",{params:u,responseType:"blob"}),v=window.URL.createObjectURL(new Blob([a.data])),k=document.createElement("a");k.href=v;const j=a.headers["content-disposition"];let V="\u0627\u0644\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A_\u0627\u0644\u0639\u0627\u0645\u0629.xlsx";if(j){const M=j.match(/filename="?(.+)"?/i);M&&M[1]&&(V=decodeURIComponent(M[1]))}k.setAttribute("download",V),document.body.appendChild(k),k.click(),k.remove(),window.URL.revokeObjectURL(v)}catch(u){console.error("Error exporting statistics:",u),alert("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u0635\u062F\u064A\u0631 \u0627\u0644\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A")}finally{O.value=!1}},ot=async()=>{L.value=!0;try{const u={};x.value&&(u.year=x.value),c.value&&c.value.length>0&&(u.years=c.value),s.value!==null&&s.value!==void 0&&s.value!==""&&(u.month=s.value);const a=await I.get("/api/statistics/export-payments-excel",{params:u,responseType:"blob"}),v=window.URL.createObjectURL(new Blob([a.data])),k=document.createElement("a");k.href=v;const j=a.headers["content-disposition"];let V="\u062F\u0641\u0639\u0627\u062A_\u0627\u0644\u062A\u062C\u0627\u0631.xlsx";if(j){const M=j.match(/filename="?(.+)"?/i);M&&M[1]&&(V=decodeURIComponent(M[1]))}k.setAttribute("download",V),document.body.appendChild(k),k.click(),k.remove(),window.URL.revokeObjectURL(v)}catch(u){console.error("Error exporting payments:",u),alert("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u0635\u062F\u064A\u0631 \u062F\u0641\u0639\u0627\u062A \u0627\u0644\u062A\u062C\u0627\u0631")}finally{L.value=!1}},lt=async()=>{var u,a;R.value=!0,E.value=null;try{const v=await I.get("/api/statistics/check-traders-payments");v.data.success?(E.value=v.data,S.value=!0):alert("\u062D\u062F\u062B \u062E\u0637\u0623: "+(v.data.message||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"))}catch(v){console.error("Error checking traders payments:",v),alert("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0641\u062D\u0635 \u062F\u0641\u0639\u0627\u062A \u0627\u0644\u062A\u062C\u0627\u0631: "+(((a=(u=v.response)==null?void 0:u.data)==null?void 0:a.message)||v.message))}finally{R.value=!1}};return(u,a)=>(d(),l(_,null,[B(g(gt),{title:"\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A Dashboard"}),B(ut,null,{header:A(()=>[...a[14]||(a[14]=[t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," \u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A Dashboard ",-1)])]),default:A(()=>{var v,k,j,V,M,G,J,K,Q;return[t("div",Ka,[t("div",Qa,[t("div",Wa,[B(wa,{"selected-year":x.value,"selected-years":c.value,"selected-month":s.value,years:tt.value,"onUpdate:selectedYear":a[0]||(a[0]=m=>x.value=m),"onUpdate:selectedYears":a[1]||(a[1]=m=>c.value=m),"onUpdate:selectedMonth":a[2]||(a[2]=m=>s.value=m)},null,8,["selected-year","selected-years","selected-month","years"])]),t("div",Xa,[n.value==="overview"?(d(),l("button",{key:0,onClick:dt,disabled:O.value,class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50 disabled:cursor-not-allowed"},[O.value?(d(),l("span",tr,"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u0635\u062F\u064A\u0631...")):(d(),l("span",er,"\u062A\u0635\u062F\u064A\u0631 Excel"))],8,Za)):p("",!0),n.value==="payments"?(d(),l("button",{key:1,onClick:ot,disabled:L.value,class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50 disabled:cursor-not-allowed"},[L.value?(d(),l("span",ar,"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u0635\u062F\u064A\u0631...")):(d(),l("span",rr,"\u062A\u0635\u062F\u064A\u0631 Excel"))],8,sr)):p("",!0),t("button",{onClick:et,disabled:f.value,class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50 disabled:cursor-not-allowed"},[f.value?(d(),l("span",or,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0633\u0627\u0628...")):(d(),l("span",lr,"\u0625\u0639\u0627\u062F\u0629 \u062D\u0633\u0627\u0628 \u0627\u0644\u0631\u0628\u062D"))],8,dr),t("button",{onClick:lt,disabled:R.value,class:"bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50 disabled:cursor-not-allowed"},[R.value?(d(),l("span",ir,"\u062C\u0627\u0631\u064A \u0627\u0644\u0641\u062D\u0635...")):(d(),l("span",xr,"\u0641\u062D\u0635 \u062F\u0641\u0639\u0627\u062A \u0627\u0644\u062A\u062C\u0627\u0631"))],8,nr)]),e.value?(d(),l("div",cr,[...a[15]||(a[15]=[t("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 dark:border-gray-100"},null,-1),t("p",{class:"mt-4 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...",-1)])])):(d(),l("div",gr,[t("div",ur,[t("nav",yr,[t("button",{onClick:a[3]||(a[3]=m=>n.value="overview"),class:$([n.value==="overview"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," \u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 ",2),t("button",{onClick:a[4]||(a[4]=m=>n.value="transfers"),class:$([n.value==="transfers"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," \u0627\u0644\u062D\u0648\u0644\u0627\u062A ",2),t("button",{onClick:a[5]||(a[5]=m=>n.value="profits"),class:$([n.value==="profits"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," \u0627\u0644\u0623\u0631\u0628\u0627\u062D ",2),t("button",{onClick:a[6]||(a[6]=m=>n.value="discounts"),class:$([n.value==="discounts"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A ",2),t("button",{onClick:a[7]||(a[7]=m=>n.value="traders"),class:$([n.value==="traders"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," \u0623\u0631\u0628\u0627\u062D \u0627\u0644\u062A\u062C\u0627\u0631 ",2),t("button",{onClick:a[8]||(a[8]=m=>n.value="payments"),class:$([n.value==="payments"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," \u062F\u0641\u0639\u0627\u062A \u0627\u0644\u062A\u062C\u0627\u0631 ",2),t("button",{onClick:a[9]||(a[9]=m=>n.value="deleted-cars"),class:$([n.value==="deleted-cars"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u062D\u0630\u0648\u0641\u0629 ",2)])]),z(t("div",mr,[B(ne,{"cars-count":o.value.cars_count||0,"total-customs":o.value.total_customs||0,"exchange-profit":o.value.exchange_profit||0,"net-profit":o.value.net_profit||0,"net-transfers":o.value.net_transfers||0,"total-sales":o.value.total_sales||0,"total-purchases":o.value.total_purchases||0,"sales-purchase-difference":o.value.sales_purchase_difference||0,"traders-debt":o.value.traders_debt||0,"traders-payments":o.value.traders_payments||0,"total-payments-and-debt":o.value.total_payments_and_debt||0,"sales-vs-payments-difference":o.value.sales_vs_payments_difference||0},null,8,["cars-count","total-customs","exchange-profit","net-profit","net-transfers","total-sales","total-purchases","sales-purchase-difference","traders-debt","traders-payments","total-payments-and-debt","sales-vs-payments-difference"]),t("div",pr,[t("div",fr,[t("div",hr,[a[16]||(a[16]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0627\u0644\u0623\u0631\u0628\u0627\u062D \u0627\u0644\u0634\u0647\u0631\u064A\u0629 ",-1)),o.value.monthly_profits&&o.value.month_labels?(d(),U($e,{key:0,labels:o.value.month_labels,"monthly-profit":o.value.monthly_profits,"yearly-profit":o.value.yearly_profit||0},null,8,["labels","monthly-profit","yearly-profit"])):p("",!0)])]),t("div",vr,[t("div",kr,[a[17]||(a[17]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0627\u0644\u062A\u062F\u0641\u0642\u0627\u062A \u0627\u0644\u0646\u0642\u062F\u064A\u0629 \u0627\u0644\u0634\u0647\u0631\u064A\u0629 ",-1)),o.value.cash_flow_chart?(d(),U(ta,{key:0,labels:o.value.cash_flow_chart.labels||[],"cash-in-data":o.value.cash_flow_chart.cash_in_data||[],"cash-out-data":o.value.cash_flow_chart.cash_out_data||[]},null,8,["labels","cash-in-data","cash-out-data"])):p("",!0)])])]),o.value.year_closing?(d(),l("div",br,[B(ga,{year:o.value.year_closing.year,"total-income":o.value.year_closing.total_income||0,"total-expenses":o.value.year_closing.total_expenses||0,"total-discounts":o.value.year_closing.total_discounts||0,"net-year-profit":o.value.year_closing.net_year_profit||0,"carried-profit":o.value.year_closing.carried_profit||0,"is-closed":o.value.year_closing.is_closed||!1},null,8,["year","total-income","total-expenses","total-discounts","net-year-profit","carried-profit","is-closed"])])):p("",!0),o.value.custom&&o.value.custom.cars_with_difference&&o.value.custom.cars_with_difference.length>0?(d(),l("div",_r,[B(Ua,{cars:o.value.custom.cars_with_difference||[],"total-difference":o.value.custom.difference||0},null,8,["cars","total-difference"])])):p("",!0)],512),[[Y,n.value==="overview"]]),z(t("div",wr,[t("div",$r,[t("div",Cr,[t("div",null,[a[18]||(a[18]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," \u0645\u0646 \u062A\u0627\u0631\u064A\u062E ",-1)),z(t("input",{type:"date","onUpdate:modelValue":a[10]||(a[10]=m=>b.value=m),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[X,b.value]])]),t("div",null,[a[19]||(a[19]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," \u0625\u0644\u0649 \u062A\u0627\u0631\u064A\u062E ",-1)),z(t("input",{type:"date","onUpdate:modelValue":a[11]||(a[11]=m=>h.value=m),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[X,h.value]])]),t("div",Pr,[t("button",{onClick:rt,disabled:T.value,class:"w-full bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50 disabled:cursor-not-allowed"},[T.value?(d(),l("span",Mr,"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u0635\u062F\u064A\u0631...")):(d(),l("span",Nr,"\u062A\u0635\u062F\u064A\u0631 Excel"))],8,Dr)])])]),o.value.transfers_summary?(d(),l("div",jr,[a[20]||(a[20]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0645\u0644\u062E\u0635 \u0627\u0644\u062D\u0648\u0644\u0627\u062A ",-1)),B(vs,{"gross-transfers":o.value.transfers_summary.gross_transfers||0,"transfer-fees":o.value.transfers_summary.transfer_fees||0,"net-transfers":o.value.transfers_summary.net_transfers||0,"erbil-transfers":o.value.transfers_summary.erbil_transfers||0},null,8,["gross-transfers","transfer-fees","net-transfers","erbil-transfers"])])):p("",!0),t("div",Vr,[t("div",Tr,[a[21]||(a[21]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062D\u0648\u0644\u0627\u062A ",-1)),o.value.transfers_summary&&o.value.transfers_summary.details?(d(),U(Ss,{key:0,transfers:o.value.transfers_summary.details},null,8,["transfers"])):p("",!0)])])],512),[[Y,n.value==="transfers"]]),z(t("div",Br,[t("div",zr,[t("div",Er,[a[22]||(a[22]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0623\u0639\u0644\u0649 10 \u0633\u064A\u0627\u0631\u0627\u062A \u0631\u0628\u062D\u0627\u064B ",-1)),o.value.cars_with_profit?(d(),U(Z,{key:0,cars:o.value.cars_with_profit,"max-profit":((v=o.value.profit_stats)==null?void 0:v.max)||0,"min-profit":((k=o.value.profit_stats)==null?void 0:k.min)||0,"avg-profit":((j=o.value.profit_stats)==null?void 0:j.avg)||0},null,8,["cars","max-profit","min-profit","avg-profit"])):p("",!0)])]),t("div",Ir,[t("div",Yr,[a[23]||(a[23]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0623\u0642\u0644 10 \u0633\u064A\u0627\u0631\u0627\u062A \u0631\u0628\u062D\u0627\u064B ",-1)),o.value.cars_with_lowest_profit?(d(),U(Z,{key:0,cars:o.value.cars_with_lowest_profit,"max-profit":((V=o.value.profit_stats)==null?void 0:V.max)||0,"min-profit":((M=o.value.profit_stats)==null?void 0:M.min)||0,"avg-profit":((G=o.value.profit_stats)==null?void 0:G.avg)||0},null,8,["cars","max-profit","min-profit","avg-profit"])):p("",!0)])])],512),[[Y,n.value==="profits"]]),z(t("div",Ur,[t("div",Ar,[t("div",Or,[a[24]||(a[24]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0633\u062C\u0644 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A ",-1)),o.value.discount_records?(d(),U(Le,{key:0,discounts:o.value.discount_records,"total-discounts":((J=o.value.discount_stats)==null?void 0:J.total)||0,"max-discount":((K=o.value.discount_stats)==null?void 0:K.max)||0,"min-discount":((Q=o.value.discount_stats)==null?void 0:Q.min)||0},null,8,["discounts","total-discounts","max-discount","min-discount"])):p("",!0)])])],512),[[Y,n.value==="discounts"]]),z(t("div",Lr,[t("div",Rr,[t("div",Sr,[a[25]||(a[25]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0631\u0628\u062D \u0645\u0646 \u0643\u0644 \u062A\u0627\u062C\u0631 ",-1)),B(Ja,{traders:N.value},null,8,["traders"])])])],512),[[Y,n.value==="traders"]]),z(t("div",Fr,[...a[26]||(a[26]=[t("div",{class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},[t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u062F\u0641\u0639\u0627\u062A \u0627\u0644\u062A\u062C\u0627\u0631 "),t("div",{class:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg"},[t("p",{class:"text-sm text-gray-700 dark:text-gray-300"},[t("strong",null,"\u0645\u0644\u0627\u062D\u0638\u0629:"),F(' \u064A\u0645\u0643\u0646\u0643 \u062A\u0635\u062F\u064A\u0631 \u062C\u0645\u064A\u0639 \u062F\u0641\u0639\u0627\u062A \u0627\u0644\u062A\u062C\u0627\u0631 \u0625\u0644\u0649 \u0645\u0644\u0641 Excel \u0628\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0632\u0631 "\u062A\u0635\u062F\u064A\u0631 Excel" \u0623\u0639\u0644\u0627\u0647. ')]),t("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-2"}," \u0627\u0644\u062F\u0641\u0639\u0627\u062A \u062A\u0634\u0645\u0644 \u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062A \u0645\u0646 \u0646\u0648\u0639 'out' \u0645\u0639 is_pay = 1 \u0648 amount < 0 ")])],-1)])],512),[[Y,n.value==="payments"]]),z(t("div",Hr,[t("div",qr,[t("div",Gr,[a[30]||(a[30]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u062D\u0630\u0648\u0641\u0629 ",-1)),P.value?(d(),l("div",Jr,[...a[27]||(a[27]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 dark:border-gray-100"},null,-1),t("p",{class:"mt-4 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...",-1)])])):D.value.length===0?(d(),l("div",Kr," \u0644\u0627 \u062A\u0648\u062C\u062F \u0633\u064A\u0627\u0631\u0627\u062A \u0645\u062D\u0630\u0648\u0641\u0629 ")):(d(),l("div",Qr,[t("table",Wr,[a[29]||(a[29]=t("thead",{class:"bg-gray-50 dark:bg-gray-900"},[t("tr",null,[t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"ID"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"\u0631\u0642\u0645 \u0627\u0644\u0633\u064A\u0627\u0631\u0629"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"VIN"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"\u0646\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0629"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"\u0627\u0633\u0645 \u0627\u0644\u062A\u0627\u062C\u0631"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"\u0639\u062F\u062F \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062A"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062D\u0630\u0641")])],-1)),t("tbody",Xr,[(d(!0),l(_,null,C(D.value,m=>(d(),l("tr",{key:m.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",Zr,r(m.id),1),t("td",td,r(m.car_number||"-"),1),t("td",ed,r(m.vin||"-"),1),t("td",sd,r(m.car_type||"-"),1),t("td",ad,r(m.client_name||"-"),1),t("td",rd,r(m.transactions_count||0),1),t("td",dd,r(m.deleted_at||"-"),1)]))),128))]),t("tfoot",od,[t("tr",null,[a[28]||(a[28]=t("td",{colspan:"6",class:"px-4 py-3 text-sm font-semibold text-gray-900 dark:text-gray-100 text-right"}," \u0627\u0644\u0645\u062C\u0645\u0648\u0639: ",-1)),t("td",ld,r(D.value.length)+" \u0633\u064A\u0627\u0631\u0629 ",1)])])])]))])])],512),[[Y,n.value==="deleted-cars"]])]))])]),B(yt,{show:S.value,onClose:a[13]||(a[13]=m=>S.value=!1)},{header:A(()=>[...a[31]||(a[31]=[t("h2",{class:"text-xl font-bold dark:text-gray-100"},"\u0646\u062A\u0627\u0626\u062C \u0641\u062D\u0635 \u062F\u0641\u0639\u0627\u062A \u0627\u0644\u062A\u062C\u0627\u0631",-1)])]),body:A(()=>[E.value?(d(),l("div",nd,[t("div",id,[a[34]||(a[34]=t("h3",{class:"font-semibold text-lg mb-2"},"\u0645\u0644\u062E\u0635 \u0627\u0644\u0641\u062D\u0635",-1)),t("div",xd,[t("div",null,[a[32]||(a[32]=t("span",{class:"text-gray-600 dark:text-gray-400"},"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u062A\u062C\u0627\u0631:",-1)),t("span",cd,r(E.value.total_traders||0),1)]),t("div",null,[a[33]||(a[33]=t("span",{class:"text-gray-600 dark:text-gray-400"},"\u0639\u062F\u062F \u0627\u0644\u062A\u062C\u0627\u0631 \u0627\u0644\u0630\u064A\u0646 \u0644\u062F\u064A\u0647\u0645 \u0645\u0634\u0627\u0643\u0644:",-1)),t("span",gd,r(E.value.traders_with_issues||0),1)])])]),E.value.results&&E.value.results.length>0?(d(),l("div",ud,[a[36]||(a[36]=t("h3",{class:"font-semibold text-lg mb-2"},"\u0627\u0644\u062A\u062C\u0627\u0631 \u0627\u0644\u0630\u064A\u0646 \u0644\u062F\u064A\u0647\u0645 \u0645\u0634\u0627\u0643\u0644",-1)),t("table",yd,[a[35]||(a[35]=t("thead",{class:"bg-gray-50 dark:bg-gray-900"},[t("tr",null,[t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"ID"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"\u0627\u0633\u0645 \u0627\u0644\u062A\u0627\u062C\u0631"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"\u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"\u0627\u0644\u0645\u062F\u0641\u0648\u0639"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"\u0627\u0644\u062E\u0635\u0645"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"\u0627\u0644\u062F\u0641\u0639\u0627\u062A \u0627\u0644\u0641\u0639\u0644\u064A\u0629"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"\u0627\u0644\u062F\u064A\u0646"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"\u0627\u0644\u0641\u0631\u0642"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"\u0627\u0644\u0645\u0634\u0627\u0643\u0644")])],-1)),t("tbody",md,[(d(!0),l(_,null,C(E.value.results.filter(m=>m.has_issues||m.paid_deleted_cars_count>0||m.fully_paid_deleted_cars_count>0),m=>(d(),l("tr",{key:m.client_id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",pd,r(m.client_id),1),t("td",fd,r(m.client_name),1),t("td",hd,r(g(y)(m.cars_sum)),1),t("td",vd,r(g(y)(m.cars_paid)),1),t("td",kd,r(g(y)(m.cars_discount)),1),t("td",bd,r(g(y)(m.actual_payments)),1),t("td",_d,r(g(y)(m.current_debt)),1),t("td",{class:$(["px-4 py-3 text-sm font-semibold",m.difference>=0?"text-green-600":"text-red-600"])},r(g(y)(m.difference)),3),t("td",wd,[t("ul",$d,[(d(!0),l(_,null,C(m.issues,(nt,it)=>(d(),l("li",{key:it},r(nt),1))),128))])])]))),128))])])])):(d(),l("div",Cd," \u2713 \u0644\u0627 \u062A\u0648\u062C\u062F \u0645\u0634\u0627\u0643\u0644 \u0641\u064A \u062F\u0641\u0639\u0627\u062A \u0627\u0644\u062A\u062C\u0627\u0631! "))])):(d(),l("div",Pd,[...a[37]||(a[37]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 dark:border-gray-100"},null,-1)])]))]),footer:A(()=>[t("div",Dd,[t("button",{onClick:a[12]||(a[12]=m=>S.value=!1),class:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded"}," \u0625\u063A\u0644\u0627\u0642 ")])]),_:1},8,["show"])]}),_:1})],64))}};export{zd as default};
