import{r as a,o as p,c as te,w as b,a as c,b as s,d as oe,e as M,v as S,i as w,T as ae,u as le,g as n,j as r,F,H as ne,k as f,t as N,l as re,h as de,n as ie,f as ue}from"./app.b466fafa.js";import{_ as pe}from"./AuthenticatedLayout.be69eb97.js";/* empty css                                              */import{M as me,_ as j,a as ce,b as ve}from"./ModalDel.c0e41521.js";import{_ as h}from"./InputLabel.a2a87273.js";import{_ as C}from"./TextInput.f4c94b1f.js";/* empty css                                                            */import{a as x}from"./index.87208563.js";import{W as be}from"./v3-infinite-loading.es.bf1a09d3.js";import{d as fe}from"./debounce.58f7417f.js";import{f as ge}from"./datetime.47733478.js";const ye={key:0,class:"modal-mask"},he={class:"modal-wrapper max-h-[80vh]"},xe={class:"modal-container"},we={class:"modal-header"},_e={class:"modal-body"},$e={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-2 gap-3 lg:gap-3"},ke={className:"mb-4 mx-5"},De={className:"mb-4 mx-5"},Ae={className:"mb-4 mx-5"},Ne={className:"mb-4 mx-5"},Ce={class:"modal-footer my-2"},Ue={class:"flex flex-row"},Te={class:"basis-1/2 px-4"},Ve={class:"basis-1/2 px-4"},q={__name:"ModalAddExpensesWallet",props:{show:Boolean,boxes:Array,sum_transactions:Intl,sum_transactions_dinar:Intl},setup(v){const d=v,i=a({id:d.boxes.id,date:T()});function T(){const m=new Date,l=m.getFullYear(),u=String(m.getMonth()+1).padStart(2,"0"),y=String(m.getDate()).padStart(2,"0");return`${l}-${u}-${y}`}const g=()=>{i.value={id:d.boxes.id,date:T()}};return(m,l)=>(p(),te(ae,{name:"modal"},{default:b(()=>[v.show?(p(),c("div",ye,[s("div",he,[s("div",xe,[s("div",we,[oe(m.$slots,"header")]),s("div",_e,[s("div",$e,[s("div",ke,[l[6]||(l[6]=s("label",{for:"amountDollar"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1)),M(s("input",{id:"amountDollar",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":l[0]||(l[0]=u=>i.value.amountDollar=u)},null,512),[[S,i.value.amountDollar]])]),s("div",De,[l[7]||(l[7]=s("label",{for:"amountDinar"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0639\u0631\u0627\u0642\u064A",-1)),M(s("input",{id:"amountDinar",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":l[1]||(l[1]=u=>i.value.amountDinar=u)},null,512),[[S,i.value.amountDinar]])]),s("div",Ae,[l[8]||(l[8]=s("label",{for:"note"},"\u0645\u0644\u0627\u062D\u0638\u0629",-1)),M(s("input",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":l[2]||(l[2]=u=>i.value.note=u)},null,512),[[S,i.value.note]])]),s("div",Ne,[l[9]||(l[9]=s("label",{for:"card"},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E",-1)),M(s("input",{id:"card",type:"date",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":l[3]||(l[3]=u=>i.value.date=u)},null,512),[[S,i.value.date]])])])]),s("div",Ce,[s("div",Ue,[s("div",Te,[s("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:l[4]||(l[4]=u=>{m.$emit("close")})},"\u062A\u0631\u0627\u062C\u0639")]),s("div",Ve,[s("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:l[5]||(l[5]=u=>{m.$emit("a",i.value),g()})},"\u0646\u0639\u0645")])])])])])])):w("",!0)]),_:3}))}};const Me={key:0},Se={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},Be={class:"ml-3 font-medium text-red-700 dark:text-red-800"},Ie={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},Ee={class:"overflow-hidden shadow-sm sm:rounded-lg"},We={class:"border-b border-gray-200"},Oe={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-9 gap-3 lg:gap-3"},Fe={class:"pt-5 print:hidden"},je={class:"pt-5 print:hidden"},qe={class:"pt-5 print:hidden"},He={class:"pt-5 print:hidden"},Le={class:"px-4"},Re={class:"px-4"},ze={className:" mr-5 print:hidden"},Ye={key:0},Ge={key:1},Je={className:" mr-5 print:hidden"},Ke=["href"],Pe={key:0},Qe={key:1};const Xe={class:"grid grid-cols-2 md:grid-cols-5 lg:grid-cols-6 gap-3 lg:gap-3"},Ze={class:"px-4"},es={class:"px-4"},ss={class:"px-4"},ts={class:"px-4"},os={class:"overflow-x-auto shadow-md mt-5"},as={class:"w-full text-right text-gray-500 dark:text-gray-400 text-center"},ls={className:"border dark:border-gray-800 text-center px-2 py-1"},ns={key:0,class:"text-xs text-blue-600 dark:text-blue-300 font-bold"},rs={className:"border dark:border-gray-800 text-center px-2 py-1"},ds={className:"border dark:border-gray-800 text-center px-2 py-1"},is={className:"border dark:border-gray-800 text-center px-2 py-1"},us={className:"border dark:border-gray-800 text-center px-2 py-1"},ps={class:"spaner"},Ds={__name:"Wallet",props:{url:String,boxes:Object},setup(v){const d=a({});a("");let i=a(!1),T=a(!1),g=a(!1);a(!1);let m=a(!1),l=a(!1),u=a(!1),y=a(!1),k=a(!1),V=a([]);a(0);let H=a({});a({}),a({});let W=a(!1),D=a(""),A=a("");a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0);let B=a(!1),I=1,L="";const U=()=>{I=0,V.value.length=0,B.value=!B.value};fe(U,500);const R=async o=>{try{const $=(await x.get("/getIndexAccounting",{params:{limit:1e3,page:I,q:L,user_id:E.boxes.id,from:D.value,to:A.value,type:"wallet"}})).data;$.transactions.data.length<1e3?(V.value.push(...$.transactions.data),o.complete()):(V.value.push(...$.transactions.data),o.loaded()),d.value=$,I++}catch(e){console.log(e)}};function z(){i.value=!0}function Y(){g.value=!0}function G(){y.value=!0}function J(){k.value=!0}function ms(){m.value=!0}function cs(){l.value=!0}const E=v;le(),a(!1);const _=a(0);function K(o){o.id=E.boxes.id,x.post("/api/receiptArrivedUser",o).then(e=>{i.value=!1,window.location.reload()}).catch(e=>{_.value=e.response.data.errors})}function P(o){x.post("/api/salesDebtUser",o).then(e=>{T.value=!1,g.value=!1,window.location.reload()}).catch(e=>{_.value=e.response.data.errors})}function Q(o){o.id=E.boxes.id,x.post("/api/receiptArrivedUserAmanah",o).then(e=>{y.value=!1,window.location.reload()}).catch(e=>{_.value=e.response.data.errors})}function X(o){x.post("/api/salesDebtUserAmanah",o).then(e=>{k.value=!1,window.location.reload()}).catch(e=>{_.value=e.response.data.errors})}function Z(o){x.post("/api/convertDollarDinar",o).then(e=>{U(),m.value=!1}).catch(e=>{_.value=e.response.data.errors})}function ee(o){x.post("/api/convertDinarDollar",o).then(e=>{U(),l.value=!1}).catch(e=>{_.value=e.response.data.errors})}function se(o){x.post(`/api/delTransactions?id=${o.id}`).then(e=>{U(),u.value=!1}).catch(e=>{_.value=e.response.data.errors})}return(o,e)=>(p(),c(F,null,[n(r(ne),{title:"Dashboard"}),n(pe,null,{header:b(()=>[...e[23]||(e[23]=[])]),default:b(()=>{var $,O;return[n(me,{show:!!r(u),formData:r(H),onA:e[0]||(e[0]=t=>se(t)),onClose:e[1]||(e[1]=t=>f(u)?u.value=!1:u=!1)},{header:b(()=>[...e[24]||(e[24]=[s("h2",{class:"mb-5 dark:text-white text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0644\u062D\u0630\u0641 \u061F ",-1)])]),_:1},8,["show","formData"]),n(j,{show:!!r(i),onA:e[2]||(e[2]=t=>K(t)),onClose:e[3]||(e[3]=t=>f(i)?i.value=!1:i=!1)},{header:b(()=>[...e[25]||(e[25]=[s("h3",{class:"text-center"},"\u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1)])]),_:1},8,["show"]),n(q,{show:!!r(g),boxes:v.boxes,sum_transactions:d.value.sum_transactions,sum_transactions_dinar:d.value.sum_transactions_dinar,onA:e[4]||(e[4]=t=>P(t)),onClose:e[5]||(e[5]=t=>f(g)?g.value=!1:g=!1)},{header:b(()=>[...e[26]||(e[26]=[s("h3",{class:"text-center"}," \u0633\u062D\u0628 \u0645\u0646 \u0627\u0644\u0642\u0627\u0633\u0647",-1)])]),_:1},8,["show","boxes","sum_transactions","sum_transactions_dinar"]),n(j,{show:!!r(y),onA:e[6]||(e[6]=t=>Q(t)),onClose:e[7]||(e[7]=t=>f(y)?y.value=!1:y=!1)},{header:b(()=>[...e[27]||(e[27]=[s("h3",{class:"text-center"},"\u0623\u0645\u0627\u0646\u0629 - \u0625\u064A\u062F\u0627\u0639",-1)])]),_:1},8,["show"]),n(q,{show:!!r(k),boxes:v.boxes,sum_transactions:d.value.sum_transactions,sum_transactions_dinar:d.value.sum_transactions_dinar,onA:e[8]||(e[8]=t=>X(t)),onClose:e[9]||(e[9]=t=>f(k)?k.value=!1:k=!1)},{header:b(()=>[...e[28]||(e[28]=[s("h3",{class:"text-center"},"\u0623\u0645\u0627\u0646\u0629 - \u0633\u062D\u0628",-1)])]),_:1},8,["show","boxes","sum_transactions","sum_transactions_dinar"]),n(ce,{show:!!r(m),boxes:v.boxes,onA:e[10]||(e[10]=t=>Z(t)),onClose:e[11]||(e[11]=t=>f(m)?m.value=!1:m=!1)},{header:b(()=>[...e[29]||(e[29]=[s("h3",{class:"text-center"},"\u062A\u062D\u0648\u064A\u0644 \u0645\u0646 \u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0644\u0644\u062F\u064A\u0646\u0627\u0631",-1)])]),_:1},8,["show","boxes"]),n(ve,{show:!!r(l),boxes:v.boxes,onA:e[12]||(e[12]=t=>ee(t)),onClose:e[13]||(e[13]=t=>f(l)?l.value=!1:l=!1)},{header:b(()=>[...e[30]||(e[30]=[s("h3",{class:"text-center"},"\u062A\u062D\u0648\u064A\u0644 \u0645\u0646 \u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0644\u0644\u062F\u0648\u0644\u0627\u0631",-1)])]),_:1},8,["show","boxes"]),o.$page.props.success?(p(),c("div",Me,[s("div",Se,[s("div",Be,N(o.$page.props.success),1)])])):w("",!0),s("div",null,[s("div",Ie,[s("div",Ee,[s("div",We,[s("div",Oe,[s("div",Fe,[o.$page.props.auth.user.type_id==1||o.$page.props.auth.user.type_id==2||o.$page.props.auth.user.type_id==5?(p(),c("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-green-800 rounded-md focus:outline-none",onClick:e[14]||(e[14]=t=>z())}," \u0648\u0635\u0644 \u0642\u0628\u0636 (\u0623\u0636\u0627\u0641\u0629) ")):w("",!0)]),s("div",je,[o.$page.props.auth.user.type_id==1||o.$page.props.auth.user.type_id==2||o.$page.props.auth.user.type_id==5?(p(),c("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-red-800 rounded-md focus:outline-none",onClick:e[15]||(e[15]=t=>Y())}," \u0648\u0635\u0644 \u0635\u0631\u0641 (\u0633\u062D\u0628) ")):w("",!0)]),s("div",qe,[o.$page.props.auth.user.type_id==1||o.$page.props.auth.user.type_id==2||o.$page.props.auth.user.type_id==5?(p(),c("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-green-600 rounded-md focus:outline-none border-2 border-green-300",onClick:e[16]||(e[16]=t=>G())}," \u0623\u0645\u0627\u0646\u0629 - \u0625\u064A\u062F\u0627\u0639 ")):w("",!0)]),s("div",He,[o.$page.props.auth.user.type_id==1||o.$page.props.auth.user.type_id==2||o.$page.props.auth.user.type_id==5?(p(),c("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-red-600 rounded-md focus:outline-none border-2 border-red-300",onClick:e[17]||(e[17]=t=>J())}," \u0623\u0645\u0627\u0646\u0629 - \u0633\u062D\u0628 ")):w("",!0)]),s("div",Le,[s("div",null,[n(h,{for:"from",value:"\u0645\u0646 \u062A\u0627\u0631\u064A\u062E"}),n(C,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:r(D),"onUpdate:modelValue":e[18]||(e[18]=t=>f(D)?D.value=t:D=t)},null,8,["modelValue"])])]),s("div",Re,[s("div",null,[n(h,{for:"to",value:"\u062D\u062A\u0649 \u062A\u0627\u0631\u064A\u062E"}),n(C,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:r(A),"onUpdate:modelValue":e[19]||(e[19]=t=>f(A)?A.value=t:A=t)},null,8,["modelValue"])])]),s("div",ze,[n(h,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),s("button",{onClick:e[20]||(e[20]=re(t=>U(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},[r(W)?(p(),c("span",Ge,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(p(),c("span",Ye,"\u0641\u0644\u062A\u0631\u0629"))])]),s("div",Je,[n(h,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),s("a",{class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-orange-500 rounded",style:{display:"block","text-align":"center"},href:`/getIndexAccounting?user_id=${(O=($=d.value)==null?void 0:$.user)==null?void 0:O.id}&from=${r(D)}&to=${r(A)}&print=6`,target:"_blank"},[r(W)?(p(),c("span",Qe,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(p(),c("span",Pe,"\u0637\u0628\u0627\u0639\u0629"))],8,Ke)])]),w("",!0),s("div",Xe,[s("div",Ze,[s("div",null,[n(h,{for:"to",value:`\u062D\u0633\u0627\u0628 ${v.boxes.name} \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631`},null,8,["value"]),n(C,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:d.value.sumInTransactionsUser-d.value.sumOutTransactionsUser},null,8,["value"])])]),s("div",es,[s("div",null,[n(h,{for:"to",value:`\u062D\u0633\u0627\u0628 ${v.boxes.name} \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0639\u0631\u0627\u0642\u064A`},null,8,["value"]),n(C,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:d.value.sumInTransactionsDinarUser-d.value.sumOutTransactionsDinarUser},null,8,["value"])])]),s("div",ss,[s("div",null,[n(h,{for:"to",value:`\u0623\u0645\u0627\u0646\u0629 ${v.boxes.name} \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631`},null,8,["value"]),n(C,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full bg-blue-50",value:(d.value.sumInTransactionsUserAmanah||0)-(d.value.sumOutTransactionsUserAmanah||0)},null,8,["value"])])]),s("div",ts,[s("div",null,[n(h,{for:"to",value:`\u0623\u0645\u0627\u0646\u0629 ${v.boxes.name} \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0639\u0631\u0627\u0642\u064A`},null,8,["value"]),n(C,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full bg-blue-50",value:(d.value.sumInTransactionsDinarUserAmanah||0)-(d.value.sumOutTransactionsDinarUserAmanah||0)},null,8,["value"])])])]),s("div",os,[s("table",as,[e[32]||(e[32]=s("thead",{class:"text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},[s("tr",{class:"rounded-l-lg mb-2 sm:mb-0"},[s("th",{className:"px-2 py-2"},"\u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644"),s("th",{className:"px-2 py-2"},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),s("th",{className:"px-2 py-2"},"\u0627\u0644\u0648\u0635\u0641"),s("th",{className:"px-2 py-2"},"\u0627\u064A\u062F\u0627\u0639"),s("th",{className:"px-2 py-2"},"\u0633\u062D\u0628"),s("th",{className:"px-2 py-2"},"\u062A\u0646\u0641\u064A\u0630")])],-1)),s("tbody",null,[(p(!0),c(F,null,de(r(V),t=>(p(),c("tr",{key:t.id,class:ie([[t.type=="inUserAmanah"?"bg-blue-100 dark:bg-blue-900 border-l-4 border-blue-500":t.type=="outUserAmanah"?"bg-orange-100 dark:bg-orange-900 border-l-4 border-orange-500":t.type!="inUser"?"bg-red-100 dark:bg-red-900":"bg-green-100 dark:bg-green-900"],"bg-white border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[s("td",ls,[ue(N(t.id)+" ",1),t.type=="inUserAmanah"||t.type=="outUserAmanah"?(p(),c("span",ns,"(\u0623\u0645\u0627\u0646\u0629)")):w("",!0)]),s("td",rs,N(r(ge)(t==null?void 0:t.created_at)),1),s("th",ds,N(t.description),1),s("td",is,N(t.type=="inUser"||t.type=="inUserAmanah"?t.amount+" "+t.currency:""),1),s("td",us,N(t.type=="outUser"||t.type=="outUserAmanah"?t.amount+" "+t.currency:""),1),e[31]||(e[31]=s("td",{className:"border dark:border-gray-800 text-center px-2 py-1"},null,-1))],2))),128))])])]),s("div",ps,[n(r(be),{car:o.car,onInfinite:R,identifier:r(B)},null,8,["car","identifier"])])])])])])]}),_:1})],64))}};export{Ds as default};
