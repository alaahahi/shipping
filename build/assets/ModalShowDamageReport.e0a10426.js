import{r as k,l as x,o as g,c as C,w as U,a as c,b as e,f as $,d as N,e as l,v as n,F as T,h as A,t as S,i as h,T as B}from"./app.86fbfe96.js";const F={key:0,class:"modal-mask"},I={class:"modal-wrapper max-h-[90vh]"},M={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[90vh]"},O={class:"modal-header text-center py-4 dark:text-gray-300"},L={class:"modal-body"},R={class:"grid grid-cols-2 gap-3 lg:gap-2"},j={class:"mb-4 mx-5"},E={class:"mb-4 mx-5"},H={class:"mb-4 mx-5"},W=["value"],Y={class:"mb-4 mx-5"},q=["value"],z={class:"mb-4 mx-5"},G={class:"mb-4 mx-5"},J={class:"flex justify-between items-center mb-2"},K={class:"dark:text-gray-200 font-semibold"},P=["onClick"],Q={class:"grid grid-cols-2 gap-3"},X=["onUpdate:modelValue"],Z=["onUpdate:modelValue"],ee=["onUpdate:modelValue"],oe=["onUpdate:modelValue"],ae={class:"col-span-2"},re=["onUpdate:modelValue"],te={class:"modal-footer my-2"},de={class:"flex flex-row"},se={class:"basis-1/2 px-4"},le={class:"basis-1/2 px-4"},ne=["disabled"],ge={__name:"ModalShowDamageReport",props:{show:Boolean,formDamage:Object},emits:["close","save"],setup(s,{emit:w}){let u=s;const _=w;function y(r){return!Array.isArray(r)||r.length===0?[]:r.map(o=>{var a,i,t,v,p;return{car:(a=o.car)!=null?a:"",vin:(i=o.vin)!=null?i:"",model:(t=o.model)!=null?t:"",color:(v=o.color)!=null?v:"",damage:(p=o.damage)!=null?p:""}})}const d=k([]),b=k(0),m=()=>{b.value=d.value.reduce((r,o)=>{const a=parseFloat(String(o.damage||0).replace("$","").trim())||0;return r+a},0)},f=()=>{d.value.push({car:"",vin:"",model:"",color:"",damage:""})},D=r=>{d.value.splice(r,1),m()};x(d,()=>{m()},{deep:!0}),x(()=>u.show,r=>{if(!r||!u.formDamage)return;const o=u.formDamage.cars_info;d.value=y(o),d.value.length===0&&f(),m()},{immediate:!0});function V(){const r={...u.formDamage,cars_count:d.value.length,total_damage:b.value,cars_info:y(d.value)};_("save",r)}return(r,o)=>(g(),C(B,{name:"modal"},{default:U(()=>[s.show?(g(),c("div",F,[e("div",I,[e("div",M,[e("div",O,[o[4]||(o[4]=$(" \u062A\u0642\u0631\u064A\u0631 \u0636\u0631\u0631 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A ",-1)),N(r.$slots,"header")]),e("div",L,[e("div",R,[e("div",j,[o[5]||(o[5]=e("label",{class:"dark:text-gray-200",for:"driverName"},"\u0627\u0633\u0645 \u0627\u0644\u0633\u0627\u0626\u0642",-1)),l(e("input",{id:"driverName",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":o[0]||(o[0]=a=>s.formDamage.driver_name=a)},null,512),[[n,s.formDamage.driver_name]])]),e("div",E,[o[6]||(o[6]=e("label",{class:"dark:text-gray-200",for:"cmrNumber"},"\u0631\u0642\u0645 CMR",-1)),l(e("input",{id:"cmrNumber",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":o[1]||(o[1]=a=>s.formDamage.cmr_number=a)},null,512),[[n,s.formDamage.cmr_number]])]),e("div",H,[o[7]||(o[7]=e("label",{class:"dark:text-gray-200",for:"carsCount"},"\u0639\u062F\u062F \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A",-1)),e("input",{id:"carsCount",type:"number",readonly:"",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900",value:d.value.length},null,8,W)]),e("div",Y,[o[8]||(o[8]=e("label",{class:"dark:text-gray-200",for:"totalDamage"},"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0636\u0631\u0631 ($)",-1)),e("input",{id:"totalDamage",type:"text",readonly:"",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900",value:b.value.toFixed(2)+"$"},null,8,q)]),e("div",z,[o[9]||(o[9]=e("label",{class:"dark:text-gray-200",for:"createdDate"},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E",-1)),l(e("input",{id:"createdDate",type:"date",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":o[2]||(o[2]=a=>s.formDamage.created=a)},null,512),[[n,s.formDamage.created]])])]),e("div",G,[e("div",{class:"flex justify-between items-center mb-2"},[o[10]||(o[10]=e("label",{class:"dark:text-gray-200 font-bold"},"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A",-1)),e("button",{onClick:f,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"}," \u0625\u0636\u0627\u0641\u0629 \u0633\u064A\u0627\u0631\u0629 ")]),(g(!0),c(T,null,A(d.value,(a,i)=>(g(),c("div",{key:i,class:"mb-4 p-4 border border-gray-300 dark:border-gray-700 rounded"},[e("div",J,[e("h4",K,"\u0627\u0644\u0633\u064A\u0627\u0631\u0629 "+S(i+1),1),d.value.length>1?(g(),c("button",{key:0,onClick:t=>D(i),class:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 text-sm"}," \u062D\u0630\u0641 ",8,P)):h("",!0)]),e("div",Q,[e("div",null,[o[11]||(o[11]=e("label",{class:"dark:text-gray-200 text-sm"},"\u0627\u0644\u0633\u064A\u0627\u0631\u0629",-1)),l(e("input",{type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":t=>a.car=t,placeholder:"\u0645\u062B\u0627\u0644: TOYOTA COROLLA"},null,8,X),[[n,a.car]])]),e("div",null,[o[12]||(o[12]=e("label",{class:"dark:text-gray-200 text-sm"},"\u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0646\u0635\u064A (VIN)",-1)),l(e("input",{type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":t=>a.vin=t,placeholder:"\u0645\u062B\u0627\u0644: LFMAAA0C9S0664914"},null,8,Z),[[n,a.vin]])]),e("div",null,[o[13]||(o[13]=e("label",{class:"dark:text-gray-200 text-sm"},"\u0627\u0644\u0645\u0648\u062F\u064A\u0644",-1)),l(e("input",{type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":t=>a.model=t,placeholder:"\u0645\u062B\u0627\u0644: 2025"},null,8,ee),[[n,a.model]])]),e("div",null,[o[14]||(o[14]=e("label",{class:"dark:text-gray-200 text-sm"},"\u0627\u0644\u0644\u0648\u0646",-1)),l(e("input",{type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":t=>a.color=t,placeholder:"\u0645\u062B\u0627\u0644: WHITE"},null,8,oe),[[n,a.color]])]),e("div",ae,[o[15]||(o[15]=e("label",{class:"dark:text-gray-200 text-sm"},"\u0627\u0644\u0636\u0631\u0631 ($)",-1)),l(e("input",{type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":t=>a.damage=t,placeholder:"\u0645\u062B\u0627\u0644: 200$",onInput:m},null,40,re),[[n,a.damage]])])])]))),128))])]),e("div",te,[e("div",de,[e("div",se,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:o[3]||(o[3]=a=>{r.$emit("close")})}," \u0625\u0644\u063A\u0627\u0621 ")]),e("div",le,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:V,disabled:!s.formDamage.driver_name||!s.formDamage.cmr_number||d.value.length===0}," \u062D\u0641\u0638 ",8,ne)])])])])])])):h("",!0)]),_:3}))}};export{ge as _};
