import{o as u,c as Ht,w as M,a as p,b as a,f as ht,t as n,d as da,e as T,v as H,i as m,T as ia,u as ua,r as g,m as nt,l as mt,j as ca,p as pa,g as i,q as s,F as X,G as dt,H as ba,s as $,L as me,k as ga,h as Et,x as yt,n as xt,z as fa,A as ye}from"./app.804f77cf.js";import{_ as ma}from"./AuthenticatedLayout.27c76d3a.js";import{M as ya}from"./Modal.e880cd63.js";import{t as xa}from"./laravel-vue-pagination.es.27e59010.js";import{_ as w}from"./InputLabel.330e97ce.js";import{_ as I}from"./TextInput.79ed40b7.js";import{a as P}from"./index.dbc15f49.js";import{M as Rt}from"./ModalDelCar.36be015b.js";import{_ as va}from"./ModalEditCar_S.917d9d3f.js";import{_ as ha}from"./ModalAddCarPayment.1d844dd1.js";import{_ as ka,a as _a,b as wa,c as $a,e as Ca}from"./exit.a6444ec5.js";import{p as Bt}from"./print.9f46ca61.js";import{p as xe}from"./pay.bc4349a4.js";import{t as Da}from"./trash.c8236872.js";import{e as ve}from"./edit.54696da6.js";import{s as Na}from"./show.ddde1844.js";import{_ as Aa}from"./_plugin-vue_export-helper.cdc0426e.js";import{f as Sa}from"./datetime.47733478.js";import{n as Ia}from"./new.8acff19f.js";import{l as Pa}from"./lodash.b6a22285.js";/* empty css                                              *//* empty css                                                    */import"./Uploader.752ef878.js";/* empty css                                                                 *//* empty css                                                       */const Ma={key:0,class:"modal-mask"},Fa={class:"modal-wrapper max-h-[80vh]"},Ea={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},Ba={class:"modal-header text-center py-4 dark:text-gray-300"},Ta={class:"modal-body"},Ua={class:"grid grid-cols-2 gap-3 lg:gap-2"},Va={class:"mb-4 mx-5"},qa={class:"mb-4 mx-5"},ja={class:"mb-4 mx-5"},za={class:"mb-4 mx-5"},Ra={class:"mb-4 mx-5"},Ha={class:"mb-4 mx-5"},La={class:"mb-4 mx-5"},Oa={class:"mb-4 mx-5"},Qa={class:"modal-footer my-2"},Wa={class:"flex flex-row"},Ya={class:"basis-1/2 px-4"},Za={class:"basis-1/2 px-4"},Ga=["disabled"],Xa={__name:"ModalShowDriving",props:{show:Boolean,formDriving:Object},setup(y){return(f,l)=>(u(),Ht(ia,{name:"modal"},{default:M(()=>[y.show?(u(),p("div",Ma,[a("div",Fa,[a("div",Ea,[a("div",Ba,[ht(" \u062A\u062E\u0648\u064A\u0644 \u0642\u064A\u0627\u062F\u0629 "+n(y.formDriving.car_typeDriving)+" "+n(y.formDriving.yearDriving)+" "+n(y.formDriving.car_colorDriving)+" \u0631\u0642\u0645 \u0634\u0627\u0646\u0635\u0649 "+n(y.formDriving.vinDriving)+" ",1),da(f.$slots,"header")]),a("div",Ta,[a("div",Ua,[a("div",Va,[l[10]||(l[10]=a("label",{class:"dark:text-gray-200",for:"amountTotal"},"\u0627\u0644\u0627\u0633\u0645 \u0643\u0627\u0645\u0644",-1)),T(a("input",{id:"amountTotal",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":l[0]||(l[0]=k=>y.formDriving.nameDriving=k)},null,512),[[H,y.formDriving.nameDriving]])]),a("div",qa,[l[11]||(l[11]=a("label",{class:"dark:text-gray-200",for:"carType"},"\u0627\u0644\u0633\u064A\u0627\u0631\u0629",-1)),T(a("input",{id:"carType",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":l[1]||(l[1]=k=>y.formDriving.car_typeDriving=k)},null,512),[[H,y.formDriving.car_typeDriving]])]),a("div",ja,[l[12]||(l[12]=a("label",{class:"dark:text-gray-200",for:"vin"},"\u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0646\u0635\u064A",-1)),T(a("input",{id:"vin",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":l[2]||(l[2]=k=>y.formDriving.vinDriving=k)},null,512),[[H,y.formDriving.vinDriving]])]),a("div",za,[l[13]||(l[13]=a("label",{class:"dark:text-gray-200",for:"carNumber"},"\u0631\u0642\u0645 \u0627\u0644\u0633\u064A\u0627\u0631\u0629",-1)),T(a("input",{id:"carNumber",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":l[3]||(l[3]=k=>y.formDriving.car_numberDriving=k)},null,512),[[H,y.formDriving.car_numberDriving]])]),a("div",Ra,[l[14]||(l[14]=a("label",{class:"dark:text-gray-200",for:"color"},"\u0627\u0644\u0644\u0648\u0646",-1)),T(a("input",{id:"color",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":l[4]||(l[4]=k=>y.formDriving.car_colorDriving=k)},null,512),[[H,y.formDriving.car_colorDriving]])]),a("div",Ha,[l[15]||(l[15]=a("label",{class:"dark:text-gray-200",for:"model"},"\u0645\u0648\u062F\u064A\u0644",-1)),T(a("input",{id:"model",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":l[5]||(l[5]=k=>y.formDriving.yearDriving=k)},null,512),[[H,y.formDriving.yearDriving]])]),a("div",La,[l[16]||(l[16]=a("label",{class:"dark:text-gray-200",for:"exitDate"},"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062A\u062E\u0648\u064A\u0644",-1)),T(a("input",{id:"exitDate",type:"date",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":l[6]||(l[6]=k=>y.formDriving.createdDriving=k)},null,512),[[H,y.formDriving.createdDriving]])])]),a("div",Oa,[l[17]||(l[17]=a("label",{class:"dark:text-gray-200",for:"note"},"\u062A\u062E\u0648\u064A\u0644 \u0627\u0644\u0642\u064A\u0627\u062F\u0629",-1)),T(a("textarea",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":l[7]||(l[7]=k=>y.formDriving.noteDriving=k)},null,512),[[H,y.formDriving.noteDriving]])])]),a("div",Qa,[a("div",Wa,[a("div",Ya,[a("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:l[8]||(l[8]=k=>{f.$emit("close")})},n(f.$t("cancel")),1)]),a("div",Za,[a("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:l[9]||(l[9]=k=>f.$emit("a",y.formDriving)),disabled:!y.formDriving.noteDriving},n(f.$t("yes")),9,Ga)])])])])])])):m("",!0)]),_:3}))}},Ja={},Ka={class:"w-6 h-6 text-white dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"};function tr(y,f){return u(),p("svg",Ka,[...f[0]||(f[0]=[a("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7h1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V5a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h11.5M7 14h6m-6 3h6m0-10h.5m-.5 3h.5M7 7h3v3H7V7Z"},null,-1)])])}const Dt=Aa(Ja,[["render",tr]]);const er={class:"font-semibold text-xl dark:text-gray-400 text-gray-800 leading-tight"},ar={class:"mb-5 dark:text-gray-400 text-center"},rr={class:"mb-5 dark:text-gray-400 text-center"},or={key:0},sr={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},lr={class:"ml-3 text-sm font-medium text-red-700 dark:text-red-800"},nr={key:1,class:"py-4"},dr={class:"flex justify-between items-center mb-4"},ir={class:"text-center pb-2 dark:text-gray-400 flex-1"},ur={class:"max-w-9xl mx-auto sm:px-6 lg:px-8 p-6 dark:bg-gray-900"},cr={class:"overflow-hidden shadow-sm sm:rounded-lg"},pr={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 lg:gap-1"},br={class:"pr-4"},gr={value:"undefined",disabled:""},fr=["value"],mr={class:"mb-4 mr-5"},yr={class:"p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800"},xr={class:"flex items-center justify-between"},vr={class:"relative inline-flex items-center cursor-pointer"},hr=["checked"],kr={class:"px-2 flex flex-col justify-end"},_r={class:"mb-4"},wr={class:"px-2 flex flex-col justify-end"},$r={class:"mb-4"},Cr={class:"mb-4 mr-5 print:hidden flex flex-col gap-2"},Dr={class:"mb-4 mr-5 print:hidden flex flex-col gap-2"},Nr=["href"],Ar={class:"mb-4 mr-5 print:hidden flex flex-col gap-2"},Sr=["href"],Ir={className:"mb-4  mr-5"},Pr={className:"mb-4  mr-5"},Mr={className:"mb-4  mr-5"},Fr={className:"mb-4  mr-5"},Er={className:"mb-4  mr-5"},Br=["disabled"],Tr={key:0,className:"mb-4  mr-5 print:hidden"},Ur=["disabled"],Vr=["disabled"],qr={className:"mb-4  mr-5 print:hidden"},jr=["disabled"],zr={className:"mb-4 mr-5"},Rr={key:0,class:"text-xs text-red-500 mt-1"},Hr={key:1,class:"text-xs text-gray-500 mt-1"},Lr={className:"mb-4  mr-5"},Or={className:"mb-4  mr-5"},Qr={className:"mb-4  mr-5"},Wr={className:"mb-4  mr-5"},Yr={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 lg:gap-1"},Zr={className:"mb-4  mr-5"},Gr={className:"mb-4  mr-5"},Xr={className:"mb-4  mr-5"},Jr={className:"mb-4  mr-5 print:hidden"},Kr=["disabled"],to={key:0},eo={key:1},ao={key:2},ro={key:1,class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},oo={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},so={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},lo={class:"bg-rose-500 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},no={className:"px-1 py-2 text-base"},io={className:"px-1 py-2 text-base"},uo={className:"px-1 py-2 text-base"},co={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},po={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},bo={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},go=["href"],fo={key:0,class:"text-center"},mo={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},yo={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},xo={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},vo={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200 align-top"},ho={key:0,class:"space-y-2 text-right"},ko={class:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400"},_o={key:0,class:"text-xs text-red-500"},wo={class:"flex justify-end gap-2"},$o=["disabled"],Co=["onClick","disabled"],Do={key:0},No={key:1},Ao={key:1,class:"space-y-1 text-right"},So={class:"block whitespace-pre-line leading-6"},Io={key:0,"py-1":"","text-white":"","bg-blue-500":"","rounded-md":"","focus:outline-none":"","disabled:opacity-60":"",class:"inline-flex items-center text-xs font-semibold text-green-600"},Po={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Mo={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200 space-x-1 space-x-reverse"},Fo=["onClick","disabled"],Eo=["href"],Bo={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},To={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Uo={key:0,class:"text-center py-10"},Vo={key:1,class:"relative overflow-x-auto shadow-md sm:rounded-lg"},qo={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},jo={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},zo={class:"rounded-l-lg mb-2 sm:mb-0"},Ro={scope:"col",class:"px-1 py-2 text-base"},Ho={scope:"col",class:"px-1 py-2 text-base"},Lo={scope:"col",class:"px-1 py-2 text-base"},Oo={scope:"col",class:"px-1 py-2 text-base"},Qo={scope:"col",class:"px-1 py-2 text-base"},Wo={scope:"col",class:"px-1 py-2 text-base"},Yo={scope:"col",class:"px-1 py-2 text-base"},Zo={scope:"col",class:"px-1 py-2 text-base"},Go={scope:"col",class:"px-1 py-2 text-base print:hidden"},Xo={scope:"col",class:"px-1 py-2 text-base print:hidden"},Jo={scope:"col",class:"px-1 py-2 text-base"},Ko={scope:"col",class:"px-1 py-2 text-base"},ts={scope:"col",class:"px-1 py-2 text-base"},es={scope:"col",class:"px-1 py-2 text-base"},as={scope:"col",class:"px-1 py-2 text-base"},rs={scope:"col",class:"px-1 py-2 text-base"},os={scope:"col",class:"px-1 py-2 text-base"},ss={scope:"col",class:"px-1 py-2 text-base"},ls={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},ns=["data-car-match"],ds={className:"border dark:border-gray-800 text-center px-2 py-1"},is={className:"border dark:border-gray-800 text-center px-2 py-1"},us={className:"border dark:border-gray-800 text-center px-2 py-1"},cs={className:"border dark:border-gray-800 text-center px-2 py-1"},ps={className:"border dark:border-gray-800 text-center px-2 py-1"},bs={className:"border dark:border-gray-800 text-center px-2 py-1"},gs={className:"border dark:border-gray-800 text-center px-2 py-1"},fs={className:"border dark:border-gray-800 text-center px-2 py-1"},ms={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},ys={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},xs={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},vs={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},hs={className:"border dark:border-gray-800 text-center px-2 py-1"},ks={className:"border dark:border-gray-800 text-center px-2 py-1"},_s={className:"border dark:border-gray-800 text-center px-2 py-1"},ws={className:"border dark:border-gray-800 text-center px-2 py-1"},$s={className:"border dark:border-gray-800 text-center px-2 py-1"},Cs={className:"border dark:border-gray-800 text-center px-2 py-1"},Ds={className:"border dark:border-gray-800 text-center px-2 py-1"},Ns={className:"border dark:border-gray-800 text-center px-1 py-2 "},As={className:"border dark:border-gray-800 text-center px-2 py-1"},Ss={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},Is=["onClick"],Ps=["onClick"],Ms=["onClick"],Fs=["onClick"],Es=["onClick"],Bs=["onClick"],Ts=["onClick"],Us=["onClick"],Vs=["href"],qs={key:5,class:"px-2 py-1 m-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 rounded text-xs font-semibold",style:{"min-width":"110px",display:"block"},title:"\u0645\u0628\u0627\u0639\u0629 \u0641\u064A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A \u0627\u0644\u062F\u0627\u062E\u0644\u064A\u0629"},js={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},zs=["href"],Rs=["src"],Hs={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},Ls=["onClick"],Os=["onClick"],Qs={colspan:"5",className:"border dark:border-gray-800 text-start px-3 py-2"},Ws={class:"font-semibold mr-2"},Ys={className:"border dark:border-gray-800 text-center px-2 py-2 font-bold text-red-700 dark:text-red-300 text-base bg-red-50 dark:bg-red-900/20"},Zs={className:"border dark:border-gray-800 text-center px-2 py-2 text-sm"},Gs={className:"border dark:border-gray-800 text-center px-2 py-2 print:hidden"},Xs=["href"],Js={key:0,class:"bg-gradient-to-r from-yellow-100 to-amber-100 dark:from-yellow-900/30 dark:to-amber-900/30 border-t-4 border-amber-500"},Ks={className:"border dark:border-gray-800 text-center px-2 py-3 font-bold text-xl bg-amber-200 dark:bg-amber-800 text-amber-900 dark:text-amber-100"},tl={class:"mt-3 text-center",style:{direction:"ltr"}},el={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 dark:text-gray-400 hidden print:block"},al={class:"flex flex-row"},rl={class:"basis-1/2"},vt=1e3,Sl={__name:"Show",props:{url:String,clients:Array,client_id:String,client:Object,q:String,company_name:String,config:[Array,Object]},setup(y){let f=ua();g(0);let l=g({}),k=g(0),D=g(0),N=g(0),Nt=1,L=g(!1),it=g(!1),ut=g(!1),J=g(!1),Tt=g(!1),K=g(!1),A=g(!1),ct=g(!1),pt=g(!1),tt=g(!1),et=g(!1),at=g(!1),kt=g(!1),rt=g(!1);g(0);let h=g({}),U=g({}),O=g(0),ot=g(""),B=g(0),S=g(0);g(0);let bt=g(!1),gt=g(!1),At=g(!1);const C=y,Q=nt(()=>S.value&&S.value!==0&&S.value!=="undefined"?S.value:C.client_id);let W=g(""),St=g(!1);const Ut=g(!1);function st(e){return e==null?"":e.toString().replace(/[\s-]+/g,"").toUpperCase()}function he(e){return!e||typeof e!="string"?[]:(e.match(/[A-Za-z0-9]+/g)||[]).map(o=>st(o)).filter(o=>o.length>=3).filter((o,d,c)=>o&&c.indexOf(o)===d)}const It=["#F97316","#10B981","#3B82F6","#EC4899","#F59E0B","#22D3EE","#8B5CF6","#F87171","#14B8A6","#A855F7"];function ke(e){var d,c;const t=Number((d=e==null?void 0:e.id)!=null?d:0)||((c=e==null?void 0:e.description)==null?void 0:c.length)||0,o=Math.abs(t)%It.length;return It[o]}function Vt(e,t=.15){if(!e)return`rgba(0,0,0,${t})`;let o=e.replace("#","");o.length===3&&(o=o.split("").map(b=>b+b).join(""));const d=parseInt(o,16),c=d>>16&255,_=d>>8&255,v=d&255;return`rgba(${c}, ${_}, ${v}, ${t})`}const _e=Pa.exports.debounce(async e=>{if(!!Q.value)try{St.value=!0,await P.post("/api/updateClientPhone",{userId:Q.value,phone:e}),f.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})}catch(t){console.error(t),f.error("\u0644\u0645 \u064A\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641",{timeout:3e3,position:"bottom-right",rtl:!0})}finally{St.value=!1}},3e3);mt(W,(e,t)=>{!Ut.value||e!==t&&_e(e)});function Lt(e){Ut.value=!1,W.value=e!=null?e:"",dt(()=>{Ut.value=!0})}const Ot=nt(()=>W.value?String(W.value).length>10:!1),Pt=nt(()=>{const e=D.value&&D.value!==0&&D.value!=="0"&&D.value!=="",t=N.value&&N.value!==0&&N.value!=="0"&&N.value!=="";return Boolean(e||t)}),we=nt(()=>{if(!A.value)return Object.create(null);const e=Object.create(null);return zt.value.forEach(t=>{t.type==="payment"&&Array.isArray(t.relatedIdentifiers)&&t.relatedIdentifiers.length&&t.relatedIdentifiers.forEach(o=>{if(!o)return;e[o]||(e[o]=[]);const d=t.highlightColor||It[0];e[o].includes(d)||e[o].push(d)})}),e});function Qt(e){const t=[];return e.forEach(o=>{if(!o)return;const d=we.value[o];Array.isArray(d)&&d.forEach(c=>{c&&!t.includes(c)&&t.push(c)})}),t}function $e(e){var o,d;if(!e||e.type!=="car")return!1;const t=Array.isArray(e.normalizedIdentifiers)?e.normalizedIdentifiers:[st((o=e==null?void 0:e.data)==null?void 0:o.car_number),st((d=e==null?void 0:e.data)==null?void 0:d.vin)].filter(Boolean);return Qt(t).length>0}function Wt(e){var t;return Boolean((e==null?void 0:e.type)==="payment"&&((t=e==null?void 0:e.relatedIdentifiers)==null?void 0:t.length))}function Ce(e){var c,_;if(!e||e.type!=="car")return{};const t=Array.isArray(e.normalizedIdentifiers)?e.normalizedIdentifiers:[st((c=e==null?void 0:e.data)==null?void 0:c.car_number),st((_=e==null?void 0:e.data)==null?void 0:_.vin)].filter(Boolean),o=Qt(t);if(!o.length)return{};const d=o[0];return{boxShadow:`inset 0 -3px 0 ${d}`,backgroundColor:Vt(d,.12)}}function De(e){if(!Wt(e))return{};const t=e.highlightColor||It[0];return{boxShadow:`inset 0 0 0 2px ${Vt(t,.35)}`,backgroundColor:Vt(t,.12)}}let _t=async(e=1,t=!0)=>{pt.value=!1;const o=Q.value;if(!o){pt.value=!0;return}P.get(`/api/getIndexAccountsSelas?page=${e}&user_id=${o}&from=${D.value||""}&to=${N.value||""}`).then(d=>{var c,_,v;if(l.value=d.data,S.value=d.data.client.id,Lt((_=(c=d.data)==null?void 0:c.client)==null?void 0:_.phone),Ft(),t&&!Pt.value&&jt(),pt.value=!0,C.q&&!qt.value){const x=(Array.isArray((v=d.data)==null?void 0:v.data)?d.data.data:[]).find(z=>$t(z));x&&(x.results===2&&(A.value=!0,ct.value=!0),dt(()=>{ft()})),qt.value=!0}}).catch(d=>{console.error(d),pt.value=!0})};function wt(){let e="",t="";try{e=l.value.transactions.filter(o=>o.type==="out"&&o.amount<0&&o.is_pay===1)}catch{}try{t=e.reduce((o,d)=>o+d.amount,0)}catch{}return{totalAmount:t}}nt(()=>{var e,t;try{return((t=(e=l.value)==null?void 0:e.transactions)==null?void 0:t.filter(o=>o.type==="out"&&o.amount<0&&o.is_pay===1).length)||0}catch{return 0}});function Ne(e={}){h.value=e,bt.value=!0}function Ae(e={}){h.value=e,gt.value=!0}function Se(e){var t,o;e.balance=wt().totalAmount*-1-((t=l.value)==null?void 0:t.cars_paid)-((o=l.value)==null?void 0:o.cars_discount),P.post("/api/AddPayFromBalanceCar",e).then(d=>{bt.value=!1,E()}).catch(d=>{console.error(d)})}function Ie(e){P.post("/api/DelPayFromBalanceCar",e).then(t=>{gt.value=!1,E()}).catch(t=>{console.error(t)})}const E=async(e=1)=>{const t=Q.value;!t||P.get(`/api/getIndexAccountsSelas?page=${e}&user_id=${t}&from=${D.value||""}&to=${N.value||""}`).then(o=>{var d,c,_;if(l.value=o.data,S.value=o.data.client.id,Lt((c=(d=o.data)==null?void 0:d.client)==null?void 0:c.phone),Ft(),Pt.value||jt(),C.q){const b=(Array.isArray((_=o.data)==null?void 0:_.data)?o.data.data:[]).find(x=>$t(x));b&&(b.results===2&&(A.value=!0,ct.value=!0),dt(()=>{ft()}))}}).catch(o=>{console.error(o)})};ca(()=>{_t()});const qt=g(!1),Y=g(!0),q=g(null);function $t(e){if(!e||!C.q)return!1;const t=String(C.q).trim().toUpperCase();if(!t)return!1;const o=e!=null&&e.vin?String(e.vin).toUpperCase():"",d=e!=null&&e.car_number?String(e.car_number).toUpperCase():"",c=e!=null&&e.chassis_number?String(e.chassis_number).toUpperCase():"";return o.startsWith(t)||d.startsWith(t)||c.startsWith(t)}function Pe(){qt.value=!1,Y.value=!0,q.value=null}function ft(e=6){if(!(!Y.value||typeof window>"u"||e<=0)){if(q.value&&typeof q.value.scrollIntoView=="function"){q.value.scrollIntoView({behavior:"smooth",block:"center"}),Y.value=!1;return}typeof(Dt==null?void 0:Dt.querySelector)=="function"&&window.requestAnimationFrame(()=>{const t=Dt.querySelector('[data-car-match="true"]');t?(q.value=t,typeof t.scrollIntoView=="function"&&(t.scrollIntoView({behavior:"smooth",block:"center"}),Y.value=!1)):e>1&&setTimeout(()=>ft(e-1),160)})}}function Me(e,t){!$t(t)||(e?q.value=e:q.value&&(q.value=null))}mt(()=>C.client_id,(e,t)=>{e&&e!==t&&(D.value=0,N.value=0,L.value=!1,K.value=!1,A.value=!1,ct.value=!1,B.value=0,O.value=0,ot.value="",Nt=1,_t())},{immediate:!1});const Fe=pa();let j=g(!1);function Ee(e){Fe.get(route("sentToCourt",e)),_t(),j.value=!1}function Be(e={}){h.value=e,ut.value=!0}function Te(e={}){h.value=e,h.value.dinar_s==0&&(h.value.dinar_s=h.value.dinar),it.value=!0}function Ue(e={}){h.value=e,h.value.notePayment=" \u0628\u064A\u062F ",J.value=!0}function Ve(e){P.post("/api/DelCar",e).then(t=>{ut.value=!1,f.success("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),E()}).catch(t=>{console.error(t),f.error("\u0641\u0634\u0644 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629",{timeout:2e3,position:"bottom-right",rtl:!0})})}function qe(e){it.value=!1,P.post("/api/updateCarsS",e).then(t=>{j.value=!1,f.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),E()}).catch(t=>{f.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),E()})}function je(e){var t,o;e.discountPayment||(e.discountPayment=0),P.get(`/api/addPaymentCar?car_id=${e.id}&discount=${e.discountPayment}&amount=${(t=e.amountPayment)!=null?t:0}&note=${(o=e.notePayment)!=null?o:""}`).then(d=>{J.value=!1,f.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+e.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),E();let c=d.data;window.open(`/api/getIndexAccountsSelas?user_id=${C.client_id}&print=2&transactions_id=${c.id}`,"_blank")}).catch(d=>{j.value=!1,console.log(d),f.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function ze(e,t,o,d){k.value=!0,P.get(`/api/addPaymentCarTotal?amount=${e!=null?e:0}&discount=${o!=null?o:0}&note=${d}&client_id=${t!=null?t:0}`).then(c=>{J.value=!1,f.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+e+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),L.value=!1,k.value=!1,E(),Re();let _=c.data;window.open(`/api/getIndexAccountsSelas?user_id=${C.client_id}&print=2&transactions_id=${_.id}`,"_blank")}).catch(c=>{console.log(c),j.value=!1,k.value=!1,f.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Re(){B.value=0,O.value=0,ot.value=""}function He(){L.value=!0,K.value=!1}function Le(){L.value=!1}function Oe(){K.value=!0,L.value=!1}function Qe(){K.value=!1}function We(e={}){h.value=e,h.value.prices=100,h.value.price_dinars=5e4,tt.value=!0}function Ye(e={}){h.value=e,et.value=!0}function Ze(e={}){h.value=e,h.value.createdExit=Zt(),at.value=!0}function Ge(e={}){h.value=e,kt.value=!0}function Xe(e={}){U.value.car_typeDriving=e.car_type,U.value.yearDriving=e.year,U.value.car_colorDriving=e.car_color,U.value.vinDriving=e.vin,U.value.nameDriving=C.client.name,U.value.clientIdDriving=S.value,U.value.car_numberDriving=e.car_number,U.value.createdDriving=Zt(),U.value.noteDriving="\u0627\u0646\u0627 \u0643\u0627\u0631\u0632\u0627\u0646 \u0633\u0631\u0647\u0646\u0643 \u0645\u062D\u0645\u062F (\u0648\u0643\u064A\u0644 \u0639\u0627\u0645 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 \u0627\u064A\u0648\u0628 ) (\u0645\u062F\u064A\u0631 \u0645\u0641\u0648\u0636 \u0634\u0631\u0643\u0629 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 \u0627\u064A\u0648\u0628) \u0642\u062F \u062E\u0648\u0644\u062A \u0627\u0644\u0633\u064A\u062F(name) \u0628\u0642\u064A\u0627\u062F\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0630\u0627\u062A \u0627\u0644\u0645\u0648\u0627\u0635\u0641\u0627\u062A \u0627\u062F\u0646\u0627\u0647 \u0644\u0647 \u062D\u0642  \u0646\u0642\u0644\u0647\u0627  \u0645\u0646 \u0645\u062D\u0627\u0641\u0638\u0629 \u0627\u0644\u0649 \u0645\u062D\u0627\u0641\u0638\u0629 \u0627\u062E\u0631\u0649 \u0648\u062F\u0641\u0639 \u0627\u0644\u0631\u0633\u0648\u0645 \u0648\u0627\u0644\u063A\u0631\u0645\u0627\u062A \u0628\u064A\u0639 \u0648\u0634\u0631\u0627\u0621 \u0627\u0644\u0642\u0628\u0636 \u0627\u0644\u062B\u0645\u0646.",rt.value=!0}function Je(){var t,o,d;let e=(d=(o=(t=l==null?void 0:l.value)==null?void 0:t.client)==null?void 0:o.wallet)==null?void 0:d.balance;B.value=e-O.value}function Ke(){var t,o,d;let e=(d=(o=(t=l==null?void 0:l.value)==null?void 0:t.client)==null?void 0:o.wallet)==null?void 0:d.balance;console.log(e),B.value>e?(B.value=e,Tt.value=!0,f.info(" \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u062F\u064A\u0646 \u0627\u0644\u0645\u0637\u0644\u0648\u0628 "+B.value,{timeout:4e3,position:"bottom-right",rtl:!0})):Tt.value=!1}function ta(e){var t,o,d,c,_,v;P.get(`/api/addCarContracts?car_id=${e.id}&price=${(t=e.prices)!=null?t:0}&price_dinar=${(o=e.price_dinars)!=null?o:0}&paid=${(d=e.paids)!=null?d:0}&paid_dinar=${(c=e.paid_dinars)!=null?c:0}&phone=${(_=e.phone)!=null?_:""}&note=${(v=e.note)!=null?v:""}`).then(b=>{tt.value=!1,f.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u0628\u0646\u062C\u0627\u062D ",{timeout:4e3,position:"bottom-right",rtl:!0}),E()}).catch(b=>{tt.value=!1,f.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function ea(e){var t,o,d;P.get(`/api/editCarContracts?car_id=${e.id}&paid=${(t=e.paids)!=null?t:0}&paid_dinar=${(o=e.paid_dinars)!=null?o:0}&note=${(d=e.notePayment)!=null?d:""}`).then(c=>{et.value=!1,f.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+e.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),E()}).catch(c=>{et.value=!1,f.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Yt(e){P.get(`/api/makeCarExit?car_id=${e.id}&created=${e.createdExit}&phone=${e.phoneExit}&note=${e.noteExit}`).then(t=>{at.value=!1,f.success("\u062A\u0645 \u0627\u0636\u0627\u0641\u0629 \u062E\u0631\u0648\u062C\u064A\u0629 \u0644\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:5e3,position:"bottom-right",rtl:!0}),E()}).catch(t=>{at.value=!1,f.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function jt(){if(Pt.value){f.warning("\u064A\u0631\u062C\u0649 \u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u0641\u0644\u062A\u0631 \u0623\u0648\u0644\u0627\u064B \u0644\u062A\u0635\u062D\u064A\u062D \u0627\u0644\u0631\u0635\u064A\u062F",{timeout:3e3,position:"bottom-right",rtl:!0});return}const e=Q.value;if(!e){f.error("\u0644\u0645 \u064A\u062A\u0645 \u062A\u062D\u062F\u064A\u062F \u0627\u0644\u0639\u0645\u064A\u0644",{timeout:3e3,position:"bottom-right",rtl:!0});return}At.value=!0;const t=new URLSearchParams({userId:e,from:D.value||"",to:N.value||""}).toString();P.get(`/api/checkClientBalance?${t}`).then(o=>{var d;if(o.status===201&&((d=o.data)==null?void 0:d.message)){const c=o.data.new_balance!=null?`\u062A\u0645 \u062A\u0635\u062D\u064A\u062D \u0627\u0644\u0631\u0635\u064A\u062F: ${o.data.old_balance} \u2192 ${o.data.new_balance}`:o.data.message;f.success("\u062A\u0645 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u062D\u0633\u0627\u0628 \u0628\u0646\u062C\u0627\u062D - "+c,{timeout:5e3,position:"bottom-right",rtl:!0}),E()}else o.status===200&&f.success("\u0627\u0644\u0631\u0635\u064A\u062F \u0635\u062D\u064A\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})}).catch(o=>{var d,c;console.error("checkClientBalance error:",o),f.error(((c=(d=o.response)==null?void 0:d.data)==null?void 0:c.error)||"\u0644\u0645 \u064A\u062A\u0645 \u062A\u0635\u062D\u064A\u062D \u0627\u0644\u062D\u0633\u0627\u0628 \u0628\u0646\u062C\u0627\u062D",{timeout:5e3,position:"bottom-right",rtl:!0})}).finally(()=>{At.value=!1})}function aa(e){P.post("/api/makeDrivingDocument",e).then(t=>{rt.value=!1,window.open(`/api/makeDrivingDocumentPdf?doc_id=${t.data.id}`,"_blank")}).catch(t=>{rt.value=!1,f.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Zt(){const e=new Date,t=e.getFullYear(),o=String(e.getMonth()+1).padStart(2,"0"),d=String(e.getDate()).padStart(2,"0");return`${t}-${o}-${d}`}function Gt(e){return e?e.results==2?A.value:!0:!1}const zt=nt(()=>{if(!pt.value||!l.value)return[];try{const e=l.value.data||[],t=l.value.transactions||[],o=[];if(Array.isArray(e))for(let v=0;v<e.length;v++){const b=e[v],x=st(b==null?void 0:b.car_number),z=st(b==null?void 0:b.vin),R=[x,z].filter(Boolean);o.push({type:"car",data:b,date:new Date(b.created_at||b.date||0),id:`car-${b.id||v}`,normalizedIdentifiers:R})}if(ct.value&&Array.isArray(t)&&A.value){const v=t.filter(b=>b&&b.type==="out"&&Number(b.amount)<0&&b.is_pay===1);for(let b=0;b<v.length;b++){const x=v[b],z=he(x==null?void 0:x.description),R=ke(x);o.push({type:"payment",data:x,date:new Date(x.created_at||x.created||0),id:`payment-${x.id||b}`,relatedIdentifiers:z,highlightColor:R})}}o.sort((v,b)=>v.date-b.date);let d=0,c=0;const _=[];for(let v=0;v<o.length;v++){const b=o[v];if(b.type==="car"){const x=b.data;if(Gt(x)){const R=Number(x.total_s)||0;d+=R,c+=R}}else if(b.type==="payment"){const x=Number(b.data.amount)||0;d+=x,c+=x}_.push({...b,balance:d,totalSum:c})}return _}catch(e){return console.error("\u274C Error in mergedData:",e),[]}});mt(()=>C.q,()=>{Pe(),C.q&&dt(()=>{ft()})}),mt(q,e=>{!e||!Y.value||typeof e.scrollIntoView!="function"||dt(()=>{e.scrollIntoView({behavior:"smooth",block:"center"}),Y.value=!1})}),mt(()=>A.value,e=>{ct.value=e,C.q&&Y.value&&dt(()=>ft())}),mt(()=>zt.value,()=>{C.q&&Y.value&&dt(()=>ft())},{deep:!0});function ra(e){return`/public/uploadsResized/${e}`}function oa(e){return`/public/uploads/${e}`}const Mt=nt(()=>{var e,t;try{const o=Number(wt().totalAmount||0)*-1,d=Number(((e=l.value)==null?void 0:e.cars_paid)||0),c=Number(((t=l.value)==null?void 0:t.cars_discount)||0);return o-d-c}catch{return 0}});g(!1),g(!0);const Ct=g(null),Z=g(""),V=g(""),G=g(!1);function sa(e){var t;!e||G.value||(Ct.value=e.id,Z.value=(t=e.description)!=null?t:"",V.value="")}function Ft(){G.value||(Ct.value=null,Z.value="",V.value="")}async function la(e){var o,d,c,_,v,b;if(!e||Ct.value!==e.id)return;const t=Z.value?Z.value.trim():"";if(!t){V.value="\u0627\u0644\u0648\u0635\u0641 \u0645\u0637\u0644\u0648\u0628";return}if(t.length>vt){V.value=`\u0627\u0644\u0648\u0635\u0641 \u064A\u062C\u0628 \u0623\u0644\u0627 \u064A\u062A\u062C\u0627\u0648\u0632 ${vt} \u062D\u0631\u0641\u064B\u0627`;return}G.value=!0,V.value="";try{await P.post("/api/updateTransactionDescription",{transaction_id:e.id,description:t}),e.description=t,e._descriptionUpdated=!0,setTimeout(()=>{e&&(e._descriptionUpdated=!1)},3e3),Ft()}catch(x){(_=(c=(d=(o=x.response)==null?void 0:o.data)==null?void 0:d.errors)==null?void 0:c.description)!=null&&_.length?V.value=x.response.data.errors.description[0]:(b=(v=x.response)==null?void 0:v.data)!=null&&b.message?V.value=x.response.data.message:V.value="\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0641\u0638 \u0627\u0644\u0648\u0635\u0641"}finally{G.value=!1}}return(e,t)=>(u(),p(X,null,[i(s(ba),{title:"Dashboard"}),i(ma,null,{header:M(()=>[a("h2",er,n(C.company_name||"\u0634\u0631\u0643\u0629 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644"),1)]),default:M(()=>{var o,d,c,_,v,b,x,z,R,Xt,Jt,Kt,te,ee,ae,re,oe;return[i(ka,{formData:s(h),show:!!s(tt),onA:t[0]||(t[0]=r=>ta(r)),onClose:t[1]||(t[1]=r=>$(tt)?tt.value=!1:tt=!1)},{header:M(()=>[...t[39]||(t[39]=[])]),_:1},8,["formData","show"]),i(Rt,{show:!!s(bt),formData:s(h),onA:t[2]||(t[2]=r=>Se(r)),onClose:t[3]||(t[3]=r=>$(bt)?bt.value=!1:bt=!1)},{header:M(()=>[a("h2",ar," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062F\u0641\u0639 "+n(s(h).car_type)+" \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",1)]),_:1},8,["show","formData"]),i(Rt,{show:!!s(gt),formData:s(h),onA:t[4]||(t[4]=r=>Ie(r)),onClose:t[5]||(t[5]=r=>$(gt)?gt.value=!1:gt=!1)},{header:M(()=>[a("h2",rr," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0639\u0627\u062F\u0629 \u062F\u0641\u0639\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 "+n(s(h).car_type)+" \u0644\u0644\u0631\u0635\u064A\u062F \u061F ",1)]),_:1},8,["show","formData"]),i(_a,{formData:s(h),show:!!s(et),onA:t[6]||(t[6]=r=>ea(r)),onClose:t[7]||(t[7]=r=>$(et)?et.value=!1:et=!1)},{header:M(()=>[...t[40]||(t[40]=[])]),_:1},8,["formData","show"]),i(wa,{formData:s(h),show:!!s(at),onA:t[8]||(t[8]=r=>Yt(r)),onClose:t[9]||(t[9]=r=>$(at)?at.value=!1:at=!1)},{header:M(()=>[...t[41]||(t[41]=[])]),_:1},8,["formData","show"]),i($a,{formData:s(h),show:!!s(kt),onA:t[10]||(t[10]=r=>Yt(r)),onClose:t[11]||(t[11]=r=>$(kt)?kt.value=!1:kt=!1)},{header:M(()=>[...t[42]||(t[42]=[])]),_:1},8,["formData","show"]),i(Xa,{formDriving:s(U),show:!!s(rt),onA:t[12]||(t[12]=r=>aa(r)),onClose:t[13]||(t[13]=r=>$(rt)?rt.value=!1:rt=!1)},{header:M(()=>[...t[43]||(t[43]=[])]),_:1},8,["formDriving","show"]),i(va,{formData:s(h),show:!!s(it),client:y.clients,systemConfig:y.config,onA:t[14]||(t[14]=r=>qe(r)),onClose:t[15]||(t[15]=r=>$(it)?it.value=!1:it=!1)},{header:M(()=>[...t[44]||(t[44]=[])]),_:1},8,["formData","show","client","systemConfig"]),i(ha,{formData:s(h),show:!!s(J),onA:t[16]||(t[16]=r=>je(r)),onClose:t[17]||(t[17]=r=>$(J)?J.value=!1:J=!1)},{header:M(()=>[...t[45]||(t[45]=[])]),_:1},8,["formData","show"]),i(Rt,{show:!!s(ut),formData:s(h),onA:t[18]||(t[18]=r=>Ve(r)),onClose:t[19]||(t[19]=r=>$(ut)?ut.value=!1:ut=!1)},{header:M(()=>[...t[46]||(t[46]=[a("h2",{class:"mb-5 dark:text-gray-400 text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1)])]),_:1},8,["show","formData"]),i(ya,{show:!!s(j),data:s(j).toString(),onA:t[20]||(t[20]=r=>Ee(r,e.arg1)),onClose:t[21]||(t[21]=r=>$(j)?j.value=!1:j=!1)},null,8,["show","data"]),e.$page.props.success?(u(),p("div",or,[a("div",sr,[a("div",lr,n(e.$page.props.success),1)])])):m("",!0),e.$page.props.auth.user.type_id==1||e.$page.props.auth.user.type_id==6?(u(),p("div",nr,[a("div",dr,[a("h2",ir,n(e.$t("sales_bill")),1),(o=C.client)!=null&&o.has_internal_sales?(u(),Ht(s(me),{key:0,href:`/internalSales/${Q.value}`,class:"px-4 py-2 text-white bg-purple-600 rounded hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800 flex items-center gap-2"},{default:M(()=>[...t[47]||(t[47]=[a("span",null,"\u{1F4B0}",-1),a("span",null,"\u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A \u0627\u0644\u062F\u0627\u062E\u0644\u064A\u0629",-1)])]),_:1},8,["href"])):m("",!0)]),a("div",ur,[a("div",cr,[a("div",pr,[a("div",br,[i(w,{class:"mb-1",for:"invoice_number",value:e.$t("Account")},null,8,["value"]),T(a("select",{onChange:t[22]||(t[22]=r=>E()),"onUpdate:modelValue":t[23]||(t[23]=r=>$(S)?S.value=r:S=r),id:"default",class:"pr-8 border border-gray-300 text-gray-900 mb-6 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:border-gray-400 dark:placeholder-gray-400 dark:text-gray-600 dark:focus:ring-red-500 dark:focus:border-red-500"},[a("option",gr,n(e.$t("selectCustomer")),1),(u(!0),p(X,null,Et(y.clients,(r,lt)=>(u(),p(X,{key:lt},[r.wallet.balance>0||r.id==s(S)?(u(),p("option",{key:0,value:r.id},n(r.name),9,fr)):m("",!0)],64))),128))],544),[[ga,s(S)]])]),a("div",null,[a("div",mr,[i(w,{for:"filters",value:"\u062E\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0639\u0631\u0636",class:"mb-2"}),a("div",yr,[a("div",xr,[t[49]||(t[49]=a("label",{for:"switch-completed",class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u0643\u062A\u0645\u0644\u0629 ",-1)),a("label",vr,[a("input",{type:"checkbox",id:"switch-completed",onChange:t[24]||(t[24]=r=>$(A)?A.value=!s(A):A=!s(A)),checked:!s(A),class:"sr-only peer"},null,40,hr),t[48]||(t[48]=a("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])])])]),a("div",kr,[a("div",_r,[i(w,{for:"from",value:e.$t("from_date")},null,8,["value"]),i(I,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:s(D),"onUpdate:modelValue":t[25]||(t[25]=r=>$(D)?D.value=r:D=r)},null,8,["modelValue"])])]),a("div",wr,[a("div",$r,[i(w,{for:"to",value:e.$t("to_date")},null,8,["value"]),i(I,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:s(N),"onUpdate:modelValue":t[26]||(t[26]=r=>$(N)?N.value=r:N=r)},null,8,["modelValue"])])]),a("div",Cr,[i(w,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),a("button",{onClick:t[27]||(t[27]=yt(r=>s(_t)(1,!1),["prevent"])),class:"w-full px-6 py-2 mt-1 font-bold text-white bg-gray-500 rounded"},[...t[50]||(t[50]=[a("span",null,"\u0641\u0644\u062A\u0631\u0629",-1)])])]),a("div",Dr,[i(w,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),a("a",{href:`/api/getIndexAccountsSelas?user_id=${s(S)}&from=${s(D)}&to=${s(N)}&print=1&showComplatedCars=${s(A)?0:1}`,target:"_blank",class:"w-full px-6 py-2 mt-1 font-bold text-white bg-orange-500 rounded block text-center"},[...t[51]||(t[51]=[a("span",null,"\u0637\u0628\u0627\u0639\u0629",-1)])],8,Nr)]),a("div",Ar,[i(w,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),a("a",{href:`/api/getIndexAccountsSelas?user_id=${s(S)}&from=${s(D)}&to=${s(N)}&print=1&printExcel=1&showComplatedCars=${s(A)?0:1}`,target:"_blank",class:"w-full px-6 py-2 mt-1 font-bold text-white bg-green-500 rounded block text-center"},[...t[52]||(t[52]=[a("span",null,"Excel",-1)])],8,Sr)]),a("div",Ir,[i(w,{for:"car_total",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A"}),i(I,{id:"car_total",type:"text",class:"mt-1 block w-full",value:s(l).car_total,disabled:""},null,8,["value"])]),a("div",Pr,[i(w,{for:"cars_sum",value:e.$t("Total_in_dollars")+" \u062C\u0645\u0631\u0643 "},null,8,["value"]),i(I,{id:"cars_sum",type:"text",class:"mt-1 block w-full",value:(d=s(l))==null?void 0:d.cars_sum,disabled:""},null,8,["value"])]),a("div",Mr,[i(w,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u062F\u0641\u0648\u0639  \u062C\u0645\u0631\u0643 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),i(I,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:(_=(c=s(l))==null?void 0:c.cars_paid)!=null?_:0,disabled:""},null,8,["value"])]),a("div",Fr,[i(w,{for:"cars_discount",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A  \u062C\u0645\u0631\u0643 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),i(I,{id:"cars_discount",type:"text",class:"mt-1 block w-full",value:(v=s(l))==null?void 0:v.cars_discount,disabled:""},null,8,["value"])]),a("div",Er,[i(w,{for:"cars_need_paid",value:"\u0627\u0644\u0631\u0635\u064A\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 (\u0627\u0644\u062F\u064A\u0646)"}),i(I,{id:"cars_need_paid",type:"number",class:"mt-1 block w-full",value:(parseFloat((b=s(l))==null?void 0:b.cars_sum)||0)-(parseFloat((x=s(l))==null?void 0:x.cars_paid)||0)-(parseFloat((z=s(l))==null?void 0:z.cars_discount)||0),disabled:""},null,8,["value"]),a("button",{type:"button",onClick:t[28]||(t[28]=r=>jt()),disabled:!Q.value||Pt.value||s(At),class:"mt-2 w-full px-4 py-2 text-sm font-bold text-white bg-amber-600 rounded hover:bg-amber-700 disabled:opacity-50 disabled:cursor-not-allowed"},n(s(At)?"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u0635\u062D\u064A\u062D...":"\u062A\u0635\u062D\u064A\u062D \u0627\u0644\u0631\u0635\u064A\u062F"),9,Br)]),(parseFloat((R=s(l))==null?void 0:R.cars_sum)||0)-(parseFloat((Xt=s(l))==null?void 0:Xt.cars_paid)||0)-(parseFloat((Jt=s(l))==null?void 0:Jt.cars_discount)||0)!=0?(u(),p("div",Tr,[i(w,{for:"pay",value:"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629"}),s(L)?m("",!0):(u(),p("button",{key:0,onClick:t[29]||(t[29]=yt(r=>He(),["prevent"])),disabled:s(k),class:"px-6 mb-6 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},[...t[53]||(t[53]=[a("span",null,"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629",-1)])],8,Ur)),s(L)?(u(),p("button",{key:1,onClick:t[30]||(t[30]=yt(r=>Le(),["prevent"])),disabled:s(k),class:"px-6 mb-6 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},[...t[54]||(t[54]=[a("span",null,"\u0627\u062E\u0641\u0627\u0621 \u062F\u0641\u0639\u0629",-1)])],8,Vr)):m("",!0)])):m("",!0),a("div",qr,[i(w,{for:"pay",value:"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A"}),s(K)?m("",!0):(u(),p("button",{key:0,onClick:t[31]||(t[31]=yt(r=>Oe(),["prevent"])),disabled:s(k),class:"px-6 mb-6 py-2 mt-1 font-bold text-white bg-purple-500 rounded",style:{width:"100%"}},[...t[55]||(t[55]=[a("span",null,"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1)])],8,jr)),s(K)?(u(),p("button",{key:1,onClick:t[32]||(t[32]=yt(r=>Qe(),["prevent"])),class:"px-6 mb-6 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},[...t[56]||(t[56]=[a("span",null,"\u0627\u062E\u0641\u0627\u0621 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1)])])):m("",!0)]),a("div",zr,[i(w,{for:"client_phone",value:"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0627\u0644\u0632\u0628\u0648\u0646"}),i(I,{id:"client_phone",type:"text",class:xt(["mt-1 block w-full border rounded",Ot.value?"border-red-500 focus:border-red-500 focus:ring-red-400":"border-gray-300 focus:border-indigo-500 focus:ring-indigo-200"]),modelValue:s(W),"onUpdate:modelValue":t[33]||(t[33]=r=>$(W)?W.value=r:W=r),disabled:s(St)},null,8,["class","modelValue","disabled"]),Ot.value?(u(),p("p",Rr," \u0627\u0644\u0631\u0642\u0645 \u064A\u062C\u0628 \u0623\u0644\u0627 \u064A\u062A\u062C\u0627\u0648\u0632 10 \u0623\u0631\u0642\u0627\u0645. ")):m("",!0),s(St)?(u(),p("p",Hr," \u062C\u0627\u0631\u064A \u062D\u0641\u0638 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641... ")):m("",!0)]),a("div",Lr,[i(w,{for:"unallocated_balance",value:"\u0627\u0644\u0631\u0635\u064A\u062F \u063A\u064A\u0631 \u0645\u0648\u0632\u0639 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 (\u0627\u0644\u062F\u0641\u0639\u0627\u062A \u063A\u064A\u0631 \u0627\u0644\u0645\u0648\u0632\u0639\u0629 \u0639\u0644\u0649 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A)"}),i(I,{id:"unallocated_balance",type:"number",class:"mt-1 block w-full",value:(Kt=Mt.value)!=null?Kt:0,disabled:""},null,8,["value"])]),a("div",Or,[i(w,{for:"contract_total",value:"\u0627\u0644\u0639\u0642\u0648\u062F \u0627\u0644\u0645\u0646\u062C\u0632\u0629"}),i(I,{id:"contract_total",type:"text",class:"mt-1 block w-full",value:s(l).contract_total,disabled:""},null,8,["value"])]),a("div",Qr,[i(w,{for:"exit_car_total",value:"\u0627\u0644\u062E\u0631\u0648\u062C\u064A\u0627\u062A \u0627\u0644\u0645\u0646\u062C\u0632\u0629"}),i(I,{id:"exit_car_total",type:"text",class:"mt-1 block w-full",value:s(l).exit_car_total,disabled:""},null,8,["value"])]),a("div",Wr,[i(w,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u064A\u0646 \u0639\u0642\u0648\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),i(I,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:(te=s(l))==null?void 0:te.contract_total_debit_Dollar,disabled:""},null,8,["value"])])]),s(L)?(u(),p("div",Yr,[a("div",Zr,[i(w,{for:"discount",value:"\u0627\u0644\u062E\u0635\u0645"}),i(I,{id:"discount",type:"number",onInput:Je,class:"mt-1 block w-full",modelValue:s(O),"onUpdate:modelValue":t[34]||(t[34]=r=>$(O)?O.value=r:O=r)},null,8,["modelValue"])]),a("div",Gr,[i(w,{for:"percentage",value:" \u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0645\u0631\u0627\u062F \u062F\u0641\u0639\u0647"}),i(I,{id:"percentage",type:"number",onInput:Ke,class:"mt-1 block w-full",modelValue:s(B),"onUpdate:modelValue":t[35]||(t[35]=r=>$(B)?B.value=r:B=r)},null,8,["modelValue"])]),a("div",Xr,[i(w,{for:"discount",value:"\u0645\u0644\u0627\u062D\u0638\u0629"}),i(I,{id:"discount",type:"text",class:"mt-1 block w-full",modelValue:s(ot),"onUpdate:modelValue":t[36]||(t[36]=r=>$(ot)?ot.value=r:ot=r)},null,8,["modelValue"])]),a("div",Jr,[i(w,{for:"pay",value:"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062F\u0641\u0639"}),a("button",{onClick:t[37]||(t[37]=yt(r=>ze(s(B),s(S),s(O),s(ot)),["prevent"])),disabled:s(k),class:"px-6 mb-6 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},[s(Tt)?(u(),p("span",to,"\u064A\u0631\u062C\u0649 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u0645\u0628\u0644\u063A \u0644")):m("",!0),s(k)?(u(),p("span",ao,"\u062C\u0627\u0631\u064A \u0627\u0644\u0637\u0628\u0627\u0639\u0629...")):(u(),p("span",eo,"\u062F\u0641\u0639"))],8,Kr)])])):m("",!0),s(K)?(u(),p("div",ro,[a("table",oo,[a("thead",so,[a("tr",lo,[t[57]||(t[57]=a("th",{className:"px-1 py-2 text-base"},"#",-1)),t[58]||(t[58]=a("th",{className:"px-1 py-2 text-base"},"no",-1)),a("th",no,n(e.$t("date")),1),a("th",io,n(e.$t("description")),1),a("th",uo,n(e.$t("amount")),1),a("th",co,n(e.$t("execute")),1)])]),a("tbody",null,[a("tr",po,[t[60]||(t[60]=a("td",null,null,-1)),t[61]||(t[61]=a("td",null,null,-1)),t[62]||(t[62]=a("td",null,null,-1)),t[63]||(t[63]=a("td",null,null,-1)),a("td",bo,[a("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${s(l).client.id}&from=${s(D)}&to=${s(N)}&print=4`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-blue-500 rounded"},[t[59]||(t[59]=ht(" \u062C\u0645\u064A\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A ",-1)),i(Bt)],8,go)])]),(u(!0),p(X,null,Et(((ee=s(l))==null?void 0:ee.transactions)||[],r=>(u(),p(X,{key:r.id},[r.type=="out"&&r.amount<0&&r.is_pay==1?(u(),p("tr",fo,[a("td",mo,n($(Nt)?Nt.value++:Nt++),1),a("td",yo,n(r.id),1),a("td",xo,n(s(Sa)(r.created_at)),1),a("td",vo,[Ct.value===r.id?(u(),p("div",ho,[T(a("textarea",{"onUpdate:modelValue":t[38]||(t[38]=lt=>Z.value=lt),class:"w-full rounded border border-gray-300 dark:border-gray-700 dark:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm leading-6 p-2",rows:"3",maxlength:vt,placeholder:"\u0627\u0643\u062A\u0628 \u0627\u0644\u0648\u0635\u0641 \u0627\u0644\u062C\u062F\u064A\u062F \u0647\u0646\u0627"},null,512),[[H,Z.value]]),a("div",ko,[a("span",null,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 "+n(vt)+" \u062D\u0631\u0641\u064B\u0627"),a("span",{class:xt(Z.value.length>vt?"text-red-500":"")},n(Z.value.length)+"/"+n(vt),3)]),V.value?(u(),p("p",_o,n(V.value),1)):m("",!0),a("div",wo,[a("button",{type:"button",class:"px-3 py-1 text-sm font-semibold rounded bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-200",onClick:Ft,disabled:G.value}," \u0625\u0644\u063A\u0627\u0621 ",8,$o),a("button",{type:"button",class:"px-3 py-1 text-sm font-semibold text-white bg-green-600 rounded disabled:opacity-70",onClick:lt=>la(r),disabled:G.value},[G.value?(u(),p("span",Do,"\u062C\u0627\u0631\u064D \u0627\u0644\u062D\u0641\u0638...")):(u(),p("span",No,"\u062D\u0641\u0638"))],8,Co)])])):(u(),p("div",Ao,[a("span",So,n(r.description),1),r._descriptionUpdated?(u(),p("span",Io," \u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B ")):m("",!0)]))]),a("td",Po,n(r.amount*-1),1),a("td",Mo,[a("button",{class:"px-4 py-2 text-white bg-blue-500 rounded-md focus:outline-none disabled:opacity-60",title:"\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0648\u0635\u0641",onClick:lt=>sa(r),disabled:G.value&&Ct.value===r.id},[i(ve,{class:"w-4 h-4"})],8,Fo),r.type=="out"&&r.amount<0?(u(),p("a",{key:0,target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${s(l).client.id}&from=${s(D)}&to=${s(N)}&print=2&transactions_id=${r.id}`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-green-500 rounded"},[i(Bt)],8,Eo)):m("",!0)])])):m("",!0)],64))),128)),a("tr",Bo,[t[64]||(t[64]=a("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A",-1)),a("td",null,n((ae=s(l))==null?void 0:ae.cars_discount),1),t[65]||(t[65]=a("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1)),a("td",To,n(wt().totalAmount*-1),1),a("td",null,"\u0627\u0644\u0646\u062A\u0627\u062A\u062C : "+n(wt().totalAmount*-1-parseInt((re=s(l))==null?void 0:re.cars_discount)),1)])])])])):m("",!0),a("div",null,[s(pt)?(u(),p("div",Vo,[a("table",qo,[a("thead",jo,[a("tr",zo,[a("th",Ro,n(e.$t("no")),1),a("th",Ho,n(e.$t("car_type")),1),a("th",Lo,n(e.$t("year")),1),a("th",Oo,n(e.$t("color")),1),a("th",Qo,n(e.$t("vin")),1),a("th",Wo,n(e.$t("car_number")),1),a("th",Yo,n(e.$t("dinar")),1),a("th",Zo,n(e.$t("dolar_price")),1),a("th",Go,n(e.$t("dolar_custom")),1),a("th",Xo,n(e.$t("note")),1),t[67]||(t[67]=a("th",{scope:"col",class:"px-1 py-2 text-base print:hidden"}," \u062C\u0645\u0631\u0643 \u0645\u0646\u0641\u0633\u062A ",-1)),t[68]||(t[68]=a("th",{scope:"col",class:"px-1 py-2 text-base print:hidden"}," \u062E\u0635\u0645 \u0645\u0628\u0627\u0634\u0631 ",-1)),a("th",Jo,n(e.$t("shipping_dolar")),1),a("th",Ko,n(e.$t("coc_dolar")),1),a("th",ts,n(e.$t("checkout")),1),a("th",es,n(e.$t("expenses")),1),t[69]||(t[69]=a("th",{scope:"col",class:"px-1 py-2 text-base"}," \u0646\u0642\u0644 \u0628\u0631\u064A ",-1)),a("th",as,n(e.$t("total")),1),a("th",rs,n(e.$t("paid")),1),a("th",os,n(e.$t("discount")),1),t[70]||(t[70]=a("th",{scope:"col",class:"px-1 py-2 text-base bg-gradient-to-r from-blue-500 to-indigo-500 text-white dark:from-blue-600 dark:to-indigo-600"}," \u0627\u0644\u0631\u0635\u064A\u062F ",-1)),a("th",ss,n(e.$t("date")),1),a("th",ls,n(e.$t("execute")),1),t[71]||(t[71]=a("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"100px"}}," \u062A\u062E\u0632\u064A\u0646 ",-1)),t[72]||(t[72]=a("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"120px"}}," \u0627\u0644\u0631\u0635\u064A\u062F ",-1))])]),a("tbody",null,[(u(!0),p(X,null,Et(zt.value,(r,lt)=>{var se,le,ne,de,ie,ue,ce,pe,be,ge,fe;return u(),p(X,{key:r.id},[r.type==="car"?T((u(),p("tr",{key:0,class:xt([[{"bg-red-100 dark:bg-red-900":r.data.results==0,"bg-red-100 dark:bg-red-900":r.data.results==1,"bg-green-200 dark:bg-green-800 border-green-400 dark:border-green-600":r.data.results==2},$e(r)?"ring-2 ring-inset":"",$t(r.data)?"query-highlight-row":""],"border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"]),"data-car-match":$t(r.data)?"true":null,ref_for:!0,ref:F=>Me(F,r.data),style:ye(Ce(r))},[a("td",ds,n(lt+1),1),a("td",is,n(r.data.car_type),1),a("td",us,n(r.data.year),1),a("td",cs,n(r.data.car_color),1),a("td",ps,n(r.data.vin),1),a("td",bs,n(r.data.car_number),1),a("td",gs,n(r.data.dinar_s),1),a("td",fs,n(r.data.dolar_price_s),1),a("td",ms,n((r.data.dinar_s/r.data.dolar_price_s*100).toFixed(0)||0),1),a("td",ys,n(r.data.note),1),a("td",xs,n((r.data.dinar_s/13e4*100).toFixed(0)||0),1),a("td",vs,n(((r.data.dinar_s/13e4*100).toFixed(0)||0)-((r.data.dinar_s/r.data.dolar_price_s*100).toFixed(0)||0)),1),a("td",hs,n(r.data.shipping_dolar_s),1),a("td",ks,n(r.data.coc_dolar_s),1),a("td",_s,n(r.data.checkout_s),1),a("td",ws,n(r.data.expenses_s),1),a("td",$s,n(r.data.land_shipping_s),1),a("td",Cs,n(r.data.total_s.toFixed(0)),1),a("td",Ds," $"+n((r.data.paid||0).toLocaleString("en-US")),1),a("td",Ns,n(r.data.discount),1),a("td",{className:"border dark:border-gray-800 text-center px-2 py-1 font-bold",class:xt({"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":r.totalSum>0,"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":r.totalSum<=0})},n(((se=r.totalSum)==null?void 0:se.toFixed(0))||0),3),a("td",As,n(r.data.date),1),a("td",Ss,[a("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-slate-500 rounded",onClick:F=>Te(r.data)},[i(ve)],8,Is),a("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-orange-500 rounded",onClick:F=>Be(r.data)},[i(Da)],8,Ps),r.data.total_s!=r.data.paid+r.data.discount?(u(),p("button",{key:0,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:F=>Ue(r.data)},[i(xe)],8,Ms)):m("",!0),((le=r.data.contract)==null?void 0:le.price)!=((ne=r.data.contract)==null?void 0:ne.paid)||((de=r.data.contract)==null?void 0:de.price_dinar)!=((ie=r.data.contract)==null?void 0:ie.paid_dinar)?(u(),p("button",{key:1,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-pink-500 rounded",onClick:F=>Ye(r.data)},[i(xe)],8,Fs)):m("",!0),r.data.contract?m("",!0):(u(),p("button",{key:2,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-yellow-500 rounded",onClick:F=>We(r.data)},[i(Ia)],8,Es)),r.data.is_exit?m("",!0):(u(),p("button",{key:3,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-red-500 rounded",onClick:F=>Ze(r.data)},[i(Ca)],8,Bs)),r.data.is_exit?(u(),p("button",{key:4,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-blue-500 rounded",onClick:F=>Ge(r.data)},[i(Na)],8,Ts)):m("",!0),a("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-violet-500 rounded",onClick:F=>Xe(r.data)},[i(Dt)],8,Us),a("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${s(l).client.id}&print=6&car_id=${r.data.id}`,tabIndex:"1",class:"px-1 py-1 text-white m-1 bg-gray-900 rounded"},[i(Bt,{class:"inline-flex"})],8,Vs),((ue=C.client)==null?void 0:ue.has_internal_sales)&&((ce=r.data.internal_sale)==null?void 0:ce.client)?(u(),p("span",qs," \u{1F464} "+n(r.data.internal_sale.client.name),1)):((pe=C.client)==null?void 0:pe.has_internal_sales)&&!r.data.internal_sale?(u(),Ht(s(me),{key:6,href:`/internalSales/${Q.value}?car_id=${r.data.id}`,tabIndex:"1",class:"px-1 py-1 text-white m-1 bg-purple-600 rounded hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800",title:"\u0628\u064A\u0639 \u0641\u064A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A \u0627\u0644\u062F\u0627\u062E\u0644\u064A\u0629"},{default:M(()=>[...t[73]||(t[73]=[ht(" \u{1F4B0} ",-1)])]),_:1},8,["href"])):m("",!0)]),a("td",js,[(u(!0),p(X,null,Et(r.data.car_images,(F,na)=>(u(),p("a",{key:na,href:oa(F.name),style:{cursor:"pointer"},target:"_blank"},[a("img",{src:ra(F.name),alt:"",class:"px-1",style:{"max-width":"80px","max-height":"50px",display:"inline"}},null,8,Rs)],8,zs))),128))]),a("td",Hs,[Mt.value!=0?(u(),p("button",{key:0,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:F=>Ne(r.data)}," \u062F\u0641\u0639 \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",8,Ls)):m("",!0),wt().totalAmount*-1-((be=s(l))==null?void 0:be.cars_discount)-((ge=s(l))==null?void 0:ge.cars_sum)!=0&&r.data.paid?(u(),p("button",{key:1,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 mt-1 text-white mx-1 bg-red-500 rounded",onClick:F=>Ae(r.data)}," \u0627\u0639\u0627\u062F\u0629 \u0644\u0644\u0631\u0635\u064A\u062F ",8,Os)):m("",!0)])],14,ns)),[[fa,Gt(r.data)]]):m("",!0),r.type==="payment"?(u(),p("tr",{key:1,class:xt(["bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/30 dark:to-pink-900/30 border-b dark:border-gray-700",Wt(r)?"ring-2 ring-inset":""]),style:ye(De(r))},[t[75]||(t[75]=a("td",{className:"border dark:border-gray-800 text-center px-2 py-2 font-bold text-purple-800 dark:text-purple-200"}," \u{1F4B3} ",-1)),a("td",Qs,[a("span",Ws,n(r.data.description),1)]),t[76]||(t[76]=a("td",{colspan:"2",className:"border dark:border-gray-800 text-center px-2 py-2"},null,-1)),t[77]||(t[77]=a("td",{colspan:"4",className:"border dark:border-gray-800 text-center px-2 py-2 print:hidden"},null,-1)),t[78]||(t[78]=a("td",{colspan:"5",className:"border dark:border-gray-800 text-center px-2 py-2"},null,-1)),a("td",Ys,[t[74]||(t[74]=a("span",{class:"text-red-600 dark:text-red-400"},"\u2B07\uFE0F -",-1)),ht(" "+n((r.data.amount*-1).toFixed(0)),1)]),t[79]||(t[79]=a("td",{className:"border dark:border-gray-800 text-center px-2 py-2 bg-red-50 dark:bg-red-900/20"},null,-1)),t[80]||(t[80]=a("td",{className:"border dark:border-gray-800 text-center px-2 py-2 bg-red-50 dark:bg-red-900/20"},null,-1)),a("td",{className:"border dark:border-gray-800 text-center px-2 py-2 font-bold text-base",class:xt({"bg-purple-600 text-white dark:bg-purple-700":r.totalSum>0,"bg-green-600 text-white dark:bg-green-700":r.totalSum<=0})},n(((fe=r.totalSum)==null?void 0:fe.toFixed(0))||0),3),a("td",Zs,n(r.data.created),1),a("td",Gs,[a("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${s(l).client.id}&print=2&transactions_id=${r.data.id}`,tabIndex:"1",class:"px-2 py-1 text-white bg-purple-600 rounded hover:bg-purple-700"},[i(Bt,{class:"inline-flex"})],8,Xs)]),t[81]||(t[81]=a("td",{className:"border dark:border-gray-800 text-center px-2 py-2 print:hidden"},null,-1)),t[82]||(t[82]=a("td",{className:"border dark:border-gray-800 text-center px-2 py-2 print:hidden"},null,-1))],6)):m("",!0)],64)}),128)),!s(ct)&&Mt.value!=0?(u(),p("tr",Js,[t[83]||(t[83]=a("td",{className:"border dark:border-gray-800 text-center px-2 py-3 font-bold"},null,-1)),t[84]||(t[84]=a("td",{colspan:"16",className:"border dark:border-gray-800 text-start px-4 py-3"},[a("span",{class:"text-xl font-bold text-amber-800 dark:text-amber-200"},"\u{1F4B0} \u0627\u0644\u0631\u0635\u064A\u062F \u063A\u064A\u0631 \u0627\u0644\u0645\u0648\u0632\u0639 \u0639\u0644\u0649 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A:")],-1)),t[85]||(t[85]=a("td",{className:"border dark:border-gray-800 text-center px-2 py-3"},null,-1)),t[86]||(t[86]=a("td",{className:"border dark:border-gray-800 text-center px-2 py-3"},null,-1)),t[87]||(t[87]=a("td",{className:"border dark:border-gray-800 text-center px-2 py-3"},null,-1)),a("td",Ks,n(Mt.value.toFixed(0)),1),t[88]||(t[88]=a("td",{className:"border dark:border-gray-800 text-center px-2 py-3"},null,-1)),t[89]||(t[89]=a("td",{colspan:"3",className:"border dark:border-gray-800 text-center px-2 py-3 print:hidden"},null,-1))])):m("",!0)])])])):(u(),p("div",Uo,[...t[66]||(t[66]=[a("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"},null,-1),a("p",{class:"mt-4 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...",-1)])]))]),a("div",tl,[i(s(xa),{data:s(l),onPaginationChangePage:s(_t),limit:2},null,8,["data","onPaginationChangePage"])])])])])):m("",!0),a("div",el,[a("div",al,[a("div",rl,[t[90]||(t[90]=ht(" \u062A\u0648\u0642\u064A\u0639 \u0635\u0627\u062D\u0628 \u0627\u0644\u062D\u0633\u0627\u0628 ",-1)),t[91]||(t[91]=a("br",null,null,-1)),ht(" "+n((oe=s(l).client)==null?void 0:oe.name),1)]),t[92]||(t[92]=a("div",{class:"basis-1/2 text-center"},"\u062A\u0648\u0642\u064A\u0639 \u0642\u0633\u0645 \u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1)),t[93]||(t[93]=a("div",{class:"basis-1/2 text-end"},"\u062A\u0648\u0642\u064A\u0639 \u0627\u0644\u0645\u062F\u064A\u0631",-1))])])]}),_:1})],64))}};export{Sl as default};
