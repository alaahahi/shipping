import{r as p,E as w,o as g,c as _,w as D,a as u,b as e,f as V,d as C,e as l,v as n,F as U,h as $,t as N,i as x,T}from"./app.a8dba1dc.js";const S={key:0,class:"modal-mask"},A={class:"modal-wrapper max-h-[90vh]"},B={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[90vh]"},F={class:"modal-header text-center py-4 dark:text-gray-300"},M={class:"modal-body"},O={class:"grid grid-cols-2 gap-3 lg:gap-2"},I={class:"mb-4 mx-5"},L={class:"mb-4 mx-5"},R={class:"mb-4 mx-5"},j=["value"],E={class:"mb-4 mx-5"},H=["value"],W={class:"mb-4 mx-5"},Y={class:"mb-4 mx-5"},q={class:"flex justify-between items-center mb-2"},z={class:"dark:text-gray-200 font-semibold"},G=["onClick"],J={class:"grid grid-cols-2 gap-3"},K=["onUpdate:modelValue"],P=["onUpdate:modelValue"],Q=["onUpdate:modelValue"],X=["onUpdate:modelValue"],Z={class:"col-span-2"},ee=["onUpdate:modelValue"],ae={class:"modal-footer my-2"},oe={class:"flex flex-row"},re={class:"basis-1/2 px-4"},te={class:"basis-1/2 px-4"},de=["disabled"],ne={__name:"ModalShowDamageReport",props:{show:Boolean,formDamage:Object},emits:["close","save"],setup(t,{emit:se}){var y,k,v;let s=t;const r=p(((y=s.formDamage)==null?void 0:y.cars_info)||[]),c=p(0),m=()=>{c.value=r.value.reduce((i,a)=>{const o=parseFloat(String(a.damage||0).replace("$","").trim())||0;return i+o},0)},f=()=>{r.value.push({car:"",vin:"",model:"",color:"",damage:""})},h=i=>{r.value.splice(i,1),m()};return w(r,()=>{m(),s.formDamage.cars_count=r.value.length,s.formDamage.total_damage=c.value,s.formDamage.cars_info=r.value},{deep:!0}),r.value.length===0&&(!((k=s.formDamage)!=null&&k.cars_info)||s.formDamage.cars_info.length===0)?f():((v=s.formDamage)==null?void 0:v.cars_info)&&s.formDamage.cars_info.length>0&&(r.value=s.formDamage.cars_info),m(),(i,a)=>(g(),_(T,{name:"modal"},{default:D(()=>[t.show?(g(),u("div",S,[e("div",A,[e("div",B,[e("div",F,[a[5]||(a[5]=V(" \u062A\u0642\u0631\u064A\u0631 \u0636\u0631\u0631 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A ",-1)),C(i.$slots,"header")]),e("div",M,[e("div",O,[e("div",I,[a[6]||(a[6]=e("label",{class:"dark:text-gray-200",for:"driverName"},"\u0627\u0633\u0645 \u0627\u0644\u0633\u0627\u0626\u0642",-1)),l(e("input",{id:"driverName",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[0]||(a[0]=o=>t.formDamage.driver_name=o)},null,512),[[n,t.formDamage.driver_name]])]),e("div",L,[a[7]||(a[7]=e("label",{class:"dark:text-gray-200",for:"cmrNumber"},"\u0631\u0642\u0645 CMR",-1)),l(e("input",{id:"cmrNumber",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[1]||(a[1]=o=>t.formDamage.cmr_number=o)},null,512),[[n,t.formDamage.cmr_number]])]),e("div",R,[a[8]||(a[8]=e("label",{class:"dark:text-gray-200",for:"carsCount"},"\u0639\u062F\u062F \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A",-1)),e("input",{id:"carsCount",type:"number",readonly:"",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900",value:r.value.length},null,8,j)]),e("div",E,[a[9]||(a[9]=e("label",{class:"dark:text-gray-200",for:"totalDamage"},"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0636\u0631\u0631 ($)",-1)),e("input",{id:"totalDamage",type:"text",readonly:"",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900",value:c.value.toFixed(2)+"$"},null,8,H)]),e("div",W,[a[10]||(a[10]=e("label",{class:"dark:text-gray-200",for:"createdDate"},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E",-1)),l(e("input",{id:"createdDate",type:"date",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[2]||(a[2]=o=>t.formDamage.created=o)},null,512),[[n,t.formDamage.created]])])]),e("div",Y,[e("div",{class:"flex justify-between items-center mb-2"},[a[11]||(a[11]=e("label",{class:"dark:text-gray-200 font-bold"},"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A",-1)),e("button",{onClick:f,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"}," \u0625\u0636\u0627\u0641\u0629 \u0633\u064A\u0627\u0631\u0629 ")]),(g(!0),u(U,null,$(r.value,(o,b)=>(g(),u("div",{key:b,class:"mb-4 p-4 border border-gray-300 dark:border-gray-700 rounded"},[e("div",q,[e("h4",z,"\u0627\u0644\u0633\u064A\u0627\u0631\u0629 "+N(b+1),1),r.value.length>1?(g(),u("button",{key:0,onClick:d=>h(b),class:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 text-sm"}," \u062D\u0630\u0641 ",8,G)):x("",!0)]),e("div",J,[e("div",null,[a[12]||(a[12]=e("label",{class:"dark:text-gray-200 text-sm"},"\u0627\u0644\u0633\u064A\u0627\u0631\u0629",-1)),l(e("input",{type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":d=>o.car=d,placeholder:"\u0645\u062B\u0627\u0644: TOYOTA COROLLA"},null,8,K),[[n,o.car]])]),e("div",null,[a[13]||(a[13]=e("label",{class:"dark:text-gray-200 text-sm"},"\u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0646\u0635\u064A (VIN)",-1)),l(e("input",{type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":d=>o.vin=d,placeholder:"\u0645\u062B\u0627\u0644: LFMAAA0C9S0664914"},null,8,P),[[n,o.vin]])]),e("div",null,[a[14]||(a[14]=e("label",{class:"dark:text-gray-200 text-sm"},"\u0627\u0644\u0645\u0648\u062F\u064A\u0644",-1)),l(e("input",{type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":d=>o.model=d,placeholder:"\u0645\u062B\u0627\u0644: 2025"},null,8,Q),[[n,o.model]])]),e("div",null,[a[15]||(a[15]=e("label",{class:"dark:text-gray-200 text-sm"},"\u0627\u0644\u0644\u0648\u0646",-1)),l(e("input",{type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":d=>o.color=d,placeholder:"\u0645\u062B\u0627\u0644: WHITE"},null,8,X),[[n,o.color]])]),e("div",Z,[a[16]||(a[16]=e("label",{class:"dark:text-gray-200 text-sm"},"\u0627\u0644\u0636\u0631\u0631 ($)",-1)),l(e("input",{type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":d=>o.damage=d,placeholder:"\u0645\u062B\u0627\u0644: 200$",onInput:m},null,40,ee),[[n,o.damage]])])])]))),128))])]),e("div",ae,[e("div",oe,[e("div",re,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:a[3]||(a[3]=o=>{i.$emit("close")})}," \u0625\u0644\u063A\u0627\u0621 ")]),e("div",te,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:a[4]||(a[4]=o=>i.$emit("save",t.formDamage)),disabled:!t.formDamage.driver_name||!t.formDamage.cmr_number||r.value.length===0}," \u062D\u0641\u0638 ",8,de)])])])])])])):x("",!0)]),_:3}))}};export{ne as _};
