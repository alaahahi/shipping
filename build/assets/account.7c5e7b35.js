import{r as a,a as d,g as n,j as r,w as p,F as H,o as i,H as de,k as u,b as e,t as l,i as c,l as ie,h as ce,n as ue}from"./app.42f376bb.js";import{_ as pe}from"./AuthenticatedLayout.428900a7.js";/* empty css                                              */import{M as me,_ as ge,a as he,b as fe,c as _e}from"./ModalDel.d074a18f.js";import{_ as ve,a as be}from"./imags.e2967535.js";import{_ as C,a as A}from"./TextInput.c05190a0.js";import{a as h}from"./index.f30b99ca.js";import{t as xe}from"./trash.1ace368a.js";import{W as ye}from"./v3-infinite-loading.es.c4f7503c.js";import{d as we}from"./debounce.6a0e5a7f.js";/* empty css                                                         */import"./Uploader.c3691560.js";/* empty css                                                                 */const ke=e("h2",{class:"mb-5 dark:text-white text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0644\u062D\u0630\u0641 \u061F ",-1),Ce=e("h2",{class:"mb-5 dark:text-white text-center"}," \u062A\u062D\u0645\u064A\u0644 \u0645\u0644\u0641\u0627\u062A ",-1),$e=e("h3",{class:"text-center"},"\u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1),De=e("h3",{class:"text-center"},"\u0627\u062F\u062E\u0627\u0644 \u0645\u0635\u0627\u0631\u064A\u0641",-1),Be=e("h3",{class:"text-center"},"\u062A\u062D\u0648\u064A\u0644 \u0645\u0646 \u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0649 \u062F\u064A\u0646\u0627\u0631",-1),Ne=e("h3",{class:"text-center"},"\u062A\u062D\u0648\u064A\u0644 \u0645\u0646 \u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0649 \u062F\u0648\u0644\u0627\u0631",-1),Me={key:0},Ae={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},Ve={class:"ml-3 font-medium text-red-700 dark:text-red-800"},Ee={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},Se={class:"overflow-hidden shadow-sm sm:rounded-lg"},Ue={class:"border-b border-gray-200"},je={class:"mt-4 mb-4 grid grid-cols-1 gap-4 sm:grid-cols-4 lg:grid-cols-5 xl:grid-cols-7"},Te={class:"flex items-start rounded-xl dark:bg-gray-600 dark:text-gray-300 bg-white p-4 shadow-lg"},Ie=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-full border border-orange-100 bg-orange-50"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-orange-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1),Fe={class:"mr-4"},ze=e("h2",{class:"font-semibold"},"\u062C\u0645\u064A\u0639 \u0627\u0644\u0639\u0642\u0648\u062F",-1),Ge={class:"mt-2 text-sm text-gray-500 dark:text-gray-200"},Le={class:"flex items-start rounded-xl dark:bg-gray-600 dark:text-gray-300 bg-white p-4 shadow-lg"},Re=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-full border border-orange-100 bg-orange-50"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-orange-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1),qe={class:"mr-4"},Oe=e("h2",{class:"font-semibold"},"\u0627\u0644\u0639\u0642\u0648\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1),He={class:"mt-2 text-sm text-gray-500 dark:text-gray-200"},Ye={class:"flex items-start rounded-xl dark:bg-gray-600 dark:text-gray-300 bg-white p-4 shadow-lg"},Pe=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-full border border-red-100 bg-red-50"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1),We={class:"mr-4"},Je=e("h2",{class:"font-semibold"},"\u062F\u064A\u0646 \u0627\u0644\u0639\u0642\u0648\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1),Ke={class:"mt-2 text-sm text-gray-500 dark:text-gray-200"},Qe={class:"flex items-start rounded-xl dark:bg-gray-600 dark:text-gray-300 bg-white p-4 shadow-lg"},Xe=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-full border border-red-100 bg-red-50"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1),Ze={class:"mr-4"},et=e("h2",{class:"font-semibold"},"\u0627\u0644\u0639\u0642\u0648\u062F \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631",-1),tt={class:"mt-2 text-sm text-gray-500 dark:text-gray-200"},st={class:"flex items-start rounded-xl dark:bg-gray-600 dark:text-gray-300 bg-white p-4 shadow-lg"},ot=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-full border border-red-100 bg-red-50"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1),at={class:"mr-4"},rt=e("h2",{class:"font-semibold"},"\u062F\u064A\u0646 \u0627\u0644\u0639\u0642\u0648\u062F \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631",-1),nt={class:"mt-2 text-sm text-gray-500 dark:text-gray-200"},lt={class:"grid grid-cols-4 md:grid-cols-4 lg:grid-cols-7 gap-3 lg:gap-3"},dt={class:"pt-5 print:hidden"},it={class:"pt-5 print:hidden"},ct={class:"px-4"},ut={class:"px-4"},pt={className:" mr-5 print:hidden"},mt={key:0},gt={key:1};const ht={class:"grid grid-cols-4 md:grid-cols-4 lg:grid-cols-7 gap-3 lg:gap-3"},ft={key:0},_t={key:1},vt={key:2},bt={key:3},xt={class:"grid grid-cols-2 md:grid-cols-5 lg:grid-cols-5 gap-3 lg:gap-3"},yt={class:"relative w-full"},wt={class:"grid grid-cols-2 md:grid-cols-5 lg:grid-cols-5 gap-3 lg:gap-3 pt-3"},kt={class:"overflow-x-auto shadow-md mt-5"},Ct={class:"w-full text-right text-gray-500 dark:text-gray-400 text-center"},$t={class:"text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Dt={class:"rounded-l-lg mb-2 sm:mb-0"},Bt=e("th",{className:"px-2 py-2",style:{width:"100px"}},"\u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644",-1),Nt=e("th",{className:"px-2 py-2",style:{width:"180px"}},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E",-1),Mt=e("th",{className:"px-2 py-2"},"\u0627\u0644\u0648\u0635\u0641",-1),At=e("th",{className:"px-2 py-2"},"\u0627\u0644\u0645\u0628\u0644\u063A",-1),Vt=e("th",{className:"px-2 py-2",style:{width:"100px"}},"\u062A\u0646\u0641\u064A\u0630",-1);const Et={className:"border dark:border-gray-800 text-center px-2 py-1"},St={className:"border dark:border-gray-800 text-center px-2 py-1"},Ut={className:"border dark:border-gray-800 text-center px-2 py-1"},jt={className:"border dark:border-gray-800 text-center px-2 py-1"},Tt={className:"border dark:border-gray-800 text-center px-2 py-1"},It=["onClick"];const Ft={class:"spaner"},os={__name:"account",props:{url:String,users:Array,accounts:Array,boxes:Array},setup(g){const Y=a({});a("");let f=a(!1),$=a(!1),_=a(!1),v=a(!1),b=a(!1),x=a(!1),D=a(!1),B=a([]);a(0);let V=a({});a({}),a({});let P=a(!1),y=a(re()),w=a(ae()),j=a(0),T=a(0),I=a(0),F=a(0),z=a(0),G=a(0),L=a(0),S=a(!1),U=1,N="";a([]);const k=()=>{U=0,B.value.length=0,S.value=!S.value},W=we(k,500);function J(){b.value=!0}const K=async s=>{try{const m=(await h.get("/api/getListTransactionsContract",{params:{limit:100,page:U,q:N,from:y.value,to:w.value}})).data;m.data.length<100?(B.value.push(...m.data),s.complete()):(B.value.push(...m.data),s.loaded()),Y.value=m,U++}catch(t){console.log(t)}},E=async()=>{h.get(`/api/totalInfoContract?from=${y.value}&to=${w.value}`).then(s=>{j.value=s.data.contract,T.value=s.data.sum_contract,I.value=s.data.sum_contract_debit,F.value=s.data.sum_contract_dinar,z.value=s.data.sum_contract_debit_dinar,G.value=s.data.sumTransactions,L.value=s.data.sumTransactionsDinar}).catch(s=>{console.error(s)})};E();function Q(){f.value=!0}function X(){_.value=!0}function Z(){v.value=!0}function ee(s){V.value=s,x.value=!0}function zt(s){V.value=s,D.value=!0}const M=a(0);function te(s){h.post("/api/addToBoxContract",s).then(t=>{f.value=!1,window.location.reload()}).catch(t=>{M.value=t.response.data.errors})}function R(s){h.post("/api/DropFromBoxContract",s).then(t=>{$.value=!1,b.value=!1,window.location.reload()}).catch(t=>{M.value=t.response.data.errors})}function se(s){h.post("/api/convertDollarDinarContract",s).then(t=>{E(),k(),_.value=!1}).catch(t=>{M.value=t.response.data.errors})}function oe(s){h.post("/api/convertDinarDollarContract",s).then(t=>{E(),k(),v.value=!1}).catch(t=>{M.value=t.response.data.errors})}function ae(){const s=new Date,t=s.getFullYear(),m=String(s.getMonth()+1).padStart(2,"0"),q=String(s.getDate()).padStart(2,"0");return`${t}-${m}-${q}`}function re(){const s=new Date,t=s.getFullYear(),m=String(s.getMonth()+1).padStart(2,"0");return`${t}-${m}-01`}function ne(s){h.post(`/api/delTransactionsContract?id=${s.id}`).then(t=>{k(),E(),x.value=!1}).catch(t=>{M.value=t.response.data.errors})}function Gt(s){return`/public/uploadsResized/${s}`}function Lt(s){return`/public/uploads/${s}`}function le(){k()}return(s,t)=>(i(),d(H,null,[n(r(de),{title:"Dashboard"}),n(pe,null,{header:p(()=>[]),default:p(()=>[n(me,{show:!!r(x),formData:r(V),onA:t[0]||(t[0]=o=>ne(o)),onClose:t[1]||(t[1]=o=>u(x)?x.value=!1:x=!1)},{header:p(()=>[ke]),_:1},8,["show","formData"]),n(ve,{show:!!r(D),formData:r(V),onA:t[2]||(t[2]=o=>le(o)),onClose:t[3]||(t[3]=o=>u(D)?D.value=!1:D=!1)},{header:p(()=>[Ce]),_:1},8,["show","formData"]),n(ge,{show:!!r(f),data:g.users,accounts:g.accounts,onA:t[4]||(t[4]=o=>te(o)),onClose:t[5]||(t[5]=o=>u(f)?f.value=!1:f=!1)},{header:p(()=>[$e]),_:1},8,["show","data","accounts"]),n(he,{show:!!r($),data:g.users,accounts:g.accounts,onA:t[6]||(t[6]=o=>R(o)),onClose:t[7]||(t[7]=o=>u($)?$.value=!1:$=!1)},{header:p(()=>[]),_:1},8,["show","data","accounts"]),n(be,{show:!!r(b),boxes:g.boxes,onA:t[8]||(t[8]=o=>R(o)),onClose:t[9]||(t[9]=o=>u(b)?b.value=!1:b=!1)},{header:p(()=>[De]),_:1},8,["show","boxes"]),n(fe,{show:!!r(_),boxes:g.boxes,onA:t[10]||(t[10]=o=>se(o)),onClose:t[11]||(t[11]=o=>u(_)?_.value=!1:_=!1)},{header:p(()=>[Be]),_:1},8,["show","boxes"]),n(_e,{show:!!r(v),boxes:g.boxes,onA:t[12]||(t[12]=o=>oe(o)),onClose:t[13]||(t[13]=o=>u(v)?v.value=!1:v=!1)},{header:p(()=>[Ne]),_:1},8,["show","boxes"]),s.$page.props.success?(i(),d("div",Me,[e("div",Ae,[e("div",Ve,l(s.$page.props.success),1)])])):c("",!0),e("div",null,[e("div",Ee,[e("div",Se,[e("div",Ue,[e("div",je,[e("div",Te,[Ie,e("div",Fe,[ze,e("p",Ge,l(r(j)),1)])]),e("div",Le,[Re,e("div",qe,[Oe,e("p",He,l(r(T)),1)])]),e("div",Ye,[Pe,e("div",We,[Je,e("p",Ke,l(r(I)),1)])]),e("div",Qe,[Xe,e("div",Ze,[et,e("p",tt,l(r(F)),1)])]),e("div",st,[ot,e("div",at,[rt,e("p",nt,l(r(z)),1)])])]),e("div",lt,[e("div",dt,[s.$page.props.auth.user.type_id==8?(i(),d("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-green-500 rounded-md focus:outline-none",onClick:t[14]||(t[14]=o=>Q())}," \u0648\u0635\u0644 \u0642\u0628\u0636 (\u0623\u0636\u0627\u0641\u0629) ")):c("",!0)]),e("div",it,[s.$page.props.auth.user.type_id==8?(i(),d("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-rose-500 rounded-md focus:outline-none",onClick:t[15]||(t[15]=o=>J())}," \u0648\u0635\u0644 \u0635\u0631\u0641 (\u0633\u062D\u0628) ")):c("",!0)]),e("div",ct,[e("div",null,[n(C,{for:"from",value:"\u0645\u0646 \u062A\u0627\u0631\u064A\u062E"}),n(A,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:r(y),"onUpdate:modelValue":t[16]||(t[16]=o=>u(y)?y.value=o:y=o)},null,8,["modelValue"])])]),e("div",ut,[e("div",null,[n(C,{for:"to",value:"\u062D\u062A\u0649 \u062A\u0627\u0631\u064A\u062E"}),n(A,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:r(w),"onUpdate:modelValue":t[17]||(t[17]=o=>u(w)?w.value=o:w=o)},null,8,["modelValue"])])]),e("div",pt,[n(C,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),e("button",{onClick:t[18]||(t[18]=ie(o=>k(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},[r(P)?(i(),d("span",gt,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(i(),d("span",mt,"\u0641\u0644\u062A\u0631\u0629"))])]),c("",!0)]),e("div",ht,[s.$page.props.auth.user.type_id==1?(i(),d("div",ft,[e("button",{type:"button",onClick:t[19]||(t[19]=o=>s.openAddGenExpenses(2)),style:{"min-width":"150px"},className:"px-6 mb-12 text-center py-2 font-bold text-white bg-blue-600 rounded  w-full"},l(s.$t("dubai")),1)])):c("",!0),s.$page.props.auth.user.type_id==1?(i(),d("div",_t,[e("button",{type:"button",onClick:t[20]||(t[20]=o=>s.openAddGenExpenses(3)),style:{"min-width":"150px"},className:"px-6 mb-12 text-center w-full py-2 font-bold text-white bg-blue-600 rounded"},l(s.$t("iran")),1)])):c("",!0),s.$page.props.auth.user.type_id==1?(i(),d("div",vt,[e("button",{type:"button",onClick:t[21]||(t[21]=o=>s.openAddGenExpenses(4)),style:{"min-width":"150px"},className:"px-6 mb-12 w-full py-2 font-bold text-white bg-indigo-600 rounded"},l(s.$t("border")),1)])):c("",!0),s.$page.props.auth.user.type_id==1?(i(),d("div",bt,[e("button",{type:"button",onClick:t[22]||(t[22]=o=>s.openAddGenExpenses(5)),style:{"min-width":"150px"},className:"px-6 mb-12 w-full py-2 font-bold text-white bg-pink-600 rounded"},l(s.$t("shipping_coc")),1)])):c("",!0),e("div",null,[e("button",{type:"button",onClick:t[23]||(t[23]=o=>X()),style:{"min-width":"150px"},className:"px-6 mb-12 w-full py-2 font-bold text-white bg-teal-500 rounded"}," \u062A\u062D\u0648\u064A\u0644 \u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0649 \u062F\u064A\u0646\u0627\u0631 ")]),e("div",null,[e("button",{type:"button",onClick:t[24]||(t[24]=o=>Z()),style:{"min-width":"150px"},className:"px-6 mb-12 w-full py-2 font-bold text-white bg-yellow-500 rounded"}," \u062A\u062D\u0648\u064A\u0644 \u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0649 \u062F\u0648\u0644\u0627\u0631 ")])]),e("div",xt,[e("div",null,[n(C,{for:"to",value:"\u0631\u0635\u064A\u062F \u0627\u0644\u0635\u0646\u062F\u0648\u0642 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),n(A,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:r(G)},null,8,["value"])]),e("div",yt,[n(C,{for:"to",value:"\u0628\u062D\u062B \u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644 \u0627\u0648 \u0627\u0644\u0648\u0635\u0641"}),n(A,{id:"q",type:"text",class:"mt-1 block w-full",modelValue:r(N),"onUpdate:modelValue":t[25]||(t[25]=o=>u(N)?N.value=o:N=o),onInput:r(W)},null,8,["modelValue","onInput"])])]),e("div",wt,[e("div",null,[n(C,{for:"to",value:"\u0631\u0635\u064A\u062F \u0627\u0644\u0635\u0646\u062F\u0648\u0642 \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0639\u0631\u0627\u0642\u064A"}),n(A,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:r(L)},null,8,["value"])])]),e("div",kt,[e("table",Ct,[e("thead",$t,[e("tr",Dt,[Bt,Nt,Mt,At,Vt,c("",!0)])]),e("tbody",null,[(i(!0),d(H,null,ce(r(B),o=>(i(),d("tr",{key:o.id,class:ue([{"bg-red-100 dark:bg-red-900":o.type==="out"||o.type==="outUser"||o.type==="debt","bg-green-100 dark:bg-green-900":o.type==="in"||o.type==="inUser"},"bg-white border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[e("td",Et,l(o.id),1),e("td",St,l(o==null?void 0:o.created_at.slice(0,19).replace("T","  ")),1),e("th",Ut,l(o.description),1),e("td",jt,l(o.amount+" "+o.currency),1),e("td",Tt,[e("button",{class:"px-1 py-1 text-white bg-rose-500 rounded-md focus:outline-none",onClick:O=>ee(o)},[n(xe)],8,It),c("",!0)]),c("",!0)],2))),128))])])]),e("div",Ft,[n(r(ye),{transactions:r(B),onInfinite:K,identifier:r(S)},null,8,["transactions","identifier"])])])])])])]),_:1})],64))}};export{os as default};
