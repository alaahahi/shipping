import{r as p,o as u,c as E,w as y,a as m,b as e,d as j,e as h,v as $,f as k,T as H,F as V,g as L,t as w,h as K,u as O,i as a,j as v,H as P,k as D,l as Q}from"./app.bfeff973.js";import{_ as W}from"./AuthenticatedLayout.c7e8ca96.js";/* empty css                                              */import{_ as X}from"./ModalAddExpenses.4e534b27.js";import{_ as g,a as b}from"./TextInput.c57f31a4.js";import{a as S}from"./index.18ec5933.js";import{t as Z}from"./trash.9132c913.js";/* empty css                                                         */const ee={key:0,class:"modal-mask"},se={class:"modal-wrapper"},oe={class:"modal-container"},te={class:"modal-header"},ae={class:"modal-body"},le=e("h2",{class:"text-center pb-5"}," \u0648\u0635\u0644 \u0642\u0628\u0636 ",-1),de={class:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 gap-3 lg:gap-3"},ne={className:"mb-4 mx-5"},re=e("label",{for:"card"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1),ie={className:"mb-4 mx-5"},ue=e("label",{for:"card"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631",-1),ce={className:"mb-4 mx-5"},pe=e("label",{for:"card"},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E",-1),me={className:"mb-4 mx-5"},ge=e("label",{for:"card"},"\u0645\u0644\u0627\u062D\u0638\u0629",-1),_e={class:"modal-footer my-2"},ve={class:"flex flex-row"},be={class:"basis-1/2 px-4"},fe={class:"basis-1/2 px-4"},he=["disabled"],ye={__name:"ModalAddSales",props:{show:Boolean,data:Array,accounts:Array},setup(_){const l=p({user:{percentage:0},date:c(),card:0,amount:0,box:0,hospital:0,doctor:0});function c(){const n=new Date,s=n.getFullYear(),d=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${s}-${d}-${i}`}const N=()=>{l.value={user:{percentage:0},date:c(),card:0,amount:0,box:0,hospital:0,doctor:0}};return(n,s)=>(u(),E(H,{name:"modal"},{default:y(()=>[_.show?(u(),m("div",ee,[e("div",se,[e("div",oe,[e("div",te,[j(n.$slots,"header")]),e("div",ae,[le,e("div",de,[e("div",ne,[re,h(e("input",{id:"card",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":s[0]||(s[0]=d=>l.value.amountDollar=d)},null,512),[[$,l.value.amountDollar]])]),e("div",ie,[ue,h(e("input",{id:"card",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":s[1]||(s[1]=d=>l.value.amountDinar=d)},null,512),[[$,l.value.amountDinar]])]),e("div",ce,[pe,h(e("input",{id:"card",type:"date",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":s[2]||(s[2]=d=>l.value.date=d)},null,512),[[$,l.value.date]])]),e("div",me,[ge,h(e("input",{id:"card",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":s[3]||(s[3]=d=>l.value.amountNote=d)},null,512),[[$,l.value.amountNote]])])])]),e("div",_e,[e("div",ve,[e("div",be,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:s[4]||(s[4]=d=>{n.$emit("close")})},"\u062A\u0631\u0627\u062C\u0639")]),e("div",fe,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:s[5]||(s[5]=d=>{n.$emit("a",l.value),N()}),disabled:!l.value.amountDollar&&!l.value.amountDinar},"\u0646\u0639\u0645",8,he)])])])])])])):k("",!0)]),_:3}))}};const $e={key:0,class:"modal-mask"},xe={class:"modal-wrapper"},we={class:"modal-container"},ke={class:"modal-header"},Ne={class:"modal-body"},De=e("h2",{class:"text-center pb-5"}," \u0625\u0636\u0627\u0641\u0629 \u0633\u0644\u0641\u0629 \u0644\u0644\u0645\u0646\u062F\u0648\u0628 ",-1),Ae={class:"grid grid-cols-3 md:grid-cols-3 lg:grid-cols-3 gap-3 lg:gap-3"},Me={className:"mb-4 mx-5"},Se=e("label",{for:"card"},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E",-1),Ve={className:"mb-4 mx-5"},Ce=e("label",{for:"user_id"},"\u0627\u0644\u0645\u0646\u062F\u0648\u0628",-1),Ue=e("option",{selected:"",disabled:""},"\u062A\u062D\u062F\u064A\u062F \u0627\u0644\u0645\u0646\u062F\u0648\u0628",-1),Te=["value"],Be={className:"mb-4 mx-5"},Ye=e("label",{for:"balance"},"\u0627\u0644\u0631\u0635\u064A\u062F \u0627\u0644\u062D\u0627\u0644\u064A",-1),Fe=["value"],Ie={class:"grid grid-cols-3 md:grid-cols-3 lg:grid-cols-3 gap-3 lg:gap-3"},Ee={className:"mb-4 mx-5"},je=e("label",{for:"percentage"},"\u0646\u0633\u0628\u0629 \u0627\u0644\u0645\u0628\u064A\u0639 \u0644\u0644\u0628\u0637\u0627\u0642\u0629",-1),He={className:"mb-4 mx-5"},Le=e("label",{for:"amount"},"\u0627\u0644\u0645\u0628\u0644\u063A",-1),Re={class:"modal-footer my-2"},qe={class:"flex flex-row"},ze={class:"basis-1/2 px-4"},Ge={class:"basis-1/2 px-4"},Je=["disabled"],Ke={__name:"ModalAddDebt",props:{show:Boolean,data:Array,accounts:Array},setup(_){const l=p({user:{percentage:0},date:c(),amount:0});function c(){const n=new Date,s=n.getFullYear(),d=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${s}-${d}-${i}`}const N=()=>{l.value={user:{percentage:0},date:c(),amount:0}};return(n,s)=>(u(),E(H,{name:"modal"},{default:y(()=>{var d;return[_.show?(u(),m("div",$e,[e("div",xe,[e("div",we,[e("div",ke,[j(n.$slots,"header")]),e("div",Ne,[De,e("div",Ae,[e("div",Me,[Se,h(e("input",{id:"card",type:"date",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":s[0]||(s[0]=i=>l.value.date=i)},null,512),[[$,l.value.date]])]),e("div",Ve,[Ce,h(e("select",{"onUpdate:modelValue":s[1]||(s[1]=i=>l.value.user=i),id:"user_id",class:"pr-8 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[Ue,(u(!0),m(V,null,L(_.data,(i,f)=>(u(),m("option",{key:f,value:i},w(i.name),9,Te))),128))],512),[[K,l.value.user]])]),e("div",Be,[Ye,e("input",{id:"balance",type:"number",value:(d=l.value.user.wallet)==null?void 0:d.balance,class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm"},null,8,Fe)])]),e("div",Ie,[e("div",Ee,[je,h(e("input",{id:"percentage",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":s[2]||(s[2]=i=>l.value.user.percentage=i)},null,512),[[$,l.value.user.percentage]])]),e("div",He,[Le,h(e("input",{id:"amount",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":s[3]||(s[3]=i=>l.value.amount=i)},null,512),[[$,l.value.amount]])])])]),e("div",Re,[e("div",qe,[e("div",ze,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:s[4]||(s[4]=i=>{n.$emit("close")})},"\u062A\u0631\u0627\u062C\u0639")]),e("div",Ge,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:s[5]||(s[5]=i=>{n.$emit("a",l.value),N()}),disabled:!l.value.amount},"\u0646\u0639\u0645",8,Je)])])])])])])):k("",!0)]}),_:3}))}};const Oe=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," \u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629 ",-1),Pe=e("h3",{class:"text-center"},"\u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1),Qe=e("h3",{class:"text-center"},"\u0627\u062F\u062E\u0627\u0644 \u0645\u0635\u0627\u0631\u064A\u0641 \u0627\u0644\u064A\u0648\u0645\u064A\u0629",-1),We={key:0},Xe={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},Ze={class:"ml-3 text-sm font-medium text-red-700 dark:text-red-800"},es={class:"py-12"},ss={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},os={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},ts={class:"p-6 bg-white border-b border-gray-200"},as={class:"grid grid-cols-4 md:grid-cols-4 lg:grid-cols-7 gap-3 lg:gap-3"},ls={class:"pt-5 print:hidden"},ds={class:"pt-5 hidden"},ns={class:"pt-5 print:hidden"},rs={class:"pt-5"},is=["href"],us={key:0},cs={key:1},ps={class:"px-4"},ms={class:"px-4"},gs={className:" mr-5 print:hidden"},_s={key:0},vs={key:1},bs={className:" mr-5 print:hidden"},fs=["href"],hs={key:0},ys={key:1},$s={class:"grid grid-cols-2 md:grid-cols-5 lg:grid-cols-5 gap-3 lg:gap-3"},xs={class:"px-4"},ws={class:"px-4"},ks={class:"px-4"},Ns={class:"grid grid-cols-2 md:grid-cols-5 lg:grid-cols-5 gap-3 lg:gap-3 pt-3"},Ds={class:"px-4"},As={class:"px-4"},Ms={class:"px-4"},Ss={class:"overflow-x-auto shadow-md"},Vs={class:"w-full my-5"},Cs=e("thead",{class:"700 bg-rose-500 text-white text-center rounded-l-lg"},[e("tr",{class:"bg-rose-500 rounded-l-lg mb-2 sm:mb-0"},[e("th",{className:"px-2 py-2"},"\u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644"),e("th",{className:"px-2 py-2"},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),e("th",{className:"px-2 py-2"},"\u0627\u0644\u0648\u0635\u0641"),e("th",{className:"px-2 py-2"},"\u0627\u0644\u0645\u0628\u0644\u063A"),e("th",{className:"px-2 py-2"},"\u062A\u0646\u0641\u064A\u0630")])],-1),Us={className:"border px-2 py-1"},Ts={className:"border px-2 py-1"},Bs={className:"border px-2 py-1"},Ys={className:"border px-2 py-1"},Fs={className:"border px-2 py-1"},Is=["onClick"],Ks={__name:"Index",props:{url:String,users:Array,accounts:Array,boxes:Array},setup(_){const l=_,c=p({});p(0);const N=p("");let n=p(!1),s=p(!1),d=p(!1),i=p(!1),f=p(0),x=p(0);const A=async(r=1)=>{N.value="";const o=await fetch(`/getIndexAccounting?page=${r}&user_id=${l.boxes[0].id}&from=${f.value}&to=${x.value}`);c.value=await o.json()};function R(){n.value=!0}function q(){s.value=!0}function z(){d.value=!0}A(),O(),p(!1);const M=p(0);p({startDate:"",endDate:""}),p(),p({date:"D/MM/YYYY",month:"MM"}),p({shortcuts:{today:"\u0627\u0644\u064A\u0648\u0645",yesterday:"\u0627\u0644\u0628\u0627\u0631\u062D\u0629",past:r=>r+" \u0642\u0628\u0644 \u064A\u0648\u0645",currentMonth:"\u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u062D\u0627\u0644\u064A",pastMonth:"\u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u0633\u0627\u0628\u0642"},footer:{apply:"Terapkan",cancel:"Batal"}});function G(r){S.post("/api/receiptArrived",r).then(o=>{n.value=!1,window.location.reload()}).catch(o=>{M.value=o.response.data.errors})}function C(r){S.post("/api/salesDebt",r).then(o=>{A(),s.value=!1,d.value=!1,window.location.reload()}).catch(o=>{M.value=o.response.data.errors})}function J(r){S.post(`/api/delTransactions?id=${r}`).then(o=>{A(),s.value=!1,d.value=!1}).catch(o=>{M.value=o.response.data.errors})}return(r,o)=>(u(),m(V,null,[a(v(P),{title:"Dashboard"}),a(W,null,{header:y(()=>[Oe]),default:y(()=>{var U,T,B,Y,F,I;return[a(ye,{show:!!v(n),data:_.users,accounts:_.accounts,onA:o[0]||(o[0]=t=>G(t)),onClose:o[1]||(o[1]=t=>D(n)?n.value=!1:n=!1)},{header:y(()=>[Pe]),_:1},8,["show","data","accounts"]),a(Ke,{show:!!v(s),data:_.users,accounts:_.accounts,onA:o[2]||(o[2]=t=>C(t)),onClose:o[3]||(o[3]=t=>D(s)?s.value=!1:s=!1)},{header:y(()=>[]),_:1},8,["show","data","accounts"]),a(X,{show:!!v(d),boxes:_.boxes,onA:o[4]||(o[4]=t=>C(t)),onClose:o[5]||(o[5]=t=>D(d)?d.value=!1:d=!1)},{header:y(()=>[Qe]),_:1},8,["show","boxes"]),r.$page.props.success?(u(),m("div",We,[e("div",Xe,[e("div",Ze,w(r.$page.props.success),1)])])):k("",!0),e("div",es,[e("div",ss,[e("div",os,[e("div",ts,[e("div",as,[e("div",ls,[r.$page.props.auth.user.type_id==1||r.$page.props.auth.user.type_id==2||r.$page.props.auth.user.type_id==5?(u(),m("button",{key:0,className:"px-4 py-2 text-white bg-rose-500 rounded-md focus:outline-none",onClick:o[6]||(o[6]=t=>R())}," \u0648\u0635\u0644 \u0642\u0628\u0636 ")):k("",!0)]),e("div",ds,[r.$page.props.auth.user.type_id==1||r.$page.props.auth.user.type_id==2||r.$page.props.auth.user.type_id==5?(u(),m("button",{key:0,className:"px-4 py-2 text-white bg-yellow-500 rounded-md focus:outline-none",onClick:o[7]||(o[7]=t=>q())}," \u062A\u062D\u0648\u064A\u0644 \u0644\u062D\u0633\u0627\u0628 ")):k("",!0)]),e("div",ns,[r.$page.props.auth.user.type_id==1||r.$page.props.auth.user.type_id==2||r.$page.props.auth.user.type_id==5?(u(),m("button",{key:0,className:"px-4 py-2 text-white bg-blue-500 rounded-md focus:outline-none",onClick:o[8]||(o[8]=t=>z())}," \u0627\u0636\u0627\u0641\u0629 \u0645\u0635\u0627\u0631\u064A\u0641 ")):k("",!0)]),e("div",rs,[e("a",{class:"px-2 mb-12 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{display:"block","text-align":"center"},href:r.route("transfers"),target:"_blank"},[v(i)?(u(),m("span",cs,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(u(),m("span",us,"\u0627\u0644\u0623\u0631\u0634\u064A\u0641"))],8,is)]),e("div",ps,[e("div",null,[a(g,{for:"from",value:"\u0645\u0646 \u062A\u0627\u0631\u064A\u062E"}),a(b,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:v(f),"onUpdate:modelValue":o[9]||(o[9]=t=>D(f)?f.value=t:f=t)},null,8,["modelValue"])])]),e("div",ms,[e("div",null,[a(g,{for:"to",value:"\u062D\u062A\u0649 \u062A\u0627\u0631\u064A\u062E"}),a(b,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:v(x),"onUpdate:modelValue":o[10]||(o[10]=t=>D(x)?x.value=t:x=t)},null,8,["modelValue"])])]),e("div",gs,[a(g,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),e("button",{onClick:o[11]||(o[11]=Q(t=>A(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},[v(i)?(u(),m("span",vs,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(u(),m("span",_s,"\u0641\u0644\u062A\u0631\u0629"))])]),e("div",bs,[a(g,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),e("a",{class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-orange-500 rounded",style:{display:"block","text-align":"center"},href:`/getIndexAccounting?user_id=${(T=(U=c.value)==null?void 0:U.user)==null?void 0:T.id}&from=${v(f)}&to=${v(x)}&print=1`,target:"_blank"},[v(i)?(u(),m("span",ys,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(u(),m("span",hs,"\u0637\u0628\u0627\u0639\u0629"))],8,fs)])]),e("div",$s,[e("div",xs,[e("div",null,[a(g,{for:"to",value:"\u062D\u0633\u0627\u0628 \u0627\u0644\u0635\u0646\u062F\u0648\u0642 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),a(b,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:c.value.sum_transactions},null,8,["value"])])]),e("div",ws,[e("div",null,[a(g,{for:"to",value:"\u0645\u0633\u062D\u0648\u0628\u0627\u062A \u0627\u0644\u0635\u0646\u062F\u0648\u0642 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),a(b,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:c.value.sum_transactions_debit},null,8,["value"])])]),e("div",ks,[e("div",null,[a(g,{for:"to",value:"\u062F\u062E\u0644 \u0627\u0644\u0635\u0646\u062F\u0648\u0642 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),a(b,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:c.value.sum_transactions_in},null,8,["value"])])]),e("div",null,[a(g,{for:"to",value:"\u0631\u0635\u064A\u062F \u0627\u0644\u0635\u0646\u062F\u0648\u0642 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),a(b,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:(Y=(B=c.value)==null?void 0:B.user)==null?void 0:Y.wallet.balance},null,8,["value"])])]),e("div",Ns,[e("div",Ds,[e("div",null,[a(g,{for:"to",value:"\u062D\u0633\u0627\u0628 \u0627\u0644\u0635\u0646\u062F\u0648\u0642 \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0639\u0631\u0627\u0642\u064A"}),a(b,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:c.value.sum_transactions_dinar},null,8,["value"])])]),e("div",As,[e("div",null,[a(g,{for:"to",value:"\u0645\u0633\u062D\u0648\u0628\u0627\u062A \u0627\u0644\u0635\u0646\u062F\u0648\u0642 \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0639\u0631\u0627\u0642\u064A"}),a(b,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:c.value.sum_transactions_debit_dinar},null,8,["value"])])]),e("div",Ms,[e("div",null,[a(g,{for:"to",value:"\u062F\u062E\u0644 \u0627\u0644\u0635\u0646\u062F\u0648\u0642 \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0639\u0631\u0627\u0642\u064A"}),a(b,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:c.value.sum_transactions_in_dinar},null,8,["value"])])]),e("div",null,[a(g,{for:"to",value:"\u0631\u0635\u064A\u062F \u0627\u0644\u0635\u0646\u062F\u0648\u0642 \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0639\u0631\u0627\u0642\u064A"}),a(b,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:(I=(F=c.value)==null?void 0:F.user)==null?void 0:I.wallet.balance_dinar},null,8,["value"])])]),e("div",Ss,[e("table",Vs,[Cs,e("tbody",null,[(u(!0),m(V,null,L(c.value.transactions,t=>(u(),m("tr",{key:t.id,class:"hover:bg-gray-100 text-center"},[e("td",Us,w(t.id),1),e("td",Ts,w(t==null?void 0:t.created),1),e("th",Bs,w(t.description),1),e("td",Ys,w(t.amount+" "+t.currency),1),e("td",Fs,[e("button",{class:"px-1 py-1 text-white bg-rose-500 rounded-md focus:outline-none",onClick:Es=>J(t.id)},[a(Z)],8,Is)])]))),128))])])])])])])])]}),_:1})],64))}};export{Ks as default};
