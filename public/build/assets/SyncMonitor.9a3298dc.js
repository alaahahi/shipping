import{r as u,q as H,m as Re,p as rt,o,a as r,b as e,i as v,t as l,n as h,g as te,w as oe,l as Ae,j as nt,L as At,f as J,T as Ht,y as Ft,x as Wt,F as B,W as Gt,H as Nt,h as D,e as N,A as ye,O as ot,X as Jt}from"./app.7d26d60a.js";import{G as Kt}from"./GuestLayout.c0619d23.js";import{M as Pe}from"./Modal.a6f833f2.js";import{_ as lt}from"./_plugin-vue_export-helper.cdc0426e.js";import{a as C}from"./index.88f109d5.js";/* empty css                                              */const Zt=["title"],Xt={class:"status-icon"},Yt={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},es={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},ts={key:2,class:"animate-spin",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},ss={key:0,class:"pending-badge"},as={class:"sync-details-header"},os={class:"sync-details-body"},rs={class:"detail-item"},ns={class:"detail-item"},ls={class:"detail-value"},ds={key:0,class:"detail-item"},is={class:"detail-value"},cs={key:1,class:"detail-item highlight"},us={class:"detail-value"},gs=["disabled"],ys={key:0},ps={key:1},xs={key:3,class:"offline-message"},vs={class:"switch-section"},bs={class:"switch-buttons"},fs=["disabled"],ms=["disabled"],ks={class:"current-location"},hs={__name:"SyncIndicator",props:{position:{type:String,default:"fixed",validator:Ce=>["fixed","relative","absolute"].includes(Ce)},bottom:{type:String,default:"20px"},left:{type:String,default:"20px"},right:{type:String,default:"auto"},top:{type:String,default:"auto"},showSwitchButtons:{type:Boolean,default:!0}},setup(Ce){const i=Ce,k=u(navigator.onLine),m=u(!1),w=u(0),z=u(null),K=u(!1),p=u(window.location.href.startsWith("http://127.0.0.1")||window.location.href.startsWith("http://localhost")),re=H(()=>m.value?"syncing":k.value?w.value>0?"pending":"online":"offline"),_=H(()=>m.value?"\u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...":k.value?w.value>0?`${w.value} \u0639\u0645\u0644\u064A\u0629 \u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631`:"\u0645\u062A\u0635\u0644 - \u0643\u0644 \u0634\u064A\u0621 \u0645\u062D\u062F\u062B":"\u063A\u064A\u0631 \u0645\u062A\u0635\u0644 - \u0648\u0636\u0639 Offline"),ne=H(()=>m.value?"\u{1F504} \u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...":w.value>0?`\u23F3 ${w.value} \u0639\u0645\u0644\u064A\u0629 \u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631`:"\u2705 \u0643\u0644 \u0634\u064A\u0621 \u0645\u062D\u062F\u0651\u062B"),De=H(()=>{if(!z.value)return"\u0644\u0645 \u062A\u062A\u0645 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0639\u062F";const b=new Date(z.value),M=new Date-b,L=Math.floor(M/6e4),Y=Math.floor(M/36e5),P=Math.floor(M/864e5);return L<1?"\u0645\u0646\u0630 \u0644\u062D\u0638\u0627\u062A":L<60?`\u0645\u0646\u0630 ${L} \u062F\u0642\u064A\u0642\u0629`:Y<24?`\u0645\u0646\u0630 ${Y} \u0633\u0627\u0639\u0629`:`\u0645\u0646\u0630 ${P} \u064A\u0648\u0645`}),Z=H(()=>({position:i.position,bottom:i.position==="fixed"?i.bottom:"auto",left:i.position==="fixed"?i.left:"auto",right:i.position==="fixed"?i.right:"auto",top:i.position==="fixed"?i.top:"auto"})),pe=()=>{K.value=!K.value},S=async()=>{if(!(!k.value||m.value)){m.value=!0;try{window.$api&&(await window.$api.syncNow(),z.value=Date.now(),await V(),window.$toast&&window.$toast.success("\u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0646\u062C\u0627\u062D!"))}catch(b){console.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",b),window.$toast&&window.$toast.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: "+b.message)}finally{m.value=!1}}},V=async()=>{try{if(window.$api){const b=await window.$api.getSyncStatus();w.value=b.pendingCount}}catch(b){console.error("\u0641\u0634\u0644 \u062A\u062D\u062F\u064A\u062B \u062D\u0627\u0644\u0629 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",b)}},O=async()=>{k.value=!0,console.log("\u{1F310} \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0639\u0627\u062F"),await S()},E=()=>{k.value=!1,console.log("\u{1F4F4} \u0641\u0642\u062F\u0627\u0646 \u0627\u0644\u0627\u062A\u0635\u0627\u0644")},X=()=>{var b;if(window.switchToLocal)window.switchToLocal();else{const x=((b=window.connectionInfo)==null?void 0:b.local_url)||"http://127.0.0.1:8000/";window.location.href=x}},le=()=>{var b;if(window.switchToOnline)window.switchToOnline();else{const x=((b=window.connectionInfo)==null?void 0:b.online_url)||"https://system.intellijapp.com/dashboard";window.location.href=x}};return Re(()=>{window.addEventListener("online",O),window.addEventListener("offline",E);const b=()=>{p.value=window.location.href.startsWith("http://127.0.0.1")||window.location.href.startsWith("http://localhost")};window.addEventListener("focus",b),V(),b();const x=setInterval(V,3e4);rt(()=>{window.removeEventListener("online",O),window.removeEventListener("offline",E),window.removeEventListener("focus",b),clearInterval(x)})}),(b,x)=>(o(),r("div",{class:"sync-indicator-container",style:Ft(Z.value)},[e("div",{class:h(["sync-indicator",re.value]),onClick:pe,title:_.value},[e("div",Xt,[k.value&&!m.value?(o(),r("svg",Yt,[...x[3]||(x[3]=[e("path",{d:"M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9zm8 8l3 3 3-3c-1.65-1.66-4.34-1.66-6 0zm-4-4l2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13z"},null,-1)])])):k.value?m.value?(o(),r("svg",ts,[...x[5]||(x[5]=[e("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"},null,-1)])])):v("",!0):(o(),r("svg",es,[...x[4]||(x[4]=[e("path",{d:"M23.64 7c-.45-.34-4.93-4-11.64-4-1.5 0-2.89.19-4.15.48L18.18 13.8 23.64 7zm-6.6 8.22L3.27 1.44 2 2.72l2.05 2.06C1.91 5.76.59 6.82.36 7l11.63 14.49.01.01.01-.01 3.9-4.86 3.32 3.32 1.27-1.27-3.46-3.46z"},null,-1)])]))]),w.value>0?(o(),r("div",ss,l(w.value),1)):v("",!0)],10,Zt),te(Ht,{name:"fade"},{default:oe(()=>[K.value?(o(),r("div",{key:0,class:"sync-details",onClick:x[1]||(x[1]=Ae(()=>{},["stop"]))},[e("div",as,[x[6]||(x[6]=e("h3",null,"\u062D\u0627\u0644\u0629 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1)),e("button",{onClick:x[0]||(x[0]=M=>K.value=!1),class:"close-btn"},"\xD7")]),e("div",os,[e("div",rs,[x[7]||(x[7]=e("span",{class:"detail-label"},"\u0627\u0644\u0627\u062A\u0635\u0627\u0644:",-1)),e("span",{class:h(["detail-value",{"text-green":k.value,"text-red":!k.value}])},l(k.value?"\u{1F310} \u0645\u062A\u0635\u0644":"\u{1F4F4} \u063A\u064A\u0631 \u0645\u062A\u0635\u0644"),3)]),e("div",ns,[x[8]||(x[8]=e("span",{class:"detail-label"},"\u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",-1)),e("span",ls,l(ne.value),1)]),z.value?(o(),r("div",ds,[x[9]||(x[9]=e("span",{class:"detail-label"},"\u0622\u062E\u0631 \u0645\u0632\u0627\u0645\u0646\u0629:",-1)),e("span",is,l(De.value),1)])):v("",!0),w.value>0?(o(),r("div",cs,[x[10]||(x[10]=e("span",{class:"detail-label"},"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631:",-1)),e("span",us,l(w.value)+" \u0639\u0645\u0644\u064A\u0629",1)])):v("",!0),k.value&&w.value>0?(o(),r("button",{key:2,onClick:S,disabled:m.value,class:"sync-btn"},[m.value?(o(),r("span",ps,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...")):(o(),r("span",ys,"\u{1F504} \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0622\u0646"))],8,gs)):v("",!0),te(nt(At),{href:b.route("sync.monitor"),class:"monitor-link"},{default:oe(()=>[...x[11]||(x[11]=[J(" \u{1F4CA} \u0635\u0641\u062D\u0629 \u0627\u0644\u0645\u0631\u0627\u0642\u0628\u0629 \u0627\u0644\u0643\u0627\u0645\u0644\u0629 ",-1)])]),_:1},8,["href"]),k.value?v("",!0):(o(),r("div",xs,[...x[12]||(x[12]=[e("p",null,"\u26A0\uFE0F \u0623\u0646\u062A \u062A\u0639\u0645\u0644 \u0641\u064A \u0648\u0636\u0639 Offline",-1),e("p",{class:"text-sm"},"\u0633\u064A\u062A\u0645 \u062D\u0641\u0638 \u062A\u063A\u064A\u064A\u0631\u0627\u062A\u0643 \u0645\u062D\u0644\u064A\u0627\u064B \u0648\u0645\u0632\u0627\u0645\u0646\u062A\u0647\u0627 \u0639\u0646\u062F \u0639\u0648\u062F\u0629 \u0627\u0644\u0627\u062A\u0635\u0627\u0644",-1)])])),e("div",vs,[x[14]||(x[14]=e("div",{class:"switch-header"},[e("span",null,"\u{1F504} \u0627\u0644\u062A\u0628\u062F\u064A\u0644 \u0628\u064A\u0646 \u0627\u0644\u0633\u064A\u0631\u0641\u0631\u0627\u062A")],-1)),e("div",bs,[e("button",{onClick:X,class:h(["switch-btn",{active:p.value,disabled:p.value}]),disabled:p.value}," \u{1F4BB} Local ",10,fs),e("button",{onClick:le,class:h(["switch-btn",{active:!p.value,disabled:!p.value}]),disabled:!p.value}," \u{1F310} Online ",10,ms)]),e("div",ks,[x[13]||(x[13]=e("span",{class:"location-label"},"\u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u062D\u0627\u0644\u064A:",-1)),e("span",{class:h(["location-value",p.value?"local":"online"])},l(p.value?"\u{1F4BB} Local":"\u{1F310} Online"),3)])])])])):v("",!0)]),_:1}),K.value?(o(),r("div",{key:0,class:"overlay",onClick:x[2]||(x[2]=M=>K.value=!1)})):v("",!0)],4))}},ws=lt(hs,[["__scopeId","data-v-0dbd59d5"]]);const _s={class:"flex justify-between items-center"},$s={class:"flex gap-2"},Cs=["disabled"],Ss={key:0},Ls={key:1},Ms=["disabled"],Ts={key:0},js={key:1},Bs={class:"py-6"},Ds={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Qs={class:"mb-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6"},Is={class:"flex justify-between items-center mb-4"},zs=["disabled"],Os={key:0},Us={key:1},qs={key:0,class:"text-center py-8"},Vs={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Es={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},Ps={class:"space-y-2 text-sm"},Rs={class:"flex justify-between"},As={class:"font-mono text-gray-900 dark:text-gray-100"},Hs={class:"flex justify-between"},Fs={class:"font-mono text-gray-900 dark:text-gray-100"},Ws={class:"flex justify-between"},Gs={class:"font-mono text-gray-900 dark:text-gray-100"},Ns={class:"bg-blue-50 dark:bg-blue-900 p-4 rounded-lg"},Js={class:"space-y-2 text-sm"},Ks={class:"flex justify-between"},Zs={class:"font-bold text-blue-900 dark:text-blue-100"},Xs={class:"flex justify-between"},Ys={class:"font-bold text-blue-900 dark:text-blue-100 text-xs"},ea={class:"flex justify-between"},ta={class:"bg-green-50 dark:bg-green-900 p-4 rounded-lg"},sa={class:"space-y-2 text-sm"},aa={class:"flex justify-between"},oa={class:"font-bold text-green-900 dark:text-green-100"},ra={class:"flex justify-between"},na={class:"font-bold text-green-900 dark:text-green-100"},la={class:"flex justify-between"},da={class:"font-bold text-green-900 dark:text-green-100"},ia={class:"bg-purple-50 dark:bg-purple-900 p-4 rounded-lg"},ca={class:"space-y-2"},ua=["disabled"],ga={class:"mb-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6"},ya={class:"flex justify-between items-center mb-4"},pa={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm dark:text-gray-200"},xa={class:"bg-gray-50 dark:bg-gray-700 p-3 rounded"},va={class:"font-semibold text-sm"},ba={key:0},fa={class:"bg-gray-50 dark:bg-gray-700 p-3 rounded"},ma={class:"font-semibold text-sm"},ka={class:"text-xs text-gray-500 dark:text-gray-400"},ha={class:"bg-gray-50 dark:bg-gray-700 p-3 rounded"},wa={class:"font-semibold text-sm"},_a={class:"text-xs text-gray-500 dark:text-gray-400"},$a={class:"bg-gray-50 dark:bg-gray-700 p-3 rounded"},Ca=["title"],Sa={class:"text-xs text-gray-500 dark:text-gray-400"},La={class:"mb-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6"},Ma={class:"flex flex-wrap justify-between items-start gap-4"},Ta={class:"text-sm text-gray-500 dark:text-gray-400"},ja={class:"mt-4 grid grid-cols-1 md:grid-cols-4 gap-4 text-sm dark:text-gray-200"},Ba={class:"font-semibold"},Da={key:0},Qa={class:"text-xs text-gray-500 dark:text-gray-400"},Ia={class:"font-semibold"},za={class:"text-xs text-gray-500 dark:text-gray-400"},Oa={class:"font-semibold"},Ua={class:"text-xs text-gray-500 dark:text-gray-400"},qa=["title"],Va={class:"text-xs text-gray-500 dark:text-gray-400"},Ea={class:"mt-4 text-xs text-gray-600 dark:text-gray-400"},Pa={class:"font-mono bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded inline-block break-all w-full md:w-auto"},Ra={key:0,class:"mb-6 bg-yellow-50 dark:bg-yellow-900 border-l-4 border-yellow-500 p-4 rounded"},Aa={class:"mb-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},Ha={class:"p-6 border-b border-gray-200 dark:border-gray-700"},Fa={class:"flex justify-between items-center"},Wa={class:"text-lg font-semibold dark:text-gray-200"},Ga={class:"overflow-x-auto"},Na={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Ja={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Ka={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-200"},Za={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Xa={class:"px-6 py-4 whitespace-nowrap"},Ya={key:0},eo={key:0,class:"p-4 border-t border-gray-200 dark:border-gray-600 text-center"},to={class:"mb-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},so={class:"border-b border-gray-200 dark:border-gray-700"},ao={class:"flex"},oo={key:0,class:"p-6"},ro={class:"flex justify-between items-center mb-4"},no={class:"text-lg font-semibold dark:text-gray-200"},lo={class:"flex gap-2"},io={class:"overflow-x-auto"},co={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},uo={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},go={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200"},yo={class:"px-6 py-4 whitespace-nowrap"},po={class:"text-sm font-medium text-gray-900 dark:text-gray-200"},xo={class:"text-sm text-gray-500 dark:text-gray-400"},vo={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},bo={class:"px-6 py-4 whitespace-nowrap"},fo={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},mo=["onClick"],ko=["onClick"],ho={key:0},wo={key:1,class:"p-6"},_o={class:"flex justify-between items-center mb-6"},$o={class:"flex gap-2"},Co=["disabled"],So={key:0},Lo={key:1},Mo={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},To={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},jo={class:"text-2xl font-bold text-blue-600"},Bo={class:"bg-green-50 dark:bg-green-900 p-4 rounded-lg"},Do={class:"text-2xl font-bold text-green-600"},Qo={class:"bg-yellow-50 dark:bg-yellow-900 p-4 rounded-lg"},Io={class:"text-2xl font-bold text-yellow-600"},zo={class:"bg-red-50 dark:bg-red-900 p-4 rounded-lg"},Oo={class:"text-2xl font-bold text-red-600"},Uo={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg mb-6"},qo={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Vo={class:"flex items-center"},Eo={class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg"},Po={class:"p-4 max-h-64 overflow-y-auto"},Ro={key:0,class:"text-center text-gray-500 dark:text-gray-400 py-8"},Ao={key:1,class:"space-y-2"},Ho={class:"flex-1"},Fo={class:"text-gray-900 dark:text-gray-200"},Wo={class:"text-xs text-gray-500 dark:text-gray-400"},Go={key:2,class:"p-6"},No={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Jo={class:"bg-white dark:bg-gray-700 p-6 rounded-lg"},Ko={class:"space-y-3"},Zo={class:"flex justify-between"},Xo={class:"font-mono text-sm"},Yo={class:"flex justify-between"},er={class:"font-mono text-sm"},tr={class:"flex justify-between"},sr={class:"font-mono text-sm"},ar={class:"flex justify-between"},or={class:"font-mono text-sm"},rr={class:"bg-white dark:bg-gray-700 p-6 rounded-lg"},nr={class:"space-y-3"},lr=["disabled"],dr={key:0},ir={key:1},cr=["disabled"],ur={key:0},gr={key:1},yr=["disabled"],pr={key:0},xr={key:1},vr=["disabled"],br={key:0},fr={key:1},mr={class:"mt-6 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg"},kr={class:"p-4 max-h-64 overflow-y-auto"},hr={key:0,class:"text-center text-gray-500 dark:text-gray-400 py-8"},wr={key:1,class:"space-y-2"},_r={class:"flex-1"},$r={class:"text-gray-900 dark:text-gray-200"},Cr={class:"text-xs text-gray-500 dark:text-gray-400"},Sr={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},Lr={class:"p-6 border-b border-gray-200 dark:border-gray-700"},Mr={class:"flex justify-between items-center"},Tr={class:"text-lg font-semibold dark:text-gray-200"},jr={class:"flex gap-2"},Br={class:"overflow-x-auto"},Dr={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Qr={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Ir={key:0},zr={colspan:"8",class:"px-6 py-8 text-center text-gray-500 dark:text-gray-400"},Or={class:"text-lg"},Ur={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},qr={class:"px-6 py-4 whitespace-nowrap dark:text-gray-300"},Vr={class:"px-6 py-4 whitespace-nowrap dark:text-gray-300"},Er={class:"px-6 py-4 dark:text-gray-300"},Pr=["onClick"],Rr={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},Ar={class:"flex items-center gap-1"},Hr={key:0,class:"text-red-600 text-lg"},Fr={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},Wr={class:"px-6 py-4 whitespace-nowrap"},Gr={key:0,class:"flex items-center text-green-600 dark:text-green-400"},Nr={key:1,class:"flex items-center text-red-600 dark:text-red-400"},Jr={key:2,class:"flex items-center text-yellow-600 dark:text-yellow-400"},Kr={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Zr={class:"flex gap-2"},Xr=["onClick","disabled"],Yr=["onClick"],en=["onClick"],tn={key:0,class:"px-6 py-4 bg-gray-50 dark:bg-gray-700 flex justify-between items-center"},sn={class:"text-sm text-gray-700 dark:text-gray-300"},an={class:"flex gap-2"},on=["disabled"],rn=["disabled"],nn={class:"mt-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6"},ln={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},dn={class:"border dark:border-gray-700 rounded p-4"},cn={class:"text-2xl font-bold dark:text-gray-200"},un={class:"border dark:border-gray-700 rounded p-4"},gn={class:"text-2xl font-bold dark:text-gray-200"},yn={class:"border dark:border-gray-700 rounded p-4"},pn={class:"text-2xl font-bold dark:text-gray-200"},xn={class:"mt-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},vn={class:"p-6 border-b border-gray-200 dark:border-gray-700"},bn={class:"flex justify-between items-center flex-wrap gap-4"},fn={class:"text-lg font-semibold dark:text-gray-200"},mn={class:"flex gap-2 items-center flex-wrap"},kn=["disabled"],hn={key:0},wn={key:1},_n=["disabled"],$n={key:0},Cn={key:1},Sn=["disabled"],Ln={key:0},Mn={key:1},Tn=["disabled"],jn={key:0},Bn={key:1},Dn=["disabled"],Qn={key:0},In={key:1},zn=["disabled"],On={key:0},Un={key:1},qn=["disabled"],Vn={key:0},En={key:1},Pn=["disabled"],Rn={key:0},An={key:1},Hn=["disabled"],Fn={key:0},Wn={key:1},Gn={key:0,class:"p-8 text-center"},Nn={key:1,class:"p-8 text-center"},Jn={key:2,class:"overflow-x-auto"},Kn={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Zn={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Xn={class:"px-6 py-4 whitespace-nowrap"},Yn={class:"text-sm font-medium dark:text-gray-200"},el={class:"px-6 py-4 whitespace-nowrap"},tl={class:"text-sm dark:text-gray-300"},sl={class:"px-6 py-4 whitespace-nowrap"},al={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},ol={class:"flex gap-2 items-center"},rl=["onClick"],nl={key:0,class:"relative inline-block"},ll=["onClick"],dl=["onClick","disabled"],il={key:0},cl={key:1},ul=["onClick","disabled"],gl={key:0},yl={key:1},pl=["onClick","disabled"],xl={key:0},vl={class:"mt-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},bl={class:"p-6 border-b border-gray-200 dark:border-gray-700"},fl={class:"flex justify-between items-center"},ml=["disabled"],kl={key:0},hl={key:1},wl={key:0,class:"p-8 text-center"},_l={key:1,class:"p-4 bg-red-50 dark:bg-red-900 border-l-4 border-red-500"},$l={class:"text-red-800 dark:text-red-200"},Cl={key:2,class:"p-8 text-center"},Sl={key:3},Ll={key:0,class:"p-4 bg-blue-50 dark:bg-blue-900 border-b border-gray-200 dark:border-gray-700"},Ml={class:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center"},Tl={class:"text-2xl font-bold dark:text-gray-200"},jl={class:"text-2xl font-bold dark:text-gray-200"},Bl={class:"text-2xl font-bold dark:text-gray-200"},Dl={class:"overflow-x-auto"},Ql={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Il={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},zl={class:"px-6 py-4 whitespace-nowrap text-sm font-medium dark:text-gray-200"},Ol={class:"px-6 py-4 whitespace-nowrap"},Ul={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},ql={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},Vl={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},El={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},Pl={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},Rl={class:"mt-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},Al={class:"p-6 border-b border-gray-200 dark:border-gray-700"},Hl={class:"flex justify-between items-center"},Fl={class:"flex gap-2"},Wl=["disabled"],Gl={key:0},Nl={key:1},Jl={key:0,class:"p-8 text-center"},Kl={key:1,class:"p-8 text-center"},Zl={key:2,class:"overflow-x-auto"},Xl={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Yl={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},ed={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},td={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},sd={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},ad={class:"px-6 py-4 whitespace-nowrap text-sm"},od=["onClick","disabled"],rd=["onClick"],nd=["onClick"],ld={class:"p-6"},dd={class:"bg-gray-100 dark:bg-gray-900 p-4 rounded overflow-auto max-h-96 text-sm dark:text-gray-300"},id={class:"mt-4 flex justify-end"},cd={class:"p-6"},ud={class:"bg-red-50 dark:bg-red-900 border-l-4 border-red-500 p-4 mb-4"},gd={class:"font-medium dark:text-gray-200"},yd={class:"text-sm mt-2 dark:text-gray-300"},pd={class:"bg-gray-100 dark:bg-gray-900 p-4 rounded overflow-auto max-h-64 text-xs dark:text-gray-300"},xd={class:"mt-4 flex justify-end gap-2"},vd={class:"p-6"},bd={class:"text-lg font-semibold mb-4 dark:text-gray-200"},fd={key:0,class:"text-center py-8"},md={key:1,class:"bg-red-50 dark:bg-red-900 border-l-4 border-red-500 p-4 mb-4"},kd={class:"text-red-800 dark:text-red-200"},hd={key:2},wd={class:"mb-4 flex justify-between items-center"},_d={class:"text-sm text-gray-600 dark:text-gray-400"},$d={class:"font-semibold"},Cd={class:"text-sm text-gray-600 dark:text-gray-400"},Sd={class:"font-semibold"},Ld={key:0,class:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900 rounded text-xs"},Md={key:1,class:"overflow-x-auto max-h-96 border border-gray-200 dark:border-gray-700 rounded"},Td={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 text-sm"},jd={class:"bg-gray-50 dark:bg-gray-700 sticky top-0"},Bd={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Dd={key:0},Qd=["colspan"],Id={key:2,class:"p-8 text-center text-gray-500 dark:text-gray-400"},zd={class:"text-xs mt-2"},Od={key:3,class:"mt-4 flex justify-between items-center"},Ud={class:"text-sm text-gray-600 dark:text-gray-400"},qd={class:"flex gap-2"},Vd=["disabled"],Ed=["disabled"],Pd={class:"mt-4 flex justify-end"},Rd={class:"p-6 border-b border-gray-200 dark:border-gray-700"},Ad={class:"flex justify-between items-center"},Hd={class:"p-6 overflow-y-auto max-h-96"},Fd={class:"mb-6"},Wd=["value"],Gd={key:0,class:"mb-6"},Nd={class:"grid grid-cols-2 md:grid-cols-3 gap-3 max-h-60 overflow-y-auto"},Jd=["value"],Kd={class:"text-sm dark:text-gray-200"},Zd={key:1,class:"bg-blue-50 dark:bg-blue-900 p-4 rounded-lg"},Xd={class:"text-sm text-blue-800 dark:text-blue-200"},Yd={class:"text-xs text-blue-600 dark:text-blue-300 mt-1"},ei={class:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3"},ti=["disabled"],si={__name:"SyncMonitor",setup(Ce){const i=Wt(),k=u([]),m=u({online:navigator.onLine,syncing:!1}),w=u({pendingCount:0,lastSync:null}),z=u({cars:0,contracts:0,transactions:0}),K={environmentLabel:"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641",tip:"\u2014",host:"-",port:"",protocol:"-",origin:"-",secure:!1,networkType:"\u063A\u064A\u0631 \u0645\u062A\u0627\u062D",effectiveType:"\u063A\u064A\u0631 \u0645\u062A\u0627\u062D",downlink:null,rtt:null,apiBaseUrl:"-",lastUpdated:null,isLocal:!1},p=u(Ye()),re=u(!1),_=u(!1),ne=u(new Set),De=u([]),Z=u(!1),pe=u([]),S=u([]),V=u(null),O=u("all"),E=u(1),X=u(10);let le=null,b=null;const x=u({show:!1,data:null}),M=u({show:!1,item:null,title:"",message:"",stack:""}),L=u([]),Y=u(!1),P=u(!1),de=u("auto"),Qe=u("mysql"),Se=u([]),xe=u(!1),Ie=u(!1),F=u("operations"),ie=u(!1),R=u({total_transactions:0,migrated:0,remaining:0,errors:0}),se=u([]),U=u({batchSize:100,delay:1,deleteOldData:!1}),He=u(!1),ve=u(!1),be=u(!1),fe=u(!1),me=u({}),ce=u([]),ke=u({}),he=u(!1),Le=u(!1),Me=u(null),Te=u(null),W=u(null),je=u(null),Q=u({data:[],stats:null,error:null}),we=u(!1),dt=u({connection:"mysql",is_fallback:!1}),g=u({show:!1,tableName:"",columns:[],data:[],total:0,limit:50,offset:0,connection:"",error:null}),ze=u(!1),it=H(()=>({total:k.value.length,synced:k.value.filter(s=>s.synced).length,pending:k.value.filter(s=>!s.synced&&s.retries<3).length,failed:k.value.filter(s=>s.retries>=3).length})),ue=H(()=>{let s=k.value;O.value==="pending"?s=s.filter(n=>n.status==="pending"||!n.synced&&n.retries<3):O.value==="synced"?s=s.filter(n=>n.status==="synced"||n.synced):O.value==="failed"&&(s=s.filter(n=>n.status==="failed"||n.retries>=3));const t=(E.value-1)*X.value,d=t+X.value;return s.slice(t,d)}),ct=H(()=>({all:"",pending:"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631",synced:"\u062A\u0645\u062A \u0645\u0632\u0627\u0645\u0646\u062A\u0647\u0627",failed:"\u0641\u0634\u0644\u062A"})[O.value]||""),ut=H(()=>Math.ceil(k.value.length/X.value)),gt=H(()=>{if(!w.value.lastSync)return"\u0644\u0645 \u062A\u062A\u0645 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0639\u062F";const s=new Date(w.value.lastSync),d=new Date-s,n=Math.floor(d/6e4),a=Math.floor(d/36e5),c=Math.floor(d/864e5);return n<1?"\u0645\u0646\u0630 \u0644\u062D\u0638\u0627\u062A":n<60?`\u0645\u0646\u0630 ${n} \u062F\u0642\u064A\u0642\u0629`:a<24?`\u0645\u0646\u0630 ${a} \u0633\u0627\u0639\u0629`:`\u0645\u0646\u0630 ${c} \u064A\u0648\u0645`}),A=async()=>{re.value=!0;try{if(m.value.online=navigator.onLine,ae(),window.$db){const s=await window.$db.getAll("sync_queue");k.value=s.sort((t,d)=>d.timestamp-t.timestamp),w.value.pendingCount=s.filter(t=>!t.synced).length}if(window.$db&&(z.value={cars:(await window.$db.getAll("cars")).length,contracts:(await window.$db.getAll("contracts")).length,transactions:(await window.$db.getAll("transactions")).length}),window.$api){const s=await window.$api.getSyncStatus();w.value.pendingCount=s.pendingCount}i.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",{timeout:2e3})}catch(s){console.error("\u0641\u0634\u0644 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A:",s),i.error("\u0641\u0634\u0644 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A")}finally{re.value=!1}},Oe=async()=>{if(!m.value.online){i.warning("\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 - \u063A\u064A\u0631 \u0645\u062A\u0635\u0644 \u0628\u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A");return}_.value=!0,m.value.syncing=!0;try{i.info("\u{1F504} \u0628\u062F\u0621 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...",{timeout:3e3}),window.$api&&(await window.$api.syncNow(),w.value.lastSync=Date.now()),window.$db&&await window.$db.processSyncQueue(),await A(),i.success("\u2705 \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0646\u062C\u0627\u062D!",{timeout:3e3})}catch(s){console.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",s),i.error("\u274C \u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: "+s.message)}finally{_.value=!1,m.value.syncing=!1}},Ue=async s=>{if(!m.value.online){i.warning("\u0644\u0627 \u064A\u0645\u0643\u0646 \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 - \u063A\u064A\u0631 \u0645\u062A\u0635\u0644");return}ne.value.add(s.id);try{i.info(`\u{1F504} \u0625\u0639\u0627\u062F\u0629 \u0645\u062D\u0627\u0648\u0644\u0629 ${qe(s.storeName)}...`),window.$db&&(await window.$db.syncItem(s),s.synced=!0,s.retries=(s.retries||0)+1,await window.$db.save("sync_queue",s),i.success("\u2705 \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0646\u062C\u0627\u062D!"),await A())}catch(t){console.error("\u0641\u0634\u0644\u062A \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629:",t),s.retries=(s.retries||0)+1,s.error={message:t.message,timestamp:Date.now()},window.$db&&await window.$db.save("sync_queue",s),i.error("\u274C \u0641\u0634\u0644\u062A \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629"),await A()}finally{ne.value.delete(s.id)}},Fe=async s=>{if(!!confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629\u061F"))try{window.$db&&(await window.$db.delete("sync_queue",s.id),i.success("\u062A\u0645 \u0627\u0644\u062D\u0630\u0641"),await A())}catch(t){console.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641:",t),i.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641")}},We=async()=>{if(!!confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0643\u0644 \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A\u061F \u0633\u064A\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0641\u0642\u0637."))try{if(window.$db){const s=k.value.filter(t=>t.synced);for(const t of s)await window.$db.delete("sync_queue",t.id);i.success(`\u062A\u0645 \u062D\u0630\u0641 ${s.length} \u0639\u0645\u0644\u064A\u0629`),await A()}}catch(s){console.error("\u0641\u0634\u0644 \u0627\u0644\u0645\u0633\u062D:",s),i.error("\u0641\u0634\u0644 \u0645\u0633\u062D \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A")}},yt=s=>{x.value={show:!0,data:s.data}},pt=s=>{var t,d;M.value={show:!0,item:s,title:`\u0641\u0634\u0644 ${Ge(s.action)} ${qe(s.storeName)}`,message:((t=s.error)==null?void 0:t.message)||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641",stack:((d=s.error)==null?void 0:d.stack)||"\u0644\u0627 \u062A\u0648\u062C\u062F \u062A\u0641\u0627\u0635\u064A\u0644 \u0625\u0636\u0627\u0641\u064A\u0629"}},xt=async s=>{M.value.show=!1,await Ue(s)},qe=s=>({cars:"\u{1F697} \u0633\u064A\u0627\u0631\u0629",contracts:"\u{1F4C4} \u0639\u0642\u062F",transactions:"\u{1F4B0} \u0645\u0639\u0627\u0645\u0644\u0629",sync_queue:"\u{1F504} \u0645\u0632\u0627\u0645\u0646\u0629"})[s]||s,vt=s=>({cars:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",contracts:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",transactions:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"})[s]||"bg-gray-100 text-gray-800",Ge=s=>({save:"\u{1F4BE} \u062D\u0641\u0638",update:"\u270F\uFE0F \u062A\u062D\u062F\u064A\u062B",delete:"\u{1F5D1}\uFE0F \u062D\u0630\u0641"})[s]||s,bt=s=>({save:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",update:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",delete:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[s]||"bg-gray-100 text-gray-800",ft=s=>{if(!s)return"-";const t=new Date(s),n=new Date-t,a=Math.floor(n/6e4),c=Math.floor(n/36e5);return a<1?"\u0627\u0644\u0622\u0646":a<60?`\u0645\u0646\u0630 ${a} \u062F\u0642\u064A\u0642\u0629`:c<24?`\u0645\u0646\u0630 ${c} \u0633\u0627\u0639\u0629`:t.toLocaleDateString("ar-SA")+" "+t.toLocaleTimeString("ar-SA")},mt=()=>{i.info(`\u{1F4A1} \u0644\u0627\u062E\u062A\u0628\u0627\u0631 Offline Mode:
1. \u0627\u0641\u062A\u062D DevTools (F12)
2. \u0627\u0630\u0647\u0628 \u0625\u0644\u0649 Network
3. \u062D\u062F\u062F "Offline"`,{timeout:8e3})},Ne=async()=>{if(!!confirm("\u0647\u0644 \u062A\u0631\u064A\u062F \u0645\u0633\u062D \u0643\u0644 \u0627\u0644\u0640 Cache\u061F"))try{if(window.$db&&await window.$db.clearExpiredCache(),"caches"in window){const s=await caches.keys();await Promise.all(s.map(t=>caches.delete(t)))}i.success("\u2705 \u062A\u0645 \u0645\u0633\u062D \u0627\u0644\u0640 Cache"),setTimeout(()=>window.location.reload(),1e3)}catch{i.error("\u0641\u0634\u0644 \u0645\u0633\u062D \u0627\u0644\u0640 Cache")}},kt=()=>{const s={timestamp:new Date().toISOString(),connectionStatus:m.value,syncStatus:w.value,queueItems:k.value,localDataCounts:z.value,stats:it.value},t=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),d=URL.createObjectURL(t),n=document.createElement("a");n.href=d,n.download=`sync-logs-${Date.now()}.json`,n.click(),i.success("\u2705 \u062A\u0645 \u062A\u0635\u062F\u064A\u0631 \u0627\u0644\u0640 Logs")},ht=async()=>{try{const s={online:m.value.online,pendingSync:w.value.pendingCount,localData:z.value,queueSize:k.value.length,browserSupport:{serviceWorker:"serviceWorker"in navigator,indexedDB:"indexedDB"in window,cacheAPI:"caches"in window}};console.table(s),i.info("\u{1F4CA} \u062A\u0645 \u0639\u0631\u0636 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0641\u064A Console",{timeout:3e3})}catch{i.error("\u0641\u0634\u0644 \u0639\u0631\u0636 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A")}},Je=()=>{m.value.online=!0,ae(),i.success("\u{1F310} \u0639\u0627\u062F \u0627\u0644\u0627\u062A\u0635\u0627\u0644!"),A(),setTimeout(()=>{w.value.pendingCount>0&&Oe()},1e3)},Ke=()=>{m.value.online=!1,ae(),i.warning("\u{1F4F4} \u0641\u0642\u062F\u0627\u0646 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 - \u0648\u0636\u0639 Offline"),A()},q=async()=>{var s,t;Y.value=!0;try{const d={};de.value!=="auto"&&(d.force_connection=de.value);const n=await C.get("/api/sync-monitor/tables",{params:d,withCredentials:!0});L.value=n.data.tables||[],dt.value={connection:n.data.connection||"mysql",is_fallback:n.data.is_fallback||!1},Qe.value=n.data.connection||"mysql",i.success("\u062A\u0645 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3})}catch(d){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062C\u062F\u0627\u0648\u0644:",d),i.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062C\u062F\u0627\u0648\u0644: "+(((t=(s=d.response)==null?void 0:s.data)==null?void 0:t.error)||d.message))}finally{Y.value=!1}},wt=(s,t=null)=>{const d=`/sync-monitor/table/${s}${t?`?connection=${t}`:""}`;Jt.router.visit(d)},Ze=async(s,t=0,d=null)=>{var n,a,c,y;ze.value=!0,g.value.error=null;try{const T={limit:g.value.limit,offset:t},ee=d||g.value.tableConnection;ee?T.force_connection=ee:de.value!=="auto"&&(T.force_connection=de.value);const f=await C.get(`/api/sync-monitor/table/${s}`,{params:T,withCredentials:!0});console.log("Table details response:",{table:s,connection:ee,columns:f.data.columns,columns_type:typeof f.data.columns,columns_is_array:Array.isArray(f.data.columns),data_count:((n=f.data.data)==null?void 0:n.length)||0,total:f.data.total,first_row:((a=f.data.data)==null?void 0:a[0])||null,response_data:f.data});let j=[];Array.isArray(f.data.columns)?j=f.data.columns:f.data.columns&&typeof f.data.columns=="object"&&(j=Object.values(f.data.columns));let $=[];if(Array.isArray(f.data.data)?$=f.data.data:f.data.data&&typeof f.data.data=="object"&&($=Object.values(f.data.data)),j.length===0&&$.length>0){const G=$[0];G&&typeof G=="object"&&(j=Object.keys(G),console.log("Extracted columns from data:",j))}console.log("Final columns and data:",{columns_count:j.length,columns:j,data_count:$.length,first_row_keys:$.length>0?Object.keys($[0]):[]}),g.value.columns=j,g.value.data=$,g.value.total=f.data.total||0,g.value.offset=f.data.offset||0,g.value.connection=f.data.connection||"",console.log("Table details modal updated:",{columns:g.value.columns.length,data:g.value.data.length,total:g.value.total})}catch(T){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062C\u062F\u0648\u0644:",T),g.value.error=((y=(c=T.response)==null?void 0:c.data)==null?void 0:y.error)||T.message||"\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",i.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062C\u062F\u0648\u0644")}finally{ze.value=!1}},_t=s=>s==null?"-":typeof s=="boolean"?s?"\u2713":"\u2717":typeof s=="object"?JSON.stringify(s):typeof s=="string"&&s.length>50?s.substring(0,50)+"...":String(s),ge=async()=>{var s,t,d,n;we.value=!0,Q.value.error=null;try{const a=await C.get("/api/sync-monitor/metadata",{withCredentials:!0});Q.value.data=a.data.metadata||[],Q.value.stats=a.data.stats||null,i.success("\u062A\u0645 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",{timeout:2e3})}catch(a){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",a),Q.value.error=((t=(s=a.response)==null?void 0:s.data)==null?void 0:t.error)||a.message||"\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",i.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: "+(((n=(d=a.response)==null?void 0:d.data)==null?void 0:n.error)||a.message))}finally{we.value=!1}},_e=async()=>{var s,t;xe.value=!0;try{const d=await C.get("/api/sync-monitor/backups",{withCredentials:!0});Se.value=d.data.backups||[],i.success("\u062A\u0645 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629",{timeout:2e3})}catch(d){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629:",d),i.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: "+(((t=(s=d.response)==null?void 0:s.data)==null?void 0:t.error)||d.message))}finally{xe.value=!1}},$t=async s=>{var t,d;if(!!confirm(`\u26A0\uFE0F \u062A\u062D\u0630\u064A\u0631: \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 "${s}"\u061F

\u0647\u0630\u0627 \u0633\u064A\u0633\u062A\u0628\u062F\u0644 \u062C\u0645\u064A\u0639 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062D\u0627\u0644\u064A\u0629 \u0641\u064A \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A!`)){Ie.value=!0;try{const n=await C.post("/api/sync-monitor/restore-backup",{backup_file:s},{withCredentials:!0});n.data.success?(i.success("\u2705 \u062A\u0645\u062A \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:3e3}),await _e(),await q()):i.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629: "+(n.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"))}catch(n){console.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629:",n),i.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629: "+(((d=(t=n.response)==null?void 0:t.data)==null?void 0:d.error)||n.message))}finally{Ie.value=!1}}},Ct=s=>{window.open(`/api/sync-monitor/download-backup?file=${encodeURIComponent(s)}`,"_blank")},St=async s=>{var t,d;if(!!confirm(`\u26A0\uFE0F \u062A\u062D\u0630\u064A\u0631: \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 "${s}"\u061F

\u0647\u0630\u0627 \u0627\u0644\u0625\u062C\u0631\u0627\u0621 \u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646\u0647!`))try{const n=await C.delete("/api/sync-monitor/backup/delete",{params:{file:s},withCredentials:!0});n.data.success?(i.success("\u2705 \u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:3e3}),await _e()):i.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641: "+(n.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"))}catch(n){console.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641:",n),i.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641: "+(((d=(t=n.response)==null?void 0:t.data)==null?void 0:d.error)||n.message))}},Lt=s=>{if(!s)return"0 B";const t=1024,d=["B","KB","MB","GB"],n=Math.floor(Math.log(s)/Math.log(t));return Math.round(s/Math.pow(t,n)*100)/100+" "+d[n]},Be=s=>s?new Date(s).toLocaleString("ar-EG"):"-",Mt=async s=>{var t,d;if(!!confirm(`\u26A0\uFE0F \u062A\u062D\u0630\u064A\u0631: \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062A\u0641\u0631\u064A\u063A \u0627\u0644\u062C\u062F\u0648\u0644 "${s}"\u061F

\u0647\u0630\u0627 \u0633\u064A\u062D\u0630\u0641 \u062C\u0645\u064A\u0639 \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0645\u0646 \u0627\u0644\u062C\u062F\u0648\u0644 \u0641\u064A SQLite \u0627\u0644\u0645\u062D\u0644\u064A!`)){Me.value=s;try{const n=await C.post(`/api/sync-monitor/table/${s}/truncate`,{},{withCredentials:!0});n.data.success?(i.success(`\u2705 \u062A\u0645 \u062A\u0641\u0631\u064A\u063A \u0627\u0644\u062C\u062F\u0648\u0644 ${s} \u0628\u0646\u062C\u0627\u062D`,{timeout:3e3}),await q()):i.error("\u0641\u0634\u0644 \u0627\u0644\u062A\u0641\u0631\u064A\u063A: "+(n.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"))}catch(n){console.error("\u0641\u0634\u0644 \u062A\u0641\u0631\u064A\u063A \u0627\u0644\u062C\u062F\u0648\u0644:",n),i.error("\u0641\u0634\u0644 \u0627\u0644\u062A\u0641\u0631\u064A\u063A: "+(((d=(t=n.response)==null?void 0:t.data)==null?void 0:d.error)||n.message))}finally{Me.value=null}}},Tt=s=>{W.value=W.value===s?null:s},jt=async s=>{var t,d;if(!!confirm(`\u0647\u0644 \u062A\u0631\u064A\u062F \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u062C\u062F\u0648\u0644 "${s}" \u0645\u0646 SQLite \u0625\u0644\u0649 MySQL\u061F

\u0633\u064A\u062A\u0645:
- \u0646\u0642\u0644 \u062C\u0645\u064A\u0639 \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u062C\u062F\u064A\u062F\u0629
- \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062C\u062F\u0648\u0644 \u0641\u064A MySQL \u0625\u0630\u0627 \u0644\u0645 \u064A\u0643\u0646 \u0645\u0648\u062C\u0648\u062F\u0627\u064B
- \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u062A\u0644\u0642\u0627\u0626\u064A\u0629`)){Te.value=s;try{i.info(`\u{1F4E4} \u0628\u062F\u0621 \u0645\u0632\u0627\u0645\u0646\u0629 \u062C\u062F\u0648\u0644 ${s}...`,{timeout:3e3});const n=await C.post("/api/sync-monitor/sync",{direction:"up",tables:s,safe_mode:!1,create_backup:!0,force_full_sync:!1},{withCredentials:!0});if(n.data.success){const a=n.data.results;console.log(`\u2705 \u062A\u0645\u062A \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u062C\u062F\u0648\u0644 ${s}:`,a);let c=`\u2705 \u062A\u0645\u062A \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u062C\u062F\u0648\u0644 ${s} \u0628\u0646\u062C\u0627\u062D!

`;c+=`\u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u0645\u0646\u0642\u0648\u0644\u0629: ${a.total_synced}
`,a.backup_file&&(c+=`\u{1F4BE} \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: ${a.backup_file.split("/").pop()}
`,i.info(`\u{1F4BE} \u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: ${a.backup_file.split("/").pop()}`,{timeout:3e3})),i.success(c,{timeout:5e3}),await ge(),await q()}else console.error(`\u274C \u0641\u0634\u0644\u062A \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u062C\u062F\u0648\u0644 ${s}:`,n.data.error),i.error(`\u274C \u0641\u0634\u0644\u062A \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u062C\u062F\u0648\u0644 ${s}: ${n.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"}`)}catch(n){console.error(`\u0641\u0634\u0644\u062A \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u062C\u062F\u0648\u0644 ${s}:`,n),i.error(`\u0641\u0634\u0644\u062A \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u062C\u062F\u0648\u0644 ${s}: `+(((d=(t=n.response)==null?void 0:t.data)==null?void 0:d.error)||n.message))}finally{Te.value=null}}},Bt=async s=>{var t,d;if(!!confirm(`\u26A0\uFE0F\u26A0\uFE0F\u26A0\uFE0F \u062A\u062D\u0630\u064A\u0631 \u0634\u062F\u064A\u062F: \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u062A\u0645\u0627\u0645\u0627\u064B \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644 "${s}"\u061F

\u0647\u0630\u0627 \u0633\u064A\u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644 \u0628\u0627\u0644\u0643\u0627\u0645\u0644 \u0645\u0646 SQLite \u0627\u0644\u0645\u062D\u0644\u064A!

\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629!`)&&!!confirm(`\u26A0\uFE0F \u062A\u0623\u0643\u064A\u062F \u0646\u0647\u0627\u0626\u064A: \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F 100% \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644 "${s}"\u061F`)){je.value=s;try{const n=await C.delete(`/api/sync-monitor/table/${s}/delete`,{withCredentials:!0});n.data.success?(i.success(`\u2705 \u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644 ${s} \u0628\u0646\u062C\u0627\u062D`,{timeout:3e3}),await q()):i.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641: "+(n.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"))}catch(n){console.error("\u0641\u0634\u0644 \u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644:",n),i.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641: "+(((d=(t=n.response)==null?void 0:t.data)==null?void 0:d.error)||n.message))}finally{je.value=null}}},Ve=async(s,t=!1)=>{var T,ee;const d=s==="up"?"\u0645\u0646 SQLite \u0625\u0644\u0649 MySQL":"\u0645\u0646 MySQL \u0625\u0644\u0649 SQLite",n=s==="up"?"\u{1F4E4}":"\u{1F4E5}";let a=null,c="\u062C\u0645\u064A\u0639 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 (\u0628\u0627\u0633\u062A\u062B\u0646\u0627\u0621 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0646\u0638\u0627\u0645\u064A\u0629)";if(!t){const f=["users","car","car_contract","transactions","wallets","buyer_payments","car_sales","internal_sales"];a=f.join(","),c=f.join(", ")}const y=`\u0647\u0644 \u062A\u0631\u064A\u062F \u0645\u0632\u0627\u0645\u0646\u0629 ${c} ${d}\u061F

${t?"\u{1F4CB} \u062C\u0645\u064A\u0639 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062A\u0627\u062D\u0629 (\u0628\u0627\u0633\u062A\u062B\u0646\u0627\u0621 \u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0646\u0638\u0627\u0645)":"\u{1F4CB} \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629 \u0627\u0644\u0645\u0647\u0645\u0629"}

\u26A0\uFE0F ${s==="up"?"\u062D\u0645\u0627\u064A\u0629 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0633\u064A\u0631\u0641\u0631:":"\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062D\u0644\u064A\u0629:"}
${s==="up"?"\u2705 \u0633\u064A\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u062A\u0644\u0642\u0627\u0626\u064A\u0627\u064B":"\u2705 \u0633\u064A\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062D\u0644\u064A\u0629"}
${s==="up"?"\u2705 Safe Mode: \u0625\u0636\u0627\u0641\u0629 \u0641\u0642\u0637 (\u0644\u0627 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0629)":"\u2705 \u0633\u064A\u062A\u0645 \u062C\u0644\u0628 \u0623\u062D\u062F\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 \u0627\u0644\u0633\u064A\u0631\u0641\u0631"}
${s==="up"?"\u2705 Transaction \u0645\u0639 Rollback \u0641\u064A \u062D\u0627\u0644\u0629 \u0627\u0644\u062E\u0637\u0623":"\u2705 \u0646\u0633\u062E \u0630\u0643\u064A (\u0641\u0642\u0637 \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u062C\u062F\u064A\u062F\u0629)"}

\u0633\u064A\u062A\u0645:
${s==="up"?"\u0646\u0642\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 SQLite \u0627\u0644\u0645\u062D\u0644\u064A \u0625\u0644\u0649 MySQL \u0627\u0644\u0633\u064A\u0631\u0641\u0631":"\u062A\u062D\u062F\u064A\u062B SQLite \u0627\u0644\u0645\u062D\u0644\u064A \u0645\u0646 MySQL \u0627\u0644\u0633\u064A\u0631\u0641\u0631"}`;if(!!confirm(y)){P.value=!0;try{const f=t?"\u062C\u0645\u064A\u0639 \u0627\u0644\u062C\u062F\u0627\u0648\u0644":"\u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629";i.info(`${n} \u0628\u062F\u0621 \u0645\u0632\u0627\u0645\u0646\u0629 ${f} ${d}...`,{timeout:3e3});const j=await C.post("/api/sync-monitor/sync",{direction:s,tables:a,safe_mode:s!=="up",create_backup:s==="up",force_full_sync:!1},{withCredentials:!0});if(j.data.success){const $=j.data.results;console.log(`\u2705 \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 ${d}:`,$);let G=`\u2705 \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0646\u062C\u0627\u062D!

`;if(G+=`${n} ${d}: ${$.total_synced} \u0633\u062C\u0644
`,t)G+=`\u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: ${Object.keys($.success||{}).length} \u062C\u062F\u0648\u0644
`;else{const at=["users","car","car_contract","transactions","wallets","buyer_payments","car_sales","internal_sales"];G+=`\u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: ${Object.keys($.success||{}).length} \u0645\u0646 ${at.length} \u062C\u062F\u0648\u0644 \u0623\u0633\u0627\u0633\u064A
`}$.backup_file&&(G+=`\u{1F4BE} \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: ${$.backup_file.split("/").pop()}
`,i.info(`\u{1F4BE} \u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: ${$.backup_file.split("/").pop()}`,{timeout:3e3})),i.success(G,{timeout:5e3}),await ge(),await q()}else{console.error(`\u274C \u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 ${d}:`,j.data.error);const $=t?"\u062C\u0645\u064A\u0639 \u0627\u0644\u062C\u062F\u0627\u0648\u0644":"\u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629";i.error(`\u274C \u0641\u0634\u0644\u062A \u0645\u0632\u0627\u0645\u0646\u0629 ${$} ${d}: ${j.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"}`)}}catch(f){console.error(`\u0641\u0634\u0644\u062A \u0645\u0632\u0627\u0645\u0646\u0629 ${d}:`,f);const j=t?"\u062C\u0645\u064A\u0639 \u0627\u0644\u062C\u062F\u0627\u0648\u0644":"\u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629";i.error(`\u0641\u0634\u0644\u062A \u0645\u0632\u0627\u0645\u0646\u0629 ${j} ${d}: `+(((ee=(T=f.response)==null?void 0:T.data)==null?void 0:ee.error)||f.message))}finally{P.value=!1}}},Xe=async s=>{await Ve(s,!0)},Dt=async()=>{var d,n;const s=["car","car_images","buyer_payments","wallets","users"],t=`\u0647\u0644 \u062A\u0631\u064A\u062F \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 \u0645\u0646 JSON \u0625\u0644\u0649 MySQL\u061F

\u{1F4CB} \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629:
${s.join(", ")}

\u26A0\uFE0F \u0633\u064A\u062A\u0645:
- \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A
- \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0635\u0648\u0631 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A
- \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u062F\u0641\u0639\u0627\u062A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0646
- \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062D\u0627\u0641\u0638 \u0627\u0644\u0645\u0627\u0644\u064A\u0629
- \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646
- \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u062A\u0644\u0642\u0627\u0626\u064A\u0629

\u0647\u0644 \u062A\u0631\u064A\u062F \u0627\u0644\u0645\u062A\u0627\u0628\u0639\u0629\u061F`;if(!!confirm(t)){P.value=!0;try{i.info(`\u{1F697} \u0628\u062F\u0621 \u0627\u0633\u062A\u0639\u0627\u062F\u0629 ${s.length} \u062C\u062F\u0648\u0644 \u0645\u062D\u062F\u062F...`,{timeout:3e3});const a=await C.post("/api/sync-monitor/sync",{direction:"up",tables:s.join(","),safe_mode:!1,create_backup:!0,force_full_sync:!1},{withCredentials:!0});if(a.data.success){const c=a.data.results;console.log("\u2705 \u062A\u0645\u062A \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629:",c);let y=`\u2705 \u062A\u0645\u062A \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 \u0628\u0646\u062C\u0627\u062D!

`;y+=`\u{1F697} \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0633\u062A\u0639\u0627\u062F\u0629: ${s.join(", ")}
`,y+=`\u{1F4CA} \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0633\u062C\u0644\u0627\u062A: ${c.total_synced}
`,c.backup_file&&(y+=`\u{1F4BE} \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: ${c.backup_file.split("/").pop()}
`,i.info(`\u{1F4BE} \u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: ${c.backup_file.split("/").pop()}`,{timeout:3e3})),i.success(y,{timeout:5e3}),await ge(),await q()}else console.error("\u274C \u0641\u0634\u0644\u062A \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629:",a.data.error),i.error(`\u274C \u0641\u0634\u0644\u062A \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629: ${a.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"}`)}catch(a){console.error("\u0641\u0634\u0644\u062A \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629:",a),i.error("\u0641\u0634\u0644\u062A \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629: "+(((n=(d=a.response)==null?void 0:d.data)==null?void 0:n.error)||a.message))}finally{P.value=!1}}},Qt=async()=>{var t,d;if(!!confirm(`\u0647\u0644 \u062A\u0631\u064A\u062F \u0645\u0632\u0627\u0645\u0646\u0629 \u062C\u0645\u064A\u0639 \u0627\u0644\u062C\u062F\u0627\u0648\u0644\u061F

\u26A0\uFE0F \u062D\u0645\u0627\u064A\u0629 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0633\u064A\u0631\u0641\u0631:
\u2705 \u0633\u064A\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u062A\u0644\u0642\u0627\u0626\u064A\u0627\u064B
\u2705 Safe Mode: \u0625\u0636\u0627\u0641\u0629 \u0641\u0642\u0637 (\u0644\u0627 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0629)
\u2705 Transaction \u0645\u0639 Rollback \u0641\u064A \u062D\u0627\u0644\u0629 \u0627\u0644\u062E\u0637\u0623

\u0633\u064A\u062A\u0645:
1. \u0646\u0642\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 SQLite \u0625\u0644\u0649 MySQL (\u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062D\u0644\u064A\u0629 \u2192 \u0627\u0644\u0633\u064A\u0631\u0641\u0631)
2. \u062B\u0645 \u062A\u062D\u062F\u064A\u062B SQLite \u0645\u0646 MySQL (\u0627\u0644\u062A\u062D\u062F\u064A\u062B\u0627\u062A \u0645\u0646 \u0627\u0644\u0633\u064A\u0631\u0641\u0631)`)){P.value=!0;try{i.info("\u{1F504} \u0628\u062F\u0621 \u0639\u0645\u0644\u064A\u0629 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0645\u0639 \u0627\u0644\u062D\u0645\u0627\u064A\u0629...",{timeout:3e3}),i.info("\u{1F4E4} \u0646\u0642\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 SQLite \u0625\u0644\u0649 MySQL (Safe Mode)...",{timeout:3e3});const n=await C.post("/api/sync-monitor/sync",{direction:"up",tables:null,safe_mode:!0,create_backup:!0},{withCredentials:!0});if(n.data.success){const c=n.data.results;console.log("\u2705 \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0645\u0646 SQLite \u0625\u0644\u0649 MySQL:",c),c.backup_file&&(console.log("\u{1F4BE} \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629:",c.backup_file),i.info(`\u{1F4BE} \u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: ${c.backup_file.split("/").pop()}`,{timeout:3e3}))}else console.error("\u274C \u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0645\u0646 SQLite \u0625\u0644\u0649 MySQL:",n.data.error),i.error("\u274C \u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 - \u062A\u0645 Rollback \u0648\u062D\u0645\u0627\u064A\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A");i.info("\u{1F4E5} \u062A\u062D\u062F\u064A\u062B SQLite \u0645\u0646 MySQL...",{timeout:3e3});const a=await C.post("/api/sync-monitor/sync",{direction:"down",tables:null},{withCredentials:!0});if(a.data.success){const c=a.data.results;let y=`\u2705 \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0646\u062C\u0627\u062D!

`;y+=`\u{1F4E4} \u0646\u0642\u0644 \u0625\u0644\u0649 MySQL: ${(resultsUp==null?void 0:resultsUp.total_synced)||0} \u0633\u062C\u0644 (Safe Mode)
`,y+=`\u{1F4E5} \u062A\u062D\u062F\u064A\u062B \u0645\u0646 MySQL: ${c.total_synced} \u0633\u062C\u0644
`,y+=`\u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: ${Object.keys(c.success).length}
`,resultsUp!=null&&resultsUp.backup_file&&(y+=`
\u{1F4BE} \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: ${resultsUp.backup_file.split("/").pop()}`),(Object.keys(c.failed).length>0||Object.keys((resultsUp==null?void 0:resultsUp.failed)||{}).length>0)&&(y+=`
\u26A0\uFE0F \u0641\u0634\u0644\u062A \u0628\u0639\u0636 \u0627\u0644\u062C\u062F\u0627\u0648\u0644`),i.success(y,{timeout:7e3}),await q()}else i.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: "+(a.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"))}catch(n){console.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",n),i.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: "+(((d=(t=n.response)==null?void 0:t.data)==null?void 0:d.error)||n.message))}finally{P.value=!1}}};Re(()=>{A(),ae(),q(),_e(),ge(),window.addEventListener("online",Je),window.addEventListener("offline",Ke),le=setInterval(A,1e4),b=et(),b!=null&&b.addEventListener?b.addEventListener("change",ae):b&&(b.onchange=ae)}),rt(()=>{window.removeEventListener("online",Je),window.removeEventListener("offline",Ke),le&&(clearInterval(le),le=null),b!=null&&b.removeEventListener?b.removeEventListener("change",ae):b&&(b.onchange=null)});const ae=()=>{p.value=Ye()};function Ye(){if(typeof window>"u")return{...K};const{protocol:s,hostname:t,port:d,origin:n}=window.location,a=(t||"").toLowerCase(),c=["localhost","127.0.0.1"].includes(a)||a.startsWith("192.168.")||a.startsWith("10.")||a.endsWith(".local"),y=et(),T=typeof(y==null?void 0:y.downlink)=="number"?Number(y.downlink.toFixed(1)):null,ee=typeof(y==null?void 0:y.rtt)=="number"?Math.round(y.rtt):null,f=It(n);return{environmentLabel:c?"\u{1F5A5}\uFE0F \u0628\u064A\u0626\u0629 \u0645\u062D\u0644\u064A\u0629 (Local)":"\u2601\uFE0F \u0627\u062A\u0635\u0627\u0644 \u062E\u0627\u062F\u0645/\u0633\u064A\u0631\u0641\u0631",tip:c?"\u0623\u0646\u062A \u062A\u0639\u0645\u0644 \u0639\u0644\u0649 \u0646\u0633\u062E\u0629 \u0645\u062D\u0644\u064A\u0629\u060C \u062A\u0630\u0643\u0651\u0631 \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0642\u0628\u0644 \u0646\u0634\u0631\u0647\u0627.":"\u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0645\u0628\u0627\u0634\u0631 \u0628\u0627\u0644\u0633\u064A\u0631\u0641\u0631\u060C \u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0633\u062A\u0642\u0631\u0627\u0631 \u0627\u0644\u0634\u0628\u0643\u0629 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629.",host:t||"-",port:d||(s==="https:"?"443":"80"),protocol:s?s.replace(":","").toUpperCase():"-",origin:n||"-",secure:s==="https:",networkType:(y==null?void 0:y.type)||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641",effectiveType:(y==null?void 0:y.effectiveType)||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641",downlink:T,rtt:ee,apiBaseUrl:f,lastUpdated:new Date().toLocaleTimeString("ar-SA"),isLocal:c}}function It(s="-"){var t,d,n,a,c;return typeof window>"u"?s:(d=(t=window==null?void 0:window.axios)==null?void 0:t.defaults)!=null&&d.baseURL?window.axios.defaults.baseURL:(n=window==null?void 0:window.Ziggy)!=null&&n.url?window.Ziggy.url:(a=window==null?void 0:window.Laravel)!=null&&a.baseUrl?window.Laravel.baseUrl:((c=window.location)==null?void 0:c.origin)||s||"-"}function et(){return typeof navigator>"u"?null:navigator.connection||navigator.mozConnection||navigator.webkitConnection||null}const zt=async()=>{var d,n;if(ie.value||!confirm(`\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062A\u0634\u063A\u064A\u0644 \u0639\u0645\u0644\u064A\u0629 \u0646\u0642\u0644 \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A\u061F

\u0647\u0630\u0627 \u0642\u062F \u064A\u0633\u062A\u063A\u0631\u0642 \u0648\u0642\u062A\u0627\u064B \u0637\u0648\u064A\u0644\u0627\u064B \u062D\u0633\u0628 \u062D\u062C\u0645 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A.`))return;ie.value=!0,se.value=[];let s=0,t=!0;$e("info","\u0628\u062F\u0621 \u0639\u0645\u0644\u064A\u0629 \u0646\u0642\u0644 \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A");try{for(;t&&ie.value;){$e("info",`\u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u062F\u0641\u0639\u0629 ${s/U.value.batchSize+1}...`);const a=await C.post("/api/car-history/migrate-transactions",{limit:U.value.batchSize,confirm_delete:U.value.deleteOldData,offset:s},{withCredentials:!0}),c=a.data.stats;R.value.migrated+=c.migrated,R.value.errors+=c.errors,$e("success",`\u062A\u0645 \u0646\u0642\u0644 ${c.migrated} \u0645\u0639\u0627\u0645\u0644\u0629\u060C \u0641\u0634\u0644 ${c.errors}\u060C \u062A\u0645 \u062D\u0630\u0641 ${c.deleted}`),a.data.next_offset?(s=a.data.next_offset,U.value.delay>0&&await new Promise(y=>setTimeout(y,U.value.delay*1e3))):(t=!1,$e("success","\u0627\u0646\u062A\u0647\u062A \u0639\u0645\u0644\u064A\u0629 \u0627\u0644\u0646\u0642\u0644 \u0628\u0646\u062C\u0627\u062D"))}await Ee()}catch(a){$e("error","\u0641\u0634\u0644\u062A \u0639\u0645\u0644\u064A\u0629 \u0627\u0644\u0646\u0642\u0644: "+(((n=(d=a.response)==null?void 0:d.data)==null?void 0:n.message)||a.message))}finally{ie.value=!1}},Ee=async()=>{try{const t=(await C.get("/api/sync-monitor/tables",{withCredentials:!0})).data.tables||[],d=t.find(a=>a.name==="transactions"),n=t.find(a=>a.name==="car_history");R.value={total_transactions:(d==null?void 0:d.count)||0,migrated:(n==null?void 0:n.count)||0,remaining:Math.max(0,((d==null?void 0:d.count)||0)-((n==null?void 0:n.count)||0)),errors:0}}catch(s){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A \u0627\u0644\u0646\u0642\u0644:",s)}},$e=(s,t)=>{se.value.unshift({type:s,message:t,timestamp:new Date().toISOString()}),se.value.length>50&&(se.value=se.value.slice(0,50))},tt=s=>({info:"\u2139\uFE0F",success:"\u2705",warning:"\u26A0\uFE0F",error:"\u274C"})[s]||"\u{1F4DD}",Ot=s=>({pending:"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631",synced:"\u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",failed:"\u0641\u0634\u0644\u062A"})[s]||s,Ut=async()=>{if(!ve.value){ve.value=!0,I("info","\u0628\u062F\u0621 \u062A\u062D\u0633\u064A\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A");try{await new Promise(s=>setTimeout(s,3e3)),I("success","\u062A\u0645 \u062A\u062D\u0633\u064A\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0628\u0646\u062C\u0627\u062D"),i.success("\u062A\u0645 \u062A\u062D\u0633\u064A\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0628\u0646\u062C\u0627\u062D")}catch{I("error","\u0641\u0634\u0644 \u062A\u062D\u0633\u064A\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"),i.error("\u0641\u0634\u0644 \u062A\u062D\u0633\u064A\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A")}finally{ve.value=!1}}},qt=async()=>{if(!be.value){be.value=!0,I("info","\u0628\u062F\u0621 \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629");try{await new Promise(s=>setTimeout(s,5e3)),I("success","\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u0628\u0646\u062C\u0627\u062D"),i.success("\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u0628\u0646\u062C\u0627\u062D"),await _e()}catch{I("error","\u0641\u0634\u0644 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629"),i.error("\u0641\u0634\u0644 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629")}finally{be.value=!1}}},Vt=async()=>{if(!fe.value){fe.value=!0,I("info","\u0628\u062F\u0621 \u0641\u062D\u0635 \u0635\u062D\u0629 \u0627\u0644\u0646\u0638\u0627\u0645");try{const s=[{name:"\u0627\u062A\u0635\u0627\u0644 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",status:"ok"},{name:"\u0645\u0633\u0627\u062D\u0629 \u0627\u0644\u062A\u062E\u0632\u064A\u0646",status:"ok"},{name:"\u0630\u0627\u0643\u0631\u0629 \u0627\u0644\u0646\u0638\u0627\u0645",status:"warning"},{name:"\u0627\u062A\u0635\u0627\u0644 \u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A",status:m.value.online?"ok":"error"}];await new Promise(n=>setTimeout(n,2e3));const t=s.filter(n=>n.status==="error").length,d=s.filter(n=>n.status==="warning").length;me.value={php_version:"8.2.12",laravel_version:"10.x",database:"SQLite",storage_used:"2.3 GB"},t===0&&d===0?(I("success","\u0627\u0644\u0646\u0638\u0627\u0645 \u0641\u064A \u062D\u0627\u0644\u0629 \u0645\u0645\u062A\u0627\u0632\u0629"),i.success("\u0627\u0644\u0646\u0638\u0627\u0645 \u0641\u064A \u062D\u0627\u0644\u0629 \u0645\u0645\u062A\u0627\u0632\u0629")):(I("warning",`\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 ${t} \u0623\u062E\u0637\u0627\u0621 \u0648 ${d} \u062A\u062D\u0630\u064A\u0631\u0627\u062A`),i.warning(`\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 ${t} \u0623\u062E\u0637\u0627\u0621 \u0648 ${d} \u062A\u062D\u0630\u064A\u0631\u0627\u062A`))}catch{I("error","\u0641\u0634\u0644 \u0641\u062D\u0635 \u0635\u062D\u0629 \u0627\u0644\u0646\u0638\u0627\u0645"),i.error("\u0641\u0634\u0644 \u0641\u062D\u0635 \u0635\u062D\u0629 \u0627\u0644\u0646\u0638\u0627\u0645")}finally{fe.value=!1}}},I=(s,t)=>{ce.value.unshift({type:s,message:t,timestamp:new Date().toISOString()}),ce.value.length>50&&(ce.value=ce.value.slice(0,50))},st=async()=>{he.value=!0;try{const t=(await C.get("/api/sync-monitor/tables",{withCredentials:!0})).data.tables||[],d=t.reduce((a,c)=>a+(c.count||0),0);let n="\u063A\u064A\u0631 \u0645\u062D\u062F\u062F";try{const c=require("fs").statSync("database/database.sqlite");n=Et(c.size)}catch{n="\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"}ke.value={type:"SQLite",version:"3.x",path:"database/database.sqlite",total_tables:t.length,total_records:d,size:n},I("info","\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A")}catch(s){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A:",s),I("error","\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"),ke.value={type:"SQLite",version:"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F",path:"database/database.sqlite",total_tables:L.value.length,total_records:"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F",size:"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"}}finally{he.value=!1}},Et=s=>{if(s===0)return"0 Bytes";const t=1024,d=["Bytes","KB","MB","GB","TB"],n=Math.floor(Math.log(s)/Math.log(t));return parseFloat((s/Math.pow(t,n)).toFixed(2))+" "+d[n]};Re(async()=>{await Ee(),await st()});const Pt=async s=>{try{V.value=s;const t=await C.get(`/api/sync-monitor/backup-content?file=${encodeURIComponent(s)}`,{withCredentials:!0});t.data.success?(pe.value=t.data.tables||[],S.value=[]):i.error("\u0641\u0634\u0644 \u0641\u064A \u0642\u0631\u0627\u0621\u0629 \u0645\u062D\u062A\u0648\u0649 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629")}catch(t){console.error("\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629:",t),i.error("\u0641\u0634\u0644 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629")}},Rt=async()=>{var t,d;if(S.value.length===0){i.warning("\u064A\u0631\u062C\u0649 \u062A\u062D\u062F\u064A\u062F \u062C\u062F\u0648\u0644 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644");return}const s=`\u0647\u0644 \u062A\u0631\u064A\u062F \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 \u0645\u0646 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629\u061F

\u{1F4E6} \u0627\u0644\u0645\u0644\u0641: ${V.value}
\u{1F4CB} \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 (${S.value.length}):
${S.value.join(", ")}

\u26A0\uFE0F \u0633\u064A\u062A\u0645:
- \u0627\u0633\u062A\u0628\u062F\u0627\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062D\u0627\u0644\u064A\u0629 \u0628\u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629
- \u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u062A\u0644\u0642\u0627\u0626\u064A\u0627\u064B (\u0623\u0631\u0642\u0627\u0645 + \u0646\u0635\u0648\u0635)

\u0647\u0644 \u062A\u0631\u064A\u062F \u0627\u0644\u0645\u062A\u0627\u0628\u0639\u0629\u061F`;if(!!confirm(s))try{const n=await C.post("/api/sync-monitor/restore-selected",{backup_file:V.value,tables:S.value.join(",")},{withCredentials:!0});n.data.success?(i.success(`\u2705 \u062A\u0645\u062A \u0627\u0633\u062A\u0639\u0627\u062F\u0629 ${S.value.length} \u062C\u062F\u0648\u0644 \u0628\u0646\u062C\u0627\u062D!`),Z.value=!1,S.value=[],await q(),await ge()):i.error(`\u274C \u0641\u0634\u0644\u062A \u0627\u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629: ${n.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"}`)}catch(n){console.error("\u0641\u0634\u0644\u062A \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629:",n),i.error(`\u0641\u0634\u0644\u062A \u0627\u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629: ${((d=(t=n.response)==null?void 0:t.data)==null?void 0:d.error)||n.message}`)}};return(s,t)=>{const d=Gt('else"');return o(),r(B,null,[te(nt(Nt),{title:"\u0645\u0631\u0627\u0642\u0628\u0629 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629"}),te(Kt,null,{header:oe(()=>[e("div",_s,[t[38]||(t[38]=e("h2",{class:"font-semibold text-xl dark:text-gray-200 text-gray-800"}," \u{1F504} \u0645\u0631\u0627\u0642\u0628\u0629 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0648\u0627\u0644\u0640 Offline Mode ",-1)),e("div",$s,[e("button",{onClick:A,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",disabled:re.value},[re.value?(o(),r("span",Ls,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",Ss,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,Cs),w.value.pendingCount>0&&m.value.online?(o(),r("button",{key:0,onClick:Oe,class:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",disabled:_.value},[_.value?(o(),r("span",js,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...")):(o(),r("span",Ts,"\u2705 \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0643\u0644"))],8,Ms)):v("",!0),e("button",{onClick:We,class:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600"}," \u{1F5D1}\uFE0F \u0645\u0633\u062D \u0627\u0644\u0643\u0644 ")])])]),default:oe(()=>{var n;return[e("div",Bs,[e("div",Ds,[e("div",Qs,[e("div",Is,[t[39]||(t[39]=e("div",null,[e("h3",{class:"text-lg font-semibold dark:text-gray-200"},"\u{1F5C4}\uFE0F \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0648\u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629"),e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0634\u0627\u0645\u0644\u0629 \u0639\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0648\u0627\u0644\u062D\u0627\u0644\u0629 \u0627\u0644\u062D\u0627\u0644\u064A\u0629")],-1)),e("button",{onClick:st,disabled:he.value,class:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 disabled:opacity-50"},[he.value?(o(),r("span",Us,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",Os,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,zs)]),he.value?(o(),r("div",qs,[...t[40]||(t[40]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"},null,-1),e("p",{class:"mt-4 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...",-1)])])):(o(),r("div",Vs,[e("div",Es,[t[44]||(t[44]=e("h4",{class:"text-md font-semibold mb-3 text-gray-900 dark:text-gray-100"},"\u{1F4CA} \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",-1)),e("div",Ps,[e("div",Rs,[t[41]||(t[41]=e("span",{class:"text-gray-600 dark:text-gray-400"},"\u0627\u0644\u0646\u0648\u0639:",-1)),e("span",As,l(ke.value.type||"SQLite"),1)]),e("div",Hs,[t[42]||(t[42]=e("span",{class:"text-gray-600 dark:text-gray-400"},"\u0627\u0644\u062D\u062C\u0645:",-1)),e("span",Fs,l(ke.value.size||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),1)]),e("div",Ws,[t[43]||(t[43]=e("span",{class:"text-gray-600 dark:text-gray-400"},"\u0627\u0644\u062C\u062F\u0627\u0648\u0644:",-1)),e("span",Gs,l(ke.value.total_tables||L.value.length),1)])])]),e("div",Ns,[t[48]||(t[48]=e("h4",{class:"text-md font-semibold mb-3 text-blue-900 dark:text-blue-100"},"\u{1F504} \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1)),e("div",Js,[e("div",Ks,[t[45]||(t[45]=e("span",{class:"text-blue-700 dark:text-blue-300"},"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631:",-1)),e("span",Zs,l(w.value.pendingCount),1)]),e("div",Xs,[t[46]||(t[46]=e("span",{class:"text-blue-700 dark:text-blue-300"},"\u0622\u062E\u0631 \u0645\u0632\u0627\u0645\u0646\u0629:",-1)),e("span",Ys,l(gt.value),1)]),e("div",ea,[t[47]||(t[47]=e("span",{class:"text-blue-700 dark:text-blue-300"},"\u0627\u0644\u062D\u0627\u0644\u0629:",-1)),e("span",{class:h(["font-bold",m.value.online?"text-green-600":"text-red-600"])},l(m.value.online?"\u0645\u062A\u0635\u0644":"\u063A\u064A\u0631 \u0645\u062A\u0635\u0644"),3)])])]),e("div",ta,[t[52]||(t[52]=e("h4",{class:"text-md font-semibold mb-3 text-green-900 dark:text-green-100"},"\u{1F697} \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A",-1)),e("div",sa,[e("div",aa,[t[49]||(t[49]=e("span",{class:"text-green-700 dark:text-green-300"},"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A:",-1)),e("span",oa,l(R.value.total_transactions||0),1)]),e("div",ra,[t[50]||(t[50]=e("span",{class:"text-green-700 dark:text-green-300"},"\u0645\u064F\u0646\u0642\u0644:",-1)),e("span",na,l(R.value.migrated||0),1)]),e("div",la,[t[51]||(t[51]=e("span",{class:"text-green-700 dark:text-green-300"},"\u0645\u062A\u0628\u0642\u064A:",-1)),e("span",da,l(R.value.remaining||0),1)])])]),e("div",ia,[t[53]||(t[53]=e("h4",{class:"text-md font-semibold mb-3 text-purple-900 dark:text-purple-100"},"\u26A1 \u0625\u062C\u0631\u0627\u0621\u0627\u062A \u0633\u0631\u064A\u0639\u0629",-1)),e("div",ca,[e("button",{onClick:Oe,disabled:!m.value.online||_.value,class:"w-full px-3 py-2 bg-green-600 text-white text-xs rounded hover:bg-green-700 disabled:opacity-50"}," \u{1F504} \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0643\u0644 ",8,ua),e("button",{onClick:We,class:"w-full px-3 py-2 bg-red-600 text-white text-xs rounded hover:bg-red-700"}," \u{1F5D1}\uFE0F \u0645\u0633\u062D \u0627\u0644\u0643\u0644 ")])])]))]),e("div",ga,[e("div",ya,[t[54]||(t[54]=e("h3",{class:"text-lg font-semibold dark:text-gray-200"},"\u{1F310} \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0627\u0644\u062A\u0642\u0646\u064A\u0629",-1)),e("span",{class:h(["px-3 py-1 rounded-full text-sm font-semibold",p.value.isLocal?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100":"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-100"])},l(p.value.environmentLabel),3)]),e("div",pa,[e("div",xa,[t[55]||(t[55]=e("p",{class:"text-gray-600 dark:text-gray-400 text-xs"},"\u0627\u0644\u0645\u0636\u064A\u0641 \u0648\u0627\u0644\u0645\u0646\u0641\u0630",-1)),e("p",va,[J(l(p.value.host||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),1),p.value.port?(o(),r("span",ba,":"+l(p.value.port),1)):v("",!0)])]),e("div",fa,[t[56]||(t[56]=e("p",{class:"text-gray-600 dark:text-gray-400 text-xs"},"\u0646\u0648\u0639 \u0627\u0644\u0634\u0628\u0643\u0629",-1)),e("p",ma,l(p.value.networkType||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),1),e("p",ka,"\u0633\u0631\u0639\u0629: "+l(p.value.effectiveType||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),1)]),e("div",ha,[t[57]||(t[57]=e("p",{class:"text-gray-600 dark:text-gray-400 text-xs"},"\u0627\u0644\u0623\u062F\u0627\u0621 \u0627\u0644\u062A\u0642\u0646\u064A",-1)),e("p",wa,l(p.value.downlink?p.value.downlink+" Mbps":"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),1),e("p",_a,"RTT: "+l(p.value.rtt?p.value.rtt+"ms":"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),1)]),e("div",$a,[t[58]||(t[58]=e("p",{class:"text-gray-600 dark:text-gray-400 text-xs"},"\u0639\u0646\u0648\u0627\u0646 API",-1)),e("p",{class:"font-semibold text-xs truncate",title:p.value.apiBaseUrl},l(p.value.apiBaseUrl||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),9,Ca),e("p",Sa,l(p.value.protocol||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F")+" \u2022 "+l(p.value.secure?"\u{1F512} \u0622\u0645\u0646":"\u26A0\uFE0F \u063A\u064A\u0631 \u0622\u0645\u0646"),1)])])]),e("div",La,[e("div",Ma,[e("div",null,[t[59]||(t[59]=e("h3",{class:"text-lg font-semibold dark:text-gray-200"},"\u2139\uFE0F \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0627\u0644\u062D\u0627\u0644\u064A\u0629",-1)),e("p",Ta,l(p.value.tip),1)]),e("span",{class:h(["px-3 py-1 rounded-full text-sm font-semibold",p.value.isLocal?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100":"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-100"])},l(p.value.environmentLabel),3)]),e("div",ja,[e("div",null,[t[60]||(t[60]=e("p",{class:"text-gray-500 dark:text-gray-400"},"\u0627\u0644\u0645\u0636\u064A\u0641 / \u0627\u0644\u0645\u0646\u0641\u0630",-1)),e("p",Ba,[J(l(p.value.host),1),p.value.port?(o(),r("span",Da,":"+l(p.value.port),1)):v("",!0)]),e("p",Qa,l(p.value.protocol)+" \u2022 "+l(p.value.secure?"\u{1F512} \u0627\u062A\u0635\u0627\u0644 \u0622\u0645\u0646":"\u26A0\uFE0F \u0627\u062A\u0635\u0627\u0644 \u063A\u064A\u0631 \u0645\u0634\u0641\u0631"),1)]),e("div",null,[t[61]||(t[61]=e("p",{class:"text-gray-500 dark:text-gray-400"},"\u0646\u0648\u0639 \u0627\u0644\u0634\u0628\u0643\u0629",-1)),e("p",Ia,l(p.value.networkType),1),e("p",za," Effective: "+l(p.value.effectiveType),1)]),e("div",null,[t[62]||(t[62]=e("p",{class:"text-gray-500 dark:text-gray-400"},"\u0633\u0631\u0639\u0629 \u062A\u0642\u0631\u064A\u0628\u064A\u0629",-1)),e("p",Oa,l(p.value.downlink?p.value.downlink+" Mbps":"\u063A\u064A\u0631 \u0645\u062A\u0627\u062D"),1),e("p",Ua," RTT: "+l(p.value.rtt?p.value.rtt+" ms":"\u063A\u064A\u0631 \u0645\u062A\u0627\u062D"),1)]),e("div",null,[t[63]||(t[63]=e("p",{class:"text-gray-500 dark:text-gray-400"},"\u0639\u0646\u0648\u0627\u0646 API / \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1)),e("p",{class:"font-semibold truncate",title:p.value.apiBaseUrl},l(p.value.apiBaseUrl),9,qa),e("p",Va," \u0622\u062E\u0631 \u062A\u062D\u062F\u064A\u062B: "+l(p.value.lastUpdated||"\u2014"),1)])]),e("div",Ea,[e("span",Pa,l(p.value.origin),1)])]),m.value.online?v("",!0):(o(),r("div",Ra,[...t[64]||(t[64]=[e("div",{class:"flex items-center"},[e("div",{class:"flex-shrink-0"},[e("span",{class:"text-3xl"},"\u26A0\uFE0F")]),e("div",{class:"mr-3"},[e("p",{class:"text-lg font-medium text-yellow-800 dark:text-yellow-200"}," \u0623\u0646\u062A \u062D\u0627\u0644\u064A\u0627\u064B \u0641\u064A \u0648\u0636\u0639 Offline "),e("p",{class:"text-sm text-yellow-700 dark:text-yellow-300"}," \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0627\u0644\u062A\u064A \u062A\u062C\u0631\u064A\u0647\u0627 \u0633\u064A\u062A\u0645 \u062D\u0641\u0638\u0647\u0627 \u0645\u062D\u0644\u064A\u0627\u064B \u0648\u0645\u0632\u0627\u0645\u0646\u062A\u0647\u0627 \u062A\u0644\u0642\u0627\u0626\u064A\u0627\u064B \u0639\u0646\u062F \u0639\u0648\u062F\u0629 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 ")])],-1)])])),e("div",Aa,[e("div",Ha,[e("div",Fa,[e("h3",Wa," \u{1F4CB} \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 ("+l(L.value.length)+") ",1),e("button",{onClick:t[0]||(t[0]=(...a)=>s.loadTables&&s.loadTables(...a)),class:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700"}," \u{1F504} \u062A\u062D\u062F\u064A\u062B ")])]),e("div",Ga,[e("table",Na,[t[66]||(t[66]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u062C\u062F\u0648\u0644"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u0633\u062C\u0644\u0627\u062A"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u0645\u0635\u062F\u0631"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A")])],-1)),e("tbody",Ja,[(o(!0),r(B,null,D(L.value.slice(0,Le.value?L.value.length:15),a=>(o(),r("tr",{key:a.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",Ka,l(a.name),1),e("td",Za,l(a.count.toLocaleString()),1),e("td",Xa,[e("span",{class:h(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",a.connection==="sync_sqlite"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"])},l(a.connection==="sync_sqlite"?"SQLite \u0645\u062D\u0644\u064A":"MySQL \u062E\u0627\u062F\u0645"),3)])]))),128)),L.value.length===0?(o(),r("tr",Ya,[...t[65]||(t[65]=[e("td",{colspan:"4",class:"px-6 py-4 text-center text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u062C\u062F\u0627\u0648\u0644 \u0645\u062A\u0627\u062D\u0629 ",-1)])])):v("",!0)])])]),L.value.length>15?(o(),r("div",eo,[e("button",{onClick:t[1]||(t[1]=a=>Le.value=!Le.value),class:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400"},l(Le.value?"\u0625\u062E\u0641\u0627\u0621 \u0627\u0644\u062C\u062F\u0627\u0648\u0644":"\u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0627\u0644\u062C\u062F\u0627\u0648\u0644")+" ("+l(L.value.length)+") ",1)])):v("",!0)]),e("div",to,[e("div",so,[e("div",ao,[e("button",{onClick:t[2]||(t[2]=a=>F.value="operations"),class:h(["px-6 py-3 text-sm font-medium border-b-2 transition-colors",F.value==="operations"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"])}," \u{1F4CB} \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A ",2),e("button",{onClick:t[3]||(t[3]=a=>F.value="carHistory"),class:h(["px-6 py-3 text-sm font-medium border-b-2 transition-colors",F.value==="carHistory"?"border-green-500 text-green-600 dark:text-green-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"])}," \u{1F697} \u0646\u0642\u0644 \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A ",2),e("button",{onClick:t[4]||(t[4]=a=>F.value="system"),class:h(["px-6 py-3 text-sm font-medium border-b-2 transition-colors",F.value==="system"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"])}," \u{1F527} \u0627\u0644\u0646\u0638\u0627\u0645 ",2)])]),F.value==="operations"?(o(),r("div",oo,[e("div",ro,[e("h3",no," \u{1F4CB} \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A ("+l(k.value.length)+") ",1),e("div",lo,[N(e("select",{"onUpdate:modelValue":t[5]||(t[5]=a=>O.value=a),class:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-gray-200"},[...t[67]||(t[67]=[e("option",{value:"all"},"\u0627\u0644\u0643\u0644",-1),e("option",{value:"pending"},"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631",-1),e("option",{value:"synced"},"\u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1),e("option",{value:"failed"},"\u0641\u0634\u0644\u062A",-1)])],512),[[ye,O.value]])])]),e("div",io,[e("table",co,[t[69]||(t[69]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," # "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0639\u0645\u0644\u064A\u0629 "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u062A\u0627\u0631\u064A\u062E "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u062D\u0627\u0644\u0629 "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A ")])],-1)),e("tbody",uo,[(o(!0),r(B,null,D(ue.value,(a,c)=>(o(),r("tr",{key:a.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",go,l(c+1),1),e("td",yo,[e("div",po,l(a.operation),1),e("div",xo,l(a.details||"\u0628\u062F\u0648\u0646 \u062A\u0641\u0627\u0635\u064A\u0644"),1)]),e("td",vo,l(Be(a.created_at)),1),e("td",bo,[e("span",{class:h(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",{"bg-yellow-100 text-yellow-800":a.status==="pending","bg-green-100 text-green-800":a.status==="synced","bg-red-100 text-red-800":a.status==="failed"}])},l(Ot(a.status)),3)]),e("td",fo,[a.status==="pending"&&m.value.online?(o(),r("button",{key:0,onClick:y=>Ue(a),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300"}," \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 ",8,mo)):v("",!0),e("button",{onClick:y=>Fe(a),class:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300"}," \u062D\u0630\u0641 ",8,ko)])]))),128)),ue.value.length===0?(o(),r("tr",ho,[...t[68]||(t[68]=[e("td",{colspan:"5",class:"px-6 py-4 text-center text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u0639\u0645\u0644\u064A\u0627\u062A ",-1)])])):v("",!0)])])])])):v("",!0),F.value==="carHistory"?(o(),r("div",wo,[e("div",_o,[t[70]||(t[70]=e("div",null,[e("h3",{class:"text-xl font-semibold dark:text-gray-200 mb-2"}," \u{1F697} \u0646\u0642\u0644 \u0645\u0639\u0627\u0645\u0644\u0627\u062A \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0625\u0644\u0649 \u0646\u0638\u0627\u0645 \u0627\u0644\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062C\u062F\u064A\u062F "),e("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," \u0646\u0642\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 \u062C\u062F\u0648\u0644 transactions \u0625\u0644\u0649 \u062C\u062F\u0648\u0644 car_history \u0627\u0644\u062C\u062F\u064A\u062F ")],-1)),e("div",$o,[e("button",{onClick:zt,disabled:ie.value,class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed"},[ie.value?(o(),r("span",Lo,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0646\u0642\u0644...")):(o(),r("span",So,"\u25B6\uFE0F \u062A\u0634\u063A\u064A\u0644 \u0627\u0644\u0646\u0642\u0644"))],8,Co),e("button",{onClick:Ee,class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"}," \u{1F4CA} \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A ")])]),e("div",Mo,[e("div",To,[e("div",jo,l(R.value.total_transactions||0),1),t[71]||(t[71]=e("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062A",-1))]),e("div",Bo,[e("div",Do,l(R.value.migrated||0),1),t[72]||(t[72]=e("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u062A\u0645 \u0627\u0644\u0646\u0642\u0644",-1))]),e("div",Qo,[e("div",Io,l(R.value.remaining||0),1),t[73]||(t[73]=e("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0645\u062A\u0628\u0642\u064A",-1))]),e("div",zo,[e("div",Oo,l(R.value.errors||0),1),t[74]||(t[74]=e("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0623\u062E\u0637\u0627\u0621",-1))])]),e("div",Uo,[t[81]||(t[81]=e("h4",{class:"text-lg font-semibold mb-4 dark:text-gray-200"},"\u2699\uFE0F \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0646\u0642\u0644",-1)),e("div",qo,[e("div",null,[t[76]||(t[76]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," \u062D\u062C\u0645 \u0627\u0644\u062F\u0641\u0639\u0629 ",-1)),N(e("select",{"onUpdate:modelValue":t[6]||(t[6]=a=>U.value.batchSize=a),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-800 dark:text-gray-200"},[...t[75]||(t[75]=[e("option",{value:50},"50",-1),e("option",{value:100},"100",-1),e("option",{value:200},"200",-1),e("option",{value:500},"500",-1)])],512),[[ye,U.value.batchSize]])]),e("div",null,[t[78]||(t[78]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," \u062A\u0623\u062E\u064A\u0631 \u0628\u064A\u0646 \u0627\u0644\u062F\u0641\u0639\u0627\u062A (\u062B\u0627\u0646\u064A\u0629) ",-1)),N(e("select",{"onUpdate:modelValue":t[7]||(t[7]=a=>U.value.delay=a),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-800 dark:text-gray-200"},[...t[77]||(t[77]=[e("option",{value:0},"0",-1),e("option",{value:1},"1",-1),e("option",{value:2},"2",-1),e("option",{value:5},"5",-1)])],512),[[ye,U.value.delay]])]),e("div",null,[t[80]||(t[80]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," \u062D\u0630\u0641 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0642\u062F\u064A\u0645\u0629 ",-1)),e("div",Vo,[N(e("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=a=>U.value.deleteOldData=a),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ot,U.value.deleteOldData]]),t[79]||(t[79]=e("span",{class:"mr-2 text-sm text-gray-600 dark:text-gray-400"}," \u062D\u0630\u0641 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062A \u0627\u0644\u0645\u064F\u0646\u0642\u0644\u0629 \u0645\u0646 \u062C\u062F\u0648\u0644 transactions ",-1))])])])]),e("div",Eo,[t[82]||(t[82]=e("div",{class:"p-4 border-b border-gray-200 dark:border-gray-600"},[e("h4",{class:"text-lg font-semibold dark:text-gray-200"},"\u{1F4DD} \u0633\u062C\u0644 \u0627\u0644\u0646\u0642\u0644")],-1)),e("div",Po,[se.value.length===0?(o(),r("div",Ro," \u0644\u0627 \u062A\u0648\u062C\u062F \u0633\u062C\u0644\u0627\u062A \u0646\u0642\u0644 \u0628\u0639\u062F ")):(o(),r("div",Ao,[(o(!0),r(B,null,D(se.value,(a,c)=>(o(),r("div",{key:c,class:"flex items-start space-x-3 text-sm"},[e("span",{class:h(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",{"bg-blue-100 text-blue-800":a.type==="info","bg-green-100 text-green-800":a.type==="success","bg-yellow-100 text-yellow-800":a.type==="warning","bg-red-100 text-red-800":a.type==="error"}])},l(tt(a.type)),3),e("div",Ho,[e("p",Fo,l(a.message),1),e("p",Wo,l(Be(a.timestamp)),1)])]))),128))]))])])])):v("",!0),F.value==="system"?(o(),r("div",Go,[e("div",No,[e("div",Jo,[t[87]||(t[87]=e("h4",{class:"text-lg font-semibold mb-4 dark:text-gray-200"},"\u{1F5A5}\uFE0F \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0646\u0638\u0627\u0645",-1)),e("div",Ko,[e("div",Zo,[t[83]||(t[83]=e("span",{class:"text-gray-600 dark:text-gray-400"},"\u0625\u0635\u062F\u0627\u0631 PHP:",-1)),e("span",Xo,l(me.value.php_version||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)]),e("div",Yo,[t[84]||(t[84]=e("span",{class:"text-gray-600 dark:text-gray-400"},"\u0625\u0635\u062F\u0627\u0631 Laravel:",-1)),e("span",er,l(me.value.laravel_version||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)]),e("div",tr,[t[85]||(t[85]=e("span",{class:"text-gray-600 dark:text-gray-400"},"\u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A:",-1)),e("span",sr,l(me.value.database||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)]),e("div",ar,[t[86]||(t[86]=e("span",{class:"text-gray-600 dark:text-gray-400"},"\u0645\u0633\u0627\u062D\u0629 \u0627\u0644\u062A\u062E\u0632\u064A\u0646:",-1)),e("span",or,l(me.value.storage_used||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)])])]),e("div",rr,[t[88]||(t[88]=e("h4",{class:"text-lg font-semibold mb-4 dark:text-gray-200"},"\u{1F527} \u0623\u062F\u0648\u0627\u062A \u0627\u0644\u0646\u0638\u0627\u0645",-1)),e("div",nr,[e("button",{onClick:Ne,disabled:He.value,class:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50"},[He.value?(o(),r("span",ir,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0633\u062D...")):(o(),r("span",dr,"\u{1F9F9} \u0645\u0633\u062D \u0627\u0644\u0640 Cache"))],8,lr),e("button",{onClick:Ut,disabled:ve.value,class:"w-full px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50"},[ve.value?(o(),r("span",gr,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0633\u064A\u0646...")):(o(),r("span",ur,"\u26A1 \u062A\u062D\u0633\u064A\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"))],8,cr),e("button",{onClick:qt,disabled:be.value,class:"w-full px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:opacity-50"},[be.value?(o(),r("span",xr,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0646\u0633\u062E...")):(o(),r("span",pr,"\u{1F4BE} \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629"))],8,yr),e("button",{onClick:Vt,disabled:fe.value,class:"w-full px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50"},[fe.value?(o(),r("span",fr,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0641\u062D\u0635...")):(o(),r("span",br,"\u{1F3E5} \u0641\u062D\u0635 \u0635\u062D\u0629 \u0627\u0644\u0646\u0638\u0627\u0645"))],8,vr)])])]),e("div",mr,[t[89]||(t[89]=e("div",{class:"p-4 border-b border-gray-200 dark:border-gray-600"},[e("h4",{class:"text-lg font-semibold dark:text-gray-200"},"\u{1F4CB} \u0633\u062C\u0644 \u0639\u0645\u0644\u064A\u0627\u062A \u0627\u0644\u0646\u0638\u0627\u0645")],-1)),e("div",kr,[ce.value.length===0?(o(),r("div",hr," \u0644\u0627 \u062A\u0648\u062C\u062F \u0639\u0645\u0644\u064A\u0627\u062A \u0646\u0638\u0627\u0645 \u0628\u0639\u062F ")):(o(),r("div",wr,[(o(!0),r(B,null,D(ce.value,(a,c)=>(o(),r("div",{key:c,class:"flex items-start space-x-3 text-sm"},[e("span",{class:h(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",{"bg-blue-100 text-blue-800":a.type==="info","bg-green-100 text-green-800":a.type==="success","bg-yellow-100 text-yellow-800":a.type==="warning","bg-red-100 text-red-800":a.type==="error"}])},l(tt(a.type)),3),e("div",_r,[e("p",$r,l(a.message),1),e("p",Cr,l(Be(a.timestamp)),1)])]))),128))]))])])])):v("",!0)]),e("div",Sr,[e("div",Lr,[e("div",Mr,[e("h3",Tr," \u{1F4CB} \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A ("+l(k.value.length)+") ",1),e("div",jr,[N(e("select",{"onUpdate:modelValue":t[9]||(t[9]=a=>O.value=a),class:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-gray-200"},[...t[90]||(t[90]=[e("option",{value:"all"},"\u0627\u0644\u0643\u0644",-1),e("option",{value:"pending"},"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631",-1),e("option",{value:"synced"},"\u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1),e("option",{value:"failed"},"\u0641\u0634\u0644\u062A",-1)])],512),[[ye,O.value]])])])]),e("div",Br,[e("table",Dr,[t[99]||(t[99]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," # "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0646\u0648\u0639 "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0639\u0645\u0644\u064A\u0629 "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0627\u062A "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0648\u0642\u062A "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u062D\u0627\u0644\u0629 "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A ")])],-1)),e("tbody",Qr,[ue.value.length===0?(o(),r("tr",Ir,[e("td",zr,[t[91]||(t[91]=e("div",{class:"text-5xl mb-2"},"\u{1F4ED}",-1)),e("p",Or,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0639\u0645\u0644\u064A\u0627\u062A "+l(ct.value),1)])])):v("",!0),(o(!0),r(B,null,D(ue.value,(a,c)=>(o(),r("tr",{key:a.id,class:h(["hover:bg-gray-50 dark:hover:bg-gray-700",{"bg-yellow-50 dark:bg-yellow-900":!a.synced&&a.retries<3,"bg-red-50 dark:bg-red-900":a.retries>=3,"bg-green-50 dark:bg-green-900":a.synced}])},[e("td",Ur,l(c+1),1),e("td",qr,[e("span",{class:h(["px-2 py-1 text-xs font-semibold rounded-full",vt(a.storeName)])},l(qe(a.storeName)),3)]),e("td",Vr,[e("span",{class:h(["px-2 py-1 text-xs font-semibold rounded-full",bt(a.action)])},l(Ge(a.action)),3)]),e("td",Er,[e("button",{onClick:y=>yt(a),class:"text-blue-600 hover:text-blue-800 dark:text-blue-400 text-sm underline"}," \u0639\u0631\u0636 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644 ",8,Pr)]),e("td",Rr,[e("div",Ar,[e("span",null,l(a.retries||0),1),t[92]||(t[92]=e("span",{class:"text-xs text-gray-500"},"/ 3",-1)),a.retries>=3?(o(),r("div",Hr,"\u26A0\uFE0F")):v("",!0)])]),e("td",Fr,l(ft(a.timestamp)),1),e("td",Wr,[a.synced?(o(),r("span",Gr,[...t[93]||(t[93]=[e("svg",{class:"w-5 h-5 ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),J(" \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 ",-1)])])):a.retries>=3?(o(),r("span",Nr,[...t[94]||(t[94]=[e("svg",{class:"w-5 h-5 ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1),J(" \u0641\u0634\u0644\u062A ",-1)])])):(o(),r("span",Jr,[...t[95]||(t[95]=[e("svg",{class:"w-5 h-5 ml-1 animate-spin",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),J(" \u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631 ",-1)])]))]),e("td",Kr,[e("div",Zr,[!a.synced&&m.value.online?(o(),r("button",{key:0,onClick:y=>Ue(a),class:"text-green-600 hover:text-green-900 dark:text-green-400",disabled:ne.value.has(a.id),title:"\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629"},[(o(),r("svg",{class:h(["w-5 h-5",{"animate-spin":ne.value.has(a.id)}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[96]||(t[96]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])],2))],8,Xr)):v("",!0),e("button",{onClick:y=>Fe(a),class:"text-red-600 hover:text-red-900 dark:text-red-400",title:"\u062D\u0630\u0641"},[...t[97]||(t[97]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Yr),a.error?(o(),r("button",{key:1,onClick:y=>pt(a),class:"text-orange-600 hover:text-orange-900 dark:text-orange-400",title:"\u0639\u0631\u0636 \u0627\u0644\u062E\u0637\u0623"},[...t[98]||(t[98]=[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)])],8,en)):v("",!0)])])],2))),128))])])]),k.value.length>X.value?(o(),r("div",tn,[e("div",sn," \u0639\u0631\u0636 "+l((E.value-1)*X.value+1)+" \u0625\u0644\u0649 "+l(Math.min(E.value*X.value,ue.value.length))+" \u0645\u0646 "+l(ue.value.length),1),e("div",an,[e("button",{onClick:t[10]||(t[10]=a=>E.value--),disabled:E.value===1,class:"px-3 py-1 border rounded disabled:opacity-50 dark:text-gray-200 dark:border-gray-600"}," \u0627\u0644\u0633\u0627\u0628\u0642 ",8,on),e("button",{onClick:t[11]||(t[11]=a=>E.value++),disabled:E.value>=ut.value,class:"px-3 py-1 border rounded disabled:opacity-50 dark:text-gray-200 dark:border-gray-600"}," \u0627\u0644\u062A\u0627\u0644\u064A ",8,rn)])])):v("",!0)]),e("div",nn,[t[103]||(t[103]=e("h3",{class:"text-lg font-semibold mb-4 dark:text-gray-200"},"\u{1F4BE} \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u062A\u062E\u0632\u064A\u0646 \u0627\u0644\u0645\u062D\u0644\u064A",-1)),e("div",ln,[e("div",dn,[t[100]||(t[100]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",-1)),e("p",cn,l(z.value.cars),1)]),e("div",un,[t[101]||(t[101]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0627\u0644\u0639\u0642\u0648\u062F \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",-1)),e("p",gn,l(z.value.contracts),1)]),e("div",yn,[t[102]||(t[102]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062A \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",-1)),e("p",pn,l(z.value.transactions),1)])])]),e("div",xn,[e("div",vn,[e("div",bn,[e("h3",fn," \u{1F4CA} \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 ("+l(L.value.length)+") ",1),e("div",mn,[N(e("select",{"onUpdate:modelValue":t[12]||(t[12]=a=>de.value=a),onChange:q,class:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-gray-200 text-sm"},[...t[104]||(t[104]=[e("option",{value:"auto"},"\u{1F504} \u062A\u0644\u0642\u0627\u0626\u064A (\u062D\u0633\u0628 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0627\u0644\u062D\u0627\u0644\u064A)",-1),e("option",{value:"mysql"},"\u2601\uFE0F MySQL \u0633\u064A\u0631\u0641\u0631",-1),e("option",{value:"sync_sqlite"},"\u{1F5A5}\uFE0F SQLite \u0645\u062D\u0644\u064A",-1)])],544),[[ye,de.value]]),e("span",{class:h(["px-3 py-1 rounded-full text-sm font-semibold",Qe.value==="sync_sqlite"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100":"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-100"])},l(Qe.value==="sync_sqlite"?"\u{1F5A5}\uFE0F SQLite \u0645\u062D\u0644\u064A":"\u2601\uFE0F MySQL \u0633\u064A\u0631\u0641\u0631"),3),e("button",{onClick:q,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",disabled:Y.value},[Y.value?(o(),r("span",wn,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",hn,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,kn),e("button",{onClick:Qt,class:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 text-sm",disabled:P.value},[P.value?(o(),r("span",Cn,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...")):(o(),r("span",$n,"\u{1F504} \u0645\u0632\u0627\u0645\u0646\u0629 \u062B\u0646\u0627\u0626\u064A\u0629 \u0627\u0644\u0627\u062A\u062C\u0627\u0647"))],8,_n),e("button",{onClick:t[13]||(t[13]=a=>Ve("up")),class:"px-3 py-2 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 ml-2",disabled:_.value,title:"\u0646\u0642\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629 \u0645\u0646 SQLite \u0627\u0644\u0645\u062D\u0644\u064A \u0625\u0644\u0649 MySQL \u0627\u0644\u0633\u064A\u0631\u0641\u0631"},[_.value?(o(),r("span",Mn,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",Ln,"\u{1F4E4} \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629 \u2191"))],8,Sn),e("button",{onClick:t[14]||(t[14]=a=>Ve("down")),class:"px-3 py-2 bg-purple-500 text-white text-sm rounded hover:bg-purple-600 ml-2",disabled:_.value,title:"\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629 \u0645\u0646 MySQL \u0627\u0644\u0633\u064A\u0631\u0641\u0631 \u0625\u0644\u0649 SQLite \u0627\u0644\u0645\u062D\u0644\u064A"},[_.value?(o(),r("span",Bn,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",jn,"\u{1F4E5} \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629 \u2193"))],8,Tn),e("button",{onClick:t[15]||(t[15]=a=>Xe("up")),class:"px-3 py-2 bg-green-600 text-white text-sm rounded hover:bg-green-700 ml-2",disabled:_.value,title:"\u0646\u0642\u0644 \u062C\u0645\u064A\u0639 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0645\u0646 SQLite \u0627\u0644\u0645\u062D\u0644\u064A \u0625\u0644\u0649 MySQL \u0627\u0644\u0633\u064A\u0631\u0641\u0631"},[_.value?(o(),r("span",In,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",Qn,"\u{1F504} \u0627\u0644\u0643\u0644 \u2191"))],8,Dn),e("button",{onClick:t[16]||(t[16]=a=>Xe("down")),class:"px-3 py-2 bg-purple-600 text-white text-sm rounded hover:bg-purple-700 ml-2",disabled:_.value,title:"\u062A\u062D\u062F\u064A\u062B \u062C\u0645\u064A\u0639 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0645\u0646 MySQL \u0627\u0644\u0633\u064A\u0631\u0641\u0631 \u0625\u0644\u0649 SQLite \u0627\u0644\u0645\u062D\u0644\u064A"},[_.value?(o(),r("span",Un,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",On,"\u{1F504} \u0627\u0644\u0643\u0644 \u2193"))],8,zn),e("button",{onClick:Dt,class:"px-3 py-2 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700 ml-2",disabled:_.value,title:"\u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u062C\u062F\u0627\u0648\u0644 \u0645\u062D\u062F\u062F\u0629 (\u0633\u064A\u0627\u0631\u0627\u062A + \u0635\u0648\u0631 + \u062F\u0641\u0639\u0627\u062A + \u0645\u062D\u0627\u0641\u0638 + \u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646)"},[_.value?(o(),r("span",En,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",Vn,"\u{1F697} \u0645\u062E\u062A\u0627\u0631\u0629 \u2191"))],8,qn),e("button",{onClick:t[17]||(t[17]=(...a)=>s.syncCheckedTables&&s.syncCheckedTables(...a)),class:"px-3 py-2 bg-teal-600 text-white text-sm rounded hover:bg-teal-700 ml-2",disabled:_.value||De.value.length===0,title:"\u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 \u0645\u0646 \u0627\u0644\u0642\u0627\u0626\u0645\u0629 \u0623\u062F\u0646\u0627\u0647"},[_.value?(o(),r("span",An,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",Rn,"\u2705 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 \u2191"))],8,Pn),e("button",{onClick:t[18]||(t[18]=(...a)=>s.syncVisibleTables&&s.syncVisibleTables(...a)),class:"px-3 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 ml-2",disabled:_.value,title:"\u0645\u0632\u0627\u0645\u0646\u0629 \u062C\u0645\u064A\u0639 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0639\u0631\u0648\u0636\u0629 \u062D\u0627\u0644\u064A\u0627\u064B (38 \u062C\u062F\u0648\u0644)"},[_.value?(o(),r("span",Wn,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",Fn,"\u{1F4CB} \u0627\u0644\u0645\u0639\u0631\u0648\u0636\u0629 \u2191"))],8,Hn)])])]),Y.value?(o(),r("div",Gn,[...t[105]||(t[105]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),e("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062C\u062F\u0627\u0648\u0644...",-1)])])):L.value.length===0?(o(),r("div",Nn,[...t[106]||(t[106]=[e("div",{class:"text-5xl mb-2"},"\u{1F4ED}",-1),e("p",{class:"text-gray-600 dark:text-gray-400"},"\u0644\u0627 \u062A\u0648\u062C\u062F \u062C\u062F\u0627\u0648\u0644 \u0645\u062A\u0627\u062D\u0629",-1)])])):(o(),r("div",Jn,[e("table",Kn,[t[108]||(t[108]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0633\u0645 \u0627\u0644\u062C\u062F\u0648\u0644 "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0639\u062F\u062F \u0627\u0644\u0633\u062C\u0644\u0627\u062A "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0627\u062A\u0635\u0627\u0644 "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A ")])],-1)),e("tbody",Zn,[(o(!0),r(B,null,D(L.value,a=>(o(),r("tr",{key:a.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",Xn,[e("span",Yn,l(a.name),1)]),e("td",el,[e("span",tl,l(a.count.toLocaleString()),1)]),e("td",sl,[e("span",{class:h(["px-2 py-1 text-xs font-semibold rounded-full",a.connection==="sync_sqlite"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200"])},l(a.connection==="sync_sqlite"?"SQLite":"MySQL"),3)]),e("td",al,[e("div",ol,[e("button",{onClick:c=>wt(a.name,a.connection),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400"}," \u0639\u0631\u0636 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644 ",8,rl),a.connection==="sync_sqlite"?(o(),r("div",nl,[e("button",{onClick:c=>Tt(a.name),class:h(["text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",{"bg-gray-100 dark:bg-gray-700":W.value===a.name}])}," \u22EE ",10,ll),W.value===a.name?(o(),r("div",{key:0,class:"absolute right-0 mt-1 w-36 bg-white dark:bg-gray-800 rounded-md shadow-lg z-10 border border-gray-200 dark:border-gray-700",onClick:t[19]||(t[19]=Ae(()=>{},["stop"]))},[e("button",{onClick:c=>{jt(a.name),W.value=null},class:"block w-full text-left px-3 py-2 text-sm text-green-600 hover:bg-green-50 dark:text-green-400 dark:hover:bg-green-900",disabled:Te.value===a.name},[Te.value===a.name?(o(),r("span",il,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",cl,"\u{1F4E4} \u0645\u0632\u0627\u0645\u0646\u0629"))],8,dl),e("button",{onClick:c=>{Mt(a.name),W.value=null},class:"block w-full text-left px-3 py-2 text-sm text-orange-600 hover:bg-orange-50 dark:text-orange-400 dark:hover:bg-orange-900",disabled:Me.value===a.name},[Me.value===a.name?(o(),r("span",gl,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",yl,"\u{1F5D1}\uFE0F \u062A\u0641\u0631\u064A\u063A"))],8,ul),e("button",{onClick:c=>{Bt(a.name),W.value=null},class:"block w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900",disabled:je.value===a.name},[je.value===a.name?(o(),r("span",xl,"\u23F3 \u062C\u0627\u0631\u064A...")):v("",!0),N((o(),r("span",null,[...t[107]||(t[107]=[J("\u274C \u062D\u0630\u0641",-1)])])),[[d]])],8,pl)])):v("",!0)])):v("",!0),W.value===a.name?(o(),r("div",{key:1,onClick:t[20]||(t[20]=c=>W.value=null),class:"fixed inset-0 z-5"})):v("",!0)])])]))),128))])])]))]),e("div",vl,[e("div",bl,[e("div",fl,[t[109]||(t[109]=e("h3",{class:"text-lg font-semibold dark:text-gray-200"}," \u{1F4CA} \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0630\u0643\u064A\u0629 (sync_metadata) ",-1)),e("button",{onClick:ge,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",disabled:we.value},[we.value?(o(),r("span",hl,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",kl,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,ml)]),t[110]||(t[110]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-2"}," \u064A\u0639\u0631\u0636 \u0622\u062E\u0631 ID \u0648 updated_at \u0627\u0644\u0645\u0632\u0627\u0645\u0646 \u0644\u0643\u0644 \u062C\u062F\u0648\u0644 \u0648\u0627\u062A\u062C\u0627\u0647 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 ",-1))]),we.value?(o(),r("div",wl,[...t[111]||(t[111]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),e("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...",-1)])])):Q.value.error?(o(),r("div",_l,[e("p",$l,l(Q.value.error),1)])):Q.value.data.length===0?(o(),r("div",Cl,[...t[112]||(t[112]=[e("div",{class:"text-5xl mb-2"},"\u{1F4CB}",-1),e("p",{class:"text-gray-600 dark:text-gray-400"},"\u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0632\u0627\u0645\u0646\u0629",-1),e("p",{class:"text-xs mt-2 text-gray-500"},"\u0642\u0645 \u0628\u062A\u0634\u063A\u064A\u0644 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0623\u0648\u0644\u0627\u064B \u0644\u0628\u062F\u0621 \u062A\u062A\u0628\u0639 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",-1)])])):(o(),r("div",Sl,[Q.value.stats?(o(),r("div",Ll,[e("div",Ml,[e("div",null,[e("p",Tl,l(Q.value.stats.total_tables),1),t[113]||(t[113]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0639\u062F\u062F \u0627\u0644\u062C\u062F\u0627\u0648\u0644",-1))]),e("div",null,[e("p",jl,l(Q.value.stats.total_records),1),t[114]||(t[114]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0639\u062F\u062F \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1))]),e("div",null,[e("p",Bl,l(((n=Q.value.stats.total_synced_records)==null?void 0:n.toLocaleString())||0),1),t[115]||(t[115]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1))])])])):v("",!0),e("div",Dl,[e("table",Ql,[t[116]||(t[116]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0633\u0645 \u0627\u0644\u062C\u062F\u0648\u0644"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u0627\u062A\u062C\u0627\u0647"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0622\u062E\u0631 ID \u0645\u0632\u0627\u0645\u0646"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0622\u062E\u0631 updated_at"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0622\u062E\u0631 \u0645\u0632\u0627\u0645\u0646\u0629"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0622\u062E\u0631 \u062A\u062D\u062F\u064A\u062B")])],-1)),e("tbody",Il,[(o(!0),r(B,null,D(Q.value.data,a=>{var c,y;return o(),r("tr",{key:`${a.table_name}-${a.direction}`,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",zl,l(a.table_name),1),e("td",Ol,[e("span",{class:h(["px-2 py-1 text-xs font-semibold rounded-full",a.direction==="down"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"])},l(a.direction_label),3)]),e("td",Ul,l(((c=a.last_synced_id)==null?void 0:c.toLocaleString())||0),1),e("td",ql,l(a.last_updated_at||"-"),1),e("td",Vl,l(a.last_synced_at||"-"),1),e("td",El,l(((y=a.total_synced)==null?void 0:y.toLocaleString())||0),1),e("td",Pl,l(a.updated_at||"-"),1)])}),128))])])])]))]),e("div",Rl,[e("div",Al,[e("div",Hl,[t[117]||(t[117]=e("h3",{class:"text-lg font-semibold dark:text-gray-200"}," \u{1F4BE} \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 ",-1)),e("div",Fl,[e("button",{onClick:t[21]||(t[21]=a=>Z.value=!0),class:"px-4 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700 text-sm",title:"\u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u062C\u062F\u0627\u0648\u0644 \u0645\u062D\u062F\u062F\u0629 \u0645\u0646 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629"}," \u{1F4E6} \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0645\u062D\u062F\u062F\u0629 "),e("button",{onClick:_e,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",disabled:xe.value},[xe.value?(o(),r("span",Nl,"\u23F3 \u062C\u0627\u0631\u064A...")):(o(),r("span",Gl,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,Wl)])])]),xe.value?(o(),r("div",Jl,[...t[118]||(t[118]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),e("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629...",-1)])])):Se.value.length===0?(o(),r("div",Kl,[...t[119]||(t[119]=[e("div",{class:"text-5xl mb-2"},"\u{1F4E6}",-1),e("p",{class:"text-gray-600 dark:text-gray-400"},"\u0644\u0627 \u062A\u0648\u062C\u062F \u0646\u0633\u062E \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629",-1)])])):(o(),r("div",Zl,[e("table",Xl,[t[120]||(t[120]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0633\u0645 \u0627\u0644\u0645\u0644\u0641"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u062D\u062C\u0645"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A")])],-1)),e("tbody",Yl,[(o(!0),r(B,null,D(Se.value,a=>(o(),r("tr",{key:a.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",ed,l(a.name),1),e("td",td,l(Lt(a.size)),1),e("td",sd,l(Be(a.date)),1),e("td",ad,[e("button",{onClick:c=>$t(a.name),class:"text-red-600 hover:text-red-900 dark:text-red-400 mr-3",disabled:Ie.value}," \u{1F504} \u0627\u0633\u062A\u0639\u0627\u062F\u0629 ",8,od),e("button",{onClick:c=>Ct(a.name),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 mr-3"}," \u{1F4E5} \u062A\u062D\u0645\u064A\u0644 ",8,rd),e("button",{onClick:c=>St(a.name),class:"text-red-600 hover:text-red-900 dark:text-red-400",title:"\u062D\u0630\u0641 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629"}," \u{1F5D1}\uFE0F \u062D\u0630\u0641 ",8,nd)])]))),128))])])]))]),e("div",{class:"mt-6 bg-gray-50 dark:bg-gray-900 shadow-sm rounded-lg p-6"},[t[121]||(t[121]=e("h3",{class:"text-lg font-semibold mb-4 dark:text-gray-200"},"\u{1F6E0}\uFE0F \u0623\u062F\u0648\u0627\u062A \u0627\u0644\u0645\u0637\u0648\u0631",-1)),e("div",{class:"grid grid-cols-2 md:grid-cols-4 gap-3"},[e("button",{onClick:mt,class:"px-4 py-2 bg-indigo-500 text-white rounded hover:bg-indigo-600"}," \u{1F9EA} \u0627\u062E\u062A\u0628\u0627\u0631 Offline "),e("button",{onClick:Ne,class:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600"}," \u{1F5D1}\uFE0F \u0645\u0633\u062D Cache "),e("button",{onClick:kt,class:"px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600"}," \u{1F4E5} \u062A\u0635\u062F\u064A\u0631 Logs "),e("button",{onClick:ht,class:"px-4 py-2 bg-teal-500 text-white rounded hover:bg-teal-600"}," \u{1F4CA} \u0645\u0639\u0644\u0648\u0645\u0627\u062A DB ")])])])]),te(Pe,{show:x.value.show,onClose:t[23]||(t[23]=a=>x.value.show=!1)},{default:oe(()=>[e("div",ld,[t[122]||(t[122]=e("h3",{class:"text-lg font-semibold mb-4 dark:text-gray-200"},"\u{1F4C4} \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",-1)),e("pre",dd,l(JSON.stringify(x.value.data,null,2)),1),e("div",id,[e("button",{onClick:t[22]||(t[22]=a=>x.value.show=!1),class:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600"}," \u0625\u063A\u0644\u0627\u0642 ")])])]),_:1},8,["show"]),te(Pe,{show:M.value.show,onClose:t[26]||(t[26]=a=>M.value.show=!1)},{default:oe(()=>[e("div",cd,[t[123]||(t[123]=e("h3",{class:"text-lg font-semibold mb-4 text-red-600 dark:text-red-400"},"\u274C \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062E\u0637\u0623",-1)),e("div",ud,[e("p",gd,l(M.value.title),1),e("p",yd,l(M.value.message),1)]),e("pre",pd,l(M.value.stack),1),e("div",xd,[e("button",{onClick:t[24]||(t[24]=a=>xt(M.value.item)),class:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600"}," \u{1F504} \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 "),e("button",{onClick:t[25]||(t[25]=a=>M.value.show=!1),class:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600"}," \u0625\u063A\u0644\u0627\u0642 ")])])]),_:1},8,["show"]),te(Pe,{show:g.value.show,onClose:t[30]||(t[30]=a=>g.value.show=!1)},{default:oe(()=>{var a;return[e("div",vd,[e("h3",bd," \u{1F4CB} \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062C\u062F\u0648\u0644: "+l(g.value.tableName),1),ze.value?(o(),r("div",fd,[...t[124]||(t[124]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),e("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...",-1)])])):g.value.error?(o(),r("div",md,[e("p",kd,l(g.value.error),1)])):(o(),r("div",hd,[e("div",wd,[e("div",_d,[t[125]||(t[125]=J(" \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0633\u062C\u0644\u0627\u062A: ",-1)),e("span",$d,l(((a=g.value.total)==null?void 0:a.toLocaleString())||0),1)]),e("div",Cd,[t[126]||(t[126]=J(" \u0627\u0644\u0627\u062A\u0635\u0627\u0644: ",-1)),e("span",Sd,l(g.value.connection||"-"),1)])]),g.value.columns.length===0&&g.value.data.length>0?(o(),r("div",Ld," \u26A0\uFE0F \u0627\u0644\u0623\u0639\u0645\u062F\u0629 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629\u060C \u064A\u062A\u0645 \u0627\u0633\u062A\u062E\u0631\u0627\u062C\u0647\u0627 \u0645\u0646 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A... ")):v("",!0),g.value.columns.length>0?(o(),r("div",Md,[e("table",Td,[e("thead",jd,[e("tr",null,[(o(!0),r(B,null,D(g.value.columns,c=>(o(),r("th",{key:c,class:"px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase border-r border-gray-200 dark:border-gray-600"},l(c),1))),128))])]),e("tbody",Bd,[g.value.data.length===0?(o(),r("tr",Dd,[e("td",{colspan:g.value.columns.length||1,class:"px-4 py-8 text-center text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A ",8,Qd)])):v("",!0),(o(!0),r(B,null,D(g.value.data,(c,y)=>(o(),r("tr",{key:y,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[(o(!0),r(B,null,D(g.value.columns,T=>(o(),r("td",{key:`${y}-${T}`,class:"px-4 py-2 text-xs dark:text-gray-300 border-r border-gray-100 dark:border-gray-700 whitespace-nowrap"},l(_t(c[T])),1))),128))]))),128))])])])):(o(),r("div",Id,[t[127]||(t[127]=e("div",{class:"text-5xl mb-2"},"\u{1F4CB}",-1)),t[128]||(t[128]=e("p",null,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0623\u0639\u0645\u062F\u0629 \u0645\u062A\u0627\u062D\u0629 \u0644\u0644\u0639\u0631\u0636",-1)),e("p",zd,"\u0639\u062F\u062F \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A: "+l(g.value.data.length),1)])),g.value.total>g.value.limit?(o(),r("div",Od,[e("div",Ud," \u0639\u0631\u0636 "+l(g.value.offset+1)+" \u0625\u0644\u0649 "+l(Math.min(g.value.offset+g.value.limit,g.value.total))+" \u0645\u0646 "+l(g.value.total),1),e("div",qd,[e("button",{onClick:t[27]||(t[27]=c=>Ze(g.value.tableName,g.value.offset-g.value.limit,g.value.tableConnection)),disabled:g.value.offset===0,class:"px-3 py-1 border rounded disabled:opacity-50 dark:text-gray-200 dark:border-gray-600"}," \u0627\u0644\u0633\u0627\u0628\u0642 ",8,Vd),e("button",{onClick:t[28]||(t[28]=c=>Ze(g.value.tableName,g.value.offset+g.value.limit,g.value.tableConnection)),disabled:g.value.offset+g.value.limit>=g.value.total,class:"px-3 py-1 border rounded disabled:opacity-50 dark:text-gray-200 dark:border-gray-600"}," \u0627\u0644\u062A\u0627\u0644\u064A ",8,Ed)])])):v("",!0)])),e("div",Pd,[e("button",{onClick:t[29]||(t[29]=c=>g.value.show=!1),class:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600"}," \u0625\u063A\u0644\u0627\u0642 ")])])]}),_:1},8,["show"]),te(ws),Z.value?(o(),r("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t[37]||(t[37]=a=>Z.value=!1)},[e("div",{class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[80vh] overflow-hidden",onClick:t[36]||(t[36]=Ae(()=>{},["stop"]))},[e("div",Rd,[e("div",Ad,[t[130]||(t[130]=e("h3",{class:"text-lg font-semibold dark:text-gray-200"},"\u{1F4E6} \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u062C\u062F\u0627\u0648\u0644 \u0645\u062D\u062F\u062F\u0629 \u0645\u0646 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629",-1)),e("button",{onClick:t[31]||(t[31]=a=>Z.value=!1),class:"text-gray-400 hover:text-gray-600"},[...t[129]||(t[129]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",Hd,[e("div",Fd,[t[132]||(t[132]=e("label",{class:"block text-sm font-medium mb-2 dark:text-gray-200"},"\u0627\u062E\u062A\u0631 \u0645\u0644\u0641 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629:",-1)),N(e("select",{"onUpdate:modelValue":t[32]||(t[32]=a=>V.value=a),onChange:t[33]||(t[33]=a=>Pt(V.value)),class:"w-full p-2 border border-gray-300 rounded dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"},[t[131]||(t[131]=e("option",{value:"null"},"\u0627\u062E\u062A\u0631 \u0645\u0644\u0641...",-1)),(o(!0),r(B,null,D(Se.value,a=>(o(),r("option",{key:a.name,value:a.name},l(a.name)+" ("+l(a.date)+") ",9,Wd))),128))],544),[[ye,V.value]])]),pe.value.length>0?(o(),r("div",Gd,[t[133]||(t[133]=e("h4",{class:"text-md font-medium mb-3 dark:text-gray-200"},"\u0627\u062E\u062A\u0631 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0631\u0627\u062F \u0627\u0633\u062A\u0639\u0627\u062F\u062A\u0647\u0627:",-1)),e("div",Nd,[(o(!0),r(B,null,D(pe.value,a=>(o(),r("label",{key:a,class:"flex items-center space-x-2 p-2 border rounded hover:bg-gray-50 dark:hover:bg-gray-700 dark:border-gray-600"},[N(e("input",{type:"checkbox",value:a,"onUpdate:modelValue":t[34]||(t[34]=c=>S.value=c),class:"rounded border-gray-300 dark:border-gray-600 dark:bg-gray-700"},null,8,Jd),[[ot,S.value]]),e("span",Kd,l(a),1)]))),128))])])):v("",!0),S.value.length>0?(o(),r("div",Zd,[t[134]||(t[134]=e("h5",{class:"font-medium text-blue-900 dark:text-blue-100 mb-2"},"\u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 \u0644\u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629:",-1)),e("p",Xd,l(S.value.join(", ")),1),e("p",Yd,"\u0639\u062F\u062F \u0627\u0644\u062C\u062F\u0627\u0648\u0644: "+l(S.value.length),1)])):v("",!0)]),e("div",ei,[e("button",{onClick:t[35]||(t[35]=a=>Z.value=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200"}," \u0625\u0644\u063A\u0627\u0621 "),e("button",{onClick:Rt,disabled:S.value.length===0,class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed"}," \u{1F504} \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u062F\u062F ",8,ti)])])])):v("",!0)]}),_:1})],64)}}},ii=lt(si,[["__scopeId","data-v-ed74f878"]]);export{ii as default};
