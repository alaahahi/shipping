import{_ as Z}from"./AuthenticatedLayout.ef03cf73.js";/* empty css                                              */import{r as a,o as b,c as ee,w as c,a as g,b as s,d as se,e as C,v as U,i as y,T as te,u as oe,g as r,j as p,F as I,H as ae,k as _,t as k,h as ne,n as re,f as le}from"./app.377d211f.js";import{M as de,_ as V,a as ie,b as ue}from"./ModalDel.f8dd6f51.js";import{_ as T}from"./InputLabel.102dbe7a.js";import{_ as M}from"./TextInput.347ffd97.js";/* empty css                                                            */import{a as h}from"./index.d579722f.js";import{W as pe}from"./v3-infinite-loading.es.cf2c5ec4.js";import{d as me}from"./debounce.133181a2.js";import{f as be}from"./datetime.47733478.js";const ce={key:0,class:"modal-mask"},ge={class:"modal-wrapper max-h-[80vh]"},ve={class:"modal-container"},fe={class:"modal-header"},he={class:"modal-body"},ye={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-2 gap-3 lg:gap-3"},xe={className:"mb-4 mx-5"},we={className:"mb-4 mx-5"},_e={className:"mb-4 mx-5"},$e={className:"mb-4 mx-5"},ke={class:"modal-footer my-2"},De={class:"flex flex-row"},Ae={class:"basis-1/2 px-4"},Ne={class:"basis-1/2 px-4"},W={__name:"ModalAddExpensesWallet",props:{show:Boolean,boxes:Array,sum_transactions:Intl,sum_transactions_dinar:Intl},setup(m){const i=m,l=a({id:i.boxes.id,date:D()});function D(){const u=new Date,n=u.getFullYear(),d=String(u.getMonth()+1).padStart(2,"0"),f=String(u.getDate()).padStart(2,"0");return`${n}-${d}-${f}`}const v=()=>{l.value={id:i.boxes.id,date:D()}};return(u,n)=>(b(),ee(te,{name:"modal"},{default:c(()=>[m.show?(b(),g("div",ce,[s("div",ge,[s("div",ve,[s("div",fe,[se(u.$slots,"header")]),s("div",he,[s("div",ye,[s("div",xe,[n[6]||(n[6]=s("label",{for:"amountDollar"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1)),C(s("input",{id:"amountDollar",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":n[0]||(n[0]=d=>l.value.amountDollar=d)},null,512),[[U,l.value.amountDollar]])]),s("div",we,[n[7]||(n[7]=s("label",{for:"amountDinar"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0639\u0631\u0627\u0642\u064A",-1)),C(s("input",{id:"amountDinar",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":n[1]||(n[1]=d=>l.value.amountDinar=d)},null,512),[[U,l.value.amountDinar]])]),s("div",_e,[n[8]||(n[8]=s("label",{for:"note"},"\u0645\u0644\u0627\u062D\u0638\u0629",-1)),C(s("input",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":n[2]||(n[2]=d=>l.value.note=d)},null,512),[[U,l.value.note]])]),s("div",$e,[n[9]||(n[9]=s("label",{for:"card"},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E",-1)),C(s("input",{id:"card",type:"date",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":n[3]||(n[3]=d=>l.value.date=d)},null,512),[[U,l.value.date]])])])]),s("div",ke,[s("div",De,[s("div",Ae,[s("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:n[4]||(n[4]=d=>{u.$emit("close")})},"\u062A\u0631\u0627\u062C\u0639")]),s("div",Ne,[s("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:n[5]||(n[5]=d=>{u.$emit("a",l.value),v()})},"\u0646\u0639\u0645")])])])])])])):y("",!0)]),_:3}))}};const Ce={key:0},Ue={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},Te={class:"ml-3 font-medium text-red-700 dark:text-red-800"},Me={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},Se={class:"overflow-hidden shadow-sm sm:rounded-lg"},Be={class:"border-b border-gray-200"},Ie={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 lg:gap-3 mb-4"},Ve={class:"pt-5 print:hidden"},We={class:"pt-5 print:hidden"},Ee={class:"pt-5 print:hidden"},Oe={class:"pt-5 print:hidden"},Fe={class:"pt-5 print:hidden"},je={class:"pt-5 print:hidden"};const qe={class:"grid grid-cols-2 md:grid-cols-5 lg:grid-cols-6 gap-3 lg:gap-3"},He={class:"px-4"},Re={class:"px-4"},ze={class:"px-4"},Le={class:"px-4"},Ye={class:"overflow-x-auto shadow-md mt-5"},Ge={class:"w-full text-right text-gray-500 dark:text-gray-400 text-center"},Je={className:"border dark:border-gray-800 text-center px-2 py-1"},Ke={key:0,class:"text-xs text-blue-600 dark:text-blue-300 font-bold"},Pe={className:"border dark:border-gray-800 text-center px-2 py-1"},Qe={className:"border dark:border-gray-800 text-center px-2 py-1"},Xe={className:"border dark:border-gray-800 text-center px-2 py-1"},Ze={className:"border dark:border-gray-800 text-center px-2 py-1"},es={class:"spaner"},cs={__name:"Wallet",props:{url:String,boxes:Object},setup(m){const i=a({});a("");let l=a(!1),D=a(!1),v=a(!1);a(!1);let u=a(!1),n=a(!1),d=a(!1),f=a(!1),$=a(!1),A=a([]);a(0);let E=a({});a({}),a({}),a(!1),a(""),a(""),a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0);let S=a(!1),B=1,O="";const N=()=>{B=0,A.value.length=0,S.value=!S.value};me(N,500);const F=async o=>{try{const t=(await h.get("/getIndexAccounting",{params:{limit:1e3,page:B,q:O,user_id:x.boxes.id,type:"wallet"}})).data;t.transactions.data.length<1e3?(A.value.push(...t.transactions.data),o.complete()):(A.value.push(...t.transactions.data),o.loaded()),i.value=t,B++}catch(e){console.log(e)}};function j(){l.value=!0}function q(){v.value=!0}function H(){f.value=!0}function R(){$.value=!0}function ss(){u.value=!0}function ts(){n.value=!0}const x=m;oe(),a(!1);const w=a(0);function z(o){o.id=x.boxes.id,h.post("/api/receiptArrivedUser",o).then(e=>{l.value=!1,window.location.reload()}).catch(e=>{w.value=e.response.data.errors})}function L(o){h.post("/api/salesDebtUser",o).then(e=>{D.value=!1,v.value=!1,window.location.reload()}).catch(e=>{w.value=e.response.data.errors})}function Y(o){o.id=x.boxes.id,h.post("/api/receiptArrivedUserAmanah",o).then(e=>{f.value=!1,window.location.reload()}).catch(e=>{w.value=e.response.data.errors})}function G(o){h.post("/api/salesDebtUserAmanah",o).then(e=>{$.value=!1,window.location.reload()}).catch(e=>{w.value=e.response.data.errors})}function J(o){h.post("/api/convertDollarDinar",o).then(e=>{N(),u.value=!1}).catch(e=>{w.value=e.response.data.errors})}function K(o){h.post("/api/convertDinarDollar",o).then(e=>{N(),n.value=!1}).catch(e=>{w.value=e.response.data.errors})}function P(o){h.post(`/api/delTransactions?id=${o.id}`).then(e=>{N(),d.value=!1}).catch(e=>{w.value=e.response.data.errors})}function Q(){var o;(o=x.boxes)!=null&&o.id&&window.open(`/getIndexAccounting?user_id=${x.boxes.id}&type=wallet&print=7`,"_blank")}function X(){var o;(o=x.boxes)!=null&&o.id&&window.open(`/getIndexAccounting?user_id=${x.boxes.id}&type=wallet&print=8`,"_blank")}return(o,e)=>(b(),g(I,null,[r(p(ae),{title:"Dashboard"}),r(Z,null,{header:c(()=>[...e[22]||(e[22]=[])]),default:c(()=>[r(de,{show:!!p(d),formData:p(E),onA:e[0]||(e[0]=t=>P(t)),onClose:e[1]||(e[1]=t=>_(d)?d.value=!1:d=!1)},{header:c(()=>[...e[23]||(e[23]=[s("h2",{class:"mb-5 dark:text-white text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0644\u062D\u0630\u0641 \u061F ",-1)])]),_:1},8,["show","formData"]),r(V,{show:!!p(l),onA:e[2]||(e[2]=t=>z(t)),onClose:e[3]||(e[3]=t=>_(l)?l.value=!1:l=!1)},{header:c(()=>[...e[24]||(e[24]=[s("h3",{class:"text-center"},"\u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1)])]),_:1},8,["show"]),r(W,{show:!!p(v),boxes:m.boxes,sum_transactions:i.value.sum_transactions,sum_transactions_dinar:i.value.sum_transactions_dinar,onA:e[4]||(e[4]=t=>L(t)),onClose:e[5]||(e[5]=t=>_(v)?v.value=!1:v=!1)},{header:c(()=>[...e[25]||(e[25]=[s("h3",{class:"text-center"}," \u0633\u062D\u0628 \u0645\u0646 \u0627\u0644\u0642\u0627\u0633\u0647",-1)])]),_:1},8,["show","boxes","sum_transactions","sum_transactions_dinar"]),r(V,{show:!!p(f),onA:e[6]||(e[6]=t=>Y(t)),onClose:e[7]||(e[7]=t=>_(f)?f.value=!1:f=!1)},{header:c(()=>[...e[26]||(e[26]=[s("h3",{class:"text-center"},"\u0623\u0645\u0627\u0646\u0629 - \u0625\u064A\u062F\u0627\u0639",-1)])]),_:1},8,["show"]),r(W,{show:!!p($),boxes:m.boxes,sum_transactions:i.value.sum_transactions,sum_transactions_dinar:i.value.sum_transactions_dinar,onA:e[8]||(e[8]=t=>G(t)),onClose:e[9]||(e[9]=t=>_($)?$.value=!1:$=!1)},{header:c(()=>[...e[27]||(e[27]=[s("h3",{class:"text-center"},"\u0623\u0645\u0627\u0646\u0629 - \u0633\u062D\u0628",-1)])]),_:1},8,["show","boxes","sum_transactions","sum_transactions_dinar"]),r(ie,{show:!!p(u),boxes:m.boxes,onA:e[10]||(e[10]=t=>J(t)),onClose:e[11]||(e[11]=t=>_(u)?u.value=!1:u=!1)},{header:c(()=>[...e[28]||(e[28]=[s("h3",{class:"text-center"},"\u062A\u062D\u0648\u064A\u0644 \u0645\u0646 \u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0644\u0644\u062F\u064A\u0646\u0627\u0631",-1)])]),_:1},8,["show","boxes"]),r(ue,{show:!!p(n),boxes:m.boxes,onA:e[12]||(e[12]=t=>K(t)),onClose:e[13]||(e[13]=t=>_(n)?n.value=!1:n=!1)},{header:c(()=>[...e[29]||(e[29]=[s("h3",{class:"text-center"},"\u062A\u062D\u0648\u064A\u0644 \u0645\u0646 \u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0644\u0644\u062F\u0648\u0644\u0627\u0631",-1)])]),_:1},8,["show","boxes"]),o.$page.props.success?(b(),g("div",Ce,[s("div",Ue,[s("div",Te,k(o.$page.props.success),1)])])):y("",!0),s("div",null,[s("div",Me,[s("div",Se,[s("div",Be,[s("div",Ie,[s("div",Ve,[o.$page.props.auth.user.type_id==1||o.$page.props.auth.user.type_id==2||o.$page.props.auth.user.type_id==5?(b(),g("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-green-800 rounded-md focus:outline-none hover:bg-green-900 transition",onClick:e[14]||(e[14]=t=>j())}," \u0648\u0635\u0644 \u0642\u0628\u0636 (\u0625\u0636\u0627\u0641\u0629) ")):y("",!0)]),s("div",We,[o.$page.props.auth.user.type_id==1||o.$page.props.auth.user.type_id==2||o.$page.props.auth.user.type_id==5?(b(),g("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-red-800 rounded-md focus:outline-none hover:bg-red-900 transition",onClick:e[15]||(e[15]=t=>q())}," \u0648\u0635\u0644 \u0635\u0631\u0641 (\u0633\u062D\u0628) ")):y("",!0)]),s("div",Ee,[o.$page.props.auth.user.type_id==1||o.$page.props.auth.user.type_id==2||o.$page.props.auth.user.type_id==5?(b(),g("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-green-600 rounded-md focus:outline-none border-2 border-green-300 hover:bg-green-700 transition",onClick:e[16]||(e[16]=t=>H())}," \u0623\u0645\u0627\u0646\u0629 - \u0625\u064A\u062F\u0627\u0639 ")):y("",!0)]),s("div",Oe,[o.$page.props.auth.user.type_id==1||o.$page.props.auth.user.type_id==2||o.$page.props.auth.user.type_id==5?(b(),g("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-red-600 rounded-md focus:outline-none border-2 border-red-300 hover:bg-red-700 transition",onClick:e[17]||(e[17]=t=>R())}," \u0623\u0645\u0627\u0646\u0629 - \u0633\u062D\u0628 ")):y("",!0)]),s("div",Fe,[s("button",{style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-blue-600 rounded-md focus:outline-none hover:bg-blue-700 transition font-semibold",onClick:e[18]||(e[18]=t=>Q())}," \u0637\u0628\u0627\u0639\u0629 \u0627\u0644\u0623\u0645\u0627\u0646\u0629 ")]),s("div",je,[s("button",{style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-orange-600 rounded-md focus:outline-none hover:bg-orange-700 transition font-semibold",onClick:e[19]||(e[19]=t=>X())}," \u0637\u0628\u0627\u0639\u0629 \u0627\u0644\u0635\u0646\u062F\u0648\u0642 ")])]),y("",!0),s("div",qe,[s("div",He,[s("div",null,[r(T,{for:"to",value:`\u062D\u0633\u0627\u0628 ${m.boxes.name} \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631`},null,8,["value"]),r(M,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:i.value.sumInTransactionsUser-i.value.sumOutTransactionsUser},null,8,["value"])])]),s("div",Re,[s("div",null,[r(T,{for:"to",value:`\u062D\u0633\u0627\u0628 ${m.boxes.name} \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0639\u0631\u0627\u0642\u064A`},null,8,["value"]),r(M,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:i.value.sumInTransactionsDinarUser-i.value.sumOutTransactionsDinarUser},null,8,["value"])])]),s("div",ze,[s("div",null,[r(T,{for:"to",value:`\u0623\u0645\u0627\u0646\u0629 ${m.boxes.name} \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631`},null,8,["value"]),r(M,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full bg-blue-50",value:(i.value.sumInTransactionsUserAmanah||0)-(i.value.sumOutTransactionsUserAmanah||0)},null,8,["value"])])]),s("div",Le,[s("div",null,[r(T,{for:"to",value:`\u0623\u0645\u0627\u0646\u0629 ${m.boxes.name} \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0639\u0631\u0627\u0642\u064A`},null,8,["value"]),r(M,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full bg-blue-50",value:(i.value.sumInTransactionsDinarUserAmanah||0)-(i.value.sumOutTransactionsDinarUserAmanah||0)},null,8,["value"])])])]),s("div",Ye,[s("table",Ge,[e[31]||(e[31]=s("thead",{class:"text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},[s("tr",{class:"rounded-l-lg mb-2 sm:mb-0"},[s("th",{className:"px-2 py-2"},"\u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644"),s("th",{className:"px-2 py-2"},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),s("th",{className:"px-2 py-2"},"\u0627\u0644\u0648\u0635\u0641"),s("th",{className:"px-2 py-2"},"\u0627\u064A\u062F\u0627\u0639"),s("th",{className:"px-2 py-2"},"\u0633\u062D\u0628"),s("th",{className:"px-2 py-2"},"\u062A\u0646\u0641\u064A\u0630")])],-1)),s("tbody",null,[(b(!0),g(I,null,ne(p(A),t=>(b(),g("tr",{key:t.id,class:re([[t.type=="inUserAmanah"?"bg-blue-100 dark:bg-blue-900 border-l-4 border-blue-500":t.type=="outUserAmanah"?"bg-orange-100 dark:bg-orange-900 border-l-4 border-orange-500":t.type!="inUser"?"bg-red-100 dark:bg-red-900":"bg-green-100 dark:bg-green-900"],"bg-white border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[s("td",Je,[le(k(t.id)+" ",1),t.type=="inUserAmanah"||t.type=="outUserAmanah"?(b(),g("span",Ke,"(\u0623\u0645\u0627\u0646\u0629)")):y("",!0)]),s("td",Pe,k(p(be)(t==null?void 0:t.created_at)),1),s("th",Qe,k(t.description),1),s("td",Xe,k(t.type=="inUser"||t.type=="inUserAmanah"?t.amount+" "+t.currency:""),1),s("td",Ze,k(t.type=="outUser"||t.type=="outUserAmanah"?t.amount+" "+t.currency:""),1),e[30]||(e[30]=s("td",{className:"border dark:border-gray-800 text-center px-2 py-1"},null,-1))],2))),128))])])]),s("div",es,[r(p(pe),{car:o.car,onInfinite:F,identifier:p(S)},null,8,["car","identifier"])])])])])])]),_:1})],64))}};export{cs as default};
