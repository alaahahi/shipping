import{r as o,o as p,c as J,w as v,a as c,b as e,d as K,e as A,v as U,i as C,T as P,u as Q,g as r,j as i,F as W,H as X,k as y,t as w,l as Z,h as ee,n as se}from"./app.aec620d8.js";import{_ as te}from"./AuthenticatedLayout.1d4f1ecc.js";/* empty css                                              */import{M as oe,_ as ae,a as le,b as re}from"./ModalDel.d886a986.js";import{_ as k}from"./InputLabel.7b42bddf.js";import{_ as M}from"./TextInput.e02c6d69.js";/* empty css                                                            */import{a as $}from"./index.86231376.js";import{W as ne}from"./v3-infinite-loading.es.04657499.js";import{d as de}from"./debounce.2a49d5c4.js";const ie={key:0,class:"modal-mask"},ue={class:"modal-wrapper max-h-[80vh]"},pe={class:"modal-container"},me={class:"modal-header"},ce={class:"modal-body"},ge={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-2 gap-3 lg:gap-3"},fe={className:"mb-4 mx-5"},ve={className:"mb-4 mx-5"},be={className:"mb-4 mx-5"},ye={className:"mb-4 mx-5"},xe={class:"modal-footer my-2"},he={class:"flex flex-row"},_e={class:"basis-1/2 px-4"},we={class:"basis-1/2 px-4"},ke={__name:"ModalAddExpensesWallet",props:{show:Boolean,boxes:Array,sum_transactions:Intl,sum_transactions_dinar:Intl},setup(g){const m=g,n=o({id:m.boxes.id,date:V()});function V(){const u=new Date,a=u.getFullYear(),d=String(u.getMonth()+1).padStart(2,"0"),x=String(u.getDate()).padStart(2,"0");return`${a}-${d}-${x}`}const f=()=>{n.value={id:m.boxes.id,date:V()}};return(u,a)=>(p(),J(P,{name:"modal"},{default:v(()=>[g.show?(p(),c("div",ie,[e("div",ue,[e("div",pe,[e("div",me,[K(u.$slots,"header")]),e("div",ce,[e("div",ge,[e("div",fe,[a[6]||(a[6]=e("label",{for:"amountDollar"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1)),A(e("input",{id:"amountDollar",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":a[0]||(a[0]=d=>n.value.amountDollar=d)},null,512),[[U,n.value.amountDollar]])]),e("div",ve,[a[7]||(a[7]=e("label",{for:"amountDinar"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0639\u0631\u0627\u0642\u064A",-1)),A(e("input",{id:"amountDinar",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":a[1]||(a[1]=d=>n.value.amountDinar=d)},null,512),[[U,n.value.amountDinar]])]),e("div",be,[a[8]||(a[8]=e("label",{for:"note"},"\u0645\u0644\u0627\u062D\u0638\u0629",-1)),A(e("input",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":a[2]||(a[2]=d=>n.value.note=d)},null,512),[[U,n.value.note]])]),e("div",ye,[a[9]||(a[9]=e("label",{for:"card"},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E",-1)),A(e("input",{id:"card",type:"date",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":a[3]||(a[3]=d=>n.value.date=d)},null,512),[[U,n.value.date]])])])]),e("div",xe,[e("div",he,[e("div",_e,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:a[4]||(a[4]=d=>{u.$emit("close")})},"\u062A\u0631\u0627\u062C\u0639")]),e("div",we,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:a[5]||(a[5]=d=>{u.$emit("a",n.value),f()})},"\u0646\u0639\u0645")])])])])])])):C("",!0)]),_:3}))}};const $e={key:0},De={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},Ne={class:"ml-3 font-medium text-red-700 dark:text-red-800"},Ce={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},Ve={class:"overflow-hidden shadow-sm sm:rounded-lg"},Ae={class:"border-b border-gray-200"},Ue={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3 lg:gap-3"},Me={class:"pt-5 print:hidden"},Be={class:"pt-5 print:hidden"},Te={class:"px-4"},Se={class:"px-4"},Ie={className:" mr-5 print:hidden"},Ee={key:0},We={key:1},Fe={className:" mr-5 print:hidden"},je=["href"],Oe={key:0},qe={key:1};const He={class:"grid grid-cols-2 md:grid-cols-5 lg:grid-cols-5 gap-3 lg:gap-3"},Le={class:"px-4"},Re={class:"px-4"},ze={class:"overflow-x-auto shadow-md mt-5"},Ye={class:"w-full text-right text-gray-500 dark:text-gray-400 text-center"},Ge={className:"border dark:border-gray-800 text-center px-2 py-1"},Je={className:"border dark:border-gray-800 text-center px-2 py-1"},Ke={className:"border dark:border-gray-800 text-center px-2 py-1"},Pe={className:"border dark:border-gray-800 text-center px-2 py-1"},Qe={className:"border dark:border-gray-800 text-center px-2 py-1"},Xe={class:"spaner"},ps={__name:"Wallet",props:{url:String,boxes:Object},setup(g){const m=o({});o("");let n=o(!1),V=o(!1),f=o(!1);o(!1);let u=o(!1),a=o(!1),d=o(!1),x=o([]);o(0);let F=o({});o({}),o({});let S=o(!1),h=o(""),_=o("");o(0),o(0),o(0),o(0),o(0),o(0),o(0),o(0),o(0),o(0),o(0);let B=o(!1),T=1,j="";const D=()=>{T=0,x.value.length=0,B.value=!B.value};de(D,500);const O=async l=>{try{const b=(await $.get("/getIndexAccounting",{params:{limit:1e3,page:T,q:j,user_id:I.boxes.id,from:h.value,to:_.value,type:"wallet"}})).data;b.transactions.data.length<1e3?(x.value.push(...b.transactions.data),l.complete()):(x.value.push(...b.transactions.data),l.loaded()),m.value=b,T++}catch(s){console.log(s)}};function q(){n.value=!0}function H(){f.value=!0}function Ze(){u.value=!0}function es(){a.value=!0}const I=g;Q(),o(!1);const N=o(0);function L(l){l.id=I.boxes.id,$.post("/api/receiptArrivedUser",l).then(s=>{n.value=!1,window.location.reload()}).catch(s=>{N.value=s.response.data.errors})}function R(l){$.post("/api/salesDebtUser",l).then(s=>{V.value=!1,f.value=!1,window.location.reload()}).catch(s=>{N.value=s.response.data.errors})}function z(l){$.post("/api/convertDollarDinar",l).then(s=>{D(),u.value=!1}).catch(s=>{N.value=s.response.data.errors})}function Y(l){$.post("/api/convertDinarDollar",l).then(s=>{D(),a.value=!1}).catch(s=>{N.value=s.response.data.errors})}function G(l){$.post(`/api/delTransactions?id=${l.id}`).then(s=>{D(),d.value=!1}).catch(s=>{N.value=s.response.data.errors})}return(l,s)=>(p(),c(W,null,[r(i(X),{title:"Dashboard"}),r(te,null,{header:v(()=>[...s[17]||(s[17]=[])]),default:v(()=>{var b,E;return[r(oe,{show:!!i(d),formData:i(F),onA:s[0]||(s[0]=t=>G(t)),onClose:s[1]||(s[1]=t=>y(d)?d.value=!1:d=!1)},{header:v(()=>[...s[18]||(s[18]=[e("h2",{class:"mb-5 dark:text-white text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0644\u062D\u0630\u0641 \u061F ",-1)])]),_:1},8,["show","formData"]),r(ae,{show:!!i(n),onA:s[2]||(s[2]=t=>L(t)),onClose:s[3]||(s[3]=t=>y(n)?n.value=!1:n=!1)},{header:v(()=>[...s[19]||(s[19]=[e("h3",{class:"text-center"},"\u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1)])]),_:1},8,["show"]),r(ke,{show:!!i(f),boxes:g.boxes,sum_transactions:m.value.sum_transactions,sum_transactions_dinar:m.value.sum_transactions_dinar,onA:s[4]||(s[4]=t=>R(t)),onClose:s[5]||(s[5]=t=>y(f)?f.value=!1:f=!1)},{header:v(()=>[...s[20]||(s[20]=[e("h3",{class:"text-center"}," \u0633\u062D\u0628 \u0645\u0646 \u0627\u0644\u0642\u0627\u0633\u0647",-1)])]),_:1},8,["show","boxes","sum_transactions","sum_transactions_dinar"]),r(le,{show:!!i(u),boxes:g.boxes,onA:s[6]||(s[6]=t=>z(t)),onClose:s[7]||(s[7]=t=>y(u)?u.value=!1:u=!1)},{header:v(()=>[...s[21]||(s[21]=[e("h3",{class:"text-center"},"\u062A\u062D\u0648\u064A\u0644 \u0645\u0646 \u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0644\u0644\u062F\u064A\u0646\u0627\u0631",-1)])]),_:1},8,["show","boxes"]),r(re,{show:!!i(a),boxes:g.boxes,onA:s[8]||(s[8]=t=>Y(t)),onClose:s[9]||(s[9]=t=>y(a)?a.value=!1:a=!1)},{header:v(()=>[...s[22]||(s[22]=[e("h3",{class:"text-center"},"\u062A\u062D\u0648\u064A\u0644 \u0645\u0646 \u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0644\u0644\u062F\u0648\u0644\u0627\u0631",-1)])]),_:1},8,["show","boxes"]),l.$page.props.success?(p(),c("div",$e,[e("div",De,[e("div",Ne,w(l.$page.props.success),1)])])):C("",!0),e("div",null,[e("div",Ce,[e("div",Ve,[e("div",Ae,[e("div",Ue,[e("div",Me,[l.$page.props.auth.user.type_id==1||l.$page.props.auth.user.type_id==2||l.$page.props.auth.user.type_id==5?(p(),c("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-green-800 rounded-md focus:outline-none",onClick:s[10]||(s[10]=t=>q())}," \u0648\u0635\u0644 \u0642\u0628\u0636 (\u0623\u0636\u0627\u0641\u0629) ")):C("",!0)]),e("div",Be,[l.$page.props.auth.user.type_id==1||l.$page.props.auth.user.type_id==2||l.$page.props.auth.user.type_id==5?(p(),c("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-red-800 rounded-md focus:outline-none",onClick:s[11]||(s[11]=t=>H())}," \u0648\u0635\u0644 \u0635\u0631\u0641 (\u0633\u062D\u0628) ")):C("",!0)]),e("div",Te,[e("div",null,[r(k,{for:"from",value:"\u0645\u0646 \u062A\u0627\u0631\u064A\u062E"}),r(M,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:i(h),"onUpdate:modelValue":s[12]||(s[12]=t=>y(h)?h.value=t:h=t)},null,8,["modelValue"])])]),e("div",Se,[e("div",null,[r(k,{for:"to",value:"\u062D\u062A\u0649 \u062A\u0627\u0631\u064A\u062E"}),r(M,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:i(_),"onUpdate:modelValue":s[13]||(s[13]=t=>y(_)?_.value=t:_=t)},null,8,["modelValue"])])]),e("div",Ie,[r(k,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),e("button",{onClick:s[14]||(s[14]=Z(t=>D(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},[i(S)?(p(),c("span",We,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(p(),c("span",Ee,"\u0641\u0644\u062A\u0631\u0629"))])]),e("div",Fe,[r(k,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),e("a",{class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-orange-500 rounded",style:{display:"block","text-align":"center"},href:`/getIndexAccounting?user_id=${(E=(b=m.value)==null?void 0:b.user)==null?void 0:E.id}&from=${i(h)}&to=${i(_)}&print=6`,target:"_blank"},[i(S)?(p(),c("span",qe,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(p(),c("span",Oe,"\u0637\u0628\u0627\u0639\u0629"))],8,je)])]),C("",!0),e("div",He,[e("div",Le,[e("div",null,[r(k,{for:"to",value:`\u062D\u0633\u0627\u0628 ${g.boxes.name} \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631`},null,8,["value"]),r(M,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:m.value.sumInTransactionsUser-m.value.sumOutTransactionsUser},null,8,["value"])])]),e("div",Re,[e("div",null,[r(k,{for:"to",value:`\u062D\u0633\u0627\u0628 ${g.boxes.name} \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0639\u0631\u0627\u0642\u064A`},null,8,["value"]),r(M,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:m.value.sumInTransactionsDinarUser-m.value.sumOutTransactionsDinarUser},null,8,["value"])])])]),e("div",ze,[e("table",Ye,[s[24]||(s[24]=e("thead",{class:"text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},[e("tr",{class:"rounded-l-lg mb-2 sm:mb-0"},[e("th",{className:"px-2 py-2"},"\u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644"),e("th",{className:"px-2 py-2"},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),e("th",{className:"px-2 py-2"},"\u0627\u0644\u0648\u0635\u0641"),e("th",{className:"px-2 py-2"},"\u0627\u064A\u062F\u0627\u0639"),e("th",{className:"px-2 py-2"},"\u0633\u062D\u0628"),e("th",{className:"px-2 py-2"},"\u062A\u0646\u0641\u064A\u0630")])],-1)),e("tbody",null,[(p(!0),c(W,null,ee(i(x),t=>(p(),c("tr",{key:t.id,class:se([t.type!="inUser"?"bg-red-100 dark:bg-red-900":"bg-green-100 dark:bg-green-900","bg-white border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[e("td",Ge,w(t.id),1),e("td",Je,w(t==null?void 0:t.created_at.slice(0,19).replace("T","  ")),1),e("th",Ke,w(t.description),1),e("td",Pe,w(t.type=="inUser"?t.amount+" "+t.currency:""),1),e("td",Qe,w(t.type=="outUser"?t.amount+" "+t.currency:""),1),s[23]||(s[23]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-1"},null,-1))],2))),128))])])]),e("div",Xe,[r(i(ne),{car:l.car,onInfinite:O,identifier:i(B)},null,8,["car","identifier"])])])])])])]}),_:1})],64))}};export{ps as default};
