import{r as c,m as U,j as ee,y as se,o as r,a as o,b as t,i as x,t as n,n as m,g as Z,w as st,x as At,q as ae,L as Ee,f as P,T as Oe,K as Ue,u as Qe,F as _,H as Ve,h as S,e as lt,k as Lt,O as te,W as Ae}from"./app.6ed04544.js";import{G as He}from"./GuestLayout.3a8f397b.js";import{M as Vt}from"./Modal.266cbc46.js";import{_ as re}from"./_plugin-vue_export-helper.cdc0426e.js";import{a as w}from"./index.5a8d4396.js";/* empty css                                              */const Fe=["title"],Pe={class:"status-icon"},We={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},Re={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},Ge={key:2,class:"animate-spin",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},Ke={key:0,class:"pending-badge"},Ne={class:"sync-details-header"},Je={class:"sync-details-body"},Ze={class:"detail-item"},Xe={class:"detail-item"},Ye={class:"detail-value"},ts={key:0,class:"detail-item"},es={class:"detail-value"},ss={key:1,class:"detail-item highlight"},as={class:"detail-value"},rs=["disabled"],os={key:0},ns={key:1},ls={key:3,class:"offline-message"},ds={class:"switch-section"},is={class:"switch-buttons"},cs=["disabled"],us=["disabled"],gs={class:"current-location"},ys={__name:"SyncIndicator",props:{position:{type:String,default:"fixed",validator:mt=>["fixed","relative","absolute"].includes(mt)},bottom:{type:String,default:"20px"},left:{type:String,default:"20px"},right:{type:String,default:"auto"},top:{type:String,default:"auto"},showSwitchButtons:{type:Boolean,default:!0}},setup(mt){const l=mt,h=c(navigator.onLine),f=c(!1),k=c(0),Q=c(null),W=c(!1),D=c(window.location.href.startsWith("http://127.0.0.1")||window.location.href.startsWith("http://localhost")),at=U(()=>f.value?"syncing":h.value?k.value>0?"pending":"online":"offline"),X=U(()=>f.value?"\u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...":h.value?k.value>0?`${k.value} \u0639\u0645\u0644\u064A\u0629 \u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631`:"\u0645\u062A\u0635\u0644 - \u0643\u0644 \u0634\u064A\u0621 \u0645\u062D\u062F\u062B":"\u063A\u064A\u0631 \u0645\u062A\u0635\u0644 - \u0648\u0636\u0639 Offline"),rt=U(()=>f.value?"\u{1F504} \u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...":k.value>0?`\u23F3 ${k.value} \u0639\u0645\u0644\u064A\u0629 \u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631`:"\u2705 \u0643\u0644 \u0634\u064A\u0621 \u0645\u062D\u062F\u0651\u062B"),R=U(()=>{if(!Q.value)return"\u0644\u0645 \u062A\u062A\u0645 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0639\u062F";const v=new Date(Q.value),I=new Date-v,O=Math.floor(I/6e4),G=Math.floor(I/36e5),K=Math.floor(I/864e5);return O<1?"\u0645\u0646\u0630 \u0644\u062D\u0638\u0627\u062A":O<60?`\u0645\u0646\u0630 ${O} \u062F\u0642\u064A\u0642\u0629`:G<24?`\u0645\u0646\u0630 ${G} \u0633\u0627\u0639\u0629`:`\u0645\u0646\u0630 ${K} \u064A\u0648\u0645`}),dt=U(()=>({position:l.position,bottom:l.position==="fixed"?l.bottom:"auto",left:l.position==="fixed"?l.left:"auto",right:l.position==="fixed"?l.right:"auto",top:l.position==="fixed"?l.top:"auto"})),C=()=>{W.value=!W.value},V=async()=>{if(!(!h.value||f.value)){f.value=!0;try{window.$api&&(await window.$api.syncNow(),Q.value=Date.now(),await T(),window.$toast&&window.$toast.success("\u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0646\u062C\u0627\u062D!"))}catch(v){console.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",v),window.$toast&&window.$toast.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: "+v.message)}finally{f.value=!1}}},T=async()=>{try{if(window.$api){const v=await window.$api.getSyncStatus();k.value=v.pendingCount}}catch(v){console.error("\u0641\u0634\u0644 \u062A\u062D\u062F\u064A\u062B \u062D\u0627\u0644\u0629 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",v)}},E=async()=>{h.value=!0,console.log("\u{1F310} \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0639\u0627\u062F"),await V()},A=()=>{h.value=!1,console.log("\u{1F4F4} \u0641\u0642\u062F\u0627\u0646 \u0627\u0644\u0627\u062A\u0635\u0627\u0644")},$=()=>{var v;if(window.switchToLocal)window.switchToLocal();else{const g=((v=window.connectionInfo)==null?void 0:v.local_url)||window.location.origin+"/";window.location.href=g}},Y=()=>{var v;if(window.switchToOnline)window.switchToOnline();else{const g=((v=window.connectionInfo)==null?void 0:v.online_url)||"https://system.intellijapp.com/dashboard";window.location.href=g}};return ee(()=>{window.addEventListener("online",E),window.addEventListener("offline",A);const v=()=>{D.value=window.location.href.startsWith("http://127.0.0.1")||window.location.href.startsWith("http://localhost")};window.addEventListener("focus",v),T(),v();const g=setInterval(T,3e4);se(()=>{window.removeEventListener("online",E),window.removeEventListener("offline",A),window.removeEventListener("focus",v),clearInterval(g)})}),(v,g)=>(r(),o("div",{class:"sync-indicator-container",style:Ue(dt.value)},[t("div",{class:m(["sync-indicator",at.value]),onClick:C,title:X.value},[t("div",Pe,[h.value&&!f.value?(r(),o("svg",We,[...g[3]||(g[3]=[t("path",{d:"M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9zm8 8l3 3 3-3c-1.65-1.66-4.34-1.66-6 0zm-4-4l2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13z"},null,-1)])])):h.value?f.value?(r(),o("svg",Ge,[...g[5]||(g[5]=[t("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"},null,-1)])])):x("",!0):(r(),o("svg",Re,[...g[4]||(g[4]=[t("path",{d:"M23.64 7c-.45-.34-4.93-4-11.64-4-1.5 0-2.89.19-4.15.48L18.18 13.8 23.64 7zm-6.6 8.22L3.27 1.44 2 2.72l2.05 2.06C1.91 5.76.59 6.82.36 7l11.63 14.49.01.01.01-.01 3.9-4.86 3.32 3.32 1.27-1.27-3.46-3.46z"},null,-1)])]))]),k.value>0?(r(),o("div",Ke,n(k.value),1)):x("",!0)],10,Fe),Z(Oe,{name:"fade"},{default:st(()=>[W.value?(r(),o("div",{key:0,class:"sync-details",onClick:g[1]||(g[1]=At(()=>{},["stop"]))},[t("div",Ne,[g[6]||(g[6]=t("h3",null,"\u062D\u0627\u0644\u0629 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1)),t("button",{onClick:g[0]||(g[0]=I=>W.value=!1),class:"close-btn"},"\xD7")]),t("div",Je,[t("div",Ze,[g[7]||(g[7]=t("span",{class:"detail-label"},"\u0627\u0644\u0627\u062A\u0635\u0627\u0644:",-1)),t("span",{class:m(["detail-value",{"text-green":h.value,"text-red":!h.value}])},n(h.value?"\u{1F310} \u0645\u062A\u0635\u0644":"\u{1F4F4} \u063A\u064A\u0631 \u0645\u062A\u0635\u0644"),3)]),t("div",Xe,[g[8]||(g[8]=t("span",{class:"detail-label"},"\u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",-1)),t("span",Ye,n(rt.value),1)]),Q.value?(r(),o("div",ts,[g[9]||(g[9]=t("span",{class:"detail-label"},"\u0622\u062E\u0631 \u0645\u0632\u0627\u0645\u0646\u0629:",-1)),t("span",es,n(R.value),1)])):x("",!0),k.value>0?(r(),o("div",ss,[g[10]||(g[10]=t("span",{class:"detail-label"},"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631:",-1)),t("span",as,n(k.value)+" \u0639\u0645\u0644\u064A\u0629",1)])):x("",!0),h.value&&k.value>0?(r(),o("button",{key:2,onClick:V,disabled:f.value,class:"sync-btn"},[f.value?(r(),o("span",ns,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...")):(r(),o("span",os,"\u{1F504} \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0622\u0646"))],8,rs)):x("",!0),Z(ae(Ee),{href:v.route("sync.monitor"),class:"monitor-link"},{default:st(()=>[...g[11]||(g[11]=[P(" \u{1F4CA} \u0635\u0641\u062D\u0629 \u0627\u0644\u0645\u0631\u0627\u0642\u0628\u0629 \u0627\u0644\u0643\u0627\u0645\u0644\u0629 ",-1)])]),_:1},8,["href"]),h.value?x("",!0):(r(),o("div",ls,[...g[12]||(g[12]=[t("p",null,"\u26A0\uFE0F \u0623\u0646\u062A \u062A\u0639\u0645\u0644 \u0641\u064A \u0648\u0636\u0639 Offline",-1),t("p",{class:"text-sm"},"\u0633\u064A\u062A\u0645 \u062D\u0641\u0638 \u062A\u063A\u064A\u064A\u0631\u0627\u062A\u0643 \u0645\u062D\u0644\u064A\u0627\u064B \u0648\u0645\u0632\u0627\u0645\u0646\u062A\u0647\u0627 \u0639\u0646\u062F \u0639\u0648\u062F\u0629 \u0627\u0644\u0627\u062A\u0635\u0627\u0644",-1)])])),t("div",ds,[g[14]||(g[14]=t("div",{class:"switch-header"},[t("span",null,"\u{1F504} \u0627\u0644\u062A\u0628\u062F\u064A\u0644 \u0628\u064A\u0646 \u0627\u0644\u0633\u064A\u0631\u0641\u0631\u0627\u062A")],-1)),t("div",is,[t("button",{onClick:$,class:m(["switch-btn",{active:D.value,disabled:D.value}]),disabled:D.value}," \u{1F4BB} Local ",10,cs),t("button",{onClick:Y,class:m(["switch-btn",{active:!D.value,disabled:!D.value}]),disabled:!D.value}," \u{1F310} Online ",10,us)]),t("div",gs,[g[13]||(g[13]=t("span",{class:"location-label"},"\u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u062D\u0627\u0644\u064A:",-1)),t("span",{class:m(["location-value",D.value?"local":"online"])},n(D.value?"\u{1F4BB} Local":"\u{1F310} Online"),3)])])])])):x("",!0)]),_:1}),W.value?(r(),o("div",{key:0,class:"overlay",onClick:g[2]||(g[2]=I=>W.value=!1)})):x("",!0)],4))}},xs=re(ys,[["__scopeId","data-v-c3f083bc"]]);const ps={class:"flex justify-between items-center"},vs={class:"flex gap-2"},bs=["disabled"],fs={key:0},hs={key:1},ms=["disabled"],ks={key:0},ws={key:1},_s={class:"py-6"},Cs={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},$s={class:"mb-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6"},Ss={class:"flex justify-between items-center mb-4"},Ls=["disabled"],Ms={key:0},Ts={key:1},js={key:0,class:"text-center py-8"},Bs={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},zs={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},Ds={class:"space-y-2 text-sm"},Is={class:"flex justify-between"},qs={class:"font-mono text-gray-900 dark:text-gray-100"},Es={class:"flex justify-between"},Os={class:"font-mono text-gray-900 dark:text-gray-100"},Us={class:"flex justify-between"},Qs={class:"font-mono text-gray-900 dark:text-gray-100"},Vs={class:"bg-blue-50 dark:bg-blue-900 p-4 rounded-lg"},As={class:"space-y-2 text-sm"},Hs={class:"flex justify-between"},Fs={class:"font-bold text-blue-900 dark:text-blue-100"},Ps={class:"flex justify-between"},Ws={class:"font-bold text-blue-900 dark:text-blue-100 text-xs"},Rs={class:"flex justify-between"},Gs={class:"bg-amber-50 dark:bg-amber-900 p-4 rounded-lg"},Ks={class:"space-y-2 text-sm"},Ns={class:"flex justify-between"},Js={class:"font-bold text-amber-900 dark:text-amber-100"},Zs={class:"bg-purple-50 dark:bg-purple-900 p-4 rounded-lg"},Xs={class:"space-y-2"},Ys=["disabled"],ta={key:0,class:"mb-6 bg-yellow-50 dark:bg-yellow-900 border-l-4 border-yellow-500 p-4 rounded"},ea={class:"mb-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},sa={class:"p-6 border-b border-gray-200 dark:border-gray-700"},aa={class:"flex justify-between items-center"},ra={class:"text-lg font-semibold dark:text-gray-200"},oa={class:"overflow-x-auto"},na={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},la={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},da={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-200"},ia={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},ca={class:"px-6 py-4 whitespace-nowrap"},ua={key:0},ga={key:0,class:"p-4 border-t border-gray-200 dark:border-gray-600 text-center"},ya={class:"mb-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},xa={class:"p-6 border-b border-gray-200 dark:border-gray-700"},pa={class:"flex justify-between items-center"},va={class:"text-lg font-semibold dark:text-gray-200"},ba=["disabled"],fa={key:0},ha={key:1},ma={class:"overflow-x-auto"},ka={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},wa={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},_a={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-200"},Ca={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},$a={key:0},Sa={class:"mb-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},La={class:"border-b border-gray-200 dark:border-gray-700"},Ma={class:"flex"},Ta={key:0,class:"p-6"},ja={class:"flex justify-between items-center mb-4"},Ba={class:"text-lg font-semibold dark:text-gray-200"},za={class:"flex gap-2"},Da={class:"overflow-x-auto"},Ia={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},qa={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Ea={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200"},Oa={class:"px-6 py-4 whitespace-nowrap"},Ua={class:"text-sm font-medium text-gray-900 dark:text-gray-200"},Qa={class:"text-sm text-gray-500 dark:text-gray-400"},Va={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Aa={class:"px-6 py-4 whitespace-nowrap"},Ha={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},Fa=["onClick"],Pa=["onClick"],Wa={key:0},Ra={key:1,class:"p-6"},Ga={class:"flex justify-between items-center mb-6"},Ka={class:"flex gap-2"},Na=["disabled"],Ja={key:0},Za={key:1},Xa={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},Ya={class:"bg-orange-50 dark:bg-orange-900 p-4 rounded-lg"},tr={class:"text-2xl font-bold text-orange-600"},er={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},sr={class:"text-2xl font-bold text-gray-600"},ar={class:"mb-4 flex items-center justify-between"},rr={class:"flex items-center"},or={key:0,class:"text-center py-12"},nr={key:1,class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},lr={class:"overflow-x-auto"},dr={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ir={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},cr={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-200"},ur={class:"flex items-center"},gr={key:0,class:"mr-2 px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 rounded-full"},yr={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400 font-mono text-xs"},xr={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},pr={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},vr=["onClick","disabled"],br={key:0},fr={key:1},hr={key:1,class:"text-gray-400 dark:text-gray-500 text-sm"},mr={key:0},kr={key:2,class:"mt-6 bg-yellow-50 dark:bg-yellow-900 border-l-4 border-yellow-500 p-4 rounded-lg"},wr={class:"flex items-start"},_r={class:"mr-3 flex-1"},Cr={key:0,class:"mb-3"},$r={class:"text-sm font-medium text-yellow-800 dark:text-yellow-200 mb-2"},Sr={class:"list-disc list-inside text-sm text-yellow-700 dark:text-yellow-300 space-y-1"},Lr={key:1,class:"mb-3"},Mr={class:"text-sm text-yellow-700 dark:text-yellow-300"},Tr={class:"flex gap-2 mt-4"},jr={key:3,class:"mt-6 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg"},Br={class:"p-4"},zr={class:"text-xs font-mono bg-gray-900 text-green-400 p-4 rounded overflow-x-auto max-h-64 overflow-y-auto"},Dr={key:2,class:"p-6"},Ir={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},qr={class:"bg-white dark:bg-gray-700 p-6 rounded-lg"},Er={class:"space-y-3"},Or={class:"flex justify-between"},Ur={class:"font-mono text-sm"},Qr={class:"flex justify-between"},Vr={class:"font-mono text-sm"},Ar={class:"flex justify-between"},Hr={class:"font-mono text-sm"},Fr={class:"flex justify-between"},Pr={class:"font-mono text-sm"},Wr={class:"bg-white dark:bg-gray-700 p-6 rounded-lg"},Rr={class:"space-y-3"},Gr=["disabled"],Kr={key:0},Nr={key:1},Jr=["disabled"],Zr={key:0},Xr={key:1},Yr=["disabled"],to={key:0},eo={key:1},so=["disabled"],ao={key:0},ro={key:1},oo={class:"mt-6 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg"},no={class:"p-4 max-h-64 overflow-y-auto"},lo={key:0,class:"text-center text-gray-500 dark:text-gray-400 py-8"},io={key:1,class:"space-y-2"},co={class:"flex-1"},uo={class:"text-gray-900 dark:text-gray-200"},go={class:"text-xs text-gray-500 dark:text-gray-400"},yo={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},xo={class:"p-6 border-b border-gray-200 dark:border-gray-700"},po={class:"flex justify-between items-center"},vo={class:"text-lg font-semibold dark:text-gray-200"},bo={class:"flex gap-2"},fo={class:"overflow-x-auto"},ho={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},mo={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},ko={key:0},wo={colspan:"8",class:"px-6 py-8 text-center text-gray-500 dark:text-gray-400"},_o={class:"text-lg"},Co={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},$o={class:"px-6 py-4 whitespace-nowrap dark:text-gray-300"},So={class:"px-6 py-4 whitespace-nowrap dark:text-gray-300"},Lo={class:"px-6 py-4 dark:text-gray-300"},Mo=["onClick"],To={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},jo={class:"flex items-center gap-1"},Bo={key:0,class:"text-red-600 text-lg"},zo={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},Do={class:"px-6 py-4 whitespace-nowrap"},Io={key:0,class:"flex items-center text-green-600 dark:text-green-400"},qo={key:1,class:"flex items-center text-red-600 dark:text-red-400"},Eo={key:2,class:"flex items-center text-yellow-600 dark:text-yellow-400"},Oo={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Uo={class:"flex gap-2"},Qo=["onClick","disabled"],Vo=["onClick"],Ao=["onClick"],Ho={key:0,class:"px-6 py-4 bg-gray-50 dark:bg-gray-700 flex justify-between items-center"},Fo={class:"text-sm text-gray-700 dark:text-gray-300"},Po={class:"flex gap-2"},Wo=["disabled"],Ro=["disabled"],Go={class:"mt-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6"},Ko={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},No={class:"border dark:border-gray-700 rounded p-4"},Jo={class:"text-2xl font-bold dark:text-gray-200"},Zo={class:"border dark:border-gray-700 rounded p-4"},Xo={class:"text-2xl font-bold dark:text-gray-200"},Yo={class:"border dark:border-gray-700 rounded p-4"},tn={class:"text-2xl font-bold dark:text-gray-200"},en={class:"mt-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},sn={class:"p-6 border-b border-gray-200 dark:border-gray-700"},an={class:"flex justify-between items-center flex-wrap gap-4"},rn={class:"text-lg font-semibold dark:text-gray-200"},on={class:"flex gap-2 items-center flex-wrap"},nn=["disabled"],ln={key:0},dn={key:1},cn={key:0,class:"p-8 text-center"},un={key:1,class:"p-8 text-center"},gn={key:2,class:"overflow-x-auto"},yn={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},xn={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},pn={class:"px-6 py-4 whitespace-nowrap"},vn={class:"text-sm font-medium dark:text-gray-200"},bn={class:"px-6 py-4 whitespace-nowrap"},fn={class:"text-sm dark:text-gray-300"},hn={class:"px-6 py-4 whitespace-nowrap"},mn={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},kn={class:"flex gap-2 items-center"},wn=["onClick"],_n={key:0,class:"relative inline-block"},Cn=["onClick"],$n=["onClick","disabled"],Sn={key:0},Ln={key:1},Mn=["onClick","disabled"],Tn={key:0},jn={key:1},Bn={class:"mt-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},zn={class:"p-6 border-b border-gray-200 dark:border-gray-700"},Dn={class:"flex justify-between items-center"},In=["disabled"],qn={key:0},En={key:1},On={key:0,class:"p-8 text-center"},Un={key:1,class:"p-4 bg-red-50 dark:bg-red-900 border-l-4 border-red-500"},Qn={class:"text-red-800 dark:text-red-200"},Vn={key:2,class:"p-8 text-center"},An={key:3},Hn={key:0,class:"p-4 bg-blue-50 dark:bg-blue-900 border-b border-gray-200 dark:border-gray-700"},Fn={class:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center"},Pn={class:"text-2xl font-bold dark:text-gray-200"},Wn={class:"text-2xl font-bold dark:text-gray-200"},Rn={class:"text-2xl font-bold dark:text-gray-200"},Gn={class:"overflow-x-auto"},Kn={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Nn={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Jn={class:"px-6 py-4 whitespace-nowrap text-sm font-medium dark:text-gray-200"},Zn={class:"px-6 py-4 whitespace-nowrap"},Xn={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},Yn={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},tl={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},el={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},sl={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},al={class:"mt-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},rl={class:"p-6 border-b border-gray-200 dark:border-gray-700"},ol={class:"flex justify-between items-center"},nl={class:"flex gap-2"},ll=["disabled"],dl={key:0},il={key:1},cl={key:0,class:"p-8 text-center"},ul={key:1,class:"p-8 text-center"},gl={key:2,class:"overflow-x-auto"},yl={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},xl={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},pl={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},vl={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},bl={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},fl={class:"px-6 py-4 whitespace-nowrap text-sm"},hl=["onClick","disabled"],ml=["onClick"],kl=["onClick"],wl={class:"p-6"},_l={class:"bg-gray-100 dark:bg-gray-900 p-4 rounded overflow-auto max-h-96 text-sm dark:text-gray-300"},Cl={class:"mt-4 flex justify-end"},$l={class:"p-6"},Sl={class:"bg-red-50 dark:bg-red-900 border-l-4 border-red-500 p-4 mb-4"},Ll={class:"font-medium dark:text-gray-200"},Ml={class:"text-sm mt-2 dark:text-gray-300"},Tl={class:"bg-gray-100 dark:bg-gray-900 p-4 rounded overflow-auto max-h-64 text-xs dark:text-gray-300"},jl={class:"mt-4 flex justify-end gap-2"},Bl={class:"p-6"},zl={class:"text-lg font-semibold mb-4 dark:text-gray-200"},Dl={key:0,class:"text-center py-8"},Il={key:1,class:"bg-red-50 dark:bg-red-900 border-l-4 border-red-500 p-4 mb-4"},ql={class:"text-red-800 dark:text-red-200"},El={key:2},Ol={class:"mb-4 flex justify-between items-center"},Ul={class:"text-sm text-gray-600 dark:text-gray-400"},Ql={class:"font-semibold"},Vl={class:"text-sm text-gray-600 dark:text-gray-400"},Al={class:"font-semibold"},Hl={key:0,class:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900 rounded text-xs"},Fl={key:1,class:"overflow-x-auto max-h-96 border border-gray-200 dark:border-gray-700 rounded"},Pl={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 text-sm"},Wl={class:"bg-gray-50 dark:bg-gray-700 sticky top-0"},Rl={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Gl={key:0},Kl=["colspan"],Nl={key:2,class:"p-8 text-center text-gray-500 dark:text-gray-400"},Jl={class:"text-xs mt-2"},Zl={key:3,class:"mt-4 flex justify-between items-center"},Xl={class:"text-sm text-gray-600 dark:text-gray-400"},Yl={class:"flex gap-2"},td=["disabled"],ed=["disabled"],sd={class:"mt-4 flex justify-end"},ad={class:"p-6 border-b border-gray-200 dark:border-gray-700"},rd={class:"flex justify-between items-center"},od={class:"p-6 overflow-y-auto max-h-96"},nd={class:"mb-6"},ld=["value"],dd={key:0,class:"mb-6"},id={class:"grid grid-cols-2 md:grid-cols-3 gap-3 max-h-60 overflow-y-auto"},cd=["value"],ud={class:"text-sm dark:text-gray-200"},gd={key:1,class:"bg-blue-50 dark:bg-blue-900 p-4 rounded-lg"},yd={class:"text-sm text-blue-800 dark:text-blue-200"},xd={class:"text-xs text-blue-600 dark:text-blue-300 mt-1"},pd={class:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3"},vd=["disabled"],bd={__name:"SyncMonitor",setup(mt){const l=Qe(),h=c([]),f=c({online:navigator.onLine,syncing:!1}),k=c({pendingCount:0,lastSync:null}),Q=c({cars:0,contracts:0,transactions:0}),W={environmentLabel:"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641",tip:"\u2014",host:"-",port:"",protocol:"-",origin:"-",secure:!1,networkType:"\u063A\u064A\u0631 \u0645\u062A\u0627\u062D",effectiveType:"\u063A\u064A\u0631 \u0645\u062A\u0627\u062D",downlink:null,rtt:null,apiBaseUrl:"-",lastUpdated:null,isLocal:!1},D=c(Jt()),at=c(!1),X=c(!1),rt=c(new Set);c([]);const R=c(!1),dt=c([]),C=c([]),V=c(null),T=c("all"),E=c(1),A=c(10);let $=null;const Y=c({show:!1,data:null}),v=c({show:!1,item:null,title:"",message:"",stack:""}),g=c([]),I=c(!1),O=c([]),G=c(!1);c(!1);const K=c("auto"),Mt=c("mysql"),kt=c([]),it=c(!1),Tt=c(!1),H=c("operations"),jt=c([]),ct=c(!1),wt=c(null),tt=c(""),M=c(null),Bt=c(!1),zt=c({total_executed:0,total_pending:0}),Ht=c(!1),ut=c(!1),gt=c(!1),yt=c(!1),xt=c({}),ot=c([]),pt=c({}),vt=c(!1),_t=c(!1),Ct=c(null);c(null);const N=c(null),$t=c(null),j=c({data:[],stats:null,error:null}),bt=c(!1),oe=c({connection:"mysql",is_fallback:!1}),y=c({show:!1,tableName:"",columns:[],data:[],total:0,limit:50,offset:0,connection:"",error:null}),Dt=c(!1);U(()=>({total:h.value.length,synced:h.value.filter(a=>a.synced).length,pending:h.value.filter(a=>!a.synced&&a.retries<3).length,failed:h.value.filter(a=>a.retries>=3).length}));const nt=U(()=>{let a=h.value;T.value==="pending"?a=a.filter(s=>s.status==="pending"||!s.synced&&s.retries<3):T.value==="synced"?a=a.filter(s=>s.status==="synced"||s.synced):T.value==="failed"&&(a=a.filter(s=>s.status==="failed"||s.retries>=3));const e=(E.value-1)*A.value,d=e+A.value;return a.slice(e,d)}),ne=U(()=>({all:"",pending:"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631",synced:"\u062A\u0645\u062A \u0645\u0632\u0627\u0645\u0646\u062A\u0647\u0627",failed:"\u0641\u0634\u0644\u062A"})[T.value]||""),le=U(()=>Math.ceil(h.value.length/A.value)),de=U(()=>{if(!k.value.lastSync)return"\u0644\u0645 \u062A\u062A\u0645 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0639\u062F";const a=new Date(k.value.lastSync),d=new Date-a,s=Math.floor(d/6e4),i=Math.floor(d/36e5),p=Math.floor(d/864e5);return s<1?"\u0645\u0646\u0630 \u0644\u062D\u0638\u0627\u062A":s<60?`\u0645\u0646\u0630 ${s} \u062F\u0642\u064A\u0642\u0629`:i<24?`\u0645\u0646\u0630 ${i} \u0633\u0627\u0639\u0629`:`\u0645\u0646\u0630 ${p} \u064A\u0648\u0645`}),ft=async()=>{at.value=!0;try{if(f.value.online=navigator.onLine,et(),window.$db){const a=await window.$db.getAll("sync_queue");h.value=a.sort((e,d)=>d.timestamp-e.timestamp),k.value.pendingCount=a.filter(e=>!e.synced).length}if(window.$db&&(Q.value={cars:(await window.$db.getAll("cars")).length,contracts:0,transactions:(await window.$db.getAll("transactions")).length}),window.$api){const a=await window.$api.getSyncStatus();k.value.pendingCount=a.pendingCount}await F(),await Xt(),await St(),await Ut(),await ht(),await Et(),l.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",{timeout:2e3})}catch(a){console.error("\u0641\u0634\u0644 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A:",a),l.error("\u0641\u0634\u0644 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A")}finally{at.value=!1}},Ft=async()=>{var a,e,d,s,i,p;if(!f.value.online){l.warning("\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 - \u063A\u064A\u0631 \u0645\u062A\u0635\u0644 \u0628\u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A");return}X.value=!0,f.value.syncing=!0;try{l.info("\u{1F504} \u0628\u062F\u0621 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...",{timeout:3e3}),l.info("\u{1F4E5} \u062C\u0644\u0628 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 \u0627\u0644\u0633\u064A\u0631\u0641\u0631...",{timeout:3e3});const u=await w.post("/api/sync-monitor/sync",{direction:"down",tables:null,force_full_sync:!1},{withCredentials:!0});let L=0;u.data.success?(L=(e=(a=u.data.results)==null?void 0:a.total_synced)!=null?e:0,k.value.lastSync=Date.now()):l.warning("\u062A\u062D\u0630\u064A\u0631: \u0641\u0634\u0644 \u0627\u0644\u0633\u062D\u0628 - "+(u.data.error||"")),l.info("\u{1F4E4} \u0631\u0641\u0639 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062D\u0644\u064A\u0629 \u0644\u0644\u0633\u064A\u0631\u0641\u0631...",{timeout:3e3});const q=await w.post("/api/sync-monitor/sync",{direction:"up",tables:null,safe_mode:!0,create_backup:!0,force_full_sync:!1},{withCredentials:!0});let b=0;q.data.success?b=(s=(d=q.data.results)==null?void 0:d.total_synced)!=null?s:0:l.warning("\u062A\u062D\u0630\u064A\u0631: \u0641\u0634\u0644 \u0627\u0644\u0631\u0641\u0639 - "+(q.data.error||"")),await F(),await Ut();let z=`\u2705 \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0646\u062C\u0627\u062D!
`;z+=`\u{1F4E5} \u0633\u062D\u0628 \u0645\u0646 \u0627\u0644\u0633\u064A\u0631\u0641\u0631: ${L} \u0633\u062C\u0644
`,z+=`\u{1F4E4} \u0631\u0641\u0639 \u0644\u0644\u0633\u064A\u0631\u0641\u0631: ${b} \u0633\u062C\u0644`,l.success(z,{timeout:4e3})}catch(u){console.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",u),l.error("\u274C \u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: "+(((p=(i=u.response)==null?void 0:i.data)==null?void 0:p.error)||u.message))}finally{X.value=!1,f.value.syncing=!1}},It=async a=>{if(!f.value.online){l.warning("\u0644\u0627 \u064A\u0645\u0643\u0646 \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 - \u063A\u064A\u0631 \u0645\u062A\u0635\u0644");return}rt.value.add(a.id);try{l.info(`\u{1F504} \u0625\u0639\u0627\u062F\u0629 \u0645\u062D\u0627\u0648\u0644\u0629 ${qt(a.storeName)}...`),window.$db&&(await window.$db.syncItem(a),a.synced=!0,a.retries=(a.retries||0)+1,await window.$db.save("sync_queue",a),l.success("\u2705 \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0646\u062C\u0627\u062D!"),await ft())}catch(e){console.error("\u0641\u0634\u0644\u062A \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629:",e),a.retries=(a.retries||0)+1,a.error={message:e.message,timestamp:Date.now()},window.$db&&await window.$db.save("sync_queue",a),l.error("\u274C \u0641\u0634\u0644\u062A \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629"),await ft()}finally{rt.value.delete(a.id)}},Pt=async a=>{if(!!confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629\u061F"))try{window.$db&&(await window.$db.delete("sync_queue",a.id),l.success("\u062A\u0645 \u0627\u0644\u062D\u0630\u0641"),await ft())}catch(e){console.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641:",e),l.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641")}},Wt=async()=>{if(!!confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0643\u0644 \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A\u061F \u0633\u064A\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0641\u0642\u0637."))try{if(window.$db){const a=h.value.filter(e=>e.synced);for(const e of a)await window.$db.delete("sync_queue",e.id);l.success(`\u062A\u0645 \u062D\u0630\u0641 ${a.length} \u0639\u0645\u0644\u064A\u0629`),await ft()}}catch(a){console.error("\u0641\u0634\u0644 \u0627\u0644\u0645\u0633\u062D:",a),l.error("\u0641\u0634\u0644 \u0645\u0633\u062D \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A")}},ie=a=>{Y.value={show:!0,data:a.data}},ce=a=>{var e,d;v.value={show:!0,item:a,title:`\u0641\u0634\u0644 ${Rt(a.action)} ${qt(a.storeName)}`,message:((e=a.error)==null?void 0:e.message)||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641",stack:((d=a.error)==null?void 0:d.stack)||"\u0644\u0627 \u062A\u0648\u062C\u062F \u062A\u0641\u0627\u0635\u064A\u0644 \u0625\u0636\u0627\u0641\u064A\u0629"}},ue=async a=>{v.value.show=!1,await It(a)},qt=a=>({cars:"\u{1F697} \u0633\u064A\u0627\u0631\u0629",contracts:"\u{1F4C4} \u0639\u0642\u062F",transactions:"\u{1F4B0} \u0645\u0639\u0627\u0645\u0644\u0629",sync_queue:"\u{1F504} \u0645\u0632\u0627\u0645\u0646\u0629"})[a]||a,ge=a=>({cars:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",contracts:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",transactions:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"})[a]||"bg-gray-100 text-gray-800",Rt=a=>({save:"\u{1F4BE} \u062D\u0641\u0638",update:"\u270F\uFE0F \u062A\u062D\u062F\u064A\u062B",delete:"\u{1F5D1}\uFE0F \u062D\u0630\u0641"})[a]||a,ye=a=>({save:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",update:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",delete:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[a]||"bg-gray-100 text-gray-800",xe=a=>{if(!a)return"-";const e=new Date(a),s=new Date-e,i=Math.floor(s/6e4),p=Math.floor(s/36e5);return i<1?"\u0627\u0644\u0622\u0646":i<60?`\u0645\u0646\u0630 ${i} \u062F\u0642\u064A\u0642\u0629`:p<24?`\u0645\u0646\u0630 ${p} \u0633\u0627\u0639\u0629`:e.toLocaleDateString("ar-SA")+" "+e.toLocaleTimeString("ar-SA")},pe=async()=>{if(!!confirm("\u0647\u0644 \u062A\u0631\u064A\u062F \u0645\u0633\u062D \u0643\u0644 \u0627\u0644\u0640 Cache\u061F"))try{if(window.$db&&await window.$db.clearExpiredCache(),"caches"in window){const a=await caches.keys();await Promise.all(a.map(e=>caches.delete(e)))}l.success("\u2705 \u062A\u0645 \u0645\u0633\u062D \u0627\u0644\u0640 Cache"),setTimeout(()=>window.location.reload(),1e3)}catch{l.error("\u0641\u0634\u0644 \u0645\u0633\u062D \u0627\u0644\u0640 Cache")}},Gt=()=>{f.value.online=!0,et(),l.success("\u{1F310} \u0639\u0627\u062F \u0627\u0644\u0627\u062A\u0635\u0627\u0644!")},Kt=()=>{f.value.online=!1,et(),l.warning("\u{1F4F4} \u0641\u0642\u062F\u0627\u0646 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 - \u0648\u0636\u0639 Offline")},F=async()=>{var a,e;I.value=!0;try{const d={};K.value!=="auto"&&(d.force_connection=K.value);const s=await w.get("/api/sync-monitor/tables",{params:d,withCredentials:!0});g.value=s.data.tables||[],oe.value={connection:s.data.connection||"mysql",is_fallback:s.data.is_fallback||!1},Mt.value=s.data.connection||"mysql",l.success("\u062A\u0645 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3})}catch(d){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062C\u062F\u0627\u0648\u0644:",d),l.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062C\u062F\u0627\u0648\u0644: "+(((e=(a=d.response)==null?void 0:a.data)==null?void 0:e.error)||d.message))}finally{I.value=!1}},ve=(a,e=null)=>{const d=`/sync-monitor/table/${a}${e?`?connection=${e}`:""}`;Ae.router.visit(d)},Nt=async(a,e=0,d=null)=>{var s,i,p,u;Dt.value=!0,y.value.error=null;try{const L={limit:y.value.limit,offset:e},q=d||y.value.tableConnection;q?L.force_connection=q:K.value!=="auto"&&(L.force_connection=K.value);const b=await w.get(`/api/sync-monitor/table/${a}`,{params:L,withCredentials:!0});console.log("Table details response:",{table:a,connection:q,columns:b.data.columns,columns_type:typeof b.data.columns,columns_is_array:Array.isArray(b.data.columns),data_count:((s=b.data.data)==null?void 0:s.length)||0,total:b.data.total,first_row:((i=b.data.data)==null?void 0:i[0])||null,response_data:b.data});let z=[];Array.isArray(b.data.columns)?z=b.data.columns:b.data.columns&&typeof b.data.columns=="object"&&(z=Object.values(b.data.columns));let J=[];if(Array.isArray(b.data.data)?J=b.data.data:b.data.data&&typeof b.data.data=="object"&&(J=Object.values(b.data.data)),z.length===0&&J.length>0){const Qt=J[0];Qt&&typeof Qt=="object"&&(z=Object.keys(Qt),console.log("Extracted columns from data:",z))}console.log("Final columns and data:",{columns_count:z.length,columns:z,data_count:J.length,first_row_keys:J.length>0?Object.keys(J[0]):[]}),y.value.columns=z,y.value.data=J,y.value.total=b.data.total||0,y.value.offset=b.data.offset||0,y.value.connection=b.data.connection||"",console.log("Table details modal updated:",{columns:y.value.columns.length,data:y.value.data.length,total:y.value.total})}catch(L){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062C\u062F\u0648\u0644:",L),y.value.error=((u=(p=L.response)==null?void 0:p.data)==null?void 0:u.error)||L.message||"\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",l.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062C\u062F\u0648\u0644")}finally{Dt.value=!1}},be=a=>a==null?"-":typeof a=="boolean"?a?"\u2713":"\u2717":typeof a=="object"?JSON.stringify(a):typeof a=="string"&&a.length>50?a.substring(0,50)+"...":String(a),Et=async()=>{var a,e,d,s;bt.value=!0,j.value.error=null;try{const i=await w.get("/api/sync-monitor/metadata",{withCredentials:!0});j.value.data=i.data.metadata||[],j.value.stats=i.data.stats||null,l.success("\u062A\u0645 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",{timeout:2e3})}catch(i){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",i),j.value.error=((e=(a=i.response)==null?void 0:a.data)==null?void 0:e.error)||i.message||"\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",l.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: "+(((s=(d=i.response)==null?void 0:d.data)==null?void 0:s.error)||i.message))}finally{bt.value=!1}},ht=async()=>{var a,e;it.value=!0;try{const d=await w.get("/api/sync-monitor/backups",{withCredentials:!0});kt.value=d.data.backups||[],l.success("\u062A\u0645 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629",{timeout:2e3})}catch(d){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629:",d),l.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: "+(((e=(a=d.response)==null?void 0:a.data)==null?void 0:e.error)||d.message))}finally{it.value=!1}},fe=async a=>{var e,d;if(!!confirm(`\u26A0\uFE0F \u062A\u062D\u0630\u064A\u0631: \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 "${a}"\u061F

\u0647\u0630\u0627 \u0633\u064A\u0633\u062A\u0628\u062F\u0644 \u062C\u0645\u064A\u0639 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062D\u0627\u0644\u064A\u0629 \u0641\u064A \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A!`)){Tt.value=!0;try{const s=await w.post("/api/sync-monitor/restore-backup",{backup_file:a},{withCredentials:!0});s.data.success?(l.success("\u2705 \u062A\u0645\u062A \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:3e3}),await ht(),await F()):l.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629: "+(s.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"))}catch(s){console.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629:",s),l.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629: "+(((d=(e=s.response)==null?void 0:e.data)==null?void 0:d.error)||s.message))}finally{Tt.value=!1}}},he=a=>{window.open(`/api/sync-monitor/download-backup?file=${encodeURIComponent(a)}`,"_blank")},me=async a=>{var e,d;if(!!confirm(`\u26A0\uFE0F \u062A\u062D\u0630\u064A\u0631: \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 "${a}"\u061F

\u0647\u0630\u0627 \u0627\u0644\u0625\u062C\u0631\u0627\u0621 \u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646\u0647!`))try{const s=await w.delete("/api/sync-monitor/backup/delete",{params:{file:a},withCredentials:!0});s.data.success?(l.success("\u2705 \u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:3e3}),await ht()):l.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641: "+(s.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"))}catch(s){console.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641:",s),l.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641: "+(((d=(e=s.response)==null?void 0:e.data)==null?void 0:d.error)||s.message))}},ke=a=>{if(!a)return"0 B";const e=1024,d=["B","KB","MB","GB"],s=Math.floor(Math.log(a)/Math.log(e));return Math.round(a/Math.pow(e,s)*100)/100+" "+d[s]},Ot=a=>a?new Date(a).toLocaleString("ar-EG"):"-",we=async a=>{var e,d;if(!!confirm(`\u26A0\uFE0F \u062A\u062D\u0630\u064A\u0631: \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062A\u0641\u0631\u064A\u063A \u0627\u0644\u062C\u062F\u0648\u0644 "${a}"\u061F

\u0647\u0630\u0627 \u0633\u064A\u062D\u0630\u0641 \u062C\u0645\u064A\u0639 \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0645\u0646 \u0627\u0644\u062C\u062F\u0648\u0644 \u0641\u064A SQLite \u0627\u0644\u0645\u062D\u0644\u064A!`)){Ct.value=a;try{const s=await w.post(`/api/sync-monitor/table/${a}/truncate`,{},{withCredentials:!0});s.data.success?(l.success(`\u2705 \u062A\u0645 \u062A\u0641\u0631\u064A\u063A \u0627\u0644\u062C\u062F\u0648\u0644 ${a} \u0628\u0646\u062C\u0627\u062D`,{timeout:3e3}),await F()):l.error("\u0641\u0634\u0644 \u0627\u0644\u062A\u0641\u0631\u064A\u063A: "+(s.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"))}catch(s){console.error("\u0641\u0634\u0644 \u062A\u0641\u0631\u064A\u063A \u0627\u0644\u062C\u062F\u0648\u0644:",s),l.error("\u0641\u0634\u0644 \u0627\u0644\u062A\u0641\u0631\u064A\u063A: "+(((d=(e=s.response)==null?void 0:e.data)==null?void 0:d.error)||s.message))}finally{Ct.value=null}}},_e=a=>{N.value=N.value===a?null:a},Ce=async a=>{var e,d;if(!!confirm(`\u26A0\uFE0F\u26A0\uFE0F\u26A0\uFE0F \u062A\u062D\u0630\u064A\u0631 \u0634\u062F\u064A\u062F: \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u062A\u0645\u0627\u0645\u0627\u064B \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644 "${a}"\u061F

\u0647\u0630\u0627 \u0633\u064A\u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644 \u0628\u0627\u0644\u0643\u0627\u0645\u0644 \u0645\u0646 SQLite \u0627\u0644\u0645\u062D\u0644\u064A!

\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629!`)&&!!confirm(`\u26A0\uFE0F \u062A\u0623\u0643\u064A\u062F \u0646\u0647\u0627\u0626\u064A: \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F 100% \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644 "${a}"\u061F`)){$t.value=a;try{const s=await w.delete(`/api/sync-monitor/table/${a}/delete`,{withCredentials:!0});s.data.success?(l.success(`\u2705 \u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644 ${a} \u0628\u0646\u062C\u0627\u062D`,{timeout:3e3}),await F()):l.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641: "+(s.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"))}catch(s){console.error("\u0641\u0634\u0644 \u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644:",s),l.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641: "+(((d=(e=s.response)==null?void 0:e.data)==null?void 0:d.error)||s.message))}finally{$t.value=null}}};ee(()=>{et(),window.addEventListener("online",Gt),window.addEventListener("offline",Kt),$=Zt(),$!=null&&$.addEventListener?$.addEventListener("change",et):$&&($.onchange=et)}),se(()=>{window.removeEventListener("online",Gt),window.removeEventListener("offline",Kt),$!=null&&$.removeEventListener?$.removeEventListener("change",et):$&&($.onchange=null)});const et=()=>{D.value=Jt()};function Jt(){if(typeof window>"u")return{...W};const{protocol:a,hostname:e,port:d,origin:s}=window.location,i=(e||"").toLowerCase(),p=["localhost","127.0.0.1"].includes(i)||i.startsWith("192.168.")||i.startsWith("10.")||i.endsWith(".local"),u=Zt(),L=typeof(u==null?void 0:u.downlink)=="number"?Number(u.downlink.toFixed(1)):null,q=typeof(u==null?void 0:u.rtt)=="number"?Math.round(u.rtt):null,b=$e(s);return{environmentLabel:p?"\u{1F5A5}\uFE0F \u0628\u064A\u0626\u0629 \u0645\u062D\u0644\u064A\u0629 (Local)":"\u2601\uFE0F \u0627\u062A\u0635\u0627\u0644 \u062E\u0627\u062F\u0645/\u0633\u064A\u0631\u0641\u0631",tip:p?"\u0623\u0646\u062A \u062A\u0639\u0645\u0644 \u0639\u0644\u0649 \u0646\u0633\u062E\u0629 \u0645\u062D\u0644\u064A\u0629\u060C \u062A\u0630\u0643\u0651\u0631 \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0642\u0628\u0644 \u0646\u0634\u0631\u0647\u0627.":"\u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0645\u0628\u0627\u0634\u0631 \u0628\u0627\u0644\u0633\u064A\u0631\u0641\u0631\u060C \u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0633\u062A\u0642\u0631\u0627\u0631 \u0627\u0644\u0634\u0628\u0643\u0629 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629.",host:e||"-",port:d||(a==="https:"?"443":"80"),protocol:a?a.replace(":","").toUpperCase():"-",origin:s||"-",secure:a==="https:",networkType:(u==null?void 0:u.type)||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641",effectiveType:(u==null?void 0:u.effectiveType)||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641",downlink:L,rtt:q,apiBaseUrl:b,lastUpdated:new Date().toLocaleTimeString("ar-SA"),isLocal:p}}function $e(a="-"){var e,d,s,i,p;return typeof window>"u"?a:(d=(e=window==null?void 0:window.axios)==null?void 0:e.defaults)!=null&&d.baseURL?window.axios.defaults.baseURL:(s=window==null?void 0:window.Ziggy)!=null&&s.url?window.Ziggy.url:(i=window==null?void 0:window.Laravel)!=null&&i.baseUrl?window.Laravel.baseUrl:((p=window.location)==null?void 0:p.origin)||a||"-"}function Zt(){return typeof navigator>"u"?null:navigator.connection||navigator.mozConnection||navigator.webkitConnection||null}const Xt=async()=>{G.value=!0;try{const a=await w.get("/api/sync-monitor/tables-comparison",{withCredentials:!0});O.value=a.data.mysql_only||[]}catch(a){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0645\u0642\u0627\u0631\u0646\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644:",a),O.value=[]}finally{G.value=!1}},Se=a=>({info:"\u2139\uFE0F",success:"\u2705",warning:"\u26A0\uFE0F",error:"\u274C"})[a]||"\u{1F4DD}",Le=a=>({pending:"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631",synced:"\u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",failed:"\u0641\u0634\u0644\u062A"})[a]||a,Me=async()=>{if(!ut.value){ut.value=!0,B("info","\u0628\u062F\u0621 \u062A\u062D\u0633\u064A\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A");try{await new Promise(a=>setTimeout(a,3e3)),B("success","\u062A\u0645 \u062A\u062D\u0633\u064A\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0628\u0646\u062C\u0627\u062D"),l.success("\u062A\u0645 \u062A\u062D\u0633\u064A\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0628\u0646\u062C\u0627\u062D")}catch{B("error","\u0641\u0634\u0644 \u062A\u062D\u0633\u064A\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"),l.error("\u0641\u0634\u0644 \u062A\u062D\u0633\u064A\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A")}finally{ut.value=!1}}},Te=async()=>{if(!gt.value){gt.value=!0,B("info","\u0628\u062F\u0621 \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629");try{await new Promise(a=>setTimeout(a,5e3)),B("success","\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u0628\u0646\u062C\u0627\u062D"),l.success("\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u0628\u0646\u062C\u0627\u062D"),await ht()}catch{B("error","\u0641\u0634\u0644 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629"),l.error("\u0641\u0634\u0644 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629")}finally{gt.value=!1}}},je=async()=>{if(!yt.value){yt.value=!0,B("info","\u0628\u062F\u0621 \u0641\u062D\u0635 \u0635\u062D\u0629 \u0627\u0644\u0646\u0638\u0627\u0645");try{const a=[{name:"\u0627\u062A\u0635\u0627\u0644 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",status:"ok"},{name:"\u0645\u0633\u0627\u062D\u0629 \u0627\u0644\u062A\u062E\u0632\u064A\u0646",status:"ok"},{name:"\u0630\u0627\u0643\u0631\u0629 \u0627\u0644\u0646\u0638\u0627\u0645",status:"warning"},{name:"\u0627\u062A\u0635\u0627\u0644 \u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A",status:f.value.online?"ok":"error"}];await new Promise(s=>setTimeout(s,2e3));const e=a.filter(s=>s.status==="error").length,d=a.filter(s=>s.status==="warning").length;xt.value={php_version:"8.2.12",laravel_version:"10.x",database:"SQLite",storage_used:"2.3 GB"},e===0&&d===0?(B("success","\u0627\u0644\u0646\u0638\u0627\u0645 \u0641\u064A \u062D\u0627\u0644\u0629 \u0645\u0645\u062A\u0627\u0632\u0629"),l.success("\u0627\u0644\u0646\u0638\u0627\u0645 \u0641\u064A \u062D\u0627\u0644\u0629 \u0645\u0645\u062A\u0627\u0632\u0629")):(B("warning",`\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 ${e} \u0623\u062E\u0637\u0627\u0621 \u0648 ${d} \u062A\u062D\u0630\u064A\u0631\u0627\u062A`),l.warning(`\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 ${e} \u0623\u062E\u0637\u0627\u0621 \u0648 ${d} \u062A\u062D\u0630\u064A\u0631\u0627\u062A`))}catch{B("error","\u0641\u0634\u0644 \u0641\u062D\u0635 \u0635\u062D\u0629 \u0627\u0644\u0646\u0638\u0627\u0645"),l.error("\u0641\u0634\u0644 \u0641\u062D\u0635 \u0635\u062D\u0629 \u0627\u0644\u0646\u0638\u0627\u0645")}finally{yt.value=!1}}},B=(a,e)=>{ot.value.unshift({type:a,message:e,timestamp:new Date().toISOString()}),ot.value.length>50&&(ot.value=ot.value.slice(0,50))},Ut=async()=>{vt.value=!0;try{const e=(await w.get("/api/sync-monitor/tables",{withCredentials:!0})).data.tables||[],d=e.reduce((i,p)=>i+(p.count||0),0);let s="\u063A\u064A\u0631 \u0645\u062D\u062F\u062F";try{const p=require("fs").statSync("database/database.sqlite");s=Be(p.size)}catch{s="\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"}pt.value={type:"SQLite",version:"3.x",path:"database/database.sqlite",total_tables:e.length,total_records:d,size:s},B("info","\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A")}catch(a){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A:",a),B("error","\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"),pt.value={type:"SQLite",version:"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F",path:"database/database.sqlite",total_tables:g.value.length,total_records:"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F",size:"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"}}finally{vt.value=!1}},Be=a=>{if(a===0)return"0 Bytes";const e=1024,d=["Bytes","KB","MB","GB","TB"],s=Math.floor(Math.log(a)/Math.log(e));return parseFloat((a/Math.pow(e,s)).toFixed(2))+" "+d[s]},ze=async a=>{try{V.value=a;const e=await w.get(`/api/sync-monitor/backup-content?file=${encodeURIComponent(a)}`,{withCredentials:!0});e.data.success?(dt.value=e.data.tables||[],C.value=[]):l.error("\u0641\u0634\u0644 \u0641\u064A \u0642\u0631\u0627\u0621\u0629 \u0645\u062D\u062A\u0648\u0649 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629")}catch(e){console.error("\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629:",e),l.error("\u0641\u0634\u0644 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629")}},De=async()=>{var e,d;if(C.value.length===0){l.warning("\u064A\u0631\u062C\u0649 \u062A\u062D\u062F\u064A\u062F \u062C\u062F\u0648\u0644 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644");return}const a=`\u0647\u0644 \u062A\u0631\u064A\u062F \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 \u0645\u0646 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629\uFF1F

\u{1F4E6} \u0627\u0644\u0645\u0644\u0641: ${V.value}
\u{1F4CB} \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 (${C.value.length}):
${C.value.join(", ")}

\u26A0\uFE0F \u0633\u064A\u062A\u0645:
- \u0627\u0633\u062A\u0628\u062F\u0627\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062D\u0627\u0644\u064A\u0629 \u0628\u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629
- \u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u062A\u0644\u0642\u0627\u0626\u064A\u0627\u064B (\u0623\u0631\u0642\u0627\u0645 + \u0646\u0635\u0648\u0635)

\u0647\u0644 \u062A\u0631\u064A\u062F \u0627\u0644\u0645\u062A\u0627\u0628\u0639\u0629\u061F`;if(!!confirm(a))try{const s=await w.post("/api/sync-monitor/restore-selected",{backup_file:V.value,tables:C.value.join(",")},{withCredentials:!0});s.data.success?(l.success(`\u2705 \u062A\u0645\u062A \u0627\u0633\u062A\u0639\u0627\u062F\u0629 ${C.value.length} \u062C\u062F\u0648\u0644 \u0628\u0646\u062C\u0627\u062D!`),R.value=!1,C.value=[],await F(),await Et()):l.error(`\u274C \u0641\u0634\u0644\u062A \u0627\u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629: ${s.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"}`)}catch(s){console.error("\u0641\u0634\u0644\u062A \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629:",s),l.error(`\u0641\u0634\u0644\u062A \u0627\u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629: ${((d=(e=s.response)==null?void 0:e.data)==null?void 0:d.error)||s.message}`)}};async function St(){ct.value=!0;try{const a=await w.get("/api/sync-monitor/migrations",{params:{show_executed:Bt.value},withCredentials:!0});jt.value=a.data.migrations||[],zt.value={total_executed:a.data.total_executed||0,total_pending:a.data.total_pending||0}}catch(a){console.error("Error loading migrations:",a),l.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646\u0632",{timeout:3e3,position:"bottom-right",rtl:!0})}finally{ct.value=!1}}async function Ie(a){try{const e=await w.post("/api/sync-monitor/check-migration",{migration_name:a},{withCredentials:!0});return e.data.success&&e.data.has_data?{safe:!1,warning:!0,tables:e.data.tables_with_data,total_records:e.data.total_records,affected_tables:e.data.affected_tables}:{safe:!0}}catch(e){return console.error("Error checking migration safety:",e),{safe:!0}}}async function Yt(a,e=!1){var d,s,i,p;if(!e){const u=await Ie(a);if(!u.safe&&u.warning){const L=u.tables.map(b=>`- ${b.name}: ${b.count} \u0633\u062C\u0644`).join(`
`),q=`\u26A0\uFE0F \u062A\u062D\u0630\u064A\u0631: \u064A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u0641\u064A \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062A\u0623\u062B\u0631\u0629!

\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0633\u062C\u0644\u0627\u062A: ${u.total_records}

\u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062A\u0623\u062B\u0631\u0629:
${L}

\u062A\u0646\u0641\u064A\u0630 \u0647\u0630\u0627 \u0627\u0644\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646 \u0642\u062F \u064A\u062D\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A!

\u0647\u0644 \u062A\u0631\u064A\u062F \u0627\u0644\u0645\u062A\u0627\u0628\u0639\u0629 \u0639\u0644\u0649 \u0645\u0633\u0624\u0648\u0644\u064A\u062A\u0643 \u0627\u0644\u062E\u0627\u0635\u0629\u061F`;if(!confirm(q)){M.value={migration:a,tables:u.tables,total_records:u.total_records,affected_tables:u.affected_tables};return}}}wt.value=a,tt.value="",M.value=null;try{l.info("\u062C\u0627\u0631\u064A \u062A\u0646\u0641\u064A\u0630 \u0627\u0644\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646...",{timeout:2e3,position:"bottom-right",rtl:!0});const u=await w.post("/api/sync-monitor/run-migration",{migration_name:a,force:e},{withCredentials:!0});u.data.success?(l.success("\u062A\u0645 \u062A\u0646\u0641\u064A\u0630 \u0627\u0644\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646 \u0628\u0646\u062C\u0627\u062D",{timeout:3e3,position:"bottom-right",rtl:!0}),tt.value=u.data.output||"",await St()):u.data.warning?(M.value={migration:a,table:u.data.table,record_count:u.data.record_count,message:u.data.message},l.warning(u.data.error||"\u064A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u0641\u064A \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062A\u0623\u062B\u0631\u0629",{timeout:5e3,position:"bottom-right",rtl:!0})):(l.error(u.data.error||"\u0641\u0634\u0644 \u062A\u0646\u0641\u064A\u0630 \u0627\u0644\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646",{timeout:3e3,position:"bottom-right",rtl:!0}),tt.value=u.data.output||u.data.error||"")}catch(u){console.error("Error running migration:",u),(s=(d=u.response)==null?void 0:d.data)!=null&&s.warning?(M.value={migration:a,table:u.response.data.table,record_count:u.response.data.record_count,message:u.response.data.message},l.warning(u.response.data.error||"\u064A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u0641\u064A \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062A\u0623\u062B\u0631\u0629",{timeout:5e3,position:"bottom-right",rtl:!0})):(l.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u0646\u0641\u064A\u0630 \u0627\u0644\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646",{timeout:3e3,position:"bottom-right",rtl:!0}),tt.value=((p=(i=u.response)==null?void 0:i.data)==null?void 0:p.error)||u.message||"")}finally{wt.value=null}}function qe(a){Yt(a,!0)}return(a,e)=>(r(),o(_,null,[Z(ae(Ve),{title:"\u0645\u0631\u0627\u0642\u0628\u0629 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629"}),Z(He,null,{header:st(()=>[t("div",ps,[e[32]||(e[32]=t("h2",{class:"font-semibold text-xl dark:text-gray-200 text-gray-800"}," \u{1F504} \u0645\u0631\u0627\u0642\u0628\u0629 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0648\u0627\u0644\u0640 Offline Mode ",-1)),t("div",vs,[t("button",{onClick:ft,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",disabled:at.value},[at.value?(r(),o("span",hs,"\u23F3 \u062C\u0627\u0631\u064A...")):(r(),o("span",fs,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,bs),t("button",{onClick:Ft,class:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",disabled:!f.value.online||X.value,title:"\u0623\u0648\u0644\u0627\u064B: \u0633\u062D\u0628 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 \u0627\u0644\u0633\u064A\u0631\u0641\u0631\u060C \u062B\u0627\u0646\u064A\u0627\u064B: \u0631\u0641\u0639 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062D\u0644\u064A\u0629 \u0644\u0644\u0633\u064A\u0631\u0641\u0631"},[X.value?(r(),o("span",ws,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...")):(r(),o("span",ks,"\u{1F504} \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0643\u0644"))],8,ms),t("button",{onClick:Wt,class:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600"}," \u{1F5D1}\uFE0F \u0645\u0633\u062D \u0627\u0644\u0643\u0644 ")])])]),default:st(()=>{var d;return[t("div",_s,[t("div",Cs,[t("div",$s,[t("div",Ss,[e[33]||(e[33]=t("div",null,[t("h3",{class:"text-lg font-semibold dark:text-gray-200"},"\u{1F5C4}\uFE0F \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0648\u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629"),t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0634\u0627\u0645\u0644\u0629 \u0639\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0648\u0627\u0644\u062D\u0627\u0644\u0629 \u0627\u0644\u062D\u0627\u0644\u064A\u0629")],-1)),t("button",{onClick:Ut,disabled:vt.value,class:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 disabled:opacity-50"},[vt.value?(r(),o("span",Ts,"\u23F3 \u062C\u0627\u0631\u064A...")):(r(),o("span",Ms,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,Ls)]),vt.value?(r(),o("div",js,[...e[34]||(e[34]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"},null,-1),t("p",{class:"mt-4 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...",-1)])])):(r(),o("div",Bs,[t("div",zs,[e[38]||(e[38]=t("h4",{class:"text-md font-semibold mb-3 text-gray-900 dark:text-gray-100"},"\u{1F4CA} \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",-1)),t("div",Ds,[t("div",Is,[e[35]||(e[35]=t("span",{class:"text-gray-600 dark:text-gray-400"},"\u0627\u0644\u0646\u0648\u0639:",-1)),t("span",qs,n(pt.value.type||"SQLite"),1)]),t("div",Es,[e[36]||(e[36]=t("span",{class:"text-gray-600 dark:text-gray-400"},"\u0627\u0644\u062D\u062C\u0645:",-1)),t("span",Os,n(pt.value.size||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),1)]),t("div",Us,[e[37]||(e[37]=t("span",{class:"text-gray-600 dark:text-gray-400"},"\u0627\u0644\u062C\u062F\u0627\u0648\u0644:",-1)),t("span",Qs,n(pt.value.total_tables||g.value.length),1)])])]),t("div",Vs,[e[42]||(e[42]=t("h4",{class:"text-md font-semibold mb-3 text-blue-900 dark:text-blue-100"},"\u{1F504} \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1)),t("div",As,[t("div",Hs,[e[39]||(e[39]=t("span",{class:"text-blue-700 dark:text-blue-300"},"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631:",-1)),t("span",Fs,n(k.value.pendingCount),1)]),t("div",Ps,[e[40]||(e[40]=t("span",{class:"text-blue-700 dark:text-blue-300"},"\u0622\u062E\u0631 \u0645\u0632\u0627\u0645\u0646\u0629:",-1)),t("span",Ws,n(de.value),1)]),t("div",Rs,[e[41]||(e[41]=t("span",{class:"text-blue-700 dark:text-blue-300"},"\u0627\u0644\u062D\u0627\u0644\u0629:",-1)),t("span",{class:m(["font-bold",f.value.online?"text-green-600":"text-red-600"])},n(f.value.online?"\u0645\u062A\u0635\u0644":"\u063A\u064A\u0631 \u0645\u062A\u0635\u0644"),3)])])]),t("div",Gs,[e[44]||(e[44]=t("h4",{class:"text-md font-semibold mb-3 text-amber-900 dark:text-amber-100"},"\u26A0\uFE0F \u0641\u064A MySQL \u0641\u0642\u0637",-1)),t("div",Ks,[t("div",Ns,[e[43]||(e[43]=t("span",{class:"text-amber-700 dark:text-amber-300"},"\u0639\u062F\u062F \u0627\u0644\u062C\u062F\u0627\u0648\u0644:",-1)),t("span",Js,n(O.value.length),1)])])]),t("div",Zs,[e[45]||(e[45]=t("h4",{class:"text-md font-semibold mb-3 text-purple-900 dark:text-purple-100"},"\u26A1 \u0625\u062C\u0631\u0627\u0621\u0627\u062A \u0633\u0631\u064A\u0639\u0629",-1)),t("div",Xs,[t("button",{onClick:Ft,disabled:!f.value.online||X.value,class:"w-full px-3 py-2 bg-green-600 text-white text-xs rounded hover:bg-green-700 disabled:opacity-50",title:"\u0623\u0648\u0644\u0627\u064B: \u0633\u062D\u0628 \u0645\u0646 \u0627\u0644\u0633\u064A\u0631\u0641\u0631\u060C \u062B\u0627\u0646\u064A\u0627\u064B: \u0631\u0641\u0639 \u0627\u0644\u0645\u062D\u0644\u064A"}," \u{1F504} \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0643\u0644 ",8,Ys),t("button",{onClick:Wt,class:"w-full px-3 py-2 bg-red-600 text-white text-xs rounded hover:bg-red-700"}," \u{1F5D1}\uFE0F \u0645\u0633\u062D \u0627\u0644\u0643\u0644 ")])])]))]),f.value.online?x("",!0):(r(),o("div",ta,[...e[46]||(e[46]=[t("div",{class:"flex items-center"},[t("div",{class:"flex-shrink-0"},[t("span",{class:"text-3xl"},"\u26A0\uFE0F")]),t("div",{class:"mr-3"},[t("p",{class:"text-lg font-medium text-yellow-800 dark:text-yellow-200"}," \u0623\u0646\u062A \u062D\u0627\u0644\u064A\u0627\u064B \u0641\u064A \u0648\u0636\u0639 Offline "),t("p",{class:"text-sm text-yellow-700 dark:text-yellow-300"}," \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0627\u0644\u062A\u064A \u062A\u062C\u0631\u064A\u0647\u0627 \u0633\u064A\u062A\u0645 \u062D\u0641\u0638\u0647\u0627 \u0645\u062D\u0644\u064A\u0627\u064B \u0648\u0645\u0632\u0627\u0645\u0646\u062A\u0647\u0627 \u062A\u0644\u0642\u0627\u0626\u064A\u0627\u064B \u0639\u0646\u062F \u0639\u0648\u062F\u0629 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 ")])],-1)])])),t("div",ea,[t("div",sa,[t("div",aa,[t("h3",ra," \u{1F4CB} \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 ("+n(g.value.length)+") ",1),t("button",{onClick:F,class:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700"}," \u{1F504} \u062A\u062D\u062F\u064A\u062B ")])]),t("div",oa,[t("table",na,[e[48]||(e[48]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u062C\u062F\u0648\u0644"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u0633\u062C\u0644\u0627\u062A"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u0645\u0635\u062F\u0631"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A")])],-1)),t("tbody",la,[(r(!0),o(_,null,S(g.value.slice(0,_t.value?g.value.length:15),s=>(r(),o("tr",{key:s.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",da,n(s.name),1),t("td",ia,n(s.count.toLocaleString()),1),t("td",ca,[t("span",{class:m(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.connection==="sync_sqlite"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"])},n(s.connection==="sync_sqlite"?"SQLite \u0645\u062D\u0644\u064A":"MySQL \u062E\u0627\u062F\u0645"),3)])]))),128)),g.value.length===0?(r(),o("tr",ua,[...e[47]||(e[47]=[t("td",{colspan:"4",class:"px-6 py-4 text-center text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u062C\u062F\u0627\u0648\u0644 \u0645\u062A\u0627\u062D\u0629 ",-1)])])):x("",!0)])])]),g.value.length>15?(r(),o("div",ga,[t("button",{onClick:e[0]||(e[0]=s=>_t.value=!_t.value),class:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400"},n(_t.value?"\u0625\u062E\u0641\u0627\u0621 \u0627\u0644\u062C\u062F\u0627\u0648\u0644":"\u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0627\u0644\u062C\u062F\u0627\u0648\u0644")+" ("+n(g.value.length)+") ",1)])):x("",!0)]),t("div",ya,[t("div",xa,[t("div",pa,[t("h3",va," \u26A0\uFE0F \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0629 \u0641\u064A MySQL \u0648\u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629 \u0641\u064A SQLite ("+n(O.value.length)+") ",1),t("button",{onClick:Xt,disabled:G.value,class:"px-4 py-2 bg-amber-600 text-white rounded hover:bg-amber-700 disabled:opacity-50"},[G.value?(r(),o("span",ha,"\u23F3 \u062C\u0627\u0631\u064A...")):(r(),o("span",fa,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,ba)]),e[49]||(e[49]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"}," \u0647\u0630\u0647 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0645\u0648\u062C\u0648\u062F\u0629 \u0641\u064A MySQL \u0648\u0644\u0627 \u062A\u0648\u062C\u062F \u0641\u064A SQLite \u0627\u0644\u0645\u062D\u0644\u064A ",-1))]),t("div",ma,[t("table",ka,[e[51]||(e[51]=t("thead",{class:"bg-amber-50 dark:bg-amber-900/30"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-amber-800 dark:text-amber-200 uppercase"},"\u0627\u0644\u062C\u062F\u0648\u0644"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-amber-800 dark:text-amber-200 uppercase"},"\u0639\u062F\u062F \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0641\u064A MySQL")])],-1)),t("tbody",wa,[(r(!0),o(_,null,S(O.value,s=>(r(),o("tr",{key:s.name,class:"hover:bg-amber-50/50 dark:hover:bg-amber-900/10"},[t("td",_a,n(s.name),1),t("td",Ca,n((s.count||0).toLocaleString()),1)]))),128)),O.value.length===0&&!G.value?(r(),o("tr",$a,[...e[50]||(e[50]=[t("td",{colspan:"2",class:"px-6 py-8 text-center text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u062C\u062F\u0627\u0648\u0644 - \u062C\u0645\u064A\u0639 \u062C\u062F\u0627\u0648\u0644 MySQL \u0645\u0648\u062C\u0648\u062F\u0629 \u0641\u064A SQLite ",-1)])])):x("",!0)])])])]),t("div",Sa,[t("div",La,[t("div",Ma,[t("button",{onClick:e[1]||(e[1]=s=>H.value="operations"),class:m(["px-6 py-3 text-sm font-medium border-b-2 transition-colors",H.value==="operations"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"])}," \u{1F4CB} \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A ",2),t("button",{onClick:e[2]||(e[2]=s=>H.value="system"),class:m(["px-6 py-3 text-sm font-medium border-b-2 transition-colors",H.value==="system"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"])}," \u{1F527} \u0627\u0644\u0646\u0638\u0627\u0645 ",2),t("button",{onClick:e[3]||(e[3]=s=>H.value="migrations"),class:m(["px-6 py-3 text-sm font-medium border-b-2 transition-colors",H.value==="migrations"?"border-orange-500 text-orange-600 dark:text-orange-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"])}," \u{1F4E6} \u0627\u0644\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646\u0632 ",2)])]),H.value==="operations"?(r(),o("div",Ta,[t("div",ja,[t("h3",Ba," \u{1F4CB} \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A ("+n(h.value.length)+") ",1),t("div",za,[lt(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>T.value=s),class:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-gray-200"},[...e[52]||(e[52]=[t("option",{value:"all"},"\u0627\u0644\u0643\u0644",-1),t("option",{value:"pending"},"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631",-1),t("option",{value:"synced"},"\u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1),t("option",{value:"failed"},"\u0641\u0634\u0644\u062A",-1)])],512),[[Lt,T.value]])])]),t("div",Da,[t("table",Ia,[e[54]||(e[54]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," # "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0639\u0645\u0644\u064A\u0629 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u062A\u0627\u0631\u064A\u062E "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u062D\u0627\u0644\u0629 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A ")])],-1)),t("tbody",qa,[(r(!0),o(_,null,S(nt.value,(s,i)=>(r(),o("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",Ea,n(i+1),1),t("td",Oa,[t("div",Ua,n(s.operation),1),t("div",Qa,n(s.details||"\u0628\u062F\u0648\u0646 \u062A\u0641\u0627\u0635\u064A\u0644"),1)]),t("td",Va,n(Ot(s.created_at)),1),t("td",Aa,[t("span",{class:m(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",{"bg-yellow-100 text-yellow-800":s.status==="pending","bg-green-100 text-green-800":s.status==="synced","bg-red-100 text-red-800":s.status==="failed"}])},n(Le(s.status)),3)]),t("td",Ha,[s.status==="pending"&&f.value.online?(r(),o("button",{key:0,onClick:p=>It(s),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300"}," \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 ",8,Fa)):x("",!0),t("button",{onClick:p=>Pt(s),class:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300"}," \u062D\u0630\u0641 ",8,Pa)])]))),128)),nt.value.length===0?(r(),o("tr",Wa,[...e[53]||(e[53]=[t("td",{colspan:"5",class:"px-6 py-4 text-center text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u0639\u0645\u0644\u064A\u0627\u062A ",-1)])])):x("",!0)])])])])):x("",!0),H.value==="migrations"?(r(),o("div",Ra,[t("div",Ga,[e[55]||(e[55]=t("div",null,[t("h3",{class:"text-xl font-semibold dark:text-gray-200 mb-2"}," \u{1F4E6} \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646\u0632 "),t("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," \u062A\u0646\u0641\u064A\u0630 \u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646 \u0645\u062D\u062F\u062F \u0645\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A ")],-1)),t("div",Ka,[t("button",{onClick:St,disabled:ct.value,class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"},[ct.value?(r(),o("span",Za,"\u23F3 \u062C\u0627\u0631\u064A...")):(r(),o("span",Ja,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,Na)])]),t("div",Xa,[t("div",Ya,[t("div",tr,n(zt.value.total_pending||0),1),e[56]||(e[56]=t("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646\u0632 \u0642\u064A\u062F \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631",-1))]),t("div",er,[t("div",sr,n(zt.value.total_executed||0),1),e[57]||(e[57]=t("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646\u0632 \u0645\u0646\u0641\u0630\u0629",-1))])]),t("div",ar,[t("div",rr,[lt(t("input",{type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=s=>Bt.value=s),onChange:St,id:"showExecuted",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,544),[[te,Bt.value]]),e[58]||(e[58]=t("label",{for:"showExecuted",class:"mr-2 text-sm text-gray-700 dark:text-gray-300"}," \u0639\u0631\u0636 \u0627\u0644\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646\u0632 \u0627\u0644\u0645\u0646\u0641\u0630\u0629 ",-1))])]),ct.value?(r(),o("div",or,[...e[59]||(e[59]=[t("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto"},null,-1),t("p",{class:"mt-4 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646\u0632...",-1)])])):(r(),o("div",nr,[t("div",lr,[t("table",dr,[e[61]||(e[61]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"\u0627\u0633\u0645 \u0627\u0644\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"\u0627\u0633\u0645 \u0627\u0644\u0645\u0644\u0641"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A")])],-1)),t("tbody",ir,[(r(!0),o(_,null,S(jt.value,s=>(r(),o("tr",{key:s.file,class:m(["hover:bg-gray-50 dark:hover:bg-gray-700",{"opacity-60":s.executed}])},[t("td",cr,[t("div",ur,[P(n(s.name)+" ",1),s.executed?(r(),o("span",gr," \u2713 \u0645\u0646\u0641\u0630 ")):x("",!0)])]),t("td",yr,n(s.file),1),t("td",xr,n(s.date),1),t("td",pr,[s.executed?(r(),o("span",hr," \u062A\u0645 \u0627\u0644\u062A\u0646\u0641\u064A\u0630 ")):(r(),o("button",{key:0,onClick:i=>Yt(s.name),disabled:wt.value===s.name,class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed"},[wt.value!==s.name?(r(),o("span",br,"\u25B6\uFE0F \u062A\u0646\u0641\u064A\u0630")):(r(),o("span",fr,"\u23F3 \u062C\u0627\u0631\u064A..."))],8,vr))])],2))),128)),jt.value.length===0?(r(),o("tr",mr,[...e[60]||(e[60]=[t("td",{colspan:"4",class:"px-6 py-8 text-center text-gray-500 dark:text-gray-400"},[t("div",{class:"text-5xl mb-2"},"\u{1F4ED}"),t("p",{class:"text-lg"},"\u0644\u0627 \u062A\u0648\u062C\u062F \u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646\u0632")],-1)])])):x("",!0)])])])])),M.value?(r(),o("div",kr,[t("div",wr,[e[65]||(e[65]=t("div",{class:"flex-shrink-0"},[t("span",{class:"text-2xl"},"\u26A0\uFE0F")],-1)),t("div",_r,[e[63]||(e[63]=t("h4",{class:"text-lg font-semibold text-yellow-800 dark:text-yellow-200 mb-2"}," \u062A\u062D\u0630\u064A\u0631: \u064A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u0641\u064A \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062A\u0623\u062B\u0631\u0629 ",-1)),e[64]||(e[64]=t("p",{class:"text-sm text-yellow-700 dark:text-yellow-300 mb-3"}," \u062A\u0646\u0641\u064A\u0630 \u0647\u0630\u0627 \u0627\u0644\u0645\u0627\u064A\u062C\u0631\u064A\u0634\u0646 \u0642\u062F \u064A\u062D\u0630\u0641 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0629! ",-1)),M.value.tables?(r(),o("div",Cr,[t("p",$r," \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062A\u0623\u062B\u0631\u0629 ("+n(M.value.total_records)+" \u0633\u062C\u0644): ",1),t("ul",Sr,[(r(!0),o(_,null,S(M.value.tables,s=>(r(),o("li",{key:s.name},n(s.name)+": "+n(s.count)+" \u0633\u062C\u0644 ",1))),128))])])):M.value.table?(r(),o("div",Lr,[t("p",Mr,[e[62]||(e[62]=P(" \u062C\u062F\u0648\u0644 ",-1)),t("strong",null,n(M.value.table),1),P(": "+n(M.value.record_count)+" \u0633\u062C\u0644 ",1)])])):x("",!0),t("div",Tr,[t("button",{onClick:e[6]||(e[6]=s=>qe(M.value.migration)),class:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 text-sm font-medium"}," \u26A0\uFE0F \u062A\u0646\u0641\u064A\u0630 \u0631\u063A\u0645 \u0627\u0644\u062A\u062D\u0630\u064A\u0631 (\u062D\u0630\u0641 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A) "),t("button",{onClick:e[7]||(e[7]=s=>M.value=null),class:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 text-sm"}," \u0625\u0644\u063A\u0627\u0621 ")])])])])):x("",!0),tt.value?(r(),o("div",jr,[e[66]||(e[66]=t("div",{class:"p-4 border-b border-gray-200 dark:border-gray-600"},[t("h4",{class:"text-lg font-semibold dark:text-gray-200"},"\u{1F4CB} \u0646\u062A\u064A\u062C\u0629 \u0627\u0644\u062A\u0646\u0641\u064A\u0630:")],-1)),t("div",Br,[t("pre",zr,n(tt.value),1),t("button",{onClick:e[8]||(e[8]=s=>tt.value=""),class:"mt-4 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 text-sm"}," \u0625\u063A\u0644\u0627\u0642 ")])])):x("",!0)])):x("",!0),H.value==="system"?(r(),o("div",Dr,[t("div",Ir,[t("div",qr,[e[71]||(e[71]=t("h4",{class:"text-lg font-semibold mb-4 dark:text-gray-200"},"\u{1F5A5}\uFE0F \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0646\u0638\u0627\u0645",-1)),t("div",Er,[t("div",Or,[e[67]||(e[67]=t("span",{class:"text-gray-600 dark:text-gray-400"},"\u0625\u0635\u062F\u0627\u0631 PHP:",-1)),t("span",Ur,n(xt.value.php_version||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)]),t("div",Qr,[e[68]||(e[68]=t("span",{class:"text-gray-600 dark:text-gray-400"},"\u0625\u0635\u062F\u0627\u0631 Laravel:",-1)),t("span",Vr,n(xt.value.laravel_version||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)]),t("div",Ar,[e[69]||(e[69]=t("span",{class:"text-gray-600 dark:text-gray-400"},"\u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A:",-1)),t("span",Hr,n(xt.value.database||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)]),t("div",Fr,[e[70]||(e[70]=t("span",{class:"text-gray-600 dark:text-gray-400"},"\u0645\u0633\u0627\u062D\u0629 \u0627\u0644\u062A\u062E\u0632\u064A\u0646:",-1)),t("span",Pr,n(xt.value.storage_used||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)])])]),t("div",Wr,[e[72]||(e[72]=t("h4",{class:"text-lg font-semibold mb-4 dark:text-gray-200"},"\u{1F527} \u0623\u062F\u0648\u0627\u062A \u0627\u0644\u0646\u0638\u0627\u0645",-1)),t("div",Rr,[t("button",{onClick:pe,disabled:Ht.value,class:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50"},[Ht.value?(r(),o("span",Nr,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0633\u062D...")):(r(),o("span",Kr,"\u{1F9F9} \u0645\u0633\u062D \u0627\u0644\u0640 Cache"))],8,Gr),t("button",{onClick:Me,disabled:ut.value,class:"w-full px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50"},[ut.value?(r(),o("span",Xr,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0633\u064A\u0646...")):(r(),o("span",Zr,"\u26A1 \u062A\u062D\u0633\u064A\u0646 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"))],8,Jr),t("button",{onClick:Te,disabled:gt.value,class:"w-full px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:opacity-50"},[gt.value?(r(),o("span",eo,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0646\u0633\u062E...")):(r(),o("span",to,"\u{1F4BE} \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629"))],8,Yr),t("button",{onClick:je,disabled:yt.value,class:"w-full px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50"},[yt.value?(r(),o("span",ro,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0641\u062D\u0635...")):(r(),o("span",ao,"\u{1F3E5} \u0641\u062D\u0635 \u0635\u062D\u0629 \u0627\u0644\u0646\u0638\u0627\u0645"))],8,so)])])]),t("div",oo,[e[73]||(e[73]=t("div",{class:"p-4 border-b border-gray-200 dark:border-gray-600"},[t("h4",{class:"text-lg font-semibold dark:text-gray-200"},"\u{1F4CB} \u0633\u062C\u0644 \u0639\u0645\u0644\u064A\u0627\u062A \u0627\u0644\u0646\u0638\u0627\u0645")],-1)),t("div",no,[ot.value.length===0?(r(),o("div",lo," \u0644\u0627 \u062A\u0648\u062C\u062F \u0639\u0645\u0644\u064A\u0627\u062A \u0646\u0638\u0627\u0645 \u0628\u0639\u062F ")):(r(),o("div",io,[(r(!0),o(_,null,S(ot.value,(s,i)=>(r(),o("div",{key:i,class:"flex items-start space-x-3 text-sm"},[t("span",{class:m(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",{"bg-blue-100 text-blue-800":s.type==="info","bg-green-100 text-green-800":s.type==="success","bg-yellow-100 text-yellow-800":s.type==="warning","bg-red-100 text-red-800":s.type==="error"}])},n(Se(s.type)),3),t("div",co,[t("p",uo,n(s.message),1),t("p",go,n(Ot(s.timestamp)),1)])]))),128))]))])])])):x("",!0)]),t("div",yo,[t("div",xo,[t("div",po,[t("h3",vo," \u{1F4CB} \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A ("+n(h.value.length)+") ",1),t("div",bo,[lt(t("select",{"onUpdate:modelValue":e[9]||(e[9]=s=>T.value=s),class:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-gray-200"},[...e[74]||(e[74]=[t("option",{value:"all"},"\u0627\u0644\u0643\u0644",-1),t("option",{value:"pending"},"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631",-1),t("option",{value:"synced"},"\u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1),t("option",{value:"failed"},"\u0641\u0634\u0644\u062A",-1)])],512),[[Lt,T.value]])])])]),t("div",fo,[t("table",ho,[e[83]||(e[83]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," # "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0646\u0648\u0639 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0639\u0645\u0644\u064A\u0629 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0627\u062A "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0648\u0642\u062A "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u062D\u0627\u0644\u0629 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A ")])],-1)),t("tbody",mo,[nt.value.length===0?(r(),o("tr",ko,[t("td",wo,[e[75]||(e[75]=t("div",{class:"text-5xl mb-2"},"\u{1F4ED}",-1)),t("p",_o,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0639\u0645\u0644\u064A\u0627\u062A "+n(ne.value),1)])])):x("",!0),(r(!0),o(_,null,S(nt.value,(s,i)=>(r(),o("tr",{key:s.id,class:m(["hover:bg-gray-50 dark:hover:bg-gray-700",{"bg-yellow-50 dark:bg-yellow-900":!s.synced&&s.retries<3,"bg-red-50 dark:bg-red-900":s.retries>=3,"bg-green-50 dark:bg-green-900":s.synced}])},[t("td",Co,n(i+1),1),t("td",$o,[t("span",{class:m(["px-2 py-1 text-xs font-semibold rounded-full",ge(s.storeName)])},n(qt(s.storeName)),3)]),t("td",So,[t("span",{class:m(["px-2 py-1 text-xs font-semibold rounded-full",ye(s.action)])},n(Rt(s.action)),3)]),t("td",Lo,[t("button",{onClick:p=>ie(s),class:"text-blue-600 hover:text-blue-800 dark:text-blue-400 text-sm underline"}," \u0639\u0631\u0636 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644 ",8,Mo)]),t("td",To,[t("div",jo,[t("span",null,n(s.retries||0),1),e[76]||(e[76]=t("span",{class:"text-xs text-gray-500"},"/ 3",-1)),s.retries>=3?(r(),o("div",Bo,"\u26A0\uFE0F")):x("",!0)])]),t("td",zo,n(xe(s.timestamp)),1),t("td",Do,[s.synced?(r(),o("span",Io,[...e[77]||(e[77]=[t("svg",{class:"w-5 h-5 ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),P(" \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 ",-1)])])):s.retries>=3?(r(),o("span",qo,[...e[78]||(e[78]=[t("svg",{class:"w-5 h-5 ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1),P(" \u0641\u0634\u0644\u062A ",-1)])])):(r(),o("span",Eo,[...e[79]||(e[79]=[t("svg",{class:"w-5 h-5 ml-1 animate-spin",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),P(" \u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631 ",-1)])]))]),t("td",Oo,[t("div",Uo,[!s.synced&&f.value.online?(r(),o("button",{key:0,onClick:p=>It(s),class:"text-green-600 hover:text-green-900 dark:text-green-400",disabled:rt.value.has(s.id),title:"\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629"},[(r(),o("svg",{class:m(["w-5 h-5",{"animate-spin":rt.value.has(s.id)}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[80]||(e[80]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])],2))],8,Qo)):x("",!0),t("button",{onClick:p=>Pt(s),class:"text-red-600 hover:text-red-900 dark:text-red-400",title:"\u062D\u0630\u0641"},[...e[81]||(e[81]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Vo),s.error?(r(),o("button",{key:1,onClick:p=>ce(s),class:"text-orange-600 hover:text-orange-900 dark:text-orange-400",title:"\u0639\u0631\u0636 \u0627\u0644\u062E\u0637\u0623"},[...e[82]||(e[82]=[t("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)])],8,Ao)):x("",!0)])])],2))),128))])])]),h.value.length>A.value?(r(),o("div",Ho,[t("div",Fo," \u0639\u0631\u0636 "+n((E.value-1)*A.value+1)+" \u0625\u0644\u0649 "+n(Math.min(E.value*A.value,nt.value.length))+" \u0645\u0646 "+n(nt.value.length),1),t("div",Po,[t("button",{onClick:e[10]||(e[10]=s=>E.value--),disabled:E.value===1,class:"px-3 py-1 border rounded disabled:opacity-50 dark:text-gray-200 dark:border-gray-600"}," \u0627\u0644\u0633\u0627\u0628\u0642 ",8,Wo),t("button",{onClick:e[11]||(e[11]=s=>E.value++),disabled:E.value>=le.value,class:"px-3 py-1 border rounded disabled:opacity-50 dark:text-gray-200 dark:border-gray-600"}," \u0627\u0644\u062A\u0627\u0644\u064A ",8,Ro)])])):x("",!0)]),t("div",Go,[e[87]||(e[87]=t("h3",{class:"text-lg font-semibold mb-4 dark:text-gray-200"},"\u{1F4BE} \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u062A\u062E\u0632\u064A\u0646 \u0627\u0644\u0645\u062D\u0644\u064A",-1)),t("div",Ko,[t("div",No,[e[84]||(e[84]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",-1)),t("p",Jo,n(Q.value.cars),1)]),t("div",Zo,[e[85]||(e[85]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0627\u0644\u0639\u0642\u0648\u062F \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",-1)),t("p",Xo,n(Q.value.contracts),1)]),t("div",Yo,[e[86]||(e[86]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062A \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",-1)),t("p",tn,n(Q.value.transactions),1)])])]),t("div",en,[t("div",sn,[t("div",an,[t("h3",rn," \u{1F4CA} \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 ("+n(g.value.length)+") ",1),t("div",on,[lt(t("select",{"onUpdate:modelValue":e[12]||(e[12]=s=>K.value=s),onChange:F,class:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-gray-200 text-sm"},[...e[88]||(e[88]=[t("option",{value:"auto"},"\u{1F504} \u062A\u0644\u0642\u0627\u0626\u064A (\u062D\u0633\u0628 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0627\u0644\u062D\u0627\u0644\u064A)",-1),t("option",{value:"mysql"},"\u2601\uFE0F MySQL \u0633\u064A\u0631\u0641\u0631",-1),t("option",{value:"sync_sqlite"},"\u{1F5A5}\uFE0F SQLite \u0645\u062D\u0644\u064A",-1)])],544),[[Lt,K.value]]),t("span",{class:m(["px-3 py-1 rounded-full text-sm font-semibold",Mt.value==="sync_sqlite"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100":"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-100"])},n(Mt.value==="sync_sqlite"?"\u{1F5A5}\uFE0F SQLite \u0645\u062D\u0644\u064A":"\u2601\uFE0F MySQL \u0633\u064A\u0631\u0641\u0631"),3),t("button",{onClick:F,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",disabled:I.value},[I.value?(r(),o("span",dn,"\u23F3 \u062C\u0627\u0631\u064A...")):(r(),o("span",ln,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,nn)])])]),I.value?(r(),o("div",cn,[...e[89]||(e[89]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),t("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062C\u062F\u0627\u0648\u0644...",-1)])])):g.value.length===0?(r(),o("div",un,[...e[90]||(e[90]=[t("div",{class:"text-5xl mb-2"},"\u{1F4ED}",-1),t("p",{class:"text-gray-600 dark:text-gray-400"},"\u0644\u0627 \u062A\u0648\u062C\u062F \u062C\u062F\u0627\u0648\u0644 \u0645\u062A\u0627\u062D\u0629",-1)])])):(r(),o("div",gn,[t("table",yn,[e[91]||(e[91]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0633\u0645 \u0627\u0644\u062C\u062F\u0648\u0644 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0639\u062F\u062F \u0627\u0644\u0633\u062C\u0644\u0627\u062A "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0627\u062A\u0635\u0627\u0644 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A ")])],-1)),t("tbody",xn,[(r(!0),o(_,null,S(g.value,s=>(r(),o("tr",{key:s.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",pn,[t("span",vn,n(s.name),1)]),t("td",bn,[t("span",fn,n(s.count.toLocaleString()),1)]),t("td",hn,[t("span",{class:m(["px-2 py-1 text-xs font-semibold rounded-full",s.connection==="sync_sqlite"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200"])},n(s.connection==="sync_sqlite"?"SQLite":"MySQL"),3)]),t("td",mn,[t("div",kn,[t("button",{onClick:i=>ve(s.name,s.connection),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400"}," \u0639\u0631\u0636 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644 ",8,wn),s.connection==="sync_sqlite"?(r(),o("div",_n,[t("button",{onClick:i=>_e(s.name),class:m(["text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",{"bg-gray-100 dark:bg-gray-700":N.value===s.name}])}," \u22EE ",10,Cn),N.value===s.name?(r(),o("div",{key:0,class:"absolute right-0 mt-1 w-36 bg-white dark:bg-gray-800 rounded-md shadow-lg z-10 border border-gray-200 dark:border-gray-700",onClick:e[13]||(e[13]=At(()=>{},["stop"]))},[t("button",{onClick:i=>{we(s.name),N.value=null},class:"block w-full text-left px-3 py-2 text-sm text-orange-600 hover:bg-orange-50 dark:text-orange-400 dark:hover:bg-orange-900",disabled:Ct.value===s.name},[Ct.value===s.name?(r(),o("span",Sn,"\u23F3 \u062C\u0627\u0631\u064A...")):(r(),o("span",Ln,"\u{1F5D1}\uFE0F \u062A\u0641\u0631\u064A\u063A"))],8,$n),t("button",{onClick:i=>{Ce(s.name),N.value=null},class:"block w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900",disabled:$t.value===s.name},[$t.value===s.name?(r(),o("span",Tn,"\u23F3 \u062C\u0627\u0631\u064A...")):(r(),o("span",jn,"\u274C \u062D\u0630\u0641"))],8,Mn)])):x("",!0)])):x("",!0),N.value===s.name?(r(),o("div",{key:1,onClick:e[14]||(e[14]=i=>N.value=null),class:"fixed inset-0 z-5"})):x("",!0)])])]))),128))])])]))]),t("div",Bn,[t("div",zn,[t("div",Dn,[e[92]||(e[92]=t("h3",{class:"text-lg font-semibold dark:text-gray-200"}," \u{1F4CA} \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0630\u0643\u064A\u0629 (sync_metadata) ",-1)),t("button",{onClick:Et,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",disabled:bt.value},[bt.value?(r(),o("span",En,"\u23F3 \u062C\u0627\u0631\u064A...")):(r(),o("span",qn,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,In)]),e[93]||(e[93]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-2"}," \u064A\u0639\u0631\u0636 \u0622\u062E\u0631 ID \u0648 updated_at \u0627\u0644\u0645\u0632\u0627\u0645\u0646 \u0644\u0643\u0644 \u062C\u062F\u0648\u0644 \u0648\u0627\u062A\u062C\u0627\u0647 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 ",-1))]),bt.value?(r(),o("div",On,[...e[94]||(e[94]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),t("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...",-1)])])):j.value.error?(r(),o("div",Un,[t("p",Qn,n(j.value.error),1)])):j.value.data.length===0?(r(),o("div",Vn,[...e[95]||(e[95]=[t("div",{class:"text-5xl mb-2"},"\u{1F4CB}",-1),t("p",{class:"text-gray-600 dark:text-gray-400"},"\u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0632\u0627\u0645\u0646\u0629",-1),t("p",{class:"text-xs mt-2 text-gray-500"},"\u0642\u0645 \u0628\u062A\u0634\u063A\u064A\u0644 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0623\u0648\u0644\u0627\u064B \u0644\u0628\u062F\u0621 \u062A\u062A\u0628\u0639 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",-1)])])):(r(),o("div",An,[j.value.stats?(r(),o("div",Hn,[t("div",Fn,[t("div",null,[t("p",Pn,n(j.value.stats.total_tables),1),e[96]||(e[96]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0639\u062F\u062F \u0627\u0644\u062C\u062F\u0627\u0648\u0644",-1))]),t("div",null,[t("p",Wn,n(j.value.stats.total_records),1),e[97]||(e[97]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0639\u062F\u062F \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1))]),t("div",null,[t("p",Rn,n(((d=j.value.stats.total_synced_records)==null?void 0:d.toLocaleString())||0),1),e[98]||(e[98]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1))])])])):x("",!0),t("div",Gn,[t("table",Kn,[e[99]||(e[99]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0633\u0645 \u0627\u0644\u062C\u062F\u0648\u0644"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u0627\u062A\u062C\u0627\u0647"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0622\u062E\u0631 ID \u0645\u0632\u0627\u0645\u0646"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0622\u062E\u0631 updated_at"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0622\u062E\u0631 \u0645\u0632\u0627\u0645\u0646\u0629"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0622\u062E\u0631 \u062A\u062D\u062F\u064A\u062B")])],-1)),t("tbody",Nn,[(r(!0),o(_,null,S(j.value.data,s=>{var i,p;return r(),o("tr",{key:`${s.table_name}-${s.direction}`,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",Jn,n(s.table_name),1),t("td",Zn,[t("span",{class:m(["px-2 py-1 text-xs font-semibold rounded-full",s.direction==="down"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"])},n(s.direction_label),3)]),t("td",Xn,n(((i=s.last_synced_id)==null?void 0:i.toLocaleString())||0),1),t("td",Yn,n(s.last_updated_at||"-"),1),t("td",tl,n(s.last_synced_at||"-"),1),t("td",el,n(((p=s.total_synced)==null?void 0:p.toLocaleString())||0),1),t("td",sl,n(s.updated_at||"-"),1)])}),128))])])])]))]),t("div",al,[t("div",rl,[t("div",ol,[e[100]||(e[100]=t("h3",{class:"text-lg font-semibold dark:text-gray-200"}," \u{1F4BE} \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 ",-1)),t("div",nl,[t("button",{onClick:e[15]||(e[15]=s=>R.value=!0),class:"px-4 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700 text-sm",title:"\u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u062C\u062F\u0627\u0648\u0644 \u0645\u062D\u062F\u062F\u0629 \u0645\u0646 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629"}," \u{1F4E6} \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0645\u062D\u062F\u062F\u0629 "),t("button",{onClick:ht,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",disabled:it.value},[it.value?(r(),o("span",il,"\u23F3 \u062C\u0627\u0631\u064A...")):(r(),o("span",dl,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,ll)])])]),it.value?(r(),o("div",cl,[...e[101]||(e[101]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),t("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629...",-1)])])):kt.value.length===0?(r(),o("div",ul,[...e[102]||(e[102]=[t("div",{class:"text-5xl mb-2"},"\u{1F4E6}",-1),t("p",{class:"text-gray-600 dark:text-gray-400"},"\u0644\u0627 \u062A\u0648\u062C\u062F \u0646\u0633\u062E \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629",-1)])])):(r(),o("div",gl,[t("table",yl,[e[103]||(e[103]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0633\u0645 \u0627\u0644\u0645\u0644\u0641"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u062D\u062C\u0645"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A")])],-1)),t("tbody",xl,[(r(!0),o(_,null,S(kt.value,s=>(r(),o("tr",{key:s.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",pl,n(s.name),1),t("td",vl,n(ke(s.size)),1),t("td",bl,n(Ot(s.date)),1),t("td",fl,[t("button",{onClick:i=>fe(s.name),class:"text-red-600 hover:text-red-900 dark:text-red-400 mr-3",disabled:Tt.value}," \u{1F504} \u0627\u0633\u062A\u0639\u0627\u062F\u0629 ",8,hl),t("button",{onClick:i=>he(s.name),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 mr-3"}," \u{1F4E5} \u062A\u062D\u0645\u064A\u0644 ",8,ml),t("button",{onClick:i=>me(s.name),class:"text-red-600 hover:text-red-900 dark:text-red-400",title:"\u062D\u0630\u0641 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629"}," \u{1F5D1}\uFE0F \u062D\u0630\u0641 ",8,kl)])]))),128))])])]))])])]),Z(Vt,{show:Y.value.show,onClose:e[17]||(e[17]=s=>Y.value.show=!1)},{default:st(()=>[t("div",wl,[e[104]||(e[104]=t("h3",{class:"text-lg font-semibold mb-4 dark:text-gray-200"},"\u{1F4C4} \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",-1)),t("pre",_l,n(JSON.stringify(Y.value.data,null,2)),1),t("div",Cl,[t("button",{onClick:e[16]||(e[16]=s=>Y.value.show=!1),class:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600"}," \u0625\u063A\u0644\u0627\u0642 ")])])]),_:1},8,["show"]),Z(Vt,{show:v.value.show,onClose:e[20]||(e[20]=s=>v.value.show=!1)},{default:st(()=>[t("div",$l,[e[105]||(e[105]=t("h3",{class:"text-lg font-semibold mb-4 text-red-600 dark:text-red-400"},"\u274C \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062E\u0637\u0623",-1)),t("div",Sl,[t("p",Ll,n(v.value.title),1),t("p",Ml,n(v.value.message),1)]),t("pre",Tl,n(v.value.stack),1),t("div",jl,[t("button",{onClick:e[18]||(e[18]=s=>ue(v.value.item)),class:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600"}," \u{1F504} \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 "),t("button",{onClick:e[19]||(e[19]=s=>v.value.show=!1),class:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600"}," \u0625\u063A\u0644\u0627\u0642 ")])])]),_:1},8,["show"]),Z(Vt,{show:y.value.show,onClose:e[24]||(e[24]=s=>y.value.show=!1)},{default:st(()=>{var s;return[t("div",Bl,[t("h3",zl," \u{1F4CB} \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062C\u062F\u0648\u0644: "+n(y.value.tableName),1),Dt.value?(r(),o("div",Dl,[...e[106]||(e[106]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),t("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...",-1)])])):y.value.error?(r(),o("div",Il,[t("p",ql,n(y.value.error),1)])):(r(),o("div",El,[t("div",Ol,[t("div",Ul,[e[107]||(e[107]=P(" \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0633\u062C\u0644\u0627\u062A: ",-1)),t("span",Ql,n(((s=y.value.total)==null?void 0:s.toLocaleString())||0),1)]),t("div",Vl,[e[108]||(e[108]=P(" \u0627\u0644\u0627\u062A\u0635\u0627\u0644: ",-1)),t("span",Al,n(y.value.connection||"-"),1)])]),y.value.columns.length===0&&y.value.data.length>0?(r(),o("div",Hl," \u26A0\uFE0F \u0627\u0644\u0623\u0639\u0645\u062F\u0629 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629\u060C \u064A\u062A\u0645 \u0627\u0633\u062A\u062E\u0631\u0627\u062C\u0647\u0627 \u0645\u0646 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A... ")):x("",!0),y.value.columns.length>0?(r(),o("div",Fl,[t("table",Pl,[t("thead",Wl,[t("tr",null,[(r(!0),o(_,null,S(y.value.columns,i=>(r(),o("th",{key:i,class:"px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase border-r border-gray-200 dark:border-gray-600"},n(i),1))),128))])]),t("tbody",Rl,[y.value.data.length===0?(r(),o("tr",Gl,[t("td",{colspan:y.value.columns.length||1,class:"px-4 py-8 text-center text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A ",8,Kl)])):x("",!0),(r(!0),o(_,null,S(y.value.data,(i,p)=>(r(),o("tr",{key:p,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[(r(!0),o(_,null,S(y.value.columns,u=>(r(),o("td",{key:`${p}-${u}`,class:"px-4 py-2 text-xs dark:text-gray-300 border-r border-gray-100 dark:border-gray-700 whitespace-nowrap"},n(be(i[u])),1))),128))]))),128))])])])):(r(),o("div",Nl,[e[109]||(e[109]=t("div",{class:"text-5xl mb-2"},"\u{1F4CB}",-1)),e[110]||(e[110]=t("p",null,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0623\u0639\u0645\u062F\u0629 \u0645\u062A\u0627\u062D\u0629 \u0644\u0644\u0639\u0631\u0636",-1)),t("p",Jl,"\u0639\u062F\u062F \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A: "+n(y.value.data.length),1)])),y.value.total>y.value.limit?(r(),o("div",Zl,[t("div",Xl," \u0639\u0631\u0636 "+n(y.value.offset+1)+" \u0625\u0644\u0649 "+n(Math.min(y.value.offset+y.value.limit,y.value.total))+" \u0645\u0646 "+n(y.value.total),1),t("div",Yl,[t("button",{onClick:e[21]||(e[21]=i=>Nt(y.value.tableName,y.value.offset-y.value.limit,y.value.tableConnection)),disabled:y.value.offset===0,class:"px-3 py-1 border rounded disabled:opacity-50 dark:text-gray-200 dark:border-gray-600"}," \u0627\u0644\u0633\u0627\u0628\u0642 ",8,td),t("button",{onClick:e[22]||(e[22]=i=>Nt(y.value.tableName,y.value.offset+y.value.limit,y.value.tableConnection)),disabled:y.value.offset+y.value.limit>=y.value.total,class:"px-3 py-1 border rounded disabled:opacity-50 dark:text-gray-200 dark:border-gray-600"}," \u0627\u0644\u062A\u0627\u0644\u064A ",8,ed)])])):x("",!0)])),t("div",sd,[t("button",{onClick:e[23]||(e[23]=i=>y.value.show=!1),class:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600"}," \u0625\u063A\u0644\u0627\u0642 ")])])]}),_:1},8,["show"]),Z(xs),R.value?(r(),o("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e[31]||(e[31]=s=>R.value=!1)},[t("div",{class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[80vh] overflow-hidden",onClick:e[30]||(e[30]=At(()=>{},["stop"]))},[t("div",ad,[t("div",rd,[e[112]||(e[112]=t("h3",{class:"text-lg font-semibold dark:text-gray-200"},"\u{1F4E6} \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u062C\u062F\u0627\u0648\u0644 \u0645\u062D\u062F\u062F\u0629 \u0645\u0646 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629",-1)),t("button",{onClick:e[25]||(e[25]=s=>R.value=!1),class:"text-gray-400 hover:text-gray-600"},[...e[111]||(e[111]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),t("div",od,[t("div",nd,[e[114]||(e[114]=t("label",{class:"block text-sm font-medium mb-2 dark:text-gray-200"},"\u0627\u062E\u062A\u0631 \u0645\u0644\u0641 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629:",-1)),lt(t("select",{"onUpdate:modelValue":e[26]||(e[26]=s=>V.value=s),onChange:e[27]||(e[27]=s=>ze(V.value)),class:"w-full p-2 border border-gray-300 rounded dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"},[e[113]||(e[113]=t("option",{value:"null"},"\u0627\u062E\u062A\u0631 \u0645\u0644\u0641...",-1)),(r(!0),o(_,null,S(kt.value,s=>(r(),o("option",{key:s.name,value:s.name},n(s.name)+" ("+n(s.date)+") ",9,ld))),128))],544),[[Lt,V.value]])]),dt.value.length>0?(r(),o("div",dd,[e[115]||(e[115]=t("h4",{class:"text-md font-medium mb-3 dark:text-gray-200"},"\u0627\u062E\u062A\u0631 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0631\u0627\u062F \u0627\u0633\u062A\u0639\u0627\u062F\u062A\u0647\u0627:",-1)),t("div",id,[(r(!0),o(_,null,S(dt.value,s=>(r(),o("label",{key:s,class:"flex items-center space-x-2 p-2 border rounded hover:bg-gray-50 dark:hover:bg-gray-700 dark:border-gray-600"},[lt(t("input",{type:"checkbox",value:s,"onUpdate:modelValue":e[28]||(e[28]=i=>C.value=i),class:"rounded border-gray-300 dark:border-gray-600 dark:bg-gray-700"},null,8,cd),[[te,C.value]]),t("span",ud,n(s),1)]))),128))])])):x("",!0),C.value.length>0?(r(),o("div",gd,[e[116]||(e[116]=t("h5",{class:"font-medium text-blue-900 dark:text-blue-100 mb-2"},"\u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 \u0644\u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629:",-1)),t("p",yd,n(C.value.join(", ")),1),t("p",xd,"\u0639\u062F\u062F \u0627\u0644\u062C\u062F\u0627\u0648\u0644: "+n(C.value.length),1)])):x("",!0)]),t("div",pd,[t("button",{onClick:e[29]||(e[29]=s=>R.value=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200"}," \u0625\u0644\u063A\u0627\u0621 "),t("button",{onClick:De,disabled:C.value.length===0,class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed"}," \u{1F504} \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u062F\u062F ",8,vd)])])])):x("",!0)]}),_:1})],64))}},$d=re(bd,[["__scopeId","data-v-b1001f69"]]);export{$d as default};
