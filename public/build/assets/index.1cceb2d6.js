import{x as G,r,y as J,a as l,g as m,j as c,w as h,k,F as A,o as n,H as K,b as s,n as C,e as O,v as P,i as M,h as N,t as a,f as I}from"./app.2fd46d69.js";import{_ as Q}from"./AuthenticatedLayout.f1f2f4e6.js";import"./vue-tailwind-datepicker.613700a3.js";import{M as X,a as Y,_ as Z,b as S}from"./ModalArchiveCarBack.1a2a339d.js";import{M as ee}from"./ModalDelCar.a37baaa4.js";import{a as y}from"./index.b7ec739e.js";import{d as se}from"./debounce.7eee1e17.js";/* empty css                                                                 */import"./VueSearchSelect.72ce1a39.js";/* empty css                                                            */import"./print.10e6b2e8.js";import"./trash.4899906d.js";/* empty css                                                    */const te=s("h2",{class:"mb-5 dark:text-gray-400 text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1),oe={key:0,class:"py-2"},ae={class:"sm:px-6 lg:px-8 text-sm font-medium text-center text-gray-500 rounded-lg flex dark:divide-gray-700 dark:text-gray-400"},re={class:"w-full"},le={class:"w-full"},ne={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},ie={class:"bg-white overflow-hidden shadow-sm"},ce={class:"p-6 dark:bg-gray-900"},pe={class:"flex flex-col"},de=s("br",null,null,-1),me=["disabled"],ue={key:0},he={key:1},ye={key:0,class:"text-center mt-4 text-gray-500"},xe=s("span",{class:"loader"},null,-1),_e=s("p",null,"\u062C\u0627\u0631\u064A \u0627\u0644\u0628\u062D\u062B\u060C \u064A\u0631\u062C\u0649 \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631...",-1),fe=[xe,_e],ve=s("h3",{class:"text-center h3 py-3"},"\u0627\u0644\u0646\u062A\u0627\u0626\u062C",-1),ge={key:1},be={class:"text-lg font-semibold text-gray-100"},ke={class:"text-sm text-gray-300 mb-2"},we=s("span",{class:"font-bold"},"\u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0635\u064A:",-1),Ce={key:0},$e={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},De={scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},Ae={scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},Me={scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},Be={scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},Ee={scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},Fe={scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},Ve={scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},Ne={scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},Ie=s("th",{scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},"\u0641\u0631\u0639",-1),Te={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},We={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},He={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},Le={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},je={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},ze={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},Re={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},Ue={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},qe={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},Ge={key:1},Je={class:"text-red-500"},Ke={class:"font-bold"},Oe=s("div",null,null,-1),ns={__name:"index",props:{client:Array},setup(T){G();const x=r({}),_=J();r("");let f=r(!1),v=r(!1),p=r(!1),u=r(!1),g=r(!1),b=r(!1),W=r([]);const w=r(!0);let B=r(!1);const d=()=>{W.value.length=0,B.value=!B.value};se(d,500);function H(o){y.post("/api/confirmExpensesCar",o).then(e=>{p.value=!1,_.success("\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),d()}).catch(e=>{console.error(e)})}function L(o){y.post("/api/addCarFavorite",o).then(e=>{p.value=!1,_.success("\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),d(),v.value=!1}).catch(e=>{console.error(e)})}function j(o){y.post("/api/confirmArchiveCar",o).then(e=>{p.value=!1,_.success("\u062A\u0645 \u0646\u0642\u0644 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),d(),u.value=!1}).catch(e=>{console.error(e)})}function z(o){y.post("/api/confirmArchiveCarBack",o).then(e=>{g.value=!1,_.success("\u062A\u0645 \u0646\u0642\u0644 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),d(),u.value=!1}).catch(e=>{console.error(e)})}function E(o){w.value=o,d()}function R(o){y.post("/api/confirmDelCarFav",o).then(e=>{b.value=!1,_.success("\u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:3e3,position:"bottom-right",rtl:!0}),d()}).catch(e=>{console.error(e)})}const $=r(""),D=r([]),U=async()=>{f.value=!0;const o=$.value.split(`
`).map(e=>e.trim());try{const e=await y.post("/api/search-vins",{vins:o});D.value=e.data,f.value=!1}catch(e){console.error("\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u0628\u062D\u062B:",e)}};return(o,e)=>(n(),l(A,null,[m(c(K),{title:"Dashboard"}),m(X,{formData:x.value,show:!!c(u),onA:e[0]||(e[0]=t=>j(t)),onClose:e[1]||(e[1]=t=>k(u)?u.value=!1:u=!1)},{header:h(()=>[]),_:1},8,["formData","show"]),m(Y,{formData:x.value,show:!!c(g),onA:e[2]||(e[2]=t=>z(t)),onClose:e[3]||(e[3]=t=>k(g)?g.value=!1:g=!1)},{header:h(()=>[]),_:1},8,["formData","show"]),m(Z,{formData:x.value,show:!!c(v),client:T.client,onA:e[4]||(e[4]=t=>L(t)),onClose:e[5]||(e[5]=t=>k(v)?v.value=!1:v=!1)},{header:h(()=>[]),_:1},8,["formData","show","client"]),m(S,{formData:x.value,show:!!c(p),currentWork:w.value,onA:e[6]||(e[6]=t=>H(t)),onClose:e[7]||(e[7]=t=>k(p)?p.value=!1:p=!1)},{header:h(()=>[]),_:1},8,["formData","show","currentWork"]),m(ee,{show:!!c(b),formData:x.value,onA:e[8]||(e[8]=t=>R(t)),onClose:e[9]||(e[9]=t=>k(b)?b.value=!1:b=!1)},{header:h(()=>[te]),_:1},8,["show","formData"]),m(Q,null,{default:h(()=>[o.$page.props.auth.user.type_id==1||o.$page.props.auth.user.type_id==7?(n(),l("div",oe,[s("ul",ae,[s("li",re,[s("button",{onClick:e[10]||(e[10]=t=>E(!0)),class:C(["inline-block w-full p-4 border-r border-gray-200 dark:border-gray-700 hover:text-gray-700 hover:bg-gray-50 focus:outline-none dark:text-white",w.value?"bg-white  dark:bg-gray-900":"dark:bg-gray-800 dark:hover:bg-gray-700"])},"\u0642\u064A\u062F \u0627\u0644\u0639\u0645\u0644 ",2)]),s("li",le,[s("button",{onClick:e[11]||(e[11]=t=>E(!1)),class:C(["inline-block w-full p-4 border-r border-gray-200 dark:border-gray-700 hover:text-gray-700 hover:bg-gray-50 focus:outline-none dark:text-white",w.value?"dark:bg-gray-800 dark:hover:bg-gray-700":"bg-white  dark:bg-gray-900"])},"\u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0627\u0644\u0645\u0643\u062A\u0645\u0644\u0629",2)])]),s("div",ne,[s("div",ie,[s("div",ce,[s("div",pe,[O(s("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>$.value=t),placeholder:"\u0623\u062F\u062E\u0644 \u0627\u0644\u0623\u0643\u0648\u0627\u062F \u0647\u0646\u0627",style:{height:"500px"}},null,512),[[P,$.value]]),de,s("button",{class:"px-6 mb-12 mx-2 py-2 font-bold text-white bg-green-500 rounded",onClick:U,disabled:c(f)},[c(f)?(n(),l("span",he,"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644...")):(n(),l("span",ue,"\u062A\u0634\u063A\u064A\u0644"))],8,me),c(f)?(n(),l("div",ye,fe)):M("",!0),ve,D.value.length?(n(),l("div",ge,[(n(!0),l(A,null,N(D.value,(t,F)=>(n(),l("div",{key:F},[s("h4",be,"\u0628\u062D\u062B "+a(F+1),1),s("p",ke,[we,I(" "+a(t.vin||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)]),t.cars&&t.cars.length?(n(),l("div",Ce,[s("table",{class:C([t.cars.length>1?"bg-yellow-200 text-gray-800":"bg-emerald-200 text-gray-800","w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center divide-y divide-gray-200 dark:divide-gray-800"])},[s("thead",$e,[s("tr",{class:C(t.cars.length>1?"bg-yellow-600 text-gray-100":"bg-emerald-600 text-gray-100")},[s("th",De,a(o.$t("date")),1),s("th",Ae,a(o.$t("car_owner")),1),s("th",Me,a(o.$t("car_type")),1),s("th",Be,a(o.$t("year")),1),s("th",Ee,a(o.$t("color")),1),s("th",Fe,a(o.$t("vin")),1),s("th",Ve,a(o.$t("car_number")),1),s("th",Ne,a(o.$t("note")),1),Ie],2)]),s("tbody",null,[(n(!0),l(A,null,N(t.cars,(i,q)=>{var V;return n(),l("tr",{key:q,class:"bg-white dark:bg-gray-800"},[s("td",Te,a(i.date),1),s("td",We,a((V=i.client)==null?void 0:V.name),1),s("td",He,a(i.car_type),1),s("td",Le,a(i.year),1),s("td",je,a(i.car_color),1),s("td",ze,a(i.vin),1),s("td",Re,a(i.car_number),1),s("td",Ue,a(i.note),1),s("td",qe,a(i.owner_id==1?"\u0627\u0631\u0628\u064A\u0644":"\u0643\u0631\u0643\u0648\u0643"),1)])}),128))])],2)])):(n(),l("div",Ge,[s("p",Je,[I(" \u0644\u0627 \u062A\u0648\u062C\u062F \u0646\u062A\u0627\u0626\u062C \u0644\u0647\u0630\u0627 \u0627\u0644\u0631\u0642\u0645: "),s("span",Ke,a(t.vin||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)])]))]))),128))])):M("",!0)])])])])])):M("",!0),Oe]),_:1})],64))}};export{ns as default};
