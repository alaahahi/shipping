import{o as m,d as S,e as y,a as u,h as e,r as q,t as s,w as v,C,g as P,T as j,m as c,f as r,u as b,F as V,H as F,i as M,y as H,k as A,z as O,n as R,L as G,j as J}from"./app.bfd0c940.js";import{_ as K}from"./AuthenticatedLayout.914c3a6a.js";/* empty css                                              */import{t as Q}from"./laravel-vue-pagination.es.504d1852.js";/* empty css                                                         */import{_ as g,a as E}from"./TextInput.58f57359.js";import{a as $}from"./index.03e98a43.js";const W={key:0,class:"modal-mask"},X={class:"modal-wrapper"},Y={class:"modal-container dark:bg-gray-900"},Z={class:"modal-header"},ee={class:"modal-body"},te=e("h2",{class:"text-center dark:text-gray-200"}," \u062A\u0639\u062F\u064A\u0644 \u0632\u0628\u0648\u0646 ",-1),ae={className:"mb-4 mx-5"},oe={class:"dark:text-gray-200",for:"name"},se={className:"mb-4 mx-5"},re={class:"dark:text-gray-200",for:"phone"},de={class:"modal-footer my-2"},le={class:"flex flex-row"},ne={class:"basis-1/2 px-4"},ie={class:"basis-1/2 px-4"},ce=["disabled"],B={__name:"ModalEditClient",props:{show:Boolean,formData:Object},setup(i){return(l,d)=>(m(),S(j,{name:"modal"},{default:y(()=>[i.show?(m(),u("div",W,[e("div",X,[e("div",Y,[e("div",Z,[q(l.$slots,"header")]),e("div",ee,[te,e("div",ae,[e("label",oe,s(l.$t("name")),1),v(e("input",{id:"name",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":d[0]||(d[0]=n=>i.formData.name=n)},null,512),[[C,i.formData.name]])]),e("div",se,[e("label",re,s(l.$t("phone")),1),v(e("input",{id:"phone",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":d[1]||(d[1]=n=>i.formData.phone=n)},null,512),[[C,i.formData.phone]])])]),e("div",de,[e("div",le,[e("div",ne,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:d[2]||(d[2]=n=>{l.$emit("close")})},s(l.$t("cancel")),1)]),e("div",ie,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:d[3]||(d[3]=n=>{l.$emit("a",i.formData),i.formData=""}),disabled:!i.formData.name},s(l.$t("yes")),9,ce)])])])])])])):P("",!0)]),_:3}))}};const me={class:"py-12"},ue={class:"mx-auto sm:px-6 lg:px-8"},be={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},ge={class:"p-6 dark:bg-gray-900"},pe={class:"grid grid-cols-2 md:grid-cols-5 lg:grid-cols-7 gap-2 lg:gap-1"},he={class:"flex items-center max-w-5xl"},_e=e("label",{class:"dark:text-gray-200",for:"simple-search"},null,-1),ye={class:"relative w-full"},fe=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[e("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-200 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),ve={value:"0"},xe=e("option",{value:"debit"},"\u064A\u0648\u062C\u062F \u062F\u064A\u0646",-1),ke={class:"text-center px-4"},we={class:"px-4"},$e={className:"mb-4"},Ce={class:"px-4"},Ne={className:"mb-4"},De={className:"mb-4  mr-5 print:hidden"},Ve={key:0},Me={key:1},Ae={className:"mb-4  mr-5 print:hidden"},Ee={key:0},Be={key:1},Ie={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},Ue={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},Te={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},ze={class:"rounded-l-lg mb-2 sm:mb-0"},Le=e("th",{className:"px-1 py-2 text-base"},"#",-1),Se={className:"px-1 py-2 text-base"},qe={className:"px-1 py-2 text-base"},Pe=e("th",{className:"px-1 py-2 text-base"},"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u063A\u064A\u0631 \u0645\u0643\u062A\u0645\u0644",-1),je=e("th",{className:"px-1 py-2 text-base"},"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0645\u0643\u062A\u0645\u0644",-1),Fe={className:"px-1 py-2 text-base"},He={className:"px-1 py-2 text-base"},Oe={class:"flex-1 sm:flex-none dark:bg-gray-700 dark:text-gray-200"},Re={className:"border border-white  dark:border-gray-800 text-center px-4 py-2"},Ge={className:"border border-white  dark:border-gray-800 text-center px-4 py-2"},Je={className:"border border-white  dark:border-gray-800 text-center px-4 py-2"},Ke={className:"border border-white  dark:border-gray-800 text-center px-4 py-2"},Qe={className:"border border-white  dark:border-gray-800 text-center px-4 py-2"},We={className:"border border-white  dark:border-gray-800 text-center px-4 py-2"},Xe={className:"border border-white  dark:border-gray-800 text-center px-4 py-2",style:{"min-height":"42px"}},Ye=["onClick"],Ze={class:"mt-3 text-center",style:{direction:"ltr"}},lt={__name:"Index",setup(i){let l=c(!1),d=c(!1);const n=c([]);let f=c({}),I=c(0);const x=c(0),k=c(0),p=c(""),N=c(0),h=async(o=1)=>{$.get(`/getIndexClients?page=${o}&user_id=${I.value}&from=${x.value}&to=${k.value}&q=${p.value}`).then(t=>{var a;try{n.value=(a=t.data.data)==null?void 0:a.sort((_,w)=>{const D=w.wallet.balance-_.wallet.balance;return D===0?w.car_total_uncomplete-_.car_total_uncomplete:D})}catch{n.value=t.data.data}}).catch(t=>{console.error(t)})};h();function U(o={}){f.value=o,d.value=!0}function T(o={}){f.value=o,l.value=!0}function z(o){$.post("/api/clientsStore",o).then(t=>{window.location.reload()}).catch(t=>{console.error(t)})}function L(o){$.post("/api/clientsEdit",o).then(t=>{window.location.reload()}).catch(t=>{console.error(t)})}return(o,t)=>(m(),u(V,null,[r(b(F),{title:"Dashboard"}),r(K,null,{default:y(()=>[r(B,{show:b(d),formData:b(f),onA:t[0]||(t[0]=a=>z(a)),onClose:t[1]||(t[1]=a=>M(d)?d.value=!1:d=!1)},{header:y(()=>[]),_:1},8,["show","formData"]),r(B,{show:b(l),formData:b(f),onA:t[2]||(t[2]=a=>L(a)),onClose:t[3]||(t[3]=a=>M(l)?l.value=!1:l=!1)},{header:y(()=>[]),_:1},8,["show","formData"]),e("div",me,[e("div",ue,[e("div",be,[e("div",ge,[e("div",pe,[e("div",null,[r(g,{for:"from",value:o.$t("search"),class:"mb-1"},null,8,["value"]),e("form",he,[_e,e("div",ye,[fe,v(e("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>p.value=a),onInput:t[5]||(t[5]=a=>h(p.value)),type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"\u0628\u062D\u062B",required:""},null,544),[[C,p.value]])])])]),e("div",null,[r(g,{for:"from",value:"\u062A\u062D\u062F\u064A\u062F \u0627\u0644\u0641\u0626\u0629",class:"mb-1"}),v(e("select",{onChange:t[6]||(t[6]=a=>h()),"onUpdate:modelValue":t[7]||(t[7]=a=>p.value=a),id:"default",class:"pr-8 bg-gray-50 border border-gray-300 text-gray-900 mb-6 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-red-500 dark:focus:border-red-500"},[e("option",ve,s(o.$t("allOwners")),1),xe],544),[[H,p.value]])]),e("div",ke,[r(g,{for:"pay",value:"\u0627\u0636\u0627\u0641\u0629",class:"mb-1"}),e("button",{className:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-red-500 rounded",onClick:t[8]||(t[8]=a=>U())},s(o.$t("addCustomer")),1)]),e("div",we,[e("div",$e,[r(g,{for:"from",value:o.$t("from_date")},null,8,["value"]),r(E,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:x.value,"onUpdate:modelValue":t[9]||(t[9]=a=>x.value=a)},null,8,["modelValue"])])]),e("div",Ce,[e("div",Ne,[r(g,{for:"to",value:o.$t("to_date")},null,8,["value"]),r(E,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:k.value,"onUpdate:modelValue":t[10]||(t[10]=a=>k.value=a)},null,8,["modelValue"])])]),e("div",De,[r(g,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),e("button",{onClick:t[11]||(t[11]=A(a=>h(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},[N.value?(m(),u("span",Me,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(m(),u("span",Ve,"\u0641\u0644\u062A\u0631\u0629"))])]),e("div",Ae,[r(g,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),e("button",{onClick:t[12]||(t[12]=A(a=>o.confirmAddPaymentTotal(o.total,o.client_id),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-orange-500 rounded",style:{width:"100%"}},[N.value?(m(),u("span",Be,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(m(),u("span",Ee,"\u0637\u0628\u0627\u0639\u0629"))])])]),e("div",Ie,[e("table",Ue,[e("thead",Te,[e("tr",ze,[Le,e("th",Se,s(o.$t("name")),1),e("th",qe,s(o.$t("phoneNumber")),1),Pe,je,e("th",Fe,s(o.$t("debt")),1),e("th",He,s(o.$t("execute")),1)])]),e("tbody",Oe,[(m(!0),u(V,null,O(n.value,(a,_)=>(m(),u("tr",{key:a.id,class:R(["border-b border-white dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600",a.car_total_uncomplete<=0?"bg-green-100 dark:bg-green-900":"bg-red-100 dark:bg-red-900"])},[e("td",Re,s(_),1),e("td",Ge,s(a.name),1),e("td",Je,s(a.phone),1),e("td",Ke,s(a.car_total_uncomplete),1),e("td",Qe,s(a.car_total_complete),1),e("td",We,s(a.wallet?"$"+a.wallet.balance:0),1),e("td",Xe,[r(b(G),{tabIndex:"1",className:"px-2 py-1 text-sm text-white bg-slate-500 rounded",href:o.route("showClients",a.id)},{default:y(()=>[J(" \u0639\u0631\u0636 ")]),_:2},1032,["href"]),e("button",{tabIndex:"1",className:"px-2 py-1 mr-4 text-sm text-white bg-red-500 rounded",onClick:w=>T(a)}," \u062A\u0639\u062F\u064A\u0644 ",8,Ye)])],2))),128))])])]),e("div",Ze,[r(b(Q),{data:n.value,onPaginationChangePage:h,limit:10},null,8,["data"])])])])])])]),_:1})],64))}};export{lt as default};
