import{o as u,c as $e,w as P,a as c,b as e,f as it,t as l,d as De,e as B,v as H,i as x,T as Ce,x as Ne,r as p,q as rt,E as _t,m as Ae,u as Se,g as d,j as o,F as z,H as Pe,k,A as Ie,h as bt,l as ot,n as gt,s as Me,G as Fe}from"./app.2ff6149a.js";import{a as Te,_ as Ee}from"./AuthenticatedLayout.1b35056b.js";import{M as Be}from"./Modal.72894efb.js";import{t as Ue}from"./laravel-vue-pagination.es.00da1978.js";import{_ as h}from"./InputLabel.29695875.js";import{_ as C}from"./TextInput.7223a7fc.js";import{a as A}from"./index.30009464.js";import{M as wt}from"./ModalDelCar.5ed5d12e.js";import{_ as Ve}from"./ModalEditCar_S.98466972.js";import{_ as je}from"./ModalAddCarPayment.aefd90aa.js";import{_ as qe,a as Le,b as Re,c as He,e as ze}from"./exit.a22bb8f0.js";import{p as yt}from"./print.30de212f.js";import{p as zt}from"./pay.bdfdbc7e.js";import{t as Oe}from"./trash.6937469d.js";import{e as We}from"./edit.d3c8a58f.js";import{s as Ge}from"./show.675495d8.js";import{n as Ye}from"./new.d5fa7e83.js";import{l as Ze}from"./lodash.162f0fbd.js";/* empty css                                              *//* empty css                                                    */import"./Uploader.72714170.js";/* empty css                                                                 *//* empty css                                                       */const Je={key:0,class:"modal-mask"},Ke={class:"modal-wrapper max-h-[80vh]"},Qe={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},Xe={class:"modal-header text-center py-4 dark:text-gray-300"},ta={class:"modal-body"},ea={class:"grid grid-cols-2 gap-3 lg:gap-2"},aa={class:"mb-4 mx-5"},ra={class:"mb-4 mx-5"},oa={class:"mb-4 mx-5"},sa={class:"mb-4 mx-5"},la={class:"mb-4 mx-5"},da={class:"mb-4 mx-5"},na={class:"mb-4 mx-5"},ia={class:"mb-4 mx-5"},ua={class:"modal-footer my-2"},ca={class:"flex flex-row"},pa={class:"basis-1/2 px-4"},ma={class:"basis-1/2 px-4"},ba=["disabled"],ga={__name:"ModalShowDriving",props:{show:Boolean,formDriving:Object},setup(b){return(m,s)=>(u(),$e(Ce,{name:"modal"},{default:P(()=>[b.show?(u(),c("div",Je,[e("div",Ke,[e("div",Qe,[e("div",Xe,[it(" \u062A\u062E\u0648\u064A\u0644 \u0642\u064A\u0627\u062F\u0629 "+l(b.formDriving.car_typeDriving)+" "+l(b.formDriving.yearDriving)+" "+l(b.formDriving.car_colorDriving)+" \u0631\u0642\u0645 \u0634\u0627\u0646\u0635\u0649 "+l(b.formDriving.vinDriving)+" ",1),De(m.$slots,"header")]),e("div",ta,[e("div",ea,[e("div",aa,[s[10]||(s[10]=e("label",{class:"dark:text-gray-200",for:"amountTotal"},"\u0627\u0644\u0627\u0633\u0645 \u0643\u0627\u0645\u0644",-1)),B(e("input",{id:"amountTotal",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[0]||(s[0]=v=>b.formDriving.nameDriving=v)},null,512),[[H,b.formDriving.nameDriving]])]),e("div",ra,[s[11]||(s[11]=e("label",{class:"dark:text-gray-200",for:"carType"},"\u0627\u0644\u0633\u064A\u0627\u0631\u0629",-1)),B(e("input",{id:"carType",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[1]||(s[1]=v=>b.formDriving.car_typeDriving=v)},null,512),[[H,b.formDriving.car_typeDriving]])]),e("div",oa,[s[12]||(s[12]=e("label",{class:"dark:text-gray-200",for:"vin"},"\u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0646\u0635\u064A",-1)),B(e("input",{id:"vin",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[2]||(s[2]=v=>b.formDriving.vinDriving=v)},null,512),[[H,b.formDriving.vinDriving]])]),e("div",sa,[s[13]||(s[13]=e("label",{class:"dark:text-gray-200",for:"carNumber"},"\u0631\u0642\u0645 \u0627\u0644\u0633\u064A\u0627\u0631\u0629",-1)),B(e("input",{id:"carNumber",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[3]||(s[3]=v=>b.formDriving.car_numberDriving=v)},null,512),[[H,b.formDriving.car_numberDriving]])]),e("div",la,[s[14]||(s[14]=e("label",{class:"dark:text-gray-200",for:"color"},"\u0627\u0644\u0644\u0648\u0646",-1)),B(e("input",{id:"color",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[4]||(s[4]=v=>b.formDriving.car_colorDriving=v)},null,512),[[H,b.formDriving.car_colorDriving]])]),e("div",da,[s[15]||(s[15]=e("label",{class:"dark:text-gray-200",for:"model"},"\u0645\u0648\u062F\u064A\u0644",-1)),B(e("input",{id:"model",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[5]||(s[5]=v=>b.formDriving.yearDriving=v)},null,512),[[H,b.formDriving.yearDriving]])]),e("div",na,[s[16]||(s[16]=e("label",{class:"dark:text-gray-200",for:"exitDate"},"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062A\u062E\u0648\u064A\u0644",-1)),B(e("input",{id:"exitDate",type:"date",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[6]||(s[6]=v=>b.formDriving.createdDriving=v)},null,512),[[H,b.formDriving.createdDriving]])])]),e("div",ia,[s[17]||(s[17]=e("label",{class:"dark:text-gray-200",for:"note"},"\u062A\u062E\u0648\u064A\u0644 \u0627\u0644\u0642\u064A\u0627\u062F\u0629",-1)),B(e("textarea",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[7]||(s[7]=v=>b.formDriving.noteDriving=v)},null,512),[[H,b.formDriving.noteDriving]])])]),e("div",ua,[e("div",ca,[e("div",pa,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:s[8]||(s[8]=v=>{m.$emit("close")})},l(m.$t("cancel")),1)]),e("div",ma,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:s[9]||(s[9]=v=>m.$emit("a",b.formDriving)),disabled:!b.formDriving.noteDriving},l(m.$t("yes")),9,ba)])])])])])])):x("",!0)]),_:3}))}},ya={},fa={class:"w-6 h-6 text-white dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"};function xa(b,m){return u(),c("svg",fa,[...m[0]||(m[0]=[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7h1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V5a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h11.5M7 14h6m-6 3h6m0-10h.5m-.5 3h.5M7 7h3v3H7V7Z"},null,-1)])])}const va=Te(ya,[["render",xa]]);const ha={class:"mb-5 dark:text-gray-400 text-center"},ka={class:"mb-5 dark:text-gray-400 text-center"},_a={key:0},wa={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},$a={class:"ml-3 text-sm font-medium text-red-700 dark:text-red-800"},Da={key:1,class:"py-4"},Ca={class:"text-center pb-2 dark:text-gray-400"},Na={class:"max-w-9xl mx-auto sm:px-6 lg:px-8 p-6 dark:bg-gray-900"},Aa={class:"overflow-hidden shadow-sm sm:rounded-lg"},Sa={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 lg:gap-1"},Pa={class:"pr-4"},Ia={value:"undefined",disabled:""},Ma=["value"],Fa={class:"mb-4 mr-5"},Ta={class:"p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800"},Ea={class:"flex items-center justify-between"},Ba={class:"relative inline-flex items-center cursor-pointer"},Ua=["checked"],Va={class:"px-2 flex flex-col justify-end"},ja={class:"mb-4"},qa={class:"px-2 flex flex-col justify-end"},La={class:"mb-4"},Ra={class:"mb-4 mr-5 print:hidden flex flex-col gap-2"},Ha={class:"mb-4 mr-5 print:hidden flex flex-col gap-2"},za=["href"],Oa={class:"mb-4 mr-5 print:hidden flex flex-col gap-2"},Wa=["href"],Ga={className:"mb-4  mr-5"},Ya={className:"mb-4  mr-5"},Za={className:"mb-4  mr-5"},Ja={className:"mb-4  mr-5"},Ka={className:"mb-4  mr-5"},Qa={key:0,className:"mb-4  mr-5 print:hidden"},Xa=["disabled"],tr=["disabled"],er={className:"mb-4  mr-5 print:hidden"},ar=["disabled"],rr={className:"mb-4 mr-5"},or={key:0,class:"text-xs text-red-500 mt-1"},sr={key:1,class:"text-xs text-gray-500 mt-1"},lr={key:1,className:"mb-4  mr-5"},dr={className:"mb-4  mr-5"},nr={className:"mb-4  mr-5"},ir={className:"mb-4  mr-5"},ur={className:"mb-4  mr-5"},cr={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 lg:gap-1"},pr={className:"mb-4  mr-5"},mr={className:"mb-4  mr-5"},br={className:"mb-4  mr-5"},gr={className:"mb-4  mr-5 print:hidden"},yr=["disabled"],fr={key:0},xr={key:1},vr={key:2},hr={key:1,class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},kr={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},_r={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},wr={class:"bg-rose-500 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},$r={className:"px-1 py-2 text-base"},Dr={className:"px-1 py-2 text-base"},Cr={className:"px-1 py-2 text-base"},Nr={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},Ar={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Sr={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Pr=["href"],Ir={key:0,class:"text-center"},Mr={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Fr={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Tr={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Er={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Br={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ur={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Vr=["href"],jr={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},qr={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Lr={key:0,class:"text-center py-10"},Rr={key:1,class:"relative overflow-x-auto shadow-md sm:rounded-lg"},Hr={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},zr={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Or={class:"rounded-l-lg mb-2 sm:mb-0"},Wr={scope:"col",class:"px-1 py-2 text-base"},Gr={scope:"col",class:"px-1 py-2 text-base"},Yr={scope:"col",class:"px-1 py-2 text-base"},Zr={scope:"col",class:"px-1 py-2 text-base"},Jr={scope:"col",class:"px-1 py-2 text-base"},Kr={scope:"col",class:"px-1 py-2 text-base"},Qr={scope:"col",class:"px-1 py-2 text-base"},Xr={scope:"col",class:"px-1 py-2 text-base"},to={scope:"col",class:"px-1 py-2 text-base print:hidden"},eo={scope:"col",class:"px-1 py-2 text-base print:hidden"},ao={scope:"col",class:"px-1 py-2 text-base"},ro={scope:"col",class:"px-1 py-2 text-base"},oo={scope:"col",class:"px-1 py-2 text-base"},so={scope:"col",class:"px-1 py-2 text-base"},lo={scope:"col",class:"px-1 py-2 text-base"},no={scope:"col",class:"px-1 py-2 text-base"},io={scope:"col",class:"px-1 py-2 text-base"},uo={scope:"col",class:"px-1 py-2 text-base"},co={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},po={className:"border dark:border-gray-800 text-center px-2 py-1"},mo={className:"border dark:border-gray-800 text-center px-2 py-1"},bo={className:"border dark:border-gray-800 text-center px-2 py-1"},go={className:"border dark:border-gray-800 text-center px-2 py-1"},yo={className:"border dark:border-gray-800 text-center px-2 py-1"},fo={className:"border dark:border-gray-800 text-center px-2 py-1"},xo={className:"border dark:border-gray-800 text-center px-2 py-1"},vo={className:"border dark:border-gray-800 text-center px-2 py-1"},ho={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},ko={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},_o={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},wo={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},$o={className:"border dark:border-gray-800 text-center px-2 py-1"},Do={className:"border dark:border-gray-800 text-center px-2 py-1"},Co={className:"border dark:border-gray-800 text-center px-2 py-1"},No={className:"border dark:border-gray-800 text-center px-2 py-1"},Ao={className:"border dark:border-gray-800 text-center px-2 py-1"},So={className:"border dark:border-gray-800 text-center px-2 py-1"},Po={className:"border dark:border-gray-800 text-center px-2 py-1"},Io={className:"border dark:border-gray-800 text-center px-1 py-2 "},Mo={className:"border dark:border-gray-800 text-center px-2 py-1"},Fo={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},To=["onClick"],Eo=["onClick"],Bo=["onClick"],Uo=["onClick"],Vo=["onClick"],jo=["onClick"],qo=["onClick"],Lo=["onClick"],Ro=["href"],Ho={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},zo=["href"],Oo=["src"],Wo={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},Go=["onClick"],Yo=["onClick"],Zo={key:1,class:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/30 dark:to-pink-900/30 border-b dark:border-gray-700"},Jo={colspan:"5",className:"border dark:border-gray-800 text-start px-3 py-2"},Ko={class:"font-semibold mr-2"},Qo={className:"border dark:border-gray-800 text-center px-2 py-2 font-bold text-red-700 dark:text-red-300 text-base bg-red-50 dark:bg-red-900/20"},Xo={className:"border dark:border-gray-800 text-center px-2 py-2 text-sm"},ts={className:"border dark:border-gray-800 text-center px-2 py-2 print:hidden"},es=["href"],as={key:0,class:"bg-gradient-to-r from-yellow-100 to-amber-100 dark:from-yellow-900/30 dark:to-amber-900/30 border-t-4 border-amber-500"},rs={className:"border dark:border-gray-800 text-center px-2 py-3 font-bold text-xl bg-amber-200 dark:bg-amber-800 text-amber-900 dark:text-amber-100"},os={class:"mt-3 text-center",style:{direction:"ltr"}},ss={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 dark:text-gray-400 hidden print:block"},ls={class:"flex flex-row"},ds={class:"basis-1/2"},Is={__name:"Show",props:{url:String,clients:Array,client_id:String,client:Object,q:String},setup(b){let m=Ne();p(0);let s=p({}),v=p(0),$=p(0),D=p(0),ut=1,V=p(!1),Q=p(!1),X=p(!1),O=p(!1),ft=p(!1),W=p(!1),M=p(!1),ct=p(!1),tt=p(!1),G=p(!1),Y=p(!1),Z=p(!1),pt=p(!1),J=p(!1);p(0);let g=p({}),E=p({}),j=p(0),K=p(""),F=p(0),N=p(0);p(0);let et=p(!1),at=p(!1);const q=b,st=rt(()=>N.value&&N.value!==0&&N.value!=="undefined"?N.value:q.client_id);let L=p(""),mt=p(!1);const xt=p(!1),Ot=Ze.exports.debounce(async a=>{if(!!st.value)try{mt.value=!0,await A.post("/api/updateClientPhone",{userId:st.value,phone:a}),m.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})}catch(t){console.error(t),m.error("\u0644\u0645 \u064A\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641",{timeout:3e3,position:"bottom-right",rtl:!0})}finally{mt.value=!1}},3e3);_t(L,(a,t)=>{!xt.value||a!==t&&Ot(a)});function $t(a){xt.value=!1,L.value=a!=null?a:"",Fe(()=>{xt.value=!0})}const Dt=rt(()=>L.value?String(L.value).length>10:!1),vt=rt(()=>{const a=$.value&&$.value!==0&&$.value!=="0"&&$.value!=="",t=D.value&&D.value!==0&&D.value!=="0"&&D.value!=="";return Boolean(a||t)});let lt=async(a=1,t=!0)=>{tt.value=!1;const n=st.value;if(!n){tt.value=!0;return}A.get(`/api/getIndexAccountsSelas?page=${a}&user_id=${n}&from=${$.value||""}&to=${D.value||""}`).then(i=>{var y,_;s.value=i.data,N.value=i.data.client.id,$t((_=(y=i.data)==null?void 0:y.client)==null?void 0:_.phone),t&&!vt.value&&Nt(i.data.cars_sum),tt.value=!0}).catch(i=>{console.error(i),tt.value=!0})};function R(){let a="",t="";try{a=s.value.transactions.filter(n=>n.type==="out"&&n.amount<0&&n.is_pay===1)}catch{}try{t=a.reduce((n,i)=>n+i.amount,0)}catch{}return{totalAmount:t}}rt(()=>{var a,t;try{return((t=(a=s.value)==null?void 0:a.transactions)==null?void 0:t.filter(n=>n.type==="out"&&n.amount<0&&n.is_pay===1).length)||0}catch{return 0}});function Wt(a={}){g.value=a,et.value=!0}function Gt(a={}){g.value=a,at.value=!0}function Yt(a){var t,n;a.balance=R().totalAmount*-1-((t=s.value)==null?void 0:t.cars_paid)-((n=s.value)==null?void 0:n.cars_discount),A.post("/api/AddPayFromBalanceCar",a).then(i=>{et.value=!1,T()}).catch(i=>{console.error(i)})}function Zt(a){A.post("/api/DelPayFromBalanceCar",a).then(t=>{at.value=!1,T()}).catch(t=>{console.error(t)})}const T=async(a=1)=>{const t=st.value;!t||A.get(`/api/getIndexAccountsSelas?page=${a}&user_id=${t}&from=${$.value||""}&to=${D.value||""}`).then(n=>{var i,y;s.value=n.data,N.value=n.data.client.id,$t((y=(i=n.data)==null?void 0:i.client)==null?void 0:y.phone),vt.value||Nt(n.data.cars_sum)}).catch(n=>{console.error(n)})};Ae(()=>{lt()}),_t(()=>q.client_id,(a,t)=>{a&&a!==t&&($.value=0,D.value=0,V.value=!1,W.value=!1,M.value=!1,ct.value=!1,F.value=0,j.value=0,K.value="",ut=1,lt())},{immediate:!1});const Jt=Se();let U=p(!1);function Kt(a){Jt.get(route("sentToCourt",a)),lt(),U.value=!1}function Qt(a={}){g.value=a,X.value=!0}function Xt(a={}){g.value=a,g.value.dinar_s==0&&(g.value.dinar_s=g.value.dinar),Q.value=!0}function te(a={}){g.value=a,g.value.notePayment=" \u0628\u064A\u062F ",O.value=!0}function ee(a){A.post("/api/DelCar",a).then(t=>{X.value=!1,m.success("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),T()}).catch(t=>{console.error(t),m.error("\u0641\u0634\u0644 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629",{timeout:2e3,position:"bottom-right",rtl:!0})})}function ae(a){Q.value=!1,A.post("/api/updateCarsS",a).then(t=>{U.value=!1,m.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),T()}).catch(t=>{m.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),T()})}function re(a){var t,n;a.discountPayment||(a.discountPayment=0),A.get(`/api/addPaymentCar?car_id=${a.id}&discount=${a.discountPayment}&amount=${(t=a.amountPayment)!=null?t:0}&note=${(n=a.notePayment)!=null?n:""}`).then(i=>{O.value=!1,m.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+a.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),T();let y=i.data;window.open(`/api/getIndexAccountsSelas?user_id=${q.client_id}&print=2&transactions_id=${y.id}`,"_blank")}).catch(i=>{U.value=!1,console.log(i),m.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function oe(a,t,n,i){v.value=!0,A.get(`/api/addPaymentCarTotal?amount=${a!=null?a:0}&discount=${n!=null?n:0}&note=${i}&client_id=${t!=null?t:0}`).then(y=>{O.value=!1,m.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+a+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),V.value=!1,v.value=!1,T(),se();let _=y.data;window.open(`/api/getIndexAccountsSelas?user_id=${q.client_id}&print=2&transactions_id=${_.id}`,"_blank")}).catch(y=>{console.log(y),U.value=!1,v.value=!1,m.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function se(){F.value=0,j.value=0,K.value=""}function le(){V.value=!0,W.value=!1}function de(){V.value=!1}function ne(){W.value=!0,V.value=!1}function ie(){W.value=!1}function ue(a={}){g.value=a,g.value.prices=100,g.value.price_dinars=5e4,G.value=!0}function ce(a={}){g.value=formshowModalShowExitCar,Y.value=!0}function pe(a={}){g.value=a,g.value.createdExit=At(),Z.value=!0}function me(a={}){g.value=a.value=!0}function be(a={}){E.value.car_typeDriving=a.car_type,E.value.yearDriving=a.year,E.value.car_colorDriving=a.car_color,E.value.vinDriving=a.vin,E.value.nameDriving=q.client.name,E.value.clientIdDriving=N.value,E.value.car_numberDriving=a.car_number,E.value.createdDriving=At(),E.value.noteDriving="\u0627\u0646\u0627 \u0643\u0627\u0631\u0632\u0627\u0646 \u0633\u0631\u0647\u0646\u0643 \u0645\u062D\u0645\u062F (\u0648\u0643\u064A\u0644 \u0639\u0627\u0645 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 \u0627\u064A\u0648\u0628 ) (\u0645\u062F\u064A\u0631 \u0645\u0641\u0648\u0636 \u0634\u0631\u0643\u0629 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 \u0627\u064A\u0648\u0628) \u0642\u062F \u062E\u0648\u0644\u062A \u0627\u0644\u0633\u064A\u062F(name) \u0628\u0642\u064A\u0627\u062F\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0630\u0627\u062A \u0627\u0644\u0645\u0648\u0627\u0635\u0641\u0627\u062A \u0627\u062F\u0646\u0627\u0647 \u0644\u0647 \u062D\u0642  \u0646\u0642\u0644\u0647\u0627  \u0645\u0646 \u0645\u062D\u0627\u0641\u0638\u0629 \u0627\u0644\u0649 \u0645\u062D\u0627\u0641\u0638\u0629 \u0627\u062E\u0631\u0649 \u0648\u062F\u0641\u0639 \u0627\u0644\u0631\u0633\u0648\u0645 \u0648\u0627\u0644\u063A\u0631\u0645\u0627\u062A \u0628\u064A\u0639 \u0648\u0634\u0631\u0627\u0621 \u0627\u0644\u0642\u0628\u0636 \u0627\u0644\u062B\u0645\u0646.",J.value=!0}function ge(){var t,n,i;let a=(i=(n=(t=s==null?void 0:s.value)==null?void 0:t.client)==null?void 0:n.wallet)==null?void 0:i.balance;F.value=a-j.value}function ye(){var t,n,i;let a=(i=(n=(t=s==null?void 0:s.value)==null?void 0:t.client)==null?void 0:n.wallet)==null?void 0:i.balance;console.log(a),F.value>a?(F.value=a,ft.value=!0,m.info(" \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u062F\u064A\u0646 \u0627\u0644\u0645\u0637\u0644\u0648\u0628 "+F.value,{timeout:4e3,position:"bottom-right",rtl:!0})):ft.value=!1}function fe(a){var t,n,i,y,_,w;A.get(`/api/addCarContracts?car_id=${a.id}&price=${(t=a.prices)!=null?t:0}&price_dinar=${(n=a.price_dinars)!=null?n:0}&paid=${(i=a.paids)!=null?i:0}&paid_dinar=${(y=a.paid_dinars)!=null?y:0}&phone=${(_=a.phone)!=null?_:""}&note=${(w=a.note)!=null?w:""}`).then(f=>{G.value=!1,m.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u0628\u0646\u062C\u0627\u062D ",{timeout:4e3,position:"bottom-right",rtl:!0}),T()}).catch(f=>{G.value=!1,m.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function xe(a){var t,n,i;A.get(`/api/editCarContracts?car_id=${a.id}&paid=${(t=a.paids)!=null?t:0}&paid_dinar=${(n=a.paid_dinars)!=null?n:0}&note=${(i=a.notePayment)!=null?i:""}`).then(y=>{Y.value=!1,m.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+a.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),T()}).catch(y=>{Y.value=!1,m.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Ct(a){A.get(`/api/makeCarExit?car_id=${a.id}&created=${a.createdExit}&phone=${a.phoneExit}&note=${a.noteExit}`).then(t=>{Z.value=!1,m.success("\u062A\u0645 \u0627\u0636\u0627\u0641\u0629 \u062E\u0631\u0648\u062C\u064A\u0629 \u0644\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:5e3,position:"bottom-right",rtl:!0}),T()}).catch(t=>{Z.value=!1,m.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Nt(a){if(vt.value)return;const t=st.value;if(!t)return;const n=Number(R().totalAmount||0),i=Number(a||0)+n,y=new URLSearchParams({userId:t,currentBalance:i,from:$.value||"",to:D.value||""}).toString();A.get(`/api/checkClientBalance?${y}`).then(_=>{console.log(_),_.status==201&&m.success(" \u062A\u0645 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u062D\u0633\u0627\u0628 \u0628\u0646\u062C\u0627\u062D  "+_.data,{timeout:5e3,position:"bottom-right",rtl:!0})}).catch(_=>{console.error(_),m.error("\u0644\u0645 \u064A\u062A\u0645 \u0627\u0639\u0627\u062F\u0629 \u0641\u062D\u0635 \u0627\u0644\u062D\u0633\u0627\u0628  \u0628\u0646\u062C\u0627\u062D ",{timeout:5e3,position:"bottom-right",rtl:!0})})}function ve(a){A.post("/api/makeDrivingDocument",a).then(t=>{J.value=!1,window.open(`/api/makeDrivingDocumentPdf?doc_id=${t.data.id}`,"_blank")}).catch(t=>{J.value=!1,m.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function At(){const a=new Date,t=a.getFullYear(),n=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");return`${t}-${n}-${i}`}function St(a){return a?a.results==2?M.value:!0:!1}const he=rt(()=>{if(!tt.value||!s.value)return[];try{const a=s.value.data||[],t=s.value.transactions||[],n=[];if(Array.isArray(a))for(let w=0;w<a.length;w++){const f=a[w];n.push({type:"car",data:f,date:new Date(f.created_at||f.date||0),id:`car-${f.id||w}`})}if(ct.value&&Array.isArray(t)){const w=t.filter(f=>f&&f.type==="out"&&Number(f.amount)<0&&f.is_pay===1);for(let f=0;f<w.length;f++){const S=w[f];n.push({type:"payment",data:S,date:new Date(S.created_at||S.created||0),id:`payment-${S.id||f}`})}}n.sort((w,f)=>w.date-f.date);let i=0,y=0;const _=[];for(let w=0;w<n.length;w++){const f=n[w];if(f.type==="car"){const S=f.data;if(St(S)){const nt=Number(S.total_s)||0;i+=nt,y+=nt}}else if(f.type==="payment"){const S=Number(f.data.amount)||0;i+=S,y+=S}_.push({...f,balance:i,totalSum:y})}return _}catch(a){return console.error("\u274C Error in mergedData:",a),[]}});function ke(a){return`/public/uploadsResized/${a}`}function _e(a){return`/public/uploads/${a}`}const dt=rt(()=>{var a,t;try{const n=Number(R().totalAmount||0),i=Number(((a=s.value)==null?void 0:a.cars_discount)||0),y=Number(((t=s.value)==null?void 0:t.cars_paid)||0);return n*-1-i-y}catch{return 0}});return _t(M,a=>{ct.value=a}),(a,t)=>(u(),c(z,null,[d(o(Pe),{title:"Dashboard"}),d(Ee,null,{header:P(()=>[...t[37]||(t[37]=[e("h2",{class:"font-semibold text-xl dark:text-gray-400 text-gray-800 leading-tight"}," \u0634\u0631\u0643\u0629 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 ",-1)])]),default:P(()=>{var n,i,y,_,w,f,S,ht,nt,Pt,It,Mt,Ft,Tt,Et;return[d(qe,{formData:o(g),show:!!o(G),onA:t[0]||(t[0]=r=>fe(r)),onClose:t[1]||(t[1]=r=>k(G)?G.value=!1:G=!1)},{header:P(()=>[...t[38]||(t[38]=[])]),_:1},8,["formData","show"]),d(wt,{show:!!o(et),formData:o(g),onA:t[2]||(t[2]=r=>Yt(r)),onClose:t[3]||(t[3]=r=>k(et)?et.value=!1:et=!1)},{header:P(()=>[e("h2",ha," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062F\u0641\u0639 "+l(o(g).car_type)+" \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",1)]),_:1},8,["show","formData"]),d(wt,{show:!!o(at),formData:o(g),onA:t[4]||(t[4]=r=>Zt(r)),onClose:t[5]||(t[5]=r=>k(at)?at.value=!1:at=!1)},{header:P(()=>[e("h2",ka," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0639\u0627\u062F\u0629 \u062F\u0641\u0639\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 "+l(o(g).car_type)+" \u0644\u0644\u0631\u0635\u064A\u062F \u061F ",1)]),_:1},8,["show","formData"]),d(Le,{formData:o(g),show:!!o(Y),onA:t[6]||(t[6]=r=>xe(r)),onClose:t[7]||(t[7]=r=>k(Y)?Y.value=!1:Y=!1)},{header:P(()=>[...t[39]||(t[39]=[])]),_:1},8,["formData","show"]),d(Re,{formData:o(g),show:!!o(Z),onA:t[8]||(t[8]=r=>Ct(r)),onClose:t[9]||(t[9]=r=>k(Z)?Z.value=!1:Z=!1)},{header:P(()=>[...t[40]||(t[40]=[])]),_:1},8,["formData","show"]),d(He,{formData:o(g),show:!!o(pt),onA:t[10]||(t[10]=r=>Ct(r)),onClose:t[11]||(t[11]=r=>k(pt)?pt.value=!1:pt=!1)},{header:P(()=>[...t[41]||(t[41]=[])]),_:1},8,["formData","show"]),d(ga,{formDriving:o(E),show:!!o(J),onA:t[12]||(t[12]=r=>ve(r)),onClose:t[13]||(t[13]=r=>k(J)?J.value=!1:J=!1)},{header:P(()=>[...t[42]||(t[42]=[])]),_:1},8,["formDriving","show"]),d(Ve,{formData:o(g),show:!!o(Q),client:b.clients,onA:t[14]||(t[14]=r=>ae(r)),onClose:t[15]||(t[15]=r=>k(Q)?Q.value=!1:Q=!1)},{header:P(()=>[...t[43]||(t[43]=[])]),_:1},8,["formData","show","client"]),d(je,{formData:o(g),show:!!o(O),onA:t[16]||(t[16]=r=>re(r)),onClose:t[17]||(t[17]=r=>k(O)?O.value=!1:O=!1)},{header:P(()=>[...t[44]||(t[44]=[])]),_:1},8,["formData","show"]),d(wt,{show:!!o(X),formData:o(g),onA:t[18]||(t[18]=r=>ee(r)),onClose:t[19]||(t[19]=r=>k(X)?X.value=!1:X=!1)},{header:P(()=>[...t[45]||(t[45]=[e("h2",{class:"mb-5 dark:text-gray-400 text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1)])]),_:1},8,["show","formData"]),d(Be,{show:!!o(U),data:o(U).toString(),onA:t[20]||(t[20]=r=>Kt(r,a.arg1)),onClose:t[21]||(t[21]=r=>k(U)?U.value=!1:U=!1)},null,8,["show","data"]),a.$page.props.success?(u(),c("div",_a,[e("div",wa,[e("div",$a,l(a.$page.props.success),1)])])):x("",!0),a.$page.props.auth.user.type_id==1||a.$page.props.auth.user.type_id==6?(u(),c("div",Da,[e("h2",Ca,l(a.$t("sales_bill")),1),e("div",Na,[e("div",Aa,[e("div",Sa,[e("div",Pa,[d(h,{class:"mb-1",for:"invoice_number",value:a.$t("Account")},null,8,["value"]),B(e("select",{onChange:t[22]||(t[22]=r=>T()),"onUpdate:modelValue":t[23]||(t[23]=r=>k(N)?N.value=r:N=r),id:"default",class:"pr-8 border border-gray-300 text-gray-900 mb-6 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:border-gray-400 dark:placeholder-gray-400 dark:text-gray-600 dark:focus:ring-red-500 dark:focus:border-red-500"},[e("option",Ia,l(a.$t("selectCustomer")),1),(u(!0),c(z,null,bt(b.clients,(r,kt)=>(u(),c(z,{key:kt},[r.wallet.balance>0||r.id==o(N)?(u(),c("option",{key:0,value:r.id},l(r.name),9,Ma)):x("",!0)],64))),128))],544),[[Ie,o(N)]])]),e("div",null,[e("div",Fa,[d(h,{for:"filters",value:"\u062E\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0639\u0631\u0636",class:"mb-2"}),e("div",Ta,[e("div",Ea,[t[47]||(t[47]=e("label",{for:"switch-completed",class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u0643\u062A\u0645\u0644\u0629 ",-1)),e("label",Ba,[e("input",{type:"checkbox",id:"switch-completed",onChange:t[24]||(t[24]=r=>k(M)?M.value=!o(M):M=!o(M)),checked:!o(M),class:"sr-only peer"},null,40,Ua),t[46]||(t[46]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])])])]),e("div",Va,[e("div",ja,[d(h,{for:"from",value:a.$t("from_date")},null,8,["value"]),d(C,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:o($),"onUpdate:modelValue":t[25]||(t[25]=r=>k($)?$.value=r:$=r)},null,8,["modelValue"])])]),e("div",qa,[e("div",La,[d(h,{for:"to",value:a.$t("to_date")},null,8,["value"]),d(C,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:o(D),"onUpdate:modelValue":t[26]||(t[26]=r=>k(D)?D.value=r:D=r)},null,8,["modelValue"])])]),e("div",Ra,[d(h,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),e("button",{onClick:t[27]||(t[27]=ot(r=>o(lt)(1,!1),["prevent"])),class:"w-full px-6 py-2 mt-1 font-bold text-white bg-gray-500 rounded"},[...t[48]||(t[48]=[e("span",null,"\u0641\u0644\u062A\u0631\u0629",-1)])])]),e("div",Ha,[d(h,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),e("a",{href:`/api/getIndexAccountsSelas?user_id=${o(N)}&from=${o($)}&to=${o(D)}&print=1&showComplatedCars=${o(M)?0:1}`,target:"_blank",class:"w-full px-6 py-2 mt-1 font-bold text-white bg-orange-500 rounded block text-center"},[...t[49]||(t[49]=[e("span",null,"\u0637\u0628\u0627\u0639\u0629",-1)])],8,za)]),e("div",Oa,[d(h,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),e("a",{href:`/api/getIndexAccountsSelas?user_id=${o(N)}&from=${o($)}&to=${o(D)}&print=1&printExcel=1&showComplatedCars=${o(M)?0:1}`,target:"_blank",class:"w-full px-6 py-2 mt-1 font-bold text-white bg-green-500 rounded block text-center"},[...t[50]||(t[50]=[e("span",null,"Excel",-1)])],8,Wa)]),e("div",Ga,[d(h,{for:"car_total",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A"}),d(C,{id:"car_total",type:"text",class:"mt-1 block w-full",value:o(s).car_total,disabled:""},null,8,["value"])]),e("div",Ya,[d(h,{for:"cars_sum",value:a.$t("Total_in_dollars")+" \u062C\u0645\u0631\u0643 "},null,8,["value"]),d(C,{id:"cars_sum",type:"text",class:"mt-1 block w-full",value:(n=o(s))==null?void 0:n.cars_sum,disabled:""},null,8,["value"])]),e("div",Za,[d(h,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u062F\u0641\u0648\u0639  \u062C\u0645\u0631\u0643 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),d(C,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:parseFloat((i=o(s))==null?void 0:i.cars_sum)-(parseFloat((w=(_=(y=o(s))==null?void 0:y.client)==null?void 0:_.wallet)==null?void 0:w.balance)+parseFloat((f=o(s))==null?void 0:f.cars_discount)),disabled:""},null,8,["value"])]),e("div",Ja,[d(h,{for:"cars_discount",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A  \u062C\u0645\u0631\u0643 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),d(C,{id:"cars_discount",type:"text",class:"mt-1 block w-full",value:(S=o(s))==null?void 0:S.cars_discount,disabled:""},null,8,["value"])]),e("div",Ka,[d(h,{for:"cars_need_paid",value:"  \u0627\u0644\u0631\u0635\u064A\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),d(C,{id:"cars_need_paid",type:"number",class:"mt-1 block w-full",value:R().totalAmount*-1-((ht=o(s))==null?void 0:ht.cars_sum),disabled:""},null,8,["value"])]),R().totalAmount*-1-((nt=o(s))==null?void 0:nt.cars_sum)!=0?(u(),c("div",Qa,[d(h,{for:"pay",value:"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629"}),o(V)?x("",!0):(u(),c("button",{key:0,onClick:t[28]||(t[28]=ot(r=>le(),["prevent"])),disabled:o(v),class:"px-6 mb-6 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},[...t[51]||(t[51]=[e("span",null,"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629",-1)])],8,Xa)),o(V)?(u(),c("button",{key:1,onClick:t[29]||(t[29]=ot(r=>de(),["prevent"])),disabled:o(v),class:"px-6 mb-6 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},[...t[52]||(t[52]=[e("span",null,"\u0627\u062E\u0641\u0627\u0621 \u062F\u0641\u0639\u0629",-1)])],8,tr)):x("",!0)])):x("",!0),e("div",er,[d(h,{for:"pay",value:"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A"}),o(W)?x("",!0):(u(),c("button",{key:0,onClick:t[30]||(t[30]=ot(r=>ne(),["prevent"])),disabled:o(v),class:"px-6 mb-6 py-2 mt-1 font-bold text-white bg-purple-500 rounded",style:{width:"100%"}},[...t[53]||(t[53]=[e("span",null,"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1)])],8,ar)),o(W)?(u(),c("button",{key:1,onClick:t[31]||(t[31]=ot(r=>ie(),["prevent"])),class:"px-6 mb-6 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},[...t[54]||(t[54]=[e("span",null,"\u0627\u062E\u0641\u0627\u0621 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1)])])):x("",!0)]),e("div",rr,[d(h,{for:"client_phone",value:"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0627\u0644\u0632\u0628\u0648\u0646"}),d(C,{id:"client_phone",type:"text",class:gt(["mt-1 block w-full border rounded",Dt.value?"border-red-500 focus:border-red-500 focus:ring-red-400":"border-gray-300 focus:border-indigo-500 focus:ring-indigo-200"]),modelValue:o(L),"onUpdate:modelValue":t[32]||(t[32]=r=>k(L)?L.value=r:L=r),disabled:o(mt)},null,8,["class","modelValue","disabled"]),Dt.value?(u(),c("p",or," \u0627\u0644\u0631\u0642\u0645 \u064A\u062C\u0628 \u0623\u0644\u0627 \u064A\u062A\u062C\u0627\u0648\u0632 10 \u0623\u0631\u0642\u0627\u0645. ")):x("",!0),o(mt)?(u(),c("p",sr," \u062C\u0627\u0631\u064A \u062D\u0641\u0638 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641... ")):x("",!0)]),dt.value!=0?(u(),c("div",lr,[d(h,{for:"cars_need_paid",value:"\u0627\u0644\u0631\u0635\u064A\u062F \u063A\u064A\u0631 \u0645\u0648\u0632\u0639 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),d(C,{id:"cars_need_paid",type:"number",class:"mt-1 block w-full",value:dt.value},null,8,["value"])])):x("",!0),e("div",dr,[d(h,{for:"contract_total",value:"\u0627\u0644\u0639\u0642\u0648\u062F \u0627\u0644\u0645\u0646\u062C\u0632\u0629"}),d(C,{id:"contract_total",type:"text",class:"mt-1 block w-full",value:o(s).contract_total,disabled:""},null,8,["value"])]),e("div",nr,[d(h,{for:"exit_car_total",value:"\u0627\u0644\u062E\u0631\u0648\u062C\u064A\u0627\u062A \u0627\u0644\u0645\u0646\u062C\u0632\u0629"}),d(C,{id:"exit_car_total",type:"text",class:"mt-1 block w-full",value:o(s).exit_car_total,disabled:""},null,8,["value"])]),e("div",ir,[d(h,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u064A\u0646 \u0639\u0642\u0648\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),d(C,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:(Pt=o(s))==null?void 0:Pt.contract_total_debit_Dollar,disabled:""},null,8,["value"])]),e("div",ur,[d(h,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u064A\u0646 \u0639\u0642\u0648\u062F \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631"}),d(C,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:(It=o(s))==null?void 0:It.contract_total_debit_Dinar,disabled:""},null,8,["value"])])]),o(V)?(u(),c("div",cr,[e("div",pr,[d(h,{for:"discount",value:"\u0627\u0644\u062E\u0635\u0645"}),d(C,{id:"discount",type:"number",onInput:ge,class:"mt-1 block w-full",modelValue:o(j),"onUpdate:modelValue":t[33]||(t[33]=r=>k(j)?j.value=r:j=r)},null,8,["modelValue"])]),e("div",mr,[d(h,{for:"percentage",value:" \u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0645\u0631\u0627\u062F \u062F\u0641\u0639\u0647"}),d(C,{id:"percentage",type:"number",onInput:ye,class:"mt-1 block w-full",modelValue:o(F),"onUpdate:modelValue":t[34]||(t[34]=r=>k(F)?F.value=r:F=r)},null,8,["modelValue"])]),e("div",br,[d(h,{for:"discount",value:"\u0645\u0644\u0627\u062D\u0638\u0629"}),d(C,{id:"discount",type:"text",class:"mt-1 block w-full",modelValue:o(K),"onUpdate:modelValue":t[35]||(t[35]=r=>k(K)?K.value=r:K=r)},null,8,["modelValue"])]),e("div",gr,[d(h,{for:"pay",value:"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062F\u0641\u0639"}),e("button",{onClick:t[36]||(t[36]=ot(r=>oe(o(F),o(N),o(j),o(K)),["prevent"])),disabled:o(v),class:"px-6 mb-6 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},[o(ft)?(u(),c("span",fr,"\u064A\u0631\u062C\u0649 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u0645\u0628\u0644\u063A \u0644")):x("",!0),o(v)?(u(),c("span",vr,"\u062C\u0627\u0631\u064A \u0627\u0644\u0637\u0628\u0627\u0639\u0629...")):(u(),c("span",xr,"\u062F\u0641\u0639"))],8,yr)])])):x("",!0),o(W)?(u(),c("div",hr,[e("table",kr,[e("thead",_r,[e("tr",wr,[t[55]||(t[55]=e("th",{className:"px-1 py-2 text-base"},"#",-1)),t[56]||(t[56]=e("th",{className:"px-1 py-2 text-base"},"no",-1)),e("th",$r,l(a.$t("date")),1),e("th",Dr,l(a.$t("description")),1),e("th",Cr,l(a.$t("amount")),1),e("th",Nr,l(a.$t("execute")),1)])]),e("tbody",null,[e("tr",Ar,[t[58]||(t[58]=e("td",null,null,-1)),t[59]||(t[59]=e("td",null,null,-1)),t[60]||(t[60]=e("td",null,null,-1)),t[61]||(t[61]=e("td",null,null,-1)),e("td",Sr,[e("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${o(s).client.id}&from=${o($)}&to=${o(D)}&print=4`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-blue-500 rounded"},[t[57]||(t[57]=it(" \u062C\u0645\u064A\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A ",-1)),d(yt)],8,Pr)])]),(u(!0),c(z,null,bt(((Mt=o(s))==null?void 0:Mt.transactions)||[],r=>(u(),c(z,{key:r.id},[r.type=="out"&&r.amount<0&&r.is_pay==1?(u(),c("tr",Ir,[e("td",Mr,l(k(ut)?ut.value++:ut++),1),e("td",Fr,l(r.id),1),e("td",Tr,l(r.created),1),e("td",Er,l(r.description),1),e("td",Br,l(r.amount*-1),1),e("td",Ur,[r.type=="out"&&r.amount<0?(u(),c("a",{key:0,target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${o(s).client.id}&from=${o($)}&to=${o(D)}&print=2&transactions_id=${r.id}`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-green-500 rounded"},[d(yt)],8,Vr)):x("",!0)])])):x("",!0)],64))),128)),e("tr",jr,[t[62]||(t[62]=e("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A",-1)),e("td",null,l((Ft=o(s))==null?void 0:Ft.cars_discount),1),t[63]||(t[63]=e("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1)),e("td",qr,l(R().totalAmount*-1),1),e("td",null,"\u0627\u0644\u0646\u062A\u0627\u062A\u062C : "+l(R().totalAmount*-1-parseInt((Tt=o(s))==null?void 0:Tt.cars_discount)),1)])])])])):x("",!0),e("div",null,[o(tt)?(u(),c("div",Rr,[e("table",Hr,[e("thead",zr,[e("tr",Or,[e("th",Wr,l(a.$t("no")),1),e("th",Gr,l(a.$t("car_type")),1),e("th",Yr,l(a.$t("year")),1),e("th",Zr,l(a.$t("color")),1),e("th",Jr,l(a.$t("vin")),1),e("th",Kr,l(a.$t("car_number")),1),e("th",Qr,l(a.$t("dinar")),1),e("th",Xr,l(a.$t("dolar_price")),1),e("th",to,l(a.$t("dolar_custom")),1),e("th",eo,l(a.$t("note")),1),t[65]||(t[65]=e("th",{scope:"col",class:"px-1 py-2 text-base print:hidden"}," \u062C\u0645\u0631\u0643 \u0645\u0646\u0641\u0633\u062A ",-1)),t[66]||(t[66]=e("th",{scope:"col",class:"px-1 py-2 text-base print:hidden"}," \u062E\u0635\u0645 \u0645\u0628\u0627\u0634\u0631 ",-1)),e("th",ao,l(a.$t("shipping_dolar")),1),e("th",ro,l(a.$t("coc_dolar")),1),e("th",oo,l(a.$t("checkout")),1),e("th",so,l(a.$t("expenses")),1),t[67]||(t[67]=e("th",{scope:"col",class:"px-1 py-2 text-base"}," \u0646\u0642\u0644 \u0628\u0631\u064A ",-1)),e("th",lo,l(a.$t("total")),1),e("th",no,l(a.$t("paid")),1),e("th",io,l(a.$t("discount")),1),t[68]||(t[68]=e("th",{scope:"col",class:"px-1 py-2 text-base bg-gradient-to-r from-blue-500 to-indigo-500 text-white dark:from-blue-600 dark:to-indigo-600"}," \u0627\u0644\u0631\u0635\u064A\u062F ",-1)),e("th",uo,l(a.$t("date")),1),e("th",co,l(a.$t("execute")),1),t[69]||(t[69]=e("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"100px"}}," \u062A\u062E\u0632\u064A\u0646 ",-1)),t[70]||(t[70]=e("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"120px"}}," \u0627\u0644\u0631\u0635\u064A\u062F ",-1))])]),e("tbody",null,[(u(!0),c(z,null,bt(he.value,(r,kt)=>{var Bt,Ut,Vt,jt,qt,Lt,Rt,Ht;return u(),c(z,{key:r.id},[r.type==="car"?B((u(),c("tr",{key:0,class:gt([{"bg-red-100 dark:bg-red-900":r.data.results==0,"bg-red-100 dark:bg-red-900":r.data.results==1,"bg-green-100 dark:bg-green-900":r.data.results==2,"bg-yellow-100 dark:bg-yellow-900":q.q&&(r.data.vin.startsWith(q.q)||(r.data.car_number?r.data.car_number.toString().startsWith(q.q):!1))},"border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[e("td",po,l(kt+1),1),e("td",mo,l(r.data.car_type),1),e("td",bo,l(r.data.year),1),e("td",go,l(r.data.car_color),1),e("td",yo,l(r.data.vin),1),e("td",fo,l(r.data.car_number),1),e("td",xo,l(r.data.dinar_s),1),e("td",vo,l(r.data.dolar_price_s),1),e("td",ho,l((r.data.dinar_s/r.data.dolar_price_s*100).toFixed(0)||0),1),e("td",ko,l(r.data.note),1),e("td",_o,l((r.data.dinar_s/13e4*100).toFixed(0)||0),1),e("td",wo,l(((r.data.dinar_s/13e4*100).toFixed(0)||0)-((r.data.dinar_s/r.data.dolar_price_s*100).toFixed(0)||0)),1),e("td",$o,l(r.data.shipping_dolar_s),1),e("td",Do,l(r.data.coc_dolar_s),1),e("td",Co,l(r.data.checkout_s),1),e("td",No,l(r.data.expenses_s),1),e("td",Ao,l(r.data.land_shipping_s),1),e("td",So,l(r.data.total_s.toFixed(0)),1),e("td",Po,l(r.data.paid),1),e("td",Io,l(r.data.discount),1),e("td",{className:"border dark:border-gray-800 text-center px-2 py-1 font-bold",class:gt({"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":r.totalSum>0,"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":r.totalSum<=0})},l(((Bt=r.totalSum)==null?void 0:Bt.toFixed(0))||0),3),e("td",Mo,l(r.data.date),1),e("td",Fo,[e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-slate-500 rounded",onClick:I=>Xt(r.data)},[d(We)],8,To),e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-orange-500 rounded",onClick:I=>Qt(r.data)},[d(Oe)],8,Eo),r.data.total_s!=r.data.paid+r.data.discount?(u(),c("button",{key:0,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:I=>te(r.data)},[d(zt)],8,Bo)):x("",!0),((Ut=r.data.contract)==null?void 0:Ut.price)!=((Vt=r.data.contract)==null?void 0:Vt.paid)||((jt=r.data.contract)==null?void 0:jt.price_dinar)!=((qt=r.data.contract)==null?void 0:qt.paid_dinar)?(u(),c("button",{key:1,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-pink-500 rounded",onClick:I=>ce(r.data)},[d(zt)],8,Uo)):x("",!0),r.data.contract?x("",!0):(u(),c("button",{key:2,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-yellow-500 rounded",onClick:I=>ue(r.data)},[d(Ye)],8,Vo)),r.data.is_exit?x("",!0):(u(),c("button",{key:3,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-red-500 rounded",onClick:I=>pe(r.data)},[d(ze)],8,jo)),r.data.is_exit?(u(),c("button",{key:4,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-blue-500 rounded",onClick:I=>me(r.data)},[d(Ge)],8,qo)):x("",!0),e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-violet-500 rounded",onClick:I=>be(r.data)},[d(va)],8,Lo),e("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${o(s).client.id}&print=6&car_id=${r.data.id}`,tabIndex:"1",class:"px-1 py-1 text-white m-1 bg-gray-900 rounded"},[d(yt,{class:"inline-flex"})],8,Ro)]),e("td",Ho,[(u(!0),c(z,null,bt(r.data.car_images,(I,we)=>(u(),c("a",{key:we,href:_e(I.name),style:{cursor:"pointer"},target:"_blank"},[e("img",{src:ke(I.name),alt:"",class:"px-1",style:{"max-width":"80px","max-height":"50px",display:"inline"}},null,8,Oo)],8,zo))),128))]),e("td",Wo,[dt.value!=0?(u(),c("button",{key:0,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:I=>Wt(r.data)}," \u062F\u0641\u0639 \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",8,Go)):x("",!0),R().totalAmount*-1-((Lt=o(s))==null?void 0:Lt.cars_discount)-((Rt=o(s))==null?void 0:Rt.cars_sum)!=0&&r.data.paid?(u(),c("button",{key:1,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 mt-1 text-white mx-1 bg-red-500 rounded",onClick:I=>Gt(r.data)}," \u0627\u0639\u0627\u062F\u0629 \u0644\u0644\u0631\u0635\u064A\u062F ",8,Yo)):x("",!0)])],2)),[[Me,St(r.data)]]):x("",!0),r.type==="payment"?(u(),c("tr",Zo,[t[72]||(t[72]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-2 font-bold text-purple-800 dark:text-purple-200"}," \u{1F4B3} ",-1)),e("td",Jo,[e("span",Ko,l(r.data.description),1)]),t[73]||(t[73]=e("td",{colspan:"2",className:"border dark:border-gray-800 text-center px-2 py-2"},null,-1)),t[74]||(t[74]=e("td",{colspan:"4",className:"border dark:border-gray-800 text-center px-2 py-2 print:hidden"},null,-1)),t[75]||(t[75]=e("td",{colspan:"5",className:"border dark:border-gray-800 text-center px-2 py-2"},null,-1)),e("td",Qo,[t[71]||(t[71]=e("span",{class:"text-red-600 dark:text-red-400"},"\u2B07\uFE0F -",-1)),it(" "+l((r.data.amount*-1).toFixed(0)),1)]),t[76]||(t[76]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-2 bg-red-50 dark:bg-red-900/20"},null,-1)),t[77]||(t[77]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-2 bg-red-50 dark:bg-red-900/20"},null,-1)),e("td",{className:"border dark:border-gray-800 text-center px-2 py-2 font-bold text-base",class:gt({"bg-purple-600 text-white dark:bg-purple-700":r.totalSum>0,"bg-green-600 text-white dark:bg-green-700":r.totalSum<=0})},l(((Ht=r.totalSum)==null?void 0:Ht.toFixed(0))||0),3),e("td",Xo,l(r.data.created),1),e("td",ts,[e("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${o(s).client.id}&print=2&transactions_id=${r.data.id}`,tabIndex:"1",class:"px-2 py-1 text-white bg-purple-600 rounded hover:bg-purple-700"},[d(yt,{class:"inline-flex"})],8,es)]),t[78]||(t[78]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-2 print:hidden"},null,-1)),t[79]||(t[79]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-2 print:hidden"},null,-1))])):x("",!0)],64)}),128)),!o(ct)&&dt.value!=0?(u(),c("tr",as,[t[80]||(t[80]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-3 font-bold"},null,-1)),t[81]||(t[81]=e("td",{colspan:"16",className:"border dark:border-gray-800 text-start px-4 py-3"},[e("span",{class:"text-xl font-bold text-amber-800 dark:text-amber-200"},"\u{1F4B0} \u0627\u0644\u0631\u0635\u064A\u062F \u063A\u064A\u0631 \u0627\u0644\u0645\u0648\u0632\u0639 \u0639\u0644\u0649 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A:")],-1)),t[82]||(t[82]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-3"},null,-1)),t[83]||(t[83]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-3"},null,-1)),t[84]||(t[84]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-3"},null,-1)),e("td",rs,l(dt.value.toFixed(0)),1),t[85]||(t[85]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-3"},null,-1)),t[86]||(t[86]=e("td",{colspan:"3",className:"border dark:border-gray-800 text-center px-2 py-3 print:hidden"},null,-1))])):x("",!0)])])])):(u(),c("div",Lr,[...t[64]||(t[64]=[e("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"},null,-1),e("p",{class:"mt-4 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...",-1)])]))]),e("div",os,[d(o(Ue),{data:o(s),onPaginationChangePage:o(lt),limit:2},null,8,["data","onPaginationChangePage"])])])])])):x("",!0),e("div",ss,[e("div",ls,[e("div",ds,[t[87]||(t[87]=it(" \u062A\u0648\u0642\u064A\u0639 \u0635\u0627\u062D\u0628 \u0627\u0644\u062D\u0633\u0627\u0628 ",-1)),t[88]||(t[88]=e("br",null,null,-1)),it(" "+l((Et=o(s).client)==null?void 0:Et.name),1)]),t[89]||(t[89]=e("div",{class:"basis-1/2 text-center"},"\u062A\u0648\u0642\u064A\u0639 \u0642\u0633\u0645 \u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1)),t[90]||(t[90]=e("div",{class:"basis-1/2 text-end"},"\u062A\u0648\u0642\u064A\u0639 \u0627\u0644\u0645\u062F\u064A\u0631",-1))])])]}),_:1})],64))}};export{Is as default};
