import{r as g,q as T,m as $t,p as Ct,o as r,a as n,b as t,i as m,t as o,n as _,g as A,w as K,l as ee,j as St,L as se,f as J,T as ae,y as oe,x as re,F as I,H as ne,e as kt,A as _t,h as P,a2 as le}from"./app.e560e164.js";import{a as Lt,_ as de}from"./AuthenticatedLayout.d8f92775.js";import{M as gt}from"./Modal.1ffc9e97.js";import{a as M}from"./index.afb83114.js";/* empty css                                              */const ie=["title"],ce={class:"status-icon"},ue={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},ge={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},ye={key:2,class:"animate-spin",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},pe={key:0,class:"pending-badge"},xe={class:"sync-details-header"},ve={class:"sync-details-body"},fe={class:"detail-item"},be={class:"detail-item"},we={class:"detail-value"},he={key:0,class:"detail-item"},me={class:"detail-value"},ke={key:1,class:"detail-item highlight"},_e={class:"detail-value"},$e=["disabled"],Ce={key:0},Se={key:1},Le={key:3,class:"offline-message"},Me={class:"switch-section"},Te={class:"switch-buttons"},De=["disabled"],je=["disabled"],Be={class:"current-location"},Ie={__name:"SyncIndicator",props:{position:{type:String,default:"fixed",validator:ot=>["fixed","relative","absolute"].includes(ot)},bottom:{type:String,default:"20px"},left:{type:String,default:"20px"},right:{type:String,default:"auto"},top:{type:String,default:"auto"},showSwitchButtons:{type:Boolean,default:!0}},setup(ot){const l=ot,f=g(navigator.onLine),x=g(!1),w=g(0),S=g(null),O=g(!1),p=g(window.location.href.startsWith("http://127.0.0.1")||window.location.href.startsWith("http://localhost")),G=T(()=>x.value?"syncing":f.value?w.value>0?"pending":"online":"offline"),Z=T(()=>x.value?"\u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...":f.value?w.value>0?`${w.value} \u0639\u0645\u0644\u064A\u0629 \u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631`:"\u0645\u062A\u0635\u0644 - \u0643\u0644 \u0634\u064A\u0621 \u0645\u062D\u062F\u062B":"\u063A\u064A\u0631 \u0645\u062A\u0635\u0644 - \u0648\u0636\u0639 Offline"),X=T(()=>x.value?"\u{1F504} \u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...":w.value>0?`\u23F3 ${w.value} \u0639\u0645\u0644\u064A\u0629 \u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631`:"\u2705 \u0643\u0644 \u0634\u064A\u0621 \u0645\u062D\u062F\u0651\u062B"),U=T(()=>{if(!S.value)return"\u0644\u0645 \u062A\u062A\u0645 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0639\u062F";const b=new Date(S.value),j=new Date-b,R=Math.floor(j/6e4),q=Math.floor(j/36e5),tt=Math.floor(j/864e5);return R<1?"\u0645\u0646\u0630 \u0644\u062D\u0638\u0627\u062A":R<60?`\u0645\u0646\u0630 ${R} \u062F\u0642\u064A\u0642\u0629`:q<24?`\u0645\u0646\u0630 ${q} \u0633\u0627\u0639\u0629`:`\u0645\u0646\u0630 ${tt} \u064A\u0648\u0645`}),D=T(()=>({position:l.position,bottom:l.position==="fixed"?l.bottom:"auto",left:l.position==="fixed"?l.left:"auto",right:l.position==="fixed"?l.right:"auto",top:l.position==="fixed"?l.top:"auto"})),z=()=>{O.value=!O.value},N=async()=>{if(!(!f.value||x.value)){x.value=!0;try{window.$api&&(await window.$api.syncNow(),S.value=Date.now(),await k(),window.$toast&&window.$toast.success("\u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0646\u062C\u0627\u062D!"))}catch(b){console.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",b),window.$toast&&window.$toast.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: "+b.message)}finally{x.value=!1}}},k=async()=>{try{if(window.$api){const b=await window.$api.getSyncStatus();w.value=b.pendingCount}}catch(b){console.error("\u0641\u0634\u0644 \u062A\u062D\u062F\u064A\u062B \u062D\u0627\u0644\u0629 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",b)}},Q=async()=>{f.value=!0,console.log("\u{1F310} \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0639\u0627\u062F"),await N()},$=()=>{f.value=!1,console.log("\u{1F4F4} \u0641\u0642\u062F\u0627\u0646 \u0627\u0644\u0627\u062A\u0635\u0627\u0644")},Y=()=>{var b;if(window.switchToLocal)window.switchToLocal();else{const u=((b=window.connectionInfo)==null?void 0:b.local_url)||"http://127.0.0.1:8000/";window.location.href=u}},F=()=>{var b;if(window.switchToOnline)window.switchToOnline();else{const u=((b=window.connectionInfo)==null?void 0:b.online_url)||"https://system.intellijapp.com/dashboard";window.location.href=u}};return $t(()=>{window.addEventListener("online",Q),window.addEventListener("offline",$);const b=()=>{p.value=window.location.href.startsWith("http://127.0.0.1")||window.location.href.startsWith("http://localhost")};window.addEventListener("focus",b),k(),b();const u=setInterval(k,3e4);Ct(()=>{window.removeEventListener("online",Q),window.removeEventListener("offline",$),window.removeEventListener("focus",b),clearInterval(u)})}),(b,u)=>(r(),n("div",{class:"sync-indicator-container",style:oe(D.value)},[t("div",{class:_(["sync-indicator",G.value]),onClick:z,title:Z.value},[t("div",ce,[f.value&&!x.value?(r(),n("svg",ue,[...u[3]||(u[3]=[t("path",{d:"M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9zm8 8l3 3 3-3c-1.65-1.66-4.34-1.66-6 0zm-4-4l2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13z"},null,-1)])])):f.value?x.value?(r(),n("svg",ye,[...u[5]||(u[5]=[t("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"},null,-1)])])):m("",!0):(r(),n("svg",ge,[...u[4]||(u[4]=[t("path",{d:"M23.64 7c-.45-.34-4.93-4-11.64-4-1.5 0-2.89.19-4.15.48L18.18 13.8 23.64 7zm-6.6 8.22L3.27 1.44 2 2.72l2.05 2.06C1.91 5.76.59 6.82.36 7l11.63 14.49.01.01.01-.01 3.9-4.86 3.32 3.32 1.27-1.27-3.46-3.46z"},null,-1)])]))]),w.value>0?(r(),n("div",pe,o(w.value),1)):m("",!0)],10,ie),A(ae,{name:"fade"},{default:K(()=>[O.value?(r(),n("div",{key:0,class:"sync-details",onClick:u[1]||(u[1]=ee(()=>{},["stop"]))},[t("div",xe,[u[6]||(u[6]=t("h3",null,"\u062D\u0627\u0644\u0629 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1)),t("button",{onClick:u[0]||(u[0]=j=>O.value=!1),class:"close-btn"},"\xD7")]),t("div",ve,[t("div",fe,[u[7]||(u[7]=t("span",{class:"detail-label"},"\u0627\u0644\u0627\u062A\u0635\u0627\u0644:",-1)),t("span",{class:_(["detail-value",{"text-green":f.value,"text-red":!f.value}])},o(f.value?"\u{1F310} \u0645\u062A\u0635\u0644":"\u{1F4F4} \u063A\u064A\u0631 \u0645\u062A\u0635\u0644"),3)]),t("div",be,[u[8]||(u[8]=t("span",{class:"detail-label"},"\u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",-1)),t("span",we,o(X.value),1)]),S.value?(r(),n("div",he,[u[9]||(u[9]=t("span",{class:"detail-label"},"\u0622\u062E\u0631 \u0645\u0632\u0627\u0645\u0646\u0629:",-1)),t("span",me,o(U.value),1)])):m("",!0),w.value>0?(r(),n("div",ke,[u[10]||(u[10]=t("span",{class:"detail-label"},"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631:",-1)),t("span",_e,o(w.value)+" \u0639\u0645\u0644\u064A\u0629",1)])):m("",!0),f.value&&w.value>0?(r(),n("button",{key:2,onClick:N,disabled:x.value,class:"sync-btn"},[x.value?(r(),n("span",Se,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...")):(r(),n("span",Ce,"\u{1F504} \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0622\u0646"))],8,$e)):m("",!0),A(St(se),{href:b.route("sync.monitor"),class:"monitor-link"},{default:K(()=>[...u[11]||(u[11]=[J(" \u{1F4CA} \u0635\u0641\u062D\u0629 \u0627\u0644\u0645\u0631\u0627\u0642\u0628\u0629 \u0627\u0644\u0643\u0627\u0645\u0644\u0629 ",-1)])]),_:1},8,["href"]),f.value?m("",!0):(r(),n("div",Le,[...u[12]||(u[12]=[t("p",null,"\u26A0\uFE0F \u0623\u0646\u062A \u062A\u0639\u0645\u0644 \u0641\u064A \u0648\u0636\u0639 Offline",-1),t("p",{class:"text-sm"},"\u0633\u064A\u062A\u0645 \u062D\u0641\u0638 \u062A\u063A\u064A\u064A\u0631\u0627\u062A\u0643 \u0645\u062D\u0644\u064A\u0627\u064B \u0648\u0645\u0632\u0627\u0645\u0646\u062A\u0647\u0627 \u0639\u0646\u062F \u0639\u0648\u062F\u0629 \u0627\u0644\u0627\u062A\u0635\u0627\u0644",-1)])])),t("div",Me,[u[14]||(u[14]=t("div",{class:"switch-header"},[t("span",null,"\u{1F504} \u0627\u0644\u062A\u0628\u062F\u064A\u0644 \u0628\u064A\u0646 \u0627\u0644\u0633\u064A\u0631\u0641\u0631\u0627\u062A")],-1)),t("div",Te,[t("button",{onClick:Y,class:_(["switch-btn",{active:p.value,disabled:p.value}]),disabled:p.value}," \u{1F4BB} Local ",10,De),t("button",{onClick:F,class:_(["switch-btn",{active:!p.value,disabled:!p.value}]),disabled:!p.value}," \u{1F310} Online ",10,je)]),t("div",Be,[u[13]||(u[13]=t("span",{class:"location-label"},"\u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u062D\u0627\u0644\u064A:",-1)),t("span",{class:_(["location-value",p.value?"local":"online"])},o(p.value?"\u{1F4BB} Local":"\u{1F310} Online"),3)])])])])):m("",!0)]),_:1}),O.value?(r(),n("div",{key:0,class:"overlay",onClick:u[2]||(u[2]=j=>O.value=!1)})):m("",!0)],4))}},Oe=Lt(Ie,[["__scopeId","data-v-857a9455"]]);const Ue={class:"flex justify-between items-center"},ze={class:"flex gap-2"},Qe=["disabled"],qe={key:0},Ee={key:1},Ve=["disabled"],Ae={key:0},Ne={key:1},Fe={class:"py-6"},Re={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},We={class:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4"},He={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg p-6"},Pe={class:"flex items-center justify-between"},Je={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg p-6"},Ke={class:"flex items-center justify-between"},Ge={class:"text-2xl font-bold text-yellow-600"},Ze={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg p-6"},Xe={class:"flex items-center justify-between"},Ye={class:"text-lg font-bold text-blue-600"},ts={class:"mb-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6"},es={class:"flex flex-wrap justify-between items-start gap-4"},ss={class:"text-sm text-gray-500 dark:text-gray-400"},as={class:"mt-4 grid grid-cols-1 md:grid-cols-4 gap-4 text-sm dark:text-gray-200"},os={class:"font-semibold"},rs={key:0},ns={class:"text-xs text-gray-500 dark:text-gray-400"},ls={class:"font-semibold"},ds={class:"text-xs text-gray-500 dark:text-gray-400"},is={class:"font-semibold"},cs={class:"text-xs text-gray-500 dark:text-gray-400"},us=["title"],gs={class:"text-xs text-gray-500 dark:text-gray-400"},ys={class:"mt-4 text-xs text-gray-600 dark:text-gray-400"},ps={class:"font-mono bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded inline-block break-all w-full md:w-auto"},xs={class:"mb-6 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-lg shadow-lg p-6 text-white"},vs={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},fs={class:"text-center"},bs={class:"text-3xl font-bold"},ws={class:"text-center"},hs={class:"text-3xl font-bold text-green-300"},ms={class:"text-center"},ks={class:"text-3xl font-bold text-yellow-300"},_s={class:"text-center"},$s={class:"text-3xl font-bold text-red-300"},Cs={key:0,class:"mb-6 bg-yellow-50 dark:bg-yellow-900 border-l-4 border-yellow-500 p-4 rounded"},Ss={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},Ls={class:"p-6 border-b border-gray-200 dark:border-gray-700"},Ms={class:"flex justify-between items-center"},Ts={class:"text-lg font-semibold dark:text-gray-200"},Ds={class:"flex gap-2"},js={class:"overflow-x-auto"},Bs={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Is={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Os={key:0},Us={colspan:"8",class:"px-6 py-8 text-center text-gray-500 dark:text-gray-400"},zs={class:"text-lg"},Qs={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},qs={class:"px-6 py-4 whitespace-nowrap dark:text-gray-300"},Es={class:"px-6 py-4 whitespace-nowrap dark:text-gray-300"},Vs={class:"px-6 py-4 dark:text-gray-300"},As=["onClick"],Ns={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},Fs={class:"flex items-center gap-1"},Rs={key:0,class:"text-red-600 text-lg"},Ws={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},Hs={class:"px-6 py-4 whitespace-nowrap"},Ps={key:0,class:"flex items-center text-green-600 dark:text-green-400"},Js={key:1,class:"flex items-center text-red-600 dark:text-red-400"},Ks={key:2,class:"flex items-center text-yellow-600 dark:text-yellow-400"},Gs={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Zs={class:"flex gap-2"},Xs=["onClick","disabled"],Ys=["onClick"],ta=["onClick"],ea={key:0,class:"px-6 py-4 bg-gray-50 dark:bg-gray-700 flex justify-between items-center"},sa={class:"text-sm text-gray-700 dark:text-gray-300"},aa={class:"flex gap-2"},oa=["disabled"],ra=["disabled"],na={class:"mt-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6"},la={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},da={class:"border dark:border-gray-700 rounded p-4"},ia={class:"text-2xl font-bold dark:text-gray-200"},ca={class:"border dark:border-gray-700 rounded p-4"},ua={class:"text-2xl font-bold dark:text-gray-200"},ga={class:"border dark:border-gray-700 rounded p-4"},ya={class:"text-2xl font-bold dark:text-gray-200"},pa={class:"mt-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},xa={class:"p-6 border-b border-gray-200 dark:border-gray-700"},va={class:"flex justify-between items-center flex-wrap gap-4"},fa={class:"text-lg font-semibold dark:text-gray-200"},ba={class:"flex gap-2 items-center flex-wrap"},wa=["disabled"],ha={key:0},ma={key:1},ka=["disabled"],_a={key:0},$a={key:1},Ca={key:0,class:"p-8 text-center"},Sa={key:1,class:"p-8 text-center"},La={key:2,class:"overflow-x-auto"},Ma={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Ta={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Da={class:"px-6 py-4 whitespace-nowrap"},ja={class:"text-sm font-medium dark:text-gray-200"},Ba={class:"px-6 py-4 whitespace-nowrap"},Ia={class:"text-sm dark:text-gray-300"},Oa={class:"px-6 py-4 whitespace-nowrap"},Ua={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},za={class:"flex gap-2 items-center"},Qa=["onClick"],qa=["onClick","disabled"],Ea=["onClick","disabled"],Va={class:"mt-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},Aa={class:"p-6 border-b border-gray-200 dark:border-gray-700"},Na={class:"flex justify-between items-center"},Fa=["disabled"],Ra={key:0},Wa={key:1},Ha={key:0,class:"p-8 text-center"},Pa={key:1,class:"p-4 bg-red-50 dark:bg-red-900 border-l-4 border-red-500"},Ja={class:"text-red-800 dark:text-red-200"},Ka={key:2,class:"p-8 text-center"},Ga={key:3},Za={key:0,class:"p-4 bg-blue-50 dark:bg-blue-900 border-b border-gray-200 dark:border-gray-700"},Xa={class:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center"},Ya={class:"text-2xl font-bold dark:text-gray-200"},to={class:"text-2xl font-bold dark:text-gray-200"},eo={class:"text-2xl font-bold dark:text-gray-200"},so={class:"overflow-x-auto"},ao={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},oo={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},ro={class:"px-6 py-4 whitespace-nowrap text-sm font-medium dark:text-gray-200"},no={class:"px-6 py-4 whitespace-nowrap"},lo={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},io={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},co={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},uo={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},go={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},yo={class:"mt-6 bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden"},po={class:"p-6 border-b border-gray-200 dark:border-gray-700"},xo={class:"flex justify-between items-center"},vo=["disabled"],fo={key:0},bo={key:1},wo={key:0,class:"p-8 text-center"},ho={key:1,class:"p-8 text-center"},mo={key:2,class:"overflow-x-auto"},ko={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},_o={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},$o={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},Co={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},So={class:"px-6 py-4 whitespace-nowrap text-sm dark:text-gray-300"},Lo={class:"px-6 py-4 whitespace-nowrap text-sm"},Mo=["onClick","disabled"],To=["onClick"],Do=["onClick"],jo={class:"p-6"},Bo={class:"bg-gray-100 dark:bg-gray-900 p-4 rounded overflow-auto max-h-96 text-sm dark:text-gray-300"},Io={class:"mt-4 flex justify-end"},Oo={class:"p-6"},Uo={class:"bg-red-50 dark:bg-red-900 border-l-4 border-red-500 p-4 mb-4"},zo={class:"font-medium dark:text-gray-200"},Qo={class:"text-sm mt-2 dark:text-gray-300"},qo={class:"bg-gray-100 dark:bg-gray-900 p-4 rounded overflow-auto max-h-64 text-xs dark:text-gray-300"},Eo={class:"mt-4 flex justify-end gap-2"},Vo={class:"p-6"},Ao={class:"text-lg font-semibold mb-4 dark:text-gray-200"},No={key:0,class:"text-center py-8"},Fo={key:1,class:"bg-red-50 dark:bg-red-900 border-l-4 border-red-500 p-4 mb-4"},Ro={class:"text-red-800 dark:text-red-200"},Wo={key:2},Ho={class:"mb-4 flex justify-between items-center"},Po={class:"text-sm text-gray-600 dark:text-gray-400"},Jo={class:"font-semibold"},Ko={class:"text-sm text-gray-600 dark:text-gray-400"},Go={class:"font-semibold"},Zo={key:0,class:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900 rounded text-xs"},Xo={key:1,class:"overflow-x-auto max-h-96 border border-gray-200 dark:border-gray-700 rounded"},Yo={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 text-sm"},tr={class:"bg-gray-50 dark:bg-gray-700 sticky top-0"},er={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},sr={key:0},ar=["colspan"],or={key:2,class:"p-8 text-center text-gray-500 dark:text-gray-400"},rr={class:"text-xs mt-2"},nr={key:3,class:"mt-4 flex justify-between items-center"},lr={class:"text-sm text-gray-600 dark:text-gray-400"},dr={class:"flex gap-2"},ir=["disabled"],cr=["disabled"],ur={class:"mt-4 flex justify-end"},gr={__name:"SyncMonitor",setup(ot){const l=re(),f=g([]),x=g({online:navigator.onLine,syncing:!1}),w=g({pendingCount:0,lastSync:null}),S=g({cars:0,contracts:0,transactions:0}),O={environmentLabel:"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641",tip:"\u2014",host:"-",port:"",protocol:"-",origin:"-",secure:!1,networkType:"\u063A\u064A\u0631 \u0645\u062A\u0627\u062D",effectiveType:"\u063A\u064A\u0631 \u0645\u062A\u0627\u062D",downlink:null,rtt:null,apiBaseUrl:"-",lastUpdated:null,isLocal:!1},p=g(ht()),G=g(!1),Z=g(!1),X=g(new Set),U=g("all"),D=g(1),z=g(10);let N=null,k=null;const Q=g({show:!1,data:null}),$=g({show:!1,item:null,title:"",message:"",stack:""}),Y=g([]),F=g(!1),b=g(!1),u=g("auto"),j=g("mysql"),R=g([]),q=g(!1),tt=g(!1),lt=g(null),dt=g(null),C=g({data:[],stats:null,error:null}),et=g(!1),Mt=g({connection:"mysql",is_fallback:!1}),c=g({show:!1,tableName:"",columns:[],data:[],total:0,limit:50,offset:0,connection:"",error:null}),it=g(!1),st=T(()=>({total:f.value.length,synced:f.value.filter(a=>a.synced).length,pending:f.value.filter(a=>!a.synced&&a.retries<3).length,failed:f.value.filter(a=>a.retries>=3).length})),rt=T(()=>{let a=f.value;U.value==="pending"?a=a.filter(s=>!s.synced&&s.retries<3):U.value==="synced"?a=a.filter(s=>s.synced):U.value==="failed"&&(a=a.filter(s=>s.retries>=3));const e=(D.value-1)*z.value,d=e+z.value;return a.slice(e,d)}),Tt=T(()=>({all:"",pending:"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631",synced:"\u062A\u0645\u062A \u0645\u0632\u0627\u0645\u0646\u062A\u0647\u0627",failed:"\u0641\u0634\u0644\u062A"})[U.value]||""),Dt=T(()=>Math.ceil(f.value.length/z.value)),jt=T(()=>{if(!w.value.lastSync)return"\u0644\u0645 \u062A\u062A\u0645 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0639\u062F";const a=new Date(w.value.lastSync),d=new Date-a,s=Math.floor(d/6e4),i=Math.floor(d/36e5),y=Math.floor(d/864e5);return s<1?"\u0645\u0646\u0630 \u0644\u062D\u0638\u0627\u062A":s<60?`\u0645\u0646\u0630 ${s} \u062F\u0642\u064A\u0642\u0629`:i<24?`\u0645\u0646\u0630 ${i} \u0633\u0627\u0639\u0629`:`\u0645\u0646\u0630 ${y} \u064A\u0648\u0645`}),L=async()=>{G.value=!0;try{if(x.value.online=navigator.onLine,H(),window.$db){const a=await window.$db.getAll("sync_queue");f.value=a.sort((e,d)=>d.timestamp-e.timestamp),w.value.pendingCount=a.filter(e=>!e.synced).length}if(window.$db&&(S.value={cars:(await window.$db.getAll("cars")).length,contracts:(await window.$db.getAll("contracts")).length,transactions:(await window.$db.getAll("transactions")).length}),window.$api){const a=await window.$api.getSyncStatus();w.value.pendingCount=a.pendingCount}l.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",{timeout:2e3})}catch(a){console.error("\u0641\u0634\u0644 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A:",a),l.error("\u0641\u0634\u0644 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A")}finally{G.value=!1}},yt=async()=>{if(!x.value.online){l.warning("\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 - \u063A\u064A\u0631 \u0645\u062A\u0635\u0644 \u0628\u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A");return}Z.value=!0,x.value.syncing=!0;try{l.info("\u{1F504} \u0628\u062F\u0621 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...",{timeout:3e3}),window.$api&&(await window.$api.syncNow(),w.value.lastSync=Date.now()),window.$db&&await window.$db.processSyncQueue(),await L(),l.success("\u2705 \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0646\u062C\u0627\u062D!",{timeout:3e3})}catch(a){console.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",a),l.error("\u274C \u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: "+a.message)}finally{Z.value=!1,x.value.syncing=!1}},pt=async a=>{if(!x.value.online){l.warning("\u0644\u0627 \u064A\u0645\u0643\u0646 \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 - \u063A\u064A\u0631 \u0645\u062A\u0635\u0644");return}X.value.add(a.id);try{l.info(`\u{1F504} \u0625\u0639\u0627\u062F\u0629 \u0645\u062D\u0627\u0648\u0644\u0629 ${ct(a.storeName)}...`),window.$db&&(await window.$db.syncItem(a),a.synced=!0,a.retries=(a.retries||0)+1,await window.$db.save("sync_queue",a),l.success("\u2705 \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0646\u062C\u0627\u062D!"),await L())}catch(e){console.error("\u0641\u0634\u0644\u062A \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629:",e),a.retries=(a.retries||0)+1,a.error={message:e.message,timestamp:Date.now()},window.$db&&await window.$db.save("sync_queue",a),l.error("\u274C \u0641\u0634\u0644\u062A \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629"),await L()}finally{X.value.delete(a.id)}},Bt=async a=>{if(!!confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629\u061F"))try{window.$db&&(await window.$db.delete("sync_queue",a.id),l.success("\u062A\u0645 \u0627\u0644\u062D\u0630\u0641"),await L())}catch(e){console.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641:",e),l.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641")}},It=async()=>{if(!!confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0643\u0644 \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A\u061F \u0633\u064A\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0641\u0642\u0637."))try{if(window.$db){const a=f.value.filter(e=>e.synced);for(const e of a)await window.$db.delete("sync_queue",e.id);l.success(`\u062A\u0645 \u062D\u0630\u0641 ${a.length} \u0639\u0645\u0644\u064A\u0629`),await L()}}catch(a){console.error("\u0641\u0634\u0644 \u0627\u0644\u0645\u0633\u062D:",a),l.error("\u0641\u0634\u0644 \u0645\u0633\u062D \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A")}},Ot=a=>{Q.value={show:!0,data:a.data}},Ut=a=>{var e,d;$.value={show:!0,item:a,title:`\u0641\u0634\u0644 ${xt(a.action)} ${ct(a.storeName)}`,message:((e=a.error)==null?void 0:e.message)||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641",stack:((d=a.error)==null?void 0:d.stack)||"\u0644\u0627 \u062A\u0648\u062C\u062F \u062A\u0641\u0627\u0635\u064A\u0644 \u0625\u0636\u0627\u0641\u064A\u0629"}},zt=async a=>{$.value.show=!1,await pt(a)},ct=a=>({cars:"\u{1F697} \u0633\u064A\u0627\u0631\u0629",contracts:"\u{1F4C4} \u0639\u0642\u062F",transactions:"\u{1F4B0} \u0645\u0639\u0627\u0645\u0644\u0629",sync_queue:"\u{1F504} \u0645\u0632\u0627\u0645\u0646\u0629"})[a]||a,Qt=a=>({cars:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",contracts:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",transactions:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"})[a]||"bg-gray-100 text-gray-800",xt=a=>({save:"\u{1F4BE} \u062D\u0641\u0638",update:"\u270F\uFE0F \u062A\u062D\u062F\u064A\u062B",delete:"\u{1F5D1}\uFE0F \u062D\u0630\u0641"})[a]||a,qt=a=>({save:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",update:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",delete:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[a]||"bg-gray-100 text-gray-800",Et=a=>{if(!a)return"-";const e=new Date(a),s=new Date-e,i=Math.floor(s/6e4),y=Math.floor(s/36e5);return i<1?"\u0627\u0644\u0622\u0646":i<60?`\u0645\u0646\u0630 ${i} \u062F\u0642\u064A\u0642\u0629`:y<24?`\u0645\u0646\u0630 ${y} \u0633\u0627\u0639\u0629`:e.toLocaleDateString("ar-SA")+" "+e.toLocaleTimeString("ar-SA")},Vt=()=>{l.info(`\u{1F4A1} \u0644\u0627\u062E\u062A\u0628\u0627\u0631 Offline Mode:
1. \u0627\u0641\u062A\u062D DevTools (F12)
2. \u0627\u0630\u0647\u0628 \u0625\u0644\u0649 Network
3. \u062D\u062F\u062F "Offline"`,{timeout:8e3})},At=async()=>{if(!!confirm("\u0647\u0644 \u062A\u0631\u064A\u062F \u0645\u0633\u062D \u0643\u0644 \u0627\u0644\u0640 Cache\u061F"))try{if(window.$db&&await window.$db.clearExpiredCache(),"caches"in window){const a=await caches.keys();await Promise.all(a.map(e=>caches.delete(e)))}l.success("\u2705 \u062A\u0645 \u0645\u0633\u062D \u0627\u0644\u0640 Cache"),setTimeout(()=>window.location.reload(),1e3)}catch{l.error("\u0641\u0634\u0644 \u0645\u0633\u062D \u0627\u0644\u0640 Cache")}},Nt=()=>{const a={timestamp:new Date().toISOString(),connectionStatus:x.value,syncStatus:w.value,queueItems:f.value,localDataCounts:S.value,stats:st.value},e=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),d=URL.createObjectURL(e),s=document.createElement("a");s.href=d,s.download=`sync-logs-${Date.now()}.json`,s.click(),l.success("\u2705 \u062A\u0645 \u062A\u0635\u062F\u064A\u0631 \u0627\u0644\u0640 Logs")},Ft=async()=>{try{const a={online:x.value.online,pendingSync:w.value.pendingCount,localData:S.value,queueSize:f.value.length,browserSupport:{serviceWorker:"serviceWorker"in navigator,indexedDB:"indexedDB"in window,cacheAPI:"caches"in window}};console.table(a),l.info("\u{1F4CA} \u062A\u0645 \u0639\u0631\u0636 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0641\u064A Console",{timeout:3e3})}catch{l.error("\u0641\u0634\u0644 \u0639\u0631\u0636 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A")}},vt=()=>{x.value.online=!0,H(),l.success("\u{1F310} \u0639\u0627\u062F \u0627\u0644\u0627\u062A\u0635\u0627\u0644!"),L(),setTimeout(()=>{w.value.pendingCount>0&&yt()},1e3)},ft=()=>{x.value.online=!1,H(),l.warning("\u{1F4F4} \u0641\u0642\u062F\u0627\u0646 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 - \u0648\u0636\u0639 Offline"),L()},W=async()=>{var a,e;F.value=!0;try{const d={};u.value!=="auto"&&(d.force_connection=u.value);const s=await M.get("/api/sync-monitor/tables",{params:d,withCredentials:!0});Y.value=s.data.tables||[],Mt.value={connection:s.data.connection||"mysql",is_fallback:s.data.is_fallback||!1},j.value=s.data.connection||"mysql",l.success("\u062A\u0645 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3})}catch(d){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062C\u062F\u0627\u0648\u0644:",d),l.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062C\u062F\u0627\u0648\u0644: "+(((e=(a=d.response)==null?void 0:a.data)==null?void 0:e.error)||d.message))}finally{F.value=!1}},Rt=(a,e=null)=>{const d=`/sync-monitor/table/${a}${e?`?connection=${e}`:""}`;le.router.visit(d)},bt=async(a,e=0,d=null)=>{var s,i,y,v;it.value=!0,c.value.error=null;try{const B={limit:c.value.limit,offset:e},at=d||c.value.tableConnection;at?B.force_connection=at:u.value!=="auto"&&(B.force_connection=u.value);const h=await M.get(`/api/sync-monitor/table/${a}`,{params:B,withCredentials:!0});console.log("Table details response:",{table:a,connection:at,columns:h.data.columns,columns_type:typeof h.data.columns,columns_is_array:Array.isArray(h.data.columns),data_count:((s=h.data.data)==null?void 0:s.length)||0,total:h.data.total,first_row:((i=h.data.data)==null?void 0:i[0])||null,response_data:h.data});let E=[];Array.isArray(h.data.columns)?E=h.data.columns:h.data.columns&&typeof h.data.columns=="object"&&(E=Object.values(h.data.columns));let V=[];if(Array.isArray(h.data.data)?V=h.data.data:h.data.data&&typeof h.data.data=="object"&&(V=Object.values(h.data.data)),E.length===0&&V.length>0){const ut=V[0];ut&&typeof ut=="object"&&(E=Object.keys(ut),console.log("Extracted columns from data:",E))}console.log("Final columns and data:",{columns_count:E.length,columns:E,data_count:V.length,first_row_keys:V.length>0?Object.keys(V[0]):[]}),c.value.columns=E,c.value.data=V,c.value.total=h.data.total||0,c.value.offset=h.data.offset||0,c.value.connection=h.data.connection||"",console.log("Table details modal updated:",{columns:c.value.columns.length,data:c.value.data.length,total:c.value.total})}catch(B){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062C\u062F\u0648\u0644:",B),c.value.error=((v=(y=B.response)==null?void 0:y.data)==null?void 0:v.error)||B.message||"\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",l.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062C\u062F\u0648\u0644")}finally{it.value=!1}},Wt=a=>a==null?"-":typeof a=="boolean"?a?"\u2713":"\u2717":typeof a=="object"?JSON.stringify(a):typeof a=="string"&&a.length>50?a.substring(0,50)+"...":String(a),wt=async()=>{var a,e,d,s;et.value=!0,C.value.error=null;try{const i=await M.get("/api/sync-monitor/metadata",{withCredentials:!0});C.value.data=i.data.metadata||[],C.value.stats=i.data.stats||null,l.success("\u062A\u0645 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",{timeout:2e3})}catch(i){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",i),C.value.error=((e=(a=i.response)==null?void 0:a.data)==null?void 0:e.error)||i.message||"\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",l.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: "+(((s=(d=i.response)==null?void 0:d.data)==null?void 0:s.error)||i.message))}finally{et.value=!1}},nt=async()=>{var a,e;q.value=!0;try{const d=await M.get("/api/sync-monitor/backups",{withCredentials:!0});R.value=d.data.backups||[],l.success("\u062A\u0645 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629",{timeout:2e3})}catch(d){console.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629:",d),l.error("\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: "+(((e=(a=d.response)==null?void 0:a.data)==null?void 0:e.error)||d.message))}finally{q.value=!1}},Ht=async a=>{var e,d;if(!!confirm(`\u26A0\uFE0F \u062A\u062D\u0630\u064A\u0631: \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 "${a}"\u061F

\u0647\u0630\u0627 \u0633\u064A\u0633\u062A\u0628\u062F\u0644 \u062C\u0645\u064A\u0639 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062D\u0627\u0644\u064A\u0629 \u0641\u064A \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A!`)){tt.value=!0;try{const s=await M.post("/api/sync-monitor/restore-backup",{backup_file:a},{withCredentials:!0});s.data.success?(l.success("\u2705 \u062A\u0645\u062A \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:3e3}),await nt(),await W()):l.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629: "+(s.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"))}catch(s){console.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629:",s),l.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629: "+(((d=(e=s.response)==null?void 0:e.data)==null?void 0:d.error)||s.message))}finally{tt.value=!1}}},Pt=a=>{window.open(`/api/sync-monitor/download-backup?file=${encodeURIComponent(a)}`,"_blank")},Jt=async a=>{var e,d;if(!!confirm(`\u26A0\uFE0F \u062A\u062D\u0630\u064A\u0631: \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 "${a}"\u061F

\u0647\u0630\u0627 \u0627\u0644\u0625\u062C\u0631\u0627\u0621 \u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646\u0647!`))try{const s=await M.delete("/api/sync-monitor/backup/delete",{params:{file:a},withCredentials:!0});s.data.success?(l.success("\u2705 \u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:3e3}),await nt()):l.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641: "+(s.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"))}catch(s){console.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641:",s),l.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641: "+(((d=(e=s.response)==null?void 0:e.data)==null?void 0:d.error)||s.message))}},Kt=a=>{if(!a)return"0 B";const e=1024,d=["B","KB","MB","GB"],s=Math.floor(Math.log(a)/Math.log(e));return Math.round(a/Math.pow(e,s)*100)/100+" "+d[s]},Gt=a=>a?new Date(a).toLocaleString("ar-EG"):"-",Zt=async a=>{var e,d;if(!!confirm(`\u26A0\uFE0F \u062A\u062D\u0630\u064A\u0631: \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062A\u0641\u0631\u064A\u063A \u0627\u0644\u062C\u062F\u0648\u0644 "${a}"\u061F

\u0647\u0630\u0627 \u0633\u064A\u062D\u0630\u0641 \u062C\u0645\u064A\u0639 \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0645\u0646 \u0627\u0644\u062C\u062F\u0648\u0644 \u0641\u064A SQLite \u0627\u0644\u0645\u062D\u0644\u064A!`)){lt.value=a;try{const s=await M.post(`/api/sync-monitor/table/${a}/truncate`,{},{withCredentials:!0});s.data.success?(l.success(`\u2705 \u062A\u0645 \u062A\u0641\u0631\u064A\u063A \u0627\u0644\u062C\u062F\u0648\u0644 ${a} \u0628\u0646\u062C\u0627\u062D`,{timeout:3e3}),await W()):l.error("\u0641\u0634\u0644 \u0627\u0644\u062A\u0641\u0631\u064A\u063A: "+(s.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"))}catch(s){console.error("\u0641\u0634\u0644 \u062A\u0641\u0631\u064A\u063A \u0627\u0644\u062C\u062F\u0648\u0644:",s),l.error("\u0641\u0634\u0644 \u0627\u0644\u062A\u0641\u0631\u064A\u063A: "+(((d=(e=s.response)==null?void 0:e.data)==null?void 0:d.error)||s.message))}finally{lt.value=null}}},Xt=async a=>{var e,d;if(!!confirm(`\u26A0\uFE0F\u26A0\uFE0F\u26A0\uFE0F \u062A\u062D\u0630\u064A\u0631 \u0634\u062F\u064A\u062F: \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u062A\u0645\u0627\u0645\u0627\u064B \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644 "${a}"\u061F

\u0647\u0630\u0627 \u0633\u064A\u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644 \u0628\u0627\u0644\u0643\u0627\u0645\u0644 \u0645\u0646 SQLite \u0627\u0644\u0645\u062D\u0644\u064A!

\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629!`)&&!!confirm(`\u26A0\uFE0F \u062A\u0623\u0643\u064A\u062F \u0646\u0647\u0627\u0626\u064A: \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F 100% \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644 "${a}"\u061F`)){dt.value=a;try{const s=await M.delete(`/api/sync-monitor/table/${a}/delete`,{withCredentials:!0});s.data.success?(l.success(`\u2705 \u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644 ${a} \u0628\u0646\u062C\u0627\u062D`,{timeout:3e3}),await W()):l.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641: "+(s.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"))}catch(s){console.error("\u0641\u0634\u0644 \u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644:",s),l.error("\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641: "+(((d=(e=s.response)==null?void 0:e.data)==null?void 0:d.error)||s.message))}finally{dt.value=null}}},Yt=async()=>{var e,d;if(!!confirm(`\u0647\u0644 \u062A\u0631\u064A\u062F \u0645\u0632\u0627\u0645\u0646\u0629 \u062C\u0645\u064A\u0639 \u0627\u0644\u062C\u062F\u0627\u0648\u0644\u061F

\u26A0\uFE0F \u062D\u0645\u0627\u064A\u0629 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0633\u064A\u0631\u0641\u0631:
\u2705 \u0633\u064A\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 \u062A\u0644\u0642\u0627\u0626\u064A\u0627\u064B
\u2705 Safe Mode: \u0625\u0636\u0627\u0641\u0629 \u0641\u0642\u0637 (\u0644\u0627 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0629)
\u2705 Transaction \u0645\u0639 Rollback \u0641\u064A \u062D\u0627\u0644\u0629 \u0627\u0644\u062E\u0637\u0623

\u0633\u064A\u062A\u0645:
1. \u0646\u0642\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 SQLite \u0625\u0644\u0649 MySQL (\u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062D\u0644\u064A\u0629 \u2192 \u0627\u0644\u0633\u064A\u0631\u0641\u0631)
2. \u062B\u0645 \u062A\u062D\u062F\u064A\u062B SQLite \u0645\u0646 MySQL (\u0627\u0644\u062A\u062D\u062F\u064A\u062B\u0627\u062A \u0645\u0646 \u0627\u0644\u0633\u064A\u0631\u0641\u0631)`)){b.value=!0;try{l.info("\u{1F504} \u0628\u062F\u0621 \u0639\u0645\u0644\u064A\u0629 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0645\u0639 \u0627\u0644\u062D\u0645\u0627\u064A\u0629...",{timeout:3e3}),l.info("\u{1F4E4} \u0646\u0642\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 SQLite \u0625\u0644\u0649 MySQL (Safe Mode)...",{timeout:3e3});const s=await M.post("/api/sync-monitor/sync",{direction:"up",tables:null,safe_mode:!0,create_backup:!0},{withCredentials:!0});if(s.data.success){const y=s.data.results;console.log("\u2705 \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0645\u0646 SQLite \u0625\u0644\u0649 MySQL:",y),y.backup_file&&(console.log("\u{1F4BE} \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629:",y.backup_file),l.info(`\u{1F4BE} \u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0646\u0633\u062E\u0629 \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: ${y.backup_file.split("/").pop()}`,{timeout:3e3}))}else console.error("\u274C \u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0645\u0646 SQLite \u0625\u0644\u0649 MySQL:",s.data.error),l.error("\u274C \u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 - \u062A\u0645 Rollback \u0648\u062D\u0645\u0627\u064A\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A");l.info("\u{1F4E5} \u062A\u062D\u062F\u064A\u062B SQLite \u0645\u0646 MySQL...",{timeout:3e3});const i=await M.post("/api/sync-monitor/sync",{direction:"down",tables:null},{withCredentials:!0});if(i.data.success){const y=i.data.results;let v=`\u2705 \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0628\u0646\u062C\u0627\u062D!

`;v+=`\u{1F4E4} \u0646\u0642\u0644 \u0625\u0644\u0649 MySQL: ${(resultsUp==null?void 0:resultsUp.total_synced)||0} \u0633\u062C\u0644 (Safe Mode)
`,v+=`\u{1F4E5} \u062A\u062D\u062F\u064A\u062B \u0645\u0646 MySQL: ${y.total_synced} \u0633\u062C\u0644
`,v+=`\u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: ${Object.keys(y.success).length}
`,resultsUp!=null&&resultsUp.backup_file&&(v+=`
\u{1F4BE} \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629: ${resultsUp.backup_file.split("/").pop()}`),(Object.keys(y.failed).length>0||Object.keys((resultsUp==null?void 0:resultsUp.failed)||{}).length>0)&&(v+=`
\u26A0\uFE0F \u0641\u0634\u0644\u062A \u0628\u0639\u0636 \u0627\u0644\u062C\u062F\u0627\u0648\u0644`),l.success(v,{timeout:7e3}),await W()}else l.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: "+(i.data.error||"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"))}catch(s){console.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629:",s),l.error("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629: "+(((d=(e=s.response)==null?void 0:e.data)==null?void 0:d.error)||s.message))}finally{b.value=!1}}};$t(()=>{L(),H(),W(),nt(),wt(),window.addEventListener("online",vt),window.addEventListener("offline",ft),N=setInterval(L,1e4),k=mt(),k!=null&&k.addEventListener?k.addEventListener("change",H):k&&(k.onchange=H)}),Ct(()=>{window.removeEventListener("online",vt),window.removeEventListener("offline",ft),N&&(clearInterval(N),N=null),k!=null&&k.removeEventListener?k.removeEventListener("change",H):k&&(k.onchange=null)});const H=()=>{p.value=ht()};function ht(){if(typeof window>"u")return{...O};const{protocol:a,hostname:e,port:d,origin:s}=window.location,i=(e||"").toLowerCase(),y=["localhost","127.0.0.1"].includes(i)||i.startsWith("192.168.")||i.startsWith("10.")||i.endsWith(".local"),v=mt(),B=typeof(v==null?void 0:v.downlink)=="number"?Number(v.downlink.toFixed(1)):null,at=typeof(v==null?void 0:v.rtt)=="number"?Math.round(v.rtt):null,h=te(s);return{environmentLabel:y?"\u{1F5A5}\uFE0F \u0628\u064A\u0626\u0629 \u0645\u062D\u0644\u064A\u0629 (Local)":"\u2601\uFE0F \u0627\u062A\u0635\u0627\u0644 \u062E\u0627\u062F\u0645/\u0633\u064A\u0631\u0641\u0631",tip:y?"\u0623\u0646\u062A \u062A\u0639\u0645\u0644 \u0639\u0644\u0649 \u0646\u0633\u062E\u0629 \u0645\u062D\u0644\u064A\u0629\u060C \u062A\u0630\u0643\u0651\u0631 \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0642\u0628\u0644 \u0646\u0634\u0631\u0647\u0627.":"\u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0645\u0628\u0627\u0634\u0631 \u0628\u0627\u0644\u0633\u064A\u0631\u0641\u0631\u060C \u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0633\u062A\u0642\u0631\u0627\u0631 \u0627\u0644\u0634\u0628\u0643\u0629 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629.",host:e||"-",port:d||(a==="https:"?"443":"80"),protocol:a?a.replace(":","").toUpperCase():"-",origin:s||"-",secure:a==="https:",networkType:(v==null?void 0:v.type)||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641",effectiveType:(v==null?void 0:v.effectiveType)||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641",downlink:B,rtt:at,apiBaseUrl:h,lastUpdated:new Date().toLocaleTimeString("ar-SA"),isLocal:y}}function te(a="-"){var e,d,s,i,y;return typeof window>"u"?a:(d=(e=window==null?void 0:window.axios)==null?void 0:e.defaults)!=null&&d.baseURL?window.axios.defaults.baseURL:(s=window==null?void 0:window.Ziggy)!=null&&s.url?window.Ziggy.url:(i=window==null?void 0:window.Laravel)!=null&&i.baseUrl?window.Laravel.baseUrl:((y=window.location)==null?void 0:y.origin)||a||"-"}function mt(){return typeof navigator>"u"?null:navigator.connection||navigator.mozConnection||navigator.webkitConnection||null}return(a,e)=>(r(),n(I,null,[A(St(ne),{title:"\u0645\u0631\u0627\u0642\u0628\u0629 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629"}),A(de,null,{header:K(()=>[t("div",Ue,[e[13]||(e[13]=t("h2",{class:"font-semibold text-xl dark:text-gray-200 text-gray-800"}," \u{1F504} \u0645\u0631\u0627\u0642\u0628\u0629 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0648\u0627\u0644\u0640 Offline Mode ",-1)),t("div",ze,[t("button",{onClick:L,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",disabled:G.value},[G.value?(r(),n("span",Ee,"\u23F3 \u062C\u0627\u0631\u064A...")):(r(),n("span",qe,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,Qe),w.value.pendingCount>0&&x.value.online?(r(),n("button",{key:0,onClick:yt,class:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",disabled:Z.value},[Z.value?(r(),n("span",Ne,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...")):(r(),n("span",Ae,"\u2705 \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0643\u0644"))],8,Ve)):m("",!0),t("button",{onClick:It,class:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600"}," \u{1F5D1}\uFE0F \u0645\u0633\u062D \u0627\u0644\u0643\u0644 ")])])]),default:K(()=>{var d;return[t("div",Fe,[t("div",Re,[t("div",We,[t("div",He,[t("div",Pe,[t("div",null,[e[14]||(e[14]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u062D\u0627\u0644\u0629 \u0627\u0644\u0627\u062A\u0635\u0627\u0644",-1)),t("p",{class:_(["text-2xl font-bold",x.value.online?"text-green-600":"text-red-600"])},o(x.value.online?"\u{1F310} \u0645\u062A\u0635\u0644":"\u{1F4F4} \u063A\u064A\u0631 \u0645\u062A\u0635\u0644"),3)]),t("div",{class:_(["w-16 h-16 rounded-full flex items-center justify-center text-3xl",x.value.online?"bg-green-100":"bg-red-100"])},o(x.value.online?"\u2705":"\u274C"),3)])]),t("div",Je,[t("div",Ke,[t("div",null,[e[15]||(e[15]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0641\u064A \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631",-1)),t("p",Ge,o(w.value.pendingCount)+" \u0639\u0645\u0644\u064A\u0629 ",1)]),e[16]||(e[16]=t("div",{class:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center text-3xl"}," \u23F3 ",-1))])]),t("div",Ze,[t("div",Xe,[t("div",null,[e[17]||(e[17]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0622\u062E\u0631 \u0645\u0632\u0627\u0645\u0646\u0629",-1)),t("p",Ye,o(jt.value),1)]),e[18]||(e[18]=t("div",{class:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center text-3xl"}," \u{1F550} ",-1))])])]),t("div",ts,[t("div",es,[t("div",null,[e[19]||(e[19]=t("h3",{class:"text-lg font-semibold dark:text-gray-200"},"\u2139\uFE0F \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0627\u0644\u062D\u0627\u0644\u064A\u0629",-1)),t("p",ss,o(p.value.tip),1)]),t("span",{class:_(["px-3 py-1 rounded-full text-sm font-semibold",p.value.isLocal?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100":"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-100"])},o(p.value.environmentLabel),3)]),t("div",as,[t("div",null,[e[20]||(e[20]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0627\u0644\u0645\u0636\u064A\u0641 / \u0627\u0644\u0645\u0646\u0641\u0630",-1)),t("p",os,[J(o(p.value.host),1),p.value.port?(r(),n("span",rs,":"+o(p.value.port),1)):m("",!0)]),t("p",ns,o(p.value.protocol)+" \u2022 "+o(p.value.secure?"\u{1F512} \u0627\u062A\u0635\u0627\u0644 \u0622\u0645\u0646":"\u26A0\uFE0F \u0627\u062A\u0635\u0627\u0644 \u063A\u064A\u0631 \u0645\u0634\u0641\u0631"),1)]),t("div",null,[e[21]||(e[21]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0646\u0648\u0639 \u0627\u0644\u0634\u0628\u0643\u0629",-1)),t("p",ls,o(p.value.networkType),1),t("p",ds," Effective: "+o(p.value.effectiveType),1)]),t("div",null,[e[22]||(e[22]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0633\u0631\u0639\u0629 \u062A\u0642\u0631\u064A\u0628\u064A\u0629",-1)),t("p",is,o(p.value.downlink?p.value.downlink+" Mbps":"\u063A\u064A\u0631 \u0645\u062A\u0627\u062D"),1),t("p",cs," RTT: "+o(p.value.rtt?p.value.rtt+" ms":"\u063A\u064A\u0631 \u0645\u062A\u0627\u062D"),1)]),t("div",null,[e[23]||(e[23]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0639\u0646\u0648\u0627\u0646 API / \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1)),t("p",{class:"font-semibold truncate",title:p.value.apiBaseUrl},o(p.value.apiBaseUrl),9,us),t("p",gs," \u0622\u062E\u0631 \u062A\u062D\u062F\u064A\u062B: "+o(p.value.lastUpdated||"\u2014"),1)])]),t("div",ys,[t("span",ps,o(p.value.origin),1)])]),t("div",xs,[e[28]||(e[28]=t("h3",{class:"text-xl font-bold mb-4"},"\u{1F4CA} \u0627\u0644\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A",-1)),t("div",vs,[t("div",fs,[t("p",bs,o(st.value.total),1),e[24]||(e[24]=t("p",{class:"text-sm opacity-80"},"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A",-1))]),t("div",ws,[t("p",hs,o(st.value.synced),1),e[25]||(e[25]=t("p",{class:"text-sm opacity-80"},"\u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1))]),t("div",ms,[t("p",ks,o(st.value.pending),1),e[26]||(e[26]=t("p",{class:"text-sm opacity-80"},"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631",-1))]),t("div",_s,[t("p",$s,o(st.value.failed),1),e[27]||(e[27]=t("p",{class:"text-sm opacity-80"},"\u0641\u0634\u0644\u062A",-1))])])]),x.value.online?m("",!0):(r(),n("div",Cs,[...e[29]||(e[29]=[t("div",{class:"flex items-center"},[t("div",{class:"flex-shrink-0"},[t("span",{class:"text-3xl"},"\u26A0\uFE0F")]),t("div",{class:"mr-3"},[t("p",{class:"text-lg font-medium text-yellow-800 dark:text-yellow-200"}," \u0623\u0646\u062A \u062D\u0627\u0644\u064A\u0627\u064B \u0641\u064A \u0648\u0636\u0639 Offline "),t("p",{class:"text-sm text-yellow-700 dark:text-yellow-300"}," \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0627\u0644\u062A\u064A \u062A\u062C\u0631\u064A\u0647\u0627 \u0633\u064A\u062A\u0645 \u062D\u0641\u0638\u0647\u0627 \u0645\u062D\u0644\u064A\u0627\u064B \u0648\u0645\u0632\u0627\u0645\u0646\u062A\u0647\u0627 \u062A\u0644\u0642\u0627\u0626\u064A\u0627\u064B \u0639\u0646\u062F \u0639\u0648\u062F\u0629 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 ")])],-1)])])),t("div",Ss,[t("div",Ls,[t("div",Ms,[t("h3",Ts," \u{1F4CB} \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A ("+o(f.value.length)+") ",1),t("div",Ds,[kt(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>U.value=s),class:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-gray-200"},[...e[30]||(e[30]=[t("option",{value:"all"},"\u0627\u0644\u0643\u0644",-1),t("option",{value:"pending"},"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631",-1),t("option",{value:"synced"},"\u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1),t("option",{value:"failed"},"\u0641\u0634\u0644\u062A",-1)])],512),[[_t,U.value]])])])]),t("div",js,[t("table",Bs,[e[39]||(e[39]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," # "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0646\u0648\u0639 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0639\u0645\u0644\u064A\u0629 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0627\u062A "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0648\u0642\u062A "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u062D\u0627\u0644\u0629 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A ")])],-1)),t("tbody",Is,[rt.value.length===0?(r(),n("tr",Os,[t("td",Us,[e[31]||(e[31]=t("div",{class:"text-5xl mb-2"},"\u{1F4ED}",-1)),t("p",zs,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0639\u0645\u0644\u064A\u0627\u062A "+o(Tt.value),1)])])):m("",!0),(r(!0),n(I,null,P(rt.value,(s,i)=>(r(),n("tr",{key:s.id,class:_(["hover:bg-gray-50 dark:hover:bg-gray-700",{"bg-yellow-50 dark:bg-yellow-900":!s.synced&&s.retries<3,"bg-red-50 dark:bg-red-900":s.retries>=3,"bg-green-50 dark:bg-green-900":s.synced}])},[t("td",Qs,o(i+1),1),t("td",qs,[t("span",{class:_(["px-2 py-1 text-xs font-semibold rounded-full",Qt(s.storeName)])},o(ct(s.storeName)),3)]),t("td",Es,[t("span",{class:_(["px-2 py-1 text-xs font-semibold rounded-full",qt(s.action)])},o(xt(s.action)),3)]),t("td",Vs,[t("button",{onClick:y=>Ot(s),class:"text-blue-600 hover:text-blue-800 dark:text-blue-400 text-sm underline"}," \u0639\u0631\u0636 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644 ",8,As)]),t("td",Ns,[t("div",Fs,[t("span",null,o(s.retries||0),1),e[32]||(e[32]=t("span",{class:"text-xs text-gray-500"},"/ 3",-1)),s.retries>=3?(r(),n("div",Rs,"\u26A0\uFE0F")):m("",!0)])]),t("td",Ws,o(Et(s.timestamp)),1),t("td",Hs,[s.synced?(r(),n("span",Ps,[...e[33]||(e[33]=[t("svg",{class:"w-5 h-5 ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),J(" \u062A\u0645\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 ",-1)])])):s.retries>=3?(r(),n("span",Js,[...e[34]||(e[34]=[t("svg",{class:"w-5 h-5 ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1),J(" \u0641\u0634\u0644\u062A ",-1)])])):(r(),n("span",Ks,[...e[35]||(e[35]=[t("svg",{class:"w-5 h-5 ml-1 animate-spin",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),J(" \u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631 ",-1)])]))]),t("td",Gs,[t("div",Zs,[!s.synced&&x.value.online?(r(),n("button",{key:0,onClick:y=>pt(s),class:"text-green-600 hover:text-green-900 dark:text-green-400",disabled:X.value.has(s.id),title:"\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629"},[(r(),n("svg",{class:_(["w-5 h-5",{"animate-spin":X.value.has(s.id)}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[36]||(e[36]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])],2))],8,Xs)):m("",!0),t("button",{onClick:y=>Bt(s),class:"text-red-600 hover:text-red-900 dark:text-red-400",title:"\u062D\u0630\u0641"},[...e[37]||(e[37]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Ys),s.error?(r(),n("button",{key:1,onClick:y=>Ut(s),class:"text-orange-600 hover:text-orange-900 dark:text-orange-400",title:"\u0639\u0631\u0636 \u0627\u0644\u062E\u0637\u0623"},[...e[38]||(e[38]=[t("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)])],8,ta)):m("",!0)])])],2))),128))])])]),f.value.length>z.value?(r(),n("div",ea,[t("div",sa," \u0639\u0631\u0636 "+o((D.value-1)*z.value+1)+" \u0625\u0644\u0649 "+o(Math.min(D.value*z.value,rt.value.length))+" \u0645\u0646 "+o(rt.value.length),1),t("div",aa,[t("button",{onClick:e[1]||(e[1]=s=>D.value--),disabled:D.value===1,class:"px-3 py-1 border rounded disabled:opacity-50 dark:text-gray-200 dark:border-gray-600"}," \u0627\u0644\u0633\u0627\u0628\u0642 ",8,oa),t("button",{onClick:e[2]||(e[2]=s=>D.value++),disabled:D.value>=Dt.value,class:"px-3 py-1 border rounded disabled:opacity-50 dark:text-gray-200 dark:border-gray-600"}," \u0627\u0644\u062A\u0627\u0644\u064A ",8,ra)])])):m("",!0)]),t("div",na,[e[43]||(e[43]=t("h3",{class:"text-lg font-semibold mb-4 dark:text-gray-200"},"\u{1F4BE} \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u062A\u062E\u0632\u064A\u0646 \u0627\u0644\u0645\u062D\u0644\u064A",-1)),t("div",la,[t("div",da,[e[40]||(e[40]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",-1)),t("p",ia,o(S.value.cars),1)]),t("div",ca,[e[41]||(e[41]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0627\u0644\u0639\u0642\u0648\u062F \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",-1)),t("p",ua,o(S.value.contracts),1)]),t("div",ga,[e[42]||(e[42]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062A \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",-1)),t("p",ya,o(S.value.transactions),1)])])]),t("div",pa,[t("div",xa,[t("div",va,[t("h3",fa," \u{1F4CA} \u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 ("+o(Y.value.length)+") ",1),t("div",ba,[kt(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>u.value=s),onChange:W,class:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-gray-200 text-sm"},[...e[44]||(e[44]=[t("option",{value:"auto"},"\u{1F504} \u062A\u0644\u0642\u0627\u0626\u064A (\u062D\u0633\u0628 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0627\u0644\u062D\u0627\u0644\u064A)",-1),t("option",{value:"mysql"},"\u2601\uFE0F MySQL \u0633\u064A\u0631\u0641\u0631",-1),t("option",{value:"sync_sqlite"},"\u{1F5A5}\uFE0F SQLite \u0645\u062D\u0644\u064A",-1)])],544),[[_t,u.value]]),t("span",{class:_(["px-3 py-1 rounded-full text-sm font-semibold",j.value==="sync_sqlite"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100":"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-100"])},o(j.value==="sync_sqlite"?"\u{1F5A5}\uFE0F SQLite \u0645\u062D\u0644\u064A":"\u2601\uFE0F MySQL \u0633\u064A\u0631\u0641\u0631"),3),t("button",{onClick:W,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",disabled:F.value},[F.value?(r(),n("span",ma,"\u23F3 \u062C\u0627\u0631\u064A...")):(r(),n("span",ha,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,wa),t("button",{onClick:Yt,class:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 text-sm",disabled:b.value},[b.value?(r(),n("span",$a,"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...")):(r(),n("span",_a,"\u{1F504} \u0645\u0632\u0627\u0645\u0646\u0629 \u062B\u0646\u0627\u0626\u064A\u0629 \u0627\u0644\u0627\u062A\u062C\u0627\u0647"))],8,ka)])])]),F.value?(r(),n("div",Ca,[...e[45]||(e[45]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),t("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062C\u062F\u0627\u0648\u0644...",-1)])])):Y.value.length===0?(r(),n("div",Sa,[...e[46]||(e[46]=[t("div",{class:"text-5xl mb-2"},"\u{1F4ED}",-1),t("p",{class:"text-gray-600 dark:text-gray-400"},"\u0644\u0627 \u062A\u0648\u062C\u062F \u062C\u062F\u0627\u0648\u0644 \u0645\u062A\u0627\u062D\u0629",-1)])])):(r(),n("div",La,[t("table",Ma,[e[47]||(e[47]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0633\u0645 \u0627\u0644\u062C\u062F\u0648\u0644 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0639\u062F\u062F \u0627\u0644\u0633\u062C\u0644\u0627\u062A "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0627\u062A\u0635\u0627\u0644 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," \u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A ")])],-1)),t("tbody",Ta,[(r(!0),n(I,null,P(Y.value,s=>(r(),n("tr",{key:s.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",Da,[t("span",ja,o(s.name),1)]),t("td",Ba,[t("span",Ia,o(s.count.toLocaleString()),1)]),t("td",Oa,[t("span",{class:_(["px-2 py-1 text-xs font-semibold rounded-full",s.connection==="sync_sqlite"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200"])},o(s.connection==="sync_sqlite"?"SQLite":"MySQL"),3)]),t("td",Ua,[t("div",za,[t("button",{onClick:i=>Rt(s.name,s.connection),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400"}," \u0639\u0631\u0636 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644 ",8,Qa),s.connection==="sync_sqlite"?(r(),n(I,{key:0},[t("button",{onClick:i=>Zt(s.name),class:"text-orange-600 hover:text-orange-900 dark:text-orange-400",title:"\u062A\u0641\u0631\u064A\u063A \u0627\u0644\u062C\u062F\u0648\u0644 (\u062D\u0630\u0641 \u062C\u0645\u064A\u0639 \u0627\u0644\u0633\u062C\u0644\u0627\u062A)",disabled:lt.value===s.name}," \u{1F5D1}\uFE0F \u062A\u0641\u0631\u064A\u063A ",8,qa),t("button",{onClick:i=>Xt(s.name),class:"text-red-600 hover:text-red-900 dark:text-red-400",title:"\u062D\u0630\u0641 \u0627\u0644\u062C\u062F\u0648\u0644 \u0628\u0627\u0644\u0643\u0627\u0645\u0644",disabled:dt.value===s.name}," \u274C \u062D\u0630\u0641 ",8,Ea)],64)):m("",!0)])])]))),128))])])]))]),t("div",Va,[t("div",Aa,[t("div",Na,[e[48]||(e[48]=t("h3",{class:"text-lg font-semibold dark:text-gray-200"}," \u{1F4CA} \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0630\u0643\u064A\u0629 (sync_metadata) ",-1)),t("button",{onClick:wt,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",disabled:et.value},[et.value?(r(),n("span",Wa,"\u23F3 \u062C\u0627\u0631\u064A...")):(r(),n("span",Ra,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,Fa)]),e[49]||(e[49]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-2"}," \u064A\u0639\u0631\u0636 \u0622\u062E\u0631 ID \u0648 updated_at \u0627\u0644\u0645\u0632\u0627\u0645\u0646 \u0644\u0643\u0644 \u062C\u062F\u0648\u0644 \u0648\u0627\u062A\u062C\u0627\u0647 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 ",-1))]),et.value?(r(),n("div",Ha,[...e[50]||(e[50]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),t("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629...",-1)])])):C.value.error?(r(),n("div",Pa,[t("p",Ja,o(C.value.error),1)])):C.value.data.length===0?(r(),n("div",Ka,[...e[51]||(e[51]=[t("div",{class:"text-5xl mb-2"},"\u{1F4CB}",-1),t("p",{class:"text-gray-600 dark:text-gray-400"},"\u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0632\u0627\u0645\u0646\u0629",-1),t("p",{class:"text-xs mt-2 text-gray-500"},"\u0642\u0645 \u0628\u062A\u0634\u063A\u064A\u0644 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u0623\u0648\u0644\u0627\u064B \u0644\u0628\u062F\u0621 \u062A\u062A\u0628\u0639 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",-1)])])):(r(),n("div",Ga,[C.value.stats?(r(),n("div",Za,[t("div",Xa,[t("div",null,[t("p",Ya,o(C.value.stats.total_tables),1),e[52]||(e[52]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0639\u062F\u062F \u0627\u0644\u062C\u062F\u0627\u0648\u0644",-1))]),t("div",null,[t("p",to,o(C.value.stats.total_records),1),e[53]||(e[53]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0639\u062F\u062F \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1))]),t("div",null,[t("p",eo,o(((d=C.value.stats.total_synced_records)==null?void 0:d.toLocaleString())||0),1),e[54]||(e[54]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",-1))])])])):m("",!0),t("div",so,[t("table",ao,[e[55]||(e[55]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0633\u0645 \u0627\u0644\u062C\u062F\u0648\u0644"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u0627\u062A\u062C\u0627\u0647"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0622\u062E\u0631 ID \u0645\u0632\u0627\u0645\u0646"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0622\u062E\u0631 updated_at"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0622\u062E\u0631 \u0645\u0632\u0627\u0645\u0646\u0629"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0632\u0627\u0645\u0646"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0622\u062E\u0631 \u062A\u062D\u062F\u064A\u062B")])],-1)),t("tbody",oo,[(r(!0),n(I,null,P(C.value.data,s=>{var i,y;return r(),n("tr",{key:`${s.table_name}-${s.direction}`,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",ro,o(s.table_name),1),t("td",no,[t("span",{class:_(["px-2 py-1 text-xs font-semibold rounded-full",s.direction==="down"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"])},o(s.direction_label),3)]),t("td",lo,o(((i=s.last_synced_id)==null?void 0:i.toLocaleString())||0),1),t("td",io,o(s.last_updated_at||"-"),1),t("td",co,o(s.last_synced_at||"-"),1),t("td",uo,o(((y=s.total_synced)==null?void 0:y.toLocaleString())||0),1),t("td",go,o(s.updated_at||"-"),1)])}),128))])])])]))]),t("div",yo,[t("div",po,[t("div",xo,[e[56]||(e[56]=t("h3",{class:"text-lg font-semibold dark:text-gray-200"}," \u{1F4BE} \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629 ",-1)),t("button",{onClick:nt,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",disabled:q.value},[q.value?(r(),n("span",bo,"\u23F3 \u062C\u0627\u0631\u064A...")):(r(),n("span",fo,"\u{1F504} \u062A\u062D\u062F\u064A\u062B"))],8,vo)])]),q.value?(r(),n("div",wo,[...e[57]||(e[57]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),t("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629...",-1)])])):R.value.length===0?(r(),n("div",ho,[...e[58]||(e[58]=[t("div",{class:"text-5xl mb-2"},"\u{1F4E6}",-1),t("p",{class:"text-gray-600 dark:text-gray-400"},"\u0644\u0627 \u062A\u0648\u062C\u062F \u0646\u0633\u062E \u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629",-1)])])):(r(),n("div",mo,[t("table",ko,[e[59]||(e[59]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0633\u0645 \u0627\u0644\u0645\u0644\u0641"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u062D\u062C\u0645"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A")])],-1)),t("tbody",_o,[(r(!0),n(I,null,P(R.value,s=>(r(),n("tr",{key:s.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",$o,o(s.name),1),t("td",Co,o(Kt(s.size)),1),t("td",So,o(Gt(s.date)),1),t("td",Lo,[t("button",{onClick:i=>Ht(s.name),class:"text-red-600 hover:text-red-900 dark:text-red-400 mr-3",disabled:tt.value}," \u{1F504} \u0627\u0633\u062A\u0639\u0627\u062F\u0629 ",8,Mo),t("button",{onClick:i=>Pt(s.name),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 mr-3"}," \u{1F4E5} \u062A\u062D\u0645\u064A\u0644 ",8,To),t("button",{onClick:i=>Jt(s.name),class:"text-red-600 hover:text-red-900 dark:text-red-400",title:"\u062D\u0630\u0641 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A\u0629"}," \u{1F5D1}\uFE0F \u062D\u0630\u0641 ",8,Do)])]))),128))])])]))]),t("div",{class:"mt-6 bg-gray-50 dark:bg-gray-900 shadow-sm rounded-lg p-6"},[e[60]||(e[60]=t("h3",{class:"text-lg font-semibold mb-4 dark:text-gray-200"},"\u{1F6E0}\uFE0F \u0623\u062F\u0648\u0627\u062A \u0627\u0644\u0645\u0637\u0648\u0631",-1)),t("div",{class:"grid grid-cols-2 md:grid-cols-4 gap-3"},[t("button",{onClick:Vt,class:"px-4 py-2 bg-indigo-500 text-white rounded hover:bg-indigo-600"}," \u{1F9EA} \u0627\u062E\u062A\u0628\u0627\u0631 Offline "),t("button",{onClick:At,class:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600"}," \u{1F5D1}\uFE0F \u0645\u0633\u062D Cache "),t("button",{onClick:Nt,class:"px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600"}," \u{1F4E5} \u062A\u0635\u062F\u064A\u0631 Logs "),t("button",{onClick:Ft,class:"px-4 py-2 bg-teal-500 text-white rounded hover:bg-teal-600"}," \u{1F4CA} \u0645\u0639\u0644\u0648\u0645\u0627\u062A DB ")])])])]),A(gt,{show:Q.value.show,onClose:e[5]||(e[5]=s=>Q.value.show=!1)},{default:K(()=>[t("div",jo,[e[61]||(e[61]=t("h3",{class:"text-lg font-semibold mb-4 dark:text-gray-200"},"\u{1F4C4} \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",-1)),t("pre",Bo,o(JSON.stringify(Q.value.data,null,2)),1),t("div",Io,[t("button",{onClick:e[4]||(e[4]=s=>Q.value.show=!1),class:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600"}," \u0625\u063A\u0644\u0627\u0642 ")])])]),_:1},8,["show"]),A(gt,{show:$.value.show,onClose:e[8]||(e[8]=s=>$.value.show=!1)},{default:K(()=>[t("div",Oo,[e[62]||(e[62]=t("h3",{class:"text-lg font-semibold mb-4 text-red-600 dark:text-red-400"},"\u274C \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062E\u0637\u0623",-1)),t("div",Uo,[t("p",zo,o($.value.title),1),t("p",Qo,o($.value.message),1)]),t("pre",qo,o($.value.stack),1),t("div",Eo,[t("button",{onClick:e[6]||(e[6]=s=>zt($.value.item)),class:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600"}," \u{1F504} \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 "),t("button",{onClick:e[7]||(e[7]=s=>$.value.show=!1),class:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600"}," \u0625\u063A\u0644\u0627\u0642 ")])])]),_:1},8,["show"]),A(gt,{show:c.value.show,onClose:e[12]||(e[12]=s=>c.value.show=!1)},{default:K(()=>{var s;return[t("div",Vo,[t("h3",Ao," \u{1F4CB} \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062C\u062F\u0648\u0644: "+o(c.value.tableName),1),it.value?(r(),n("div",No,[...e[63]||(e[63]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),t("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...",-1)])])):c.value.error?(r(),n("div",Fo,[t("p",Ro,o(c.value.error),1)])):(r(),n("div",Wo,[t("div",Ho,[t("div",Po,[e[64]||(e[64]=J(" \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0633\u062C\u0644\u0627\u062A: ",-1)),t("span",Jo,o(((s=c.value.total)==null?void 0:s.toLocaleString())||0),1)]),t("div",Ko,[e[65]||(e[65]=J(" \u0627\u0644\u0627\u062A\u0635\u0627\u0644: ",-1)),t("span",Go,o(c.value.connection||"-"),1)])]),c.value.columns.length===0&&c.value.data.length>0?(r(),n("div",Zo," \u26A0\uFE0F \u0627\u0644\u0623\u0639\u0645\u062F\u0629 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629\u060C \u064A\u062A\u0645 \u0627\u0633\u062A\u062E\u0631\u0627\u062C\u0647\u0627 \u0645\u0646 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A... ")):m("",!0),c.value.columns.length>0?(r(),n("div",Xo,[t("table",Yo,[t("thead",tr,[t("tr",null,[(r(!0),n(I,null,P(c.value.columns,i=>(r(),n("th",{key:i,class:"px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase border-r border-gray-200 dark:border-gray-600"},o(i),1))),128))])]),t("tbody",er,[c.value.data.length===0?(r(),n("tr",sr,[t("td",{colspan:c.value.columns.length||1,class:"px-4 py-8 text-center text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A ",8,ar)])):m("",!0),(r(!0),n(I,null,P(c.value.data,(i,y)=>(r(),n("tr",{key:y,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[(r(!0),n(I,null,P(c.value.columns,v=>(r(),n("td",{key:`${y}-${v}`,class:"px-4 py-2 text-xs dark:text-gray-300 border-r border-gray-100 dark:border-gray-700 whitespace-nowrap"},o(Wt(i[v])),1))),128))]))),128))])])])):(r(),n("div",or,[e[66]||(e[66]=t("div",{class:"text-5xl mb-2"},"\u{1F4CB}",-1)),e[67]||(e[67]=t("p",null,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0623\u0639\u0645\u062F\u0629 \u0645\u062A\u0627\u062D\u0629 \u0644\u0644\u0639\u0631\u0636",-1)),t("p",rr,"\u0639\u062F\u062F \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A: "+o(c.value.data.length),1)])),c.value.total>c.value.limit?(r(),n("div",nr,[t("div",lr," \u0639\u0631\u0636 "+o(c.value.offset+1)+" \u0625\u0644\u0649 "+o(Math.min(c.value.offset+c.value.limit,c.value.total))+" \u0645\u0646 "+o(c.value.total),1),t("div",dr,[t("button",{onClick:e[9]||(e[9]=i=>bt(c.value.tableName,c.value.offset-c.value.limit,c.value.tableConnection)),disabled:c.value.offset===0,class:"px-3 py-1 border rounded disabled:opacity-50 dark:text-gray-200 dark:border-gray-600"}," \u0627\u0644\u0633\u0627\u0628\u0642 ",8,ir),t("button",{onClick:e[10]||(e[10]=i=>bt(c.value.tableName,c.value.offset+c.value.limit,c.value.tableConnection)),disabled:c.value.offset+c.value.limit>=c.value.total,class:"px-3 py-1 border rounded disabled:opacity-50 dark:text-gray-200 dark:border-gray-600"}," \u0627\u0644\u062A\u0627\u0644\u064A ",8,cr)])])):m("",!0)])),t("div",ur,[t("button",{onClick:e[11]||(e[11]=i=>c.value.show=!1),class:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600"}," \u0625\u063A\u0644\u0627\u0642 ")])])]}),_:1},8,["show"]),A(Oe)]}),_:1})],64))}},wr=Lt(gr,[["__scopeId","data-v-7963e7bc"]]);export{wr as default};
