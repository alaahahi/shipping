import{x as H,r,I as O,a as c,i as d,j as i,w as p,k as g,F as D,o as u,H as W,b as e,e as P,v as G,h as J,t as a,g as S,s as K,f as T,L as Q}from"./app.2e5f3bcf.js";import{_ as X}from"./AuthenticatedLayout.54ef6bdc.js";import"./vue-tailwind-datepicker.f4b593d3.js";/* empty css                                              */import{a as $}from"./index.4351d546.js";import{_ as Z,a as V}from"./ModalAddTransfers.vue_vue_type_style_index_0_lang.adfde142.js";import{s as ee}from"./show.051130c9.js";import{p as te}from"./pay.8fba617a.js";import{t as se}from"./trash.c99e951f.js";import{e as oe}from"./edit.eeb724b9.js";/* empty css                                                     *//* empty css                                                            */import{_ as ae}from"./ModalAddCarPayment.da2eff9e.js";import{M as re}from"./ModalDelCar.57b5fb95.js";import{_ as le}from"./ModalEditCar_S.3874d1a2.js";const de=e("h2",{class:"mb-5 dark:text-white text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1),ne={key:0,class:"py-2"},ie={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},ce={class:"bg-white overflow-hidden shadow-sm"},pe={class:"p-6 dark:bg-gray-900"},ue={class:"flex flex-col"},he={class:"grid grid-cols-2 md:grid-cols-5 lg:grid-cols-5 gap-2 lg:gap-1"},me={class:"flex items-center max-w-5xl"},xe=e("label",{class:"dark:text-gray-200",for:"simple-search"},null,-1),ge={class:"relative w-full"},_e=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[e("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-200 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),ye={value:"undefined",disabled:""},be={value:""},fe=["value"],ve=e("div",null,null,-1),ke={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},we={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},$e={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Ce={scope:"col",class:"px-1 py-3 text-base"},Me={scope:"col",class:"px-1 py-3 text-base"},De={scope:"col",class:"px-1 py-3 text-base"},Ne={scope:"col",class:"px-1 py-3 text-base"},Ae={scope:"col",class:"px-1 py-3 text-base"},Be={scope:"col",class:"px-1 py-3 text-base"},Ie={scope:"col",class:"px-1 py-3 text-base"},Pe={scope:"col",class:"px-1 py-3 text-base"},Se={scope:"col",class:"px-1 py-3 text-base"},Te={scope:"col",class:"px-1 py-3 text-base"},je={scope:"col",class:"px-1 py-3 text-base"},Fe={scope:"col",class:"px-1 py-3 text-base"},ze={scope:"col",class:"px-1 py-3 text-base"},Ye={scope:"col",class:"px-1 py-3 text-base"},Ee={scope:"col",class:"px-1 py-3 text-base"},Le={scope:"col",class:"px-1 py-3 text-base"},Re={scope:"col",class:"px-1 py-3 text-base"},Ue={scope:"col",class:"px-1 py-3 text-base"},qe={scope:"col",class:"px-1 py-3 text-base"},He={scope:"col",class:"px-1 py-3 text-base",style:{width:"180px"}},Oe={className:"border dark:border-gray-800 text-center px-1 py-2 "},We={className:"border dark:border-gray-800 text-center  dark:text-gray-200 text-black px-1 py-2 ",style:{"font-weight":"bold","font-size":"16px"}},Ge={className:"border dark:border-gray-800 text-center px-1 py-2 "},Je={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ke={className:"border dark:border-gray-800 text-center px-1 py-2 "},Qe={className:"border dark:border-gray-800 text-center px-1 py-2 "},Xe={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ze={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ve={className:"border dark:border-gray-800 text-center px-1 py-2 "},et={className:"border dark:border-gray-800 text-center px-1 py-2 "},tt={className:"border dark:border-gray-800 text-center px-1 py-2 "},st={className:"border dark:border-gray-800 text-center px-1 py-2 "},ot={className:"border dark:border-gray-800 text-center px-1 py-2 "},at={className:"border dark:border-gray-800 text-center px-1 py-2 "},rt={className:"border dark:border-gray-800 text-center px-1 py-2 "},lt={className:"border dark:border-gray-800 text-center px-1 py-2 "},dt={className:"border dark:border-gray-800 text-center px-1 py-2 "},nt={className:"border dark:border-gray-800 text-center px-1 py-2 "},it={className:"border dark:border-gray-800 text-center px-1 py-2 "},ct={className:"border dark:border-gray-800 text-start px-1 py-2"},pt=["onClick"],ut=["onClick"],ht=["onClick"],mt={class:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-4 lg:grid-cols-5 xl:grid-cols-7"},xt={class:"flex items-start rounded-xl dark:bg-gray-600 dark:text-gray-300 bg-white p-4 shadow-lg"},gt=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-full border border-orange-100 bg-orange-50"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-orange-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1),_t={class:"mr-4"},yt={class:"font-semibold"},bt={class:"mt-2 text-sm text-gray-500 dark:text-gray-200"},ft={class:"flex items-start rounded-xl dark:bg-gray-600 dark:text-gray-300 bg-white p-4 shadow-lg"},vt=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-full border border-red-100 bg-red-50"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1),kt={class:"mr-4"},wt={class:"font-semibold"},$t={class:"mt-2 text-sm text-gray-500 dark:text-gray-200"},Ct=e("div",null,null,-1),Rt={__name:"Sales",props:{client:Array},setup(N){H(),r({});const _=O();let C=r(!1),y=r("");r(!1),r(!1),r(!1),r(!1);let b=r(!1),f=r(!1);r(!1);let h=r(!1),m=r(!1),x=r(!1),A=r(0),B=r(0);function j(t={}){l.value=t,l.value.dinar_s==0&&(l.value.dinar_s=l.value.dinar),l.value.expenses_s==0&&(l.value.expenses_s=l.value.expenses),m.value=!0}function F(t={}){l.value=t,x.value=!0}function z(t={}){l.value=t,l.value.notePayment="\u062D\u0633\u0627\u0628 "+t.car_type+" "+t.year+" "+t.car_color+" \u0631\u0642\u0645 \u0634\u0627\u0635\u0649 "+t.vin+" \u0628\u064A\u062F ",h.value=!0}const l=r({});r({});const M=r([]);r({startDate:"",endDate:""}),r(),r({date:"D/MM/YYYY",month:"MM"});const v=async(t=1,o="")=>{const s=await fetch(`/getIndexCar?page=${t}&user_id=${o}`);M.value=await s.json()},Y=async(t="",o=1)=>{const s=await fetch(`/getIndexCarSearch?page=${o}&q=${t}`);M.value=await s.json()};r({shortcuts:{today:"\u0627\u0644\u064A\u0648\u0645",yesterday:"\u0627\u0644\u0628\u0627\u0631\u062D\u0629",past:t=>t+" \u0642\u0628\u0644 \u064A\u0648\u0645",currentMonth:"\u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u062D\u0627\u0644\u064A",pastMonth:"\u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u0633\u0627\u0628\u0642"},footer:{apply:"Terapkan",cancel:"Batal"}});const I=async()=>{$.get("/api/totalInfo").then(t=>{A.value=t.data.data.mainAccount,B.value=t.data.data.allCars}).catch(t=>{console.error(t)})};I();function E(t){m.value=!1,$.post("/api/updateCarsS",t).then(o=>{C.value=!1,_.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),I(),v()}).catch(o=>{C.value=!1,_.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function L(t){var o,s;fetch(`/addToBox?amount=${(o=t.amount)!=null?o:0}&note=${(s=t.note)!=null?s:""}`).then(()=>{b.value=!1,window.location.reload()}).catch(n=>{console.error(n)})}function R(t){var o,s;fetch(`/withDrawFromBox?amount=${(o=t.amount)!=null?o:0}&note=${(s=t.note)!=null?s:""}`).then(()=>{f.value=!1,window.location.reload()}).catch(n=>{console.error(n)})}function U(t){$.post("/api/DelCar",t).then(o=>{x.value=!1,_.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D \u0648\u062E\u0635\u0645 \u0627\u0644\u0645\u0628\u0644\u063A \u0645\u0646 \u062F\u064A\u0646 \u0627\u0644\u0632\u0628\u0648\u0646",{timeout:3e3,position:"bottom-right",rtl:!0}),v()}).catch(o=>{console.error(o)})}v();function q(t){var o,s,n;$.get(`/api/addPaymentCar?car_id=${t.id}&discount=${(o=t.discountPayment)!=null?o:0}&amount=${(s=t.amountPayment)!=null?s:0}&note=${(n=t.notePayment)!=null?n:""}`).then(k=>{v(),h.value=!1,_.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+t.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0});let w=k.data;window.open(`/api/getIndexAccountsSelas?user_id=${t.client.id}&print=2&transactions_id=${w.id}`,"_blank")}).catch(k=>{C.value=!1,_.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}return(t,o)=>(u(),c(D,null,[d(i(W),{title:"Dashboard"}),d(le,{formData:l.value,show:!!i(m),client:N.client,carModel:t.carModel,onA:o[0]||(o[0]=s=>E(s)),onClose:o[1]||(o[1]=s=>g(m)?m.value=!1:m=!1)},{header:p(()=>[]),_:1},8,["formData","show","client","carModel"]),d(Z,{formData:l.value,expenses:t.expenses,show:!!i(b),user:t.user,onA:o[2]||(o[2]=s=>L(s)),onClose:o[3]||(o[3]=s=>g(b)?b.value=!1:b=!1)},{header:p(()=>[]),_:1},8,["formData","expenses","show","user"]),d(V,{formData:l.value,expenses:t.expenses,show:!!i(f),user:t.user,onA:o[4]||(o[4]=s=>R(s)),onClose:o[5]||(o[5]=s=>g(f)?f.value=!1:f=!1)},{header:p(()=>[]),_:1},8,["formData","expenses","show","user"]),d(ae,{formData:l.value,show:!!i(h),user:t.user,onA:o[6]||(o[6]=s=>q(s)),onClose:o[7]||(o[7]=s=>g(h)?h.value=!1:h=!1)},{header:p(()=>[]),_:1},8,["formData","show","user"]),d(re,{show:!!i(x),formData:l.value,onA:o[8]||(o[8]=s=>U(s)),onClose:o[9]||(o[9]=s=>g(x)?x.value=!1:x=!1)},{header:p(()=>[de]),_:1},8,["show","formData"]),d(X,null,{default:p(()=>[t.$page.props.auth.user.type_id==1?(u(),c("div",ne,[e("div",ie,[e("div",ce,[e("div",pe,[e("div",ue,[e("div",he,[e("div",null,[e("form",me,[xe,e("div",ge,[_e,P(e("input",{"onUpdate:modelValue":o[10]||(o[10]=s=>g(y)?y.value=s:y=s),onInput:o[11]||(o[11]=s=>Y(i(y))),type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"\u0628\u062D\u062B",required:""},null,544),[[G,i(y)]])])])]),e("div",null,[P(e("select",{onChange:o[12]||(o[12]=s=>v(1,t.user_id)),"onUpdate:modelValue":o[13]||(o[13]=s=>t.user_id=s),id:"default",class:"pr-8 bg-gray-50 border border-gray-300 text-gray-900 mb-6 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-red-500 dark:focus:border-red-500"},[e("option",ye,a(t.$t("selectCustomer")),1),e("option",be,a(t.$t("allOwners")),1),(u(!0),c(D,null,S(N.client,(s,n)=>(u(),c("option",{key:n,value:s.id},a(s.name),9,fe))),128))],544),[[J,t.user_id]])])]),e("div",null,[ve,e("div",ke,[e("table",we,[e("thead",$e,[e("tr",null,[e("th",Ce,a(t.$t("no")),1),e("th",Me,a(t.$t("car_owner")),1),e("th",De,a(t.$t("car_type")),1),e("th",Ne,a(t.$t("year")),1),e("th",Ae,a(t.$t("color")),1),e("th",Be,a(t.$t("vin")),1),e("th",Ie,a(t.$t("car_number")),1),e("th",Pe,a(t.$t("dinar")),1),e("th",Se,a(t.$t("dolar_price")),1),e("th",Te,a(t.$t("dolar_custom")),1),e("th",je,a(t.$t("note")),1),e("th",Fe,a(t.$t("shipping_dolar")),1),e("th",ze,a(t.$t("coc_dolar")),1),e("th",Ye,a(t.$t("checkout")),1),e("th",Ee,a(t.$t("expenses")),1),e("th",Le,a(t.$t("total")),1),e("th",Re,a(t.$t("paid")),1),e("th",Ue,a(t.$t("discount")),1),e("th",qe,a(t.$t("date")),1),e("th",He,a(t.$t("execute")),1)])]),e("tbody",null,[(u(!0),c(D,null,S(M.value.data,s=>{var n,k;return u(),c("tr",{key:s.id,class:K([s.results==0?"":s.results==1?"bg-red-100 dark:bg-red-900":"bg-green-100 dark:bg-green-900","bg-white border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[e("td",Oe,a(s.no),1),e("td",We,a((n=s.client)==null?void 0:n.name),1),e("td",Ge,a(s.car_type),1),e("td",Je,a(s.year),1),e("td",Ke,a(s.car_color),1),e("td",Qe,a(s.vin),1),e("td",Xe,a(s.car_number),1),e("td",Ze,a(s.dinar_s),1),e("td",Ve,a(s.dolar_price_s),1),e("td",et,a((s.dinar_s/s.dolar_price_s*100).toFixed(0)||0),1),e("td",tt,a(s.note),1),e("td",st,a(s.shipping_dolar_s),1),e("td",ot,a(s.coc_dolar_s),1),e("td",at,a(s.checkout_s),1),e("td",rt,a(s.expenses_s),1),e("td",lt,a(s.total_s.toFixed(0)),1),e("td",dt,a(s.paid),1),e("td",nt,a(s.discount),1),e("td",it,a(s.date),1),e("td",ct,[e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-slate-500 rounded",onClick:w=>j(s)},[d(oe)],8,pt),e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-orange-500 rounded",onClick:w=>F(s)},[d(se)],8,ut),s.total_s!=s.paid+s.discount?(u(),c("button",{key:0,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:w=>z(s)},[d(te)],8,ht)):T("",!0),d(i(Q),{style:{display:"inline-flex"},className:"px-1 py-1  text-white mx-1 bg-blue-500 rounded d-inline-block",href:t.route("showClients",(k=s.client)==null?void 0:k.id)},{default:p(()=>[d(ee)]),_:2},1032,["href"])])],2)}),128))])])])]),e("div",null,[e("div",mt,[e("div",xt,[gt,e("div",_t,[e("h2",yt,a(t.$t("capital")),1),e("p",bt,a(i(A)),1)])]),e("div",ft,[vt,e("div",kt,[e("h2",wt,a(t.$t("all_cars")),1),e("p",$t,a(i(B)),1)])])])])])])])])])):T("",!0),Ct]),_:1})],64))}};export{Rt as default};
