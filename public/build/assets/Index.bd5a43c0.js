import{o,a as n,b as t,t as r,j as x,n as w,q as O,F as k,h as C,i as m,f as I,r as D,U as et,m as st,E as H,g as B,w as q,H as at,e as z,s as Y,c as U,v as G}from"./app.1c382011.js";import{_ as rt}from"./AuthenticatedLayout.edc92d4e.js";import{a as E}from"./index.d0f2c242.js";import"./_plugin-vue_export-helper.cdc0426e.js";const g=d=>{if(d==null||d==="")return"0";const a=typeof d=="string"?parseFloat(d):d;return isNaN(a)?"0":new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(a)},ot={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},dt={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},lt={class:"flex items-center"},nt={class:"ml-5 w-0 flex-1"},it={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},ct={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},ut={class:"flex items-center"},xt={class:"ml-5 w-0 flex-1"},gt={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},yt={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},mt={class:"flex items-center"},ft={class:"ml-5 w-0 flex-1"},pt={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},ht={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},vt={class:"flex items-center"},kt={class:"ml-5 w-0 flex-1"},bt={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},wt={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},_t={class:"flex items-center"},$t={class:"ml-5 w-0 flex-1"},Ct={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},Pt={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},Dt={class:"flex items-center"},Mt={class:"ml-5 w-0 flex-1"},Nt={class:"text-lg font-semibold text-green-600 dark:text-green-400"},jt={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},Vt={class:"flex items-center"},Tt={class:"ml-5 w-0 flex-1"},Bt={class:"text-lg font-semibold text-red-600 dark:text-red-400"},zt={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},Yt={class:"flex items-center"},Ut={class:"ml-5 w-0 flex-1"},Et={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},It={class:"flex items-center"},At={class:"ml-5 w-0 flex-1"},Ot={class:"text-lg font-semibold text-orange-600 dark:text-orange-400"},Lt={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},Rt={class:"flex items-center"},St={class:"ml-5 w-0 flex-1"},Ft={class:"text-lg font-semibold text-teal-600 dark:text-teal-400"},Ht={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},qt={class:"flex items-center"},Gt={class:"ml-5 w-0 flex-1"},Jt={class:"text-lg font-semibold text-cyan-600 dark:text-cyan-400"},Kt={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},Qt={class:"flex items-center"},Wt={class:"ml-5 w-0 flex-1"},Xt={__name:"StatCards",props:{carsCount:{type:Number,default:0},totalCustoms:{type:Number,default:0},exchangeProfit:{type:Number,default:0},netProfit:{type:Number,default:0},netTransfers:{type:Number,default:0},totalSales:{type:Number,default:0},totalPurchases:{type:Number,default:0},salesPurchaseDifference:{type:Number,default:0},tradersDebt:{type:Number,default:0},tradersPayments:{type:Number,default:0},totalPaymentsAndDebt:{type:Number,default:0},salesVsPaymentsDifference:{type:Number,default:0}},setup(d){return(a,e)=>(o(),n("div",ot,[t("div",dt,[t("div",lt,[e[1]||(e[1]=t("div",{class:"flex-shrink-0 bg-blue-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),t("div",nt,[t("dl",null,[e[0]||(e[0]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0639\u062F\u062F \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A ",-1)),t("dd",it,r(d.carsCount),1)])])])]),t("div",ct,[t("div",ut,[e[3]||(e[3]=t("div",{class:"flex-shrink-0 bg-green-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",xt,[t("dl",null,[e[2]||(e[2]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062C\u0645\u0631\u0643 ",-1)),t("dd",gt,r(x(g)(d.totalCustoms)),1)])])])]),t("div",yt,[t("div",mt,[e[5]||(e[5]=t("div",{class:"flex-shrink-0 bg-yellow-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])],-1)),t("div",ft,[t("dl",null,[e[4]||(e[4]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0627\u0644\u0641\u0627\u0626\u062F\u0629 \u0645\u0646 \u0641\u0631\u0642 \u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641 ",-1)),t("dd",pt,r(x(g)(d.exchangeProfit)),1)])])])]),t("div",ht,[t("div",vt,[e[7]||(e[7]=t("div",{class:"flex-shrink-0 bg-purple-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),t("div",kt,[t("dl",null,[e[6]||(e[6]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0635\u0627\u0641\u064A \u0627\u0644\u0631\u0628\u062D ",-1)),t("dd",bt,r(x(g)(d.netProfit)),1)])])])]),t("div",wt,[t("div",_t,[e[9]||(e[9]=t("div",{class:"flex-shrink-0 bg-indigo-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})])],-1)),t("div",$t,[t("dl",null,[e[8]||(e[8]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0635\u0627\u0641\u064A \u0627\u0644\u062D\u0648\u0644\u0627\u062A ",-1)),t("dd",Ct,r(x(g)(d.netTransfers)),1)])])])]),t("div",Pt,[t("div",Dt,[e[11]||(e[11]=t("div",{class:"flex-shrink-0 bg-green-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])],-1)),t("div",Mt,[t("dl",null,[e[10]||(e[10]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A ",-1)),t("dd",Nt,r(x(g)(d.totalSales)),1)])])])]),t("div",jt,[t("div",Vt,[e[13]||(e[13]=t("div",{class:"flex-shrink-0 bg-red-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})])],-1)),t("div",Tt,[t("dl",null,[e[12]||(e[12]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A ",-1)),t("dd",Bt,r(x(g)(d.totalPurchases)),1)])])])]),t("div",zt,[t("div",Yt,[e[15]||(e[15]=t("div",{class:"flex-shrink-0 bg-blue-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),t("div",Ut,[t("dl",null,[e[14]||(e[14]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0627\u0644\u0641\u0631\u0642 ",-1)),t("dd",{class:w(["text-lg font-semibold",d.salesPurchaseDifference>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},r(x(g)(d.salesPurchaseDifference)),3)])])])]),t("div",Et,[t("div",It,[e[17]||(e[17]=t("div",{class:"flex-shrink-0 bg-orange-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),t("div",At,[t("dl",null,[e[16]||(e[16]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u062F\u064A\u0646 \u0627\u0644\u062A\u062C\u0627\u0631 ",-1)),t("dd",Ot,r(x(g)(d.tradersDebt)),1)])])])]),t("div",Lt,[t("div",Rt,[e[19]||(e[19]=t("div",{class:"flex-shrink-0 bg-teal-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",St,[t("dl",null,[e[18]||(e[18]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0645\u062C\u0645\u0648\u0639 \u062F\u0641\u0639\u0627\u062A \u0627\u0644\u062A\u062C\u0627\u0631 ",-1)),t("dd",Ft,r(x(g)(d.tradersPayments)),1)])])])]),t("div",Ht,[t("div",qt,[e[21]||(e[21]=t("div",{class:"flex-shrink-0 bg-cyan-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),t("div",Gt,[t("dl",null,[e[20]||(e[20]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0625\u062C\u0645\u0627\u0644\u064A (\u062F\u0641\u0639\u0627\u062A + \u062F\u064A\u0646) ",-1)),t("dd",Jt,r(x(g)(d.totalPaymentsAndDebt)),1)])])])]),t("div",Kt,[t("div",Qt,[e[23]||(e[23]=t("div",{class:"flex-shrink-0 bg-pink-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})])],-1)),t("div",Wt,[t("dl",null,[e[22]||(e[22]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0627\u0644\u0641\u0631\u0642 (\u0645\u0628\u064A\u0639\u0627\u062A - \u062F\u0641\u0639\u0627\u062A \u0648\u062F\u064A\u0646) ",-1)),t("dd",{class:w(["text-lg font-semibold",d.salesVsPaymentsDifference>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},r(x(g)(d.salesVsPaymentsDifference)),3)])])])])]))}},Zt={class:"w-full"},te={viewBox:"0 0 400 200",class:"w-full h-64"},ee=["y"],se=["x"],ae=["points"],re=["cx","cy"],oe=["x","y"],de={class:"mt-4 text-center"},le={class:"text-base font-bold text-gray-800 dark:text-gray-200"},ne={class:"text-blue-600 dark:text-blue-400"},ie={class:"mt-2 flex justify-center gap-4 text-sm"},ce={class:"text-gray-700 dark:text-gray-300"},ue={class:"font-semibold text-green-600 dark:text-green-400"},xe={class:"text-gray-700 dark:text-gray-300"},ge={class:"font-semibold text-red-600 dark:text-red-400"},ye={__name:"ProfitChart",props:{labels:{type:Array,default:()=>[]},monthlyProfit:{type:Array,default:()=>[]},yearlyProfit:{type:Number,default:0}},setup(d){const a=d,e=O(()=>{if(!a.monthlyProfit||a.monthlyProfit.length===0)return{max:0,points:[]};const c=a.monthlyProfit,u=Math.max(...c,0),s=Math.min(...c,0),l=u-s||1,N=c.map((M,b)=>{const f=l>0?(M-s)/l*100:50;return{x:b/(c.length-1||1)*100,y:100-f,profit:M,label:a.labels[b]||b+1}});return{max:u,min:s,range:l,points:N}});return(c,u)=>(o(),n("div",Zt,[(o(),n("svg",te,[u[0]||(u[0]=t("defs",null,[t("pattern",{id:"grid-profit",width:"20",height:"20",patternUnits:"userSpaceOnUse"},[t("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"#e5e7eb","stroke-width":"0.5",class:"dark:stroke-gray-700"})])],-1)),u[1]||(u[1]=t("rect",{width:"100%",height:"100%",fill:"url(#grid-profit)"},null,-1)),(o(),n(k,null,C(5,(s,l)=>t("text",{key:s,x:8,y:l*25+15,class:"text-sm font-semibold fill-gray-800 dark:fill-gray-200","text-anchor":"start",style:{"font-size":"11px","font-weight":"600"}},r(x(g)(e.value.max-e.value.max/4*l)),9,ee)),64)),(o(!0),n(k,null,C(e.value.points,(s,l)=>(o(),n("text",{key:l,x:s.x/100*380+20,y:192,class:"text-sm font-semibold fill-gray-800 dark:fill-gray-200","text-anchor":"middle",style:{"font-size":"10px","font-weight":"600"}},r(s.label),9,se))),128)),e.value.points.length>0?(o(),n("polyline",{key:0,points:e.value.points.map(s=>`${s.x/100*380+20},${s.y/100*180+10}`).join(" "),fill:"none",stroke:"#3b82f6","stroke-width":"2",class:"dark:stroke-blue-400"},null,8,ae)):m("",!0),(o(!0),n(k,null,C(e.value.points,(s,l)=>(o(),n("g",{key:l},[t("circle",{cx:s.x/100*380+20,cy:s.y/100*180+10,r:"5",fill:"#3b82f6",stroke:"#ffffff","stroke-width":"2",class:"dark:fill-blue-400 dark:stroke-gray-800"},[t("title",null,r(s.label)+": "+r(x(g)(s.profit)),1)],8,re),t("text",{x:s.x/100*380+20,y:s.y/100*180-5,class:"text-xs font-bold fill-gray-900 dark:fill-gray-100","text-anchor":"middle",style:{"font-size":"9px","font-weight":"700","pointer-events":"none"}},r(x(g)(s.profit)),9,oe)]))),128))])),t("div",de,[t("p",le,[u[2]||(u[2]=I(" \u0625\u062C\u0645\u0627\u0644\u064A \u0631\u0628\u062D \u0627\u0644\u0633\u0646\u0629: ",-1)),t("span",ne,r(x(g)(d.yearlyProfit)),1)]),t("div",ie,[t("span",ce,[u[3]||(u[3]=I(" \u0623\u0639\u0644\u0649 \u0631\u0628\u062D \u0634\u0647\u0631\u064A: ",-1)),t("span",ue,r(x(g)(e.value.max)),1)]),t("span",xe,[u[4]||(u[4]=I(" \u0623\u0642\u0644 \u0631\u0628\u062D \u0634\u0647\u0631\u064A: ",-1)),t("span",ge,r(x(g)(e.value.min)),1)])])])]))}},me={class:"overflow-x-auto"},fe={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},pe={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},he={key:0},ve={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},ke={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},be={class:"px-4 py-3 whitespace-nowrap text-sm font-semibold text-red-600 dark:text-red-400"},we={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},_e={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},$e={class:"mt-4 grid grid-cols-3 gap-4 text-sm"},Ce={class:"text-center"},Pe={class:"font-semibold text-red-600 dark:text-red-400"},De={class:"text-center"},Me={class:"font-semibold text-red-600 dark:text-red-400"},Ne={class:"text-center"},je={class:"font-semibold text-red-600 dark:text-red-400"},Ve={__name:"DiscountTable",props:{discounts:{type:Array,default:()=>[]},totalDiscounts:{type:Number,default:0},maxDiscount:{type:Number,default:0},minDiscount:{type:Number,default:0}},setup(d){return(a,e)=>(o(),n("div",me,[t("table",fe,[e[1]||(e[1]=t("thead",{class:"bg-gray-50 dark:bg-gray-900"},[t("tr",null,[t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0631\u0642\u0645 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," VIN "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u062E\u0635\u0645 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0634\u0631\u0627\u0621 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0628\u064A\u0639 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0631\u0628\u062D \u0628\u0639\u062F \u0627\u0644\u062E\u0635\u0645 ")])],-1)),t("tbody",pe,[d.discounts.length===0?(o(),n("tr",he,[...e[0]||(e[0]=[t("td",{colspan:"6",class:"px-4 py-4 text-center text-sm text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A ",-1)])])):m("",!0),(o(!0),n(k,null,C(d.discounts.slice(0,10),(c,u)=>(o(),n("tr",{key:u,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",ve,r(c.car_number||"-"),1),t("td",ke,r(c.vin||"-"),1),t("td",be,r(x(g)(c.discount||0)),1),t("td",we,r(x(g)(c.total||0)),1),t("td",_e,r(x(g)(c.total_s||0)),1),t("td",{class:w(["px-4 py-3 whitespace-nowrap text-sm font-semibold",(c.profit_after_discount||c.profit||0)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},r(x(g)(c.profit_after_discount||c.profit||0)),3)]))),128))])]),t("div",$e,[t("div",Ce,[e[2]||(e[2]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0627\u0644\u0645\u062C\u0645\u0648\u0639",-1)),t("p",Pe,r(x(g)(d.totalDiscounts)),1)]),t("div",De,[e[3]||(e[3]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0623\u0639\u0644\u0649 \u062E\u0635\u0645",-1)),t("p",Me,r(x(g)(d.maxDiscount)),1)]),t("div",Ne,[e[4]||(e[4]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0623\u0642\u0644 \u062E\u0635\u0645",-1)),t("p",je,r(x(g)(d.minDiscount)),1)])])]))}},Te={class:"overflow-x-auto"},Be={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ze={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Ye={key:0},Ue={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Ee={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Ie={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Ae={class:"mt-4 grid grid-cols-3 gap-4 text-sm"},Oe={class:"text-center"},Le={class:"font-semibold text-green-600 dark:text-green-400"},Re={class:"text-center"},Se={class:"font-semibold text-red-600 dark:text-red-400"},Fe={class:"text-center"},He={class:"font-semibold text-gray-900 dark:text-gray-100"},J={__name:"CarProfitTable",props:{cars:{type:Array,default:()=>[]},maxProfit:{type:Number,default:0},minProfit:{type:Number,default:0},avgProfit:{type:Number,default:0}},setup(d){return(a,e)=>(o(),n("div",Te,[t("table",Be,[e[1]||(e[1]=t("thead",{class:"bg-gray-50 dark:bg-gray-900"},[t("tr",null,[t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," # "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0631\u0642\u0645 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," VIN "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0635\u0627\u0641\u064A \u0627\u0644\u0631\u0628\u062D ")])],-1)),t("tbody",ze,[d.cars.length===0?(o(),n("tr",Ye,[...e[0]||(e[0]=[t("td",{colspan:"4",class:"px-4 py-4 text-center text-sm text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A ",-1)])])):m("",!0),(o(!0),n(k,null,C(d.cars,(c,u)=>(o(),n("tr",{key:c.id||u,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",Ue,r(u+1),1),t("td",Ee,r(c.car_number||"-"),1),t("td",Ie,r(c.vin||"-"),1),t("td",{class:w(["px-4 py-3 whitespace-nowrap text-sm font-semibold",(c.net_profit||c.profit||0)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},r(x(g)(c.net_profit||c.profit||0)),3)]))),128))])]),t("div",Ae,[t("div",Oe,[e[2]||(e[2]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0623\u0639\u0644\u0649 \u0631\u0628\u062D",-1)),t("p",Le,r(x(g)(d.maxProfit)),1)]),t("div",Re,[e[3]||(e[3]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0623\u0642\u0644 \u0631\u0628\u062D",-1)),t("p",Se,r(x(g)(d.minProfit)),1)]),t("div",Fe,[e[4]||(e[4]=t("p",{class:"text-gray-500 dark:text-gray-400"},"\u0645\u062A\u0648\u0633\u0637 \u0627\u0644\u0631\u0628\u062D",-1)),t("p",He,r(x(g)(d.avgProfit)),1)])])]))}},qe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Ge={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},Je={class:"flex items-center"},Ke={class:"ml-5 w-0 flex-1"},Qe={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},We={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},Xe={class:"flex items-center"},Ze={class:"ml-5 w-0 flex-1"},ts={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},es={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},ss={class:"flex items-center"},as={class:"ml-5 w-0 flex-1"},rs={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},os={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},ds={class:"flex items-center"},ls={class:"ml-5 w-0 flex-1"},ns={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},is={__name:"TransfersSummary",props:{grossTransfers:{type:Number,default:0},transferFees:{type:Number,default:0},netTransfers:{type:Number,default:0},erbilTransfers:{type:Number,default:0}},setup(d){return(a,e)=>(o(),n("div",qe,[t("div",Ge,[t("div",Je,[e[1]||(e[1]=t("div",{class:"flex-shrink-0 bg-blue-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})])],-1)),t("div",Ke,[t("dl",null,[e[0]||(e[0]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u062D\u0648\u0644\u0627\u062A ",-1)),t("dd",Qe,r(x(g)(d.grossTransfers)),1)])])])]),t("div",We,[t("div",Xe,[e[3]||(e[3]=t("div",{class:"flex-shrink-0 bg-yellow-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",Ze,[t("dl",null,[e[2]||(e[2]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0631\u0633\u0648\u0645 \u0627\u0644\u062D\u0648\u0644\u0627\u062A ",-1)),t("dd",ts,r(x(g)(d.transferFees)),1)])])])]),t("div",es,[t("div",ss,[e[5]||(e[5]=t("div",{class:"flex-shrink-0 bg-green-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",as,[t("dl",null,[e[4]||(e[4]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u0635\u0627\u0641\u064A \u0627\u0644\u062D\u0648\u0644\u0627\u062A ",-1)),t("dd",rs,r(x(g)(d.netTransfers)),1)])])])]),t("div",os,[t("div",ds,[e[7]||(e[7]=t("div",{class:"flex-shrink-0 bg-purple-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})])],-1)),t("div",ls,[t("dl",null,[e[6]||(e[6]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," \u062D\u0648\u0644\u0627\u062A \u0623\u0631\u0628\u064A\u0644 ",-1)),t("dd",ns,r(x(g)(d.erbilTransfers)),1)])])])])]))}},cs={class:"overflow-x-auto"},us={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},xs={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},gs={key:0},ys=["onClick"],ms={class:"px-4 py-3 whitespace-nowrap"},fs={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},ps={class:"px-4 py-3 whitespace-nowrap text-sm font-semibold text-gray-900 dark:text-gray-100"},hs={class:"px-4 py-3 whitespace-nowrap text-sm text-orange-600 dark:text-orange-400"},vs={class:"px-4 py-3 whitespace-nowrap text-sm font-semibold text-green-600 dark:text-green-400"},ks={class:"px-4 py-3 whitespace-nowrap"},bs={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},ws={key:0,class:"bg-gray-50 dark:bg-gray-900"},_s={colspan:"7",class:"px-4 py-4"},$s={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},Cs={key:0},Ps={class:"text-gray-600 dark:text-gray-400"},Ds={key:1},Ms={class:"text-gray-600 dark:text-gray-400"},Ns={key:2},js={class:"text-gray-600 dark:text-gray-400"},Vs={key:3},Ts={class:"text-gray-600 dark:text-gray-400"},Bs={__name:"TransfersDetailTable",props:{transfers:{type:Array,default:()=>[]}},setup(d){const a=D([]),e=u=>{const s=a.value.indexOf(u);s>-1?a.value.splice(s,1):a.value.push(u)},c=u=>u==="\u062A\u0645 \u0627\u0644\u0623\u0633\u062A\u0644\u0627\u0645"||u==="\u062A\u0645 \u0627\u0644\u0627\u0633\u062A\u0644\u0627\u0645"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";return(u,s)=>(o(),n("div",cs,[t("table",us,[s[6]||(s[6]=t("thead",{class:"bg-gray-50 dark:bg-gray-900"},[t("tr",null,[t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-12"}),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0631\u0642\u0645 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0645\u0628\u0644\u063A "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0631\u0633\u0648\u0645 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0635\u0627\u0641\u064A "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u062D\u0627\u0644\u0629 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u062A\u0627\u0631\u064A\u062E ")])],-1)),t("tbody",xs,[d.transfers.length===0?(o(),n("tr",gs,[...s[0]||(s[0]=[t("td",{colspan:"7",class:"px-4 py-4 text-center text-sm text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u062D\u0648\u0644\u0627\u062A ",-1)])])):m("",!0),(o(!0),n(k,null,C(d.transfers,(l,N)=>(o(),n(k,{key:l.id||N},[t("tr",{class:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:M=>e(l.id)},[t("td",ms,[(o(),n("svg",{class:w(["w-5 h-5 transition-transform",{"rotate-90":a.value.includes(l.id)}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...s[1]||(s[1]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)])],2))]),t("td",fs,r(l.no||l.id),1),t("td",ps,r(x(g)(l.amount||0)),1),t("td",hs,r(x(g)(l.fee||0)),1),t("td",vs,r(x(g)((l.amount||0)-(l.fee||0))),1),t("td",ks,[t("span",{class:w(["px-2 py-1 text-xs font-semibold rounded-full",c(l.stauts||l.status)])},r(l.stauts||l.status||"\u0642\u064A\u062F \u0627\u0644\u062A\u0633\u0644\u064A\u0645"),3)]),t("td",bs,r(new Date(l.created_at).toLocaleDateString("ar-EG")),1)],8,ys),a.value.includes(l.id)?(o(),n("tr",ws,[t("td",_s,[t("div",$s,[l.sender_note?(o(),n("div",Cs,[s[2]||(s[2]=t("p",{class:"font-medium text-gray-700 dark:text-gray-300 mb-1"},"\u0645\u0644\u0627\u062D\u0638\u0629 \u0627\u0644\u0645\u0631\u0633\u0644:",-1)),t("p",Ps,r(l.sender_note),1)])):m("",!0),l.receiver_note?(o(),n("div",Ds,[s[3]||(s[3]=t("p",{class:"font-medium text-gray-700 dark:text-gray-300 mb-1"},"\u0645\u0644\u0627\u062D\u0638\u0629 \u0627\u0644\u0645\u0633\u062A\u0642\u0628\u0644:",-1)),t("p",Ms,r(l.receiver_note),1)])):m("",!0),l.note?(o(),n("div",Ns,[s[4]||(s[4]=t("p",{class:"font-medium text-gray-700 dark:text-gray-300 mb-1"},"\u0645\u0644\u0627\u062D\u0638\u0627\u062A:",-1)),t("p",js,r(l.note),1)])):m("",!0),l.currency?(o(),n("div",Vs,[s[5]||(s[5]=t("p",{class:"font-medium text-gray-700 dark:text-gray-300 mb-1"},"\u0627\u0644\u0639\u0645\u0644\u0629:",-1)),t("p",Ts,r(l.currency),1)])):m("",!0)])])])):m("",!0)],64))),128))])])]))}},zs={class:"w-full"},Ys={viewBox:"0 0 400 200",class:"w-full h-64"},Us=["y"],Es=["x"],Is=["points"],As=["points"],Os=["cx","cy"],Ls=["x","y"],Rs=["cx","cy"],Ss=["x","y"],Fs={__name:"CashFlowChart",props:{labels:{type:Array,default:()=>[]},cashInData:{type:Array,default:()=>[]},cashOutData:{type:Array,default:()=>[]}},setup(d){const a=d,e=O(()=>{if(!a.cashInData||a.cashInData.length===0)return{max:0,cashInPoints:[],cashOutPoints:[]};const c=[...a.cashInData,...a.cashOutData],u=Math.max(...c,0),s=Math.min(...c,0),l=u-s||1,N=a.cashInData.map((b,f)=>{const v=l>0?(b-s)/l*100:50;return{x:f/(a.cashInData.length-1||1)*100,y:100-v,value:b,label:a.labels[f]||f+1}}),M=a.cashOutData.map((b,f)=>{const v=l>0?(b-s)/l*100:50;return{x:f/(a.cashOutData.length-1||1)*100,y:100-v,value:b,label:a.labels[f]||f+1}});return{max:u,min:s,range:l,cashInPoints:N,cashOutPoints:M}});return(c,u)=>(o(),n("div",zs,[(o(),n("svg",Ys,[u[0]||(u[0]=t("defs",null,[t("pattern",{id:"grid-cash",width:"20",height:"20",patternUnits:"userSpaceOnUse"},[t("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"#e5e7eb","stroke-width":"0.5",class:"dark:stroke-gray-700"})])],-1)),u[1]||(u[1]=t("rect",{width:"100%",height:"100%",fill:"url(#grid-cash)"},null,-1)),(o(),n(k,null,C(5,(s,l)=>t("text",{key:s,x:8,y:l*25+15,class:"text-sm font-semibold fill-gray-800 dark:fill-gray-200","text-anchor":"start",style:{"font-size":"11px","font-weight":"600"}},r(x(g)(e.value.max-e.value.max/4*l)),9,Us)),64)),(o(!0),n(k,null,C(e.value.cashInPoints,(s,l)=>(o(),n("text",{key:l,x:s.x/100*380+20,y:192,class:"text-sm font-semibold fill-gray-800 dark:fill-gray-200","text-anchor":"middle",style:{"font-size":"10px","font-weight":"600"}},r(s.label),9,Es))),128)),e.value.cashInPoints.length>0?(o(),n("polyline",{key:0,points:e.value.cashInPoints.map(s=>`${s.x/100*380+20},${s.y/100*180+10}`).join(" "),fill:"none",stroke:"#10b981","stroke-width":"2",class:"dark:stroke-green-400"},null,8,Is)):m("",!0),e.value.cashOutPoints.length>0?(o(),n("polyline",{key:1,points:e.value.cashOutPoints.map(s=>`${s.x/100*380+20},${s.y/100*180+10}`).join(" "),fill:"none",stroke:"#ef4444","stroke-width":"2",class:"dark:stroke-red-400"},null,8,As)):m("",!0),(o(!0),n(k,null,C(e.value.cashInPoints,(s,l)=>(o(),n("g",{key:"in-"+l},[t("circle",{cx:s.x/100*380+20,cy:s.y/100*180+10,r:"5",fill:"#10b981",stroke:"#ffffff","stroke-width":"2",class:"dark:fill-green-400 dark:stroke-gray-800"},[t("title",null,"\u0648\u0627\u0631\u062F - "+r(s.label)+": "+r(x(g)(s.value)),1)],8,Os),t("text",{x:s.x/100*380+20,y:s.y/100*180-5,class:"text-xs font-bold fill-gray-900 dark:fill-gray-100","text-anchor":"middle",style:{"font-size":"9px","font-weight":"700","pointer-events":"none"}},r(x(g)(s.value)),9,Ls)]))),128)),(o(!0),n(k,null,C(e.value.cashOutPoints,(s,l)=>(o(),n("g",{key:"out-"+l},[t("circle",{cx:s.x/100*380+20,cy:s.y/100*180+10,r:"5",fill:"#ef4444",stroke:"#ffffff","stroke-width":"2",class:"dark:fill-red-400 dark:stroke-gray-800"},[t("title",null,"\u0635\u0627\u062F\u0631 - "+r(s.label)+": "+r(x(g)(s.value)),1)],8,Rs),t("text",{x:s.x/100*380+20,y:s.y/100*180-5,class:"text-xs font-bold fill-gray-900 dark:fill-gray-100","text-anchor":"middle",style:{"font-size":"9px","font-weight":"700","pointer-events":"none"}},r(x(g)(s.value)),9,Ss)]))),128))])),u[2]||(u[2]=et('<div class="mt-4 flex justify-center gap-6 text-sm"><div class="flex items-center gap-2"><div class="w-4 h-4 bg-green-500 rounded"></div><span class="text-gray-600 dark:text-gray-400">\u0627\u0644\u0646\u0642\u062F \u0627\u0644\u0648\u0627\u0631\u062F</span></div><div class="flex items-center gap-2"><div class="w-4 h-4 bg-red-500 rounded"></div><span class="text-gray-600 dark:text-gray-400">\u0627\u0644\u0646\u0642\u062F \u0627\u0644\u0635\u0627\u062F\u0631</span></div></div>',1))]))}},Hs={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},qs={class:"flex items-center justify-between mb-4"},Gs={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},Js={key:0,class:"px-3 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},Ks={key:1,class:"px-3 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},Qs={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Ws={class:"mt-1 text-2xl font-semibold text-green-600 dark:text-green-400"},Xs={class:"mt-1 text-2xl font-semibold text-red-600 dark:text-red-400"},Zs={class:"mt-1 text-2xl font-semibold text-orange-600 dark:text-orange-400"},ta={class:"mt-1 text-2xl font-semibold text-blue-600 dark:text-blue-400"},ea={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-gray-100"},sa={__name:"YearClosingSummary",props:{year:{type:Number,required:!0},totalIncome:{type:Number,default:0},totalExpenses:{type:Number,default:0},totalDiscounts:{type:Number,default:0},netYearProfit:{type:Number,default:0},carriedProfit:{type:Number,default:0},isClosed:{type:Boolean,default:!1}},setup(d){return(a,e)=>(o(),n("div",Hs,[t("div",qs,[t("h3",Gs," \u062E\u0644\u0627\u0635\u0629 \u0625\u063A\u0644\u0627\u0642 \u0627\u0644\u0633\u0646\u0629 "+r(d.year),1),d.isClosed?(o(),n("span",Js," \u0645\u063A\u0644\u0642\u0629 ")):(o(),n("span",Ks," \u0645\u0641\u062A\u0648\u062D\u0629 "))]),t("div",Qs,[t("div",null,[e[0]||(e[0]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u062F\u062E\u0644 ",-1)),t("dd",Ws,r(x(g)(d.totalIncome)),1)]),t("div",null,[e[1]||(e[1]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0635\u0627\u0631\u064A\u0641 ",-1)),t("dd",Xs,r(x(g)(d.totalExpenses)),1)]),t("div",null,[e[2]||(e[2]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A ",-1)),t("dd",Zs,r(x(g)(d.totalDiscounts)),1)]),t("div",null,[e[3]||(e[3]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," \u0635\u0627\u0641\u064A \u0631\u0628\u062D \u0627\u0644\u0633\u0646\u0629 ",-1)),t("dd",{class:w(["mt-1 text-2xl font-semibold",d.netYearProfit>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},r(x(g)(d.netYearProfit)),3)]),t("div",null,[e[4]||(e[4]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," \u0627\u0644\u0631\u0628\u062D \u0627\u0644\u0645\u062D\u0645\u0648\u0644 ",-1)),t("dd",ta,r(x(g)(d.carriedProfit)),1)]),t("div",null,[e[5]||(e[5]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0646\u0647\u0627\u0626\u064A ",-1)),t("dd",ea,r(x(g)(d.netYearProfit+d.carriedProfit)),1)])])]))}},aa={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-4"},ra={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},oa=["value"],da=["value"],la={class:"border border-gray-300 dark:border-gray-600 rounded-md p-2 max-h-32 overflow-y-auto dark:bg-gray-700"},na={class:"flex flex-wrap gap-2"},ia=["checked","onChange"],ca={class:"mr-2 text-sm text-gray-700 dark:text-gray-300"},ua=["value"],xa=["value"],ga={__name:"Filters",props:{selectedYear:{type:Number,default:null},selectedYears:{type:Array,default:()=>[]},selectedMonth:{type:Number,default:null},years:{type:Array,required:!0}},emits:["update:selectedYear","update:selectedYears","update:selectedMonth"],setup(d,{emit:a}){const e=d,c=a,u=[{value:null,label:"\u062C\u0645\u064A\u0639 \u0627\u0644\u0623\u0634\u0647\u0631"},{value:1,label:"\u064A\u0646\u0627\u064A\u0631"},{value:2,label:"\u0641\u0628\u0631\u0627\u064A\u0631"},{value:3,label:"\u0645\u0627\u0631\u0633"},{value:4,label:"\u0623\u0628\u0631\u064A\u0644"},{value:5,label:"\u0645\u0627\u064A\u0648"},{value:6,label:"\u064A\u0648\u0646\u064A\u0648"},{value:7,label:"\u064A\u0648\u0644\u064A\u0648"},{value:8,label:"\u0623\u063A\u0633\u0637\u0633"},{value:9,label:"\u0633\u0628\u062A\u0645\u0628\u0631"},{value:10,label:"\u0623\u0643\u062A\u0648\u0628\u0631"},{value:11,label:"\u0646\u0648\u0641\u0645\u0628\u0631"},{value:12,label:"\u062F\u064A\u0633\u0645\u0628\u0631"}],s=f=>{c("update:selectedYear",parseInt(f.target.value))},l=(f,v)=>{const p=[...e.selectedYears];if(v)p.includes(f)||p.push(f);else{const T=p.indexOf(f);T>-1&&p.splice(T,1)}c("update:selectedYears",p)},N=()=>{c("update:selectedYears",[...e.years])},M=()=>{c("update:selectedYears",[])},b=f=>{const v=f.target.value===""?null:parseInt(f.target.value);c("update:selectedMonth",v)};return(f,v)=>(o(),n("div",aa,[t("div",ra,[t("div",null,[v[1]||(v[1]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," \u0627\u0644\u0633\u0646\u0629 (\u0648\u0627\u062D\u062F\u0629) ",-1)),t("select",{value:d.selectedYear,onChange:s,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},[v[0]||(v[0]=t("option",{value:null},"\u062C\u0645\u064A\u0639 \u0627\u0644\u0633\u0646\u0648\u0627\u062A",-1)),(o(!0),n(k,null,C(d.years,p=>(o(),n("option",{key:p,value:p},r(p),9,da))),128))],40,oa)]),t("div",null,[t("div",{class:"flex justify-between items-center mb-2"},[v[2]||(v[2]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," \u0627\u0644\u0633\u0646\u0648\u0627\u062A (\u0645\u062A\u0639\u062F\u062F\u0629) ",-1)),t("div",{class:"flex gap-2"},[t("button",{onClick:N,class:"text-xs text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300"}," \u062A\u062D\u062F\u064A\u062F \u0627\u0644\u0643\u0644 "),t("button",{onClick:M,class:"text-xs text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300"}," \u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u0643\u0644 ")])]),t("div",la,[t("div",na,[(o(!0),n(k,null,C(d.years,p=>(o(),n("label",{key:p,class:"inline-flex items-center px-2 py-1 rounded cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600"},[t("input",{type:"checkbox",checked:d.selectedYears.includes(p),onChange:T=>l(p,T.target.checked),class:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700"},null,40,ia),t("span",ca,r(p),1)]))),128))])])]),t("div",null,[v[3]||(v[3]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," \u0627\u0644\u0634\u0647\u0631 ",-1)),t("select",{value:d.selectedMonth,onChange:b,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},[(o(),n(k,null,C(u,p=>t("option",{key:p.value,value:p.value},r(p.label),9,xa)),64))],40,ua)])])]))}},ya={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},ma={class:"p-6"},fa={class:"overflow-x-auto"},pa={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ha={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},va={key:0},ka={class:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100"},ba={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100 font-mono"},wa={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},_a={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},$a={key:0,class:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},Ca={class:"flex justify-between items-center"},Pa={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},Da={class:"flex justify-between items-center mt-2"},Ma={__name:"CustomDifferenceTable",props:{cars:{type:Array,default:()=>[]},totalDifference:{type:Number,default:0}},setup(d){return(a,e)=>(o(),n("div",ya,[t("div",ma,[e[4]||(e[4]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0630\u0627\u062A \u0627\u0644\u0641\u0631\u0642 \u0641\u064A \u0627\u0644\u062C\u0645\u0631\u0643 ",-1)),t("div",fa,[t("table",pa,[e[1]||(e[1]=t("thead",{class:"bg-gray-50 dark:bg-gray-900"},[t("tr",null,[t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0631\u0642\u0645 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," VIN "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u062C\u0645\u0631\u0643 \u0627\u0644\u0634\u0631\u0627\u0621 (\u062F\u064A\u0646\u0627\u0631) "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u062C\u0645\u0631\u0643 \u0627\u0644\u0628\u064A\u0639 (\u062F\u064A\u0646\u0627\u0631) "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0641\u0631\u0642 ")])],-1)),t("tbody",ha,[d.cars.length===0?(o(),n("tr",va,[...e[0]||(e[0]=[t("td",{colspan:"5",class:"px-4 py-4 text-center text-sm text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u0633\u064A\u0627\u0631\u0627\u062A \u0628\u0647\u0627 \u0641\u0631\u0642 \u0641\u064A \u0627\u0644\u062C\u0645\u0631\u0643 ",-1)])])):m("",!0),(o(!0),n(k,null,C(d.cars,(c,u)=>(o(),n("tr",{key:u,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",ka,r(c.car_number||"-"),1),t("td",ba,r(c.vin||"-"),1),t("td",wa,r(x(g)(c.dinar||0)),1),t("td",_a,r(x(g)(c.dinar_s||0)),1),t("td",{class:w(["px-4 py-3 whitespace-nowrap text-sm font-semibold",(c.difference||0)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},r(x(g)(c.difference||0)),3)]))),128))])])]),d.cars.length>0?(o(),n("div",$a,[t("div",Ca,[e[2]||(e[2]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"}," \u0639\u062F\u062F \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A: ",-1)),t("span",Pa,r(d.cars.length),1)]),t("div",Da,[e[3]||(e[3]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"}," \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0641\u0631\u0642: ",-1)),t("span",{class:w(["text-sm font-semibold",d.totalDifference>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},r(x(g)(d.totalDifference)),3)])])):m("",!0)])]))}},Na={class:"overflow-x-auto"},ja={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Va={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Ta={key:0},Ba={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},za={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Ya={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Ua={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Ea={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Ia={__name:"TradersProfitTable",props:{traders:{type:Array,default:()=>[]}},setup(d){return(a,e)=>(o(),n("div",Na,[t("table",ja,[e[1]||(e[1]=t("thead",{class:"bg-gray-50 dark:bg-gray-900"},[t("tr",null,[t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0633\u0645 \u0627\u0644\u062A\u0627\u062C\u0631 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0627\u0644\u0647\u0627\u062A\u0641 "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0639\u062F\u062F \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," \u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0631\u0628\u062D ")])],-1)),t("tbody",Va,[d.traders.length===0?(o(),n("tr",Ta,[...e[0]||(e[0]=[t("td",{colspan:"6",class:"px-4 py-4 text-center text-sm text-gray-500 dark:text-gray-400"}," \u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A ",-1)])])):m("",!0),(o(!0),n(k,null,C(d.traders,(c,u)=>(o(),n("tr",{key:u,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",Ba,r(c.trader_name||"-"),1),t("td",za,r(c.trader_phone||"-"),1),t("td",Ya,r(c.cars_count||0),1),t("td",Ua,r(x(g)(c.total_purchases||0)),1),t("td",Ea,r(x(g)(c.total_sales||0)),1),t("td",{class:w(["px-4 py-3 whitespace-nowrap text-sm font-semibold",(c.total_profit||0)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},r(x(g)(c.total_profit||0)),3)]))),128))])])]))}},Aa={class:"py-12"},Oa={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},La={class:"mb-6"},Ra={class:"mb-4 flex justify-end gap-4"},Sa=["disabled"],Fa={key:0},Ha={key:1},qa=["disabled"],Ga={key:0},Ja={key:1},Ka=["disabled"],Qa={key:0},Wa={key:1},Xa={key:0,class:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg shadow"},Za={key:1},tr={class:"mb-6 border-b border-gray-200 dark:border-gray-700"},er={class:"-mb-px flex space-x-8","aria-label":"Tabs"},sr={class:"space-y-6"},ar={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},rr={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},or={class:"p-6"},dr={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},lr={class:"p-6"},nr={key:0},ir={key:1},cr={class:"space-y-6"},ur={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-4"},xr={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},gr={class:"flex items-end"},yr=["disabled"],mr={key:0},fr={key:1},pr={key:0},hr={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},vr={class:"p-6"},kr={class:"space-y-6"},br={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},wr={class:"p-6"},_r={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},$r={class:"p-6"},Cr={class:"space-y-6"},Pr={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},Dr={class:"p-6"},Mr={class:"space-y-6"},Nr={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},jr={class:"p-6"},Vr={class:"space-y-6"},Ur={__name:"Index",setup(d){const a=D({}),e=D(!1),c=D(new Date().getFullYear()),u=D([]),s=D(null),l=D("overview"),N=D([]),M=D(!1),b=D(null),f=D(null),v=D(!1),p=D(!1),T=D(!1),K=O(()=>{const y=new Date().getFullYear(),i=[];for(let _=0;_<10;_++){const h=y-_;h>=2023&&i.push(h)}return i}),A=async()=>{e.value=!0;try{const y={};c.value&&(y.year=c.value),u.value&&u.value.length>0&&(y.years=u.value),s.value!==null&&s.value!==void 0&&s.value!==""&&(y.month=s.value),console.log("Fetching statistics with params:",y);const i=await E.get("/api/statistics",{params:y});console.log("Statistics API Response:",i.data),a.value=i.data}catch(y){console.error("Error fetching statistics:",y),console.error("Error response:",y.response),console.error("Error message:",y.message)}finally{e.value=!1}};st(()=>{A()}),H([c,u,s],()=>{A()});const Q=async()=>{M.value=!0;try{const y={};c.value&&(y.year=c.value),u.value&&u.value.length>0&&(y.years=u.value),s.value!==null&&s.value!==void 0&&s.value!==""&&(y.month=s.value);const i=await E.post("/api/statistics/recalculate-profit",y);alert(`\u062A\u0645 \u062A\u062D\u062F\u064A\u062B ${i.data.updated_cars} \u0633\u064A\u0627\u0631\u0629 \u0645\u0646 ${i.data.total_cars} \u0633\u064A\u0627\u0631\u0629`),await A()}catch(y){console.error("Error recalculating profit:",y),alert("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0639\u0627\u062F\u0629 \u062D\u0633\u0627\u0628 \u0627\u0644\u0631\u0628\u062D")}finally{M.value=!1}},W=async()=>{try{const y={};c.value&&(y.year=c.value),u.value&&u.value.length>0&&(y.years=u.value),s.value!==null&&s.value!==void 0&&s.value!==""&&(y.month=s.value);const i=await E.get("/api/statistics/traders-profit",{params:y});N.value=i.data.traders||[]}catch(y){console.error("Error fetching traders profit:",y),N.value=[]}};H([l],()=>{l.value==="traders"&&W()});const X=async()=>{v.value=!0;try{const y={};b.value&&(y.from=b.value),f.value&&(y.to=f.value),c.value&&(y.year=c.value),u.value&&u.value.length>0&&(y.years=u.value),s.value!==null&&s.value!==void 0&&s.value!==""&&(y.month=s.value);const i=await E.get("/api/statistics/export-transfers-excel",{params:y,responseType:"blob"}),_=window.URL.createObjectURL(new Blob([i.data])),h=document.createElement("a");h.href=_;const j=i.headers["content-disposition"];let V="\u0627\u0644\u062D\u0648\u0644\u0627\u062A.xlsx";if(j){const P=j.match(/filename="?(.+)"?/i);P&&P[1]&&(V=P[1])}h.setAttribute("download",V),document.body.appendChild(h),h.click(),h.remove(),window.URL.revokeObjectURL(_)}catch(y){console.error("Error exporting transfers:",y),alert("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u0635\u062F\u064A\u0631 \u0627\u0644\u062D\u0648\u0644\u0627\u062A")}finally{v.value=!1}},Z=async()=>{p.value=!0;try{const y={};c.value&&(y.year=c.value),u.value&&u.value.length>0&&(y.years=u.value),s.value!==null&&s.value!==void 0&&s.value!==""&&(y.month=s.value);const i=await E.get("/api/statistics/export-excel",{params:y,responseType:"blob"}),_=window.URL.createObjectURL(new Blob([i.data])),h=document.createElement("a");h.href=_;const j=i.headers["content-disposition"];let V="\u0627\u0644\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A_\u0627\u0644\u0639\u0627\u0645\u0629.xlsx";if(j){const P=j.match(/filename="?(.+)"?/i);P&&P[1]&&(V=decodeURIComponent(P[1]))}h.setAttribute("download",V),document.body.appendChild(h),h.click(),h.remove(),window.URL.revokeObjectURL(_)}catch(y){console.error("Error exporting statistics:",y),alert("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u0635\u062F\u064A\u0631 \u0627\u0644\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A")}finally{p.value=!1}},tt=async()=>{T.value=!0;try{const y={};c.value&&(y.year=c.value),u.value&&u.value.length>0&&(y.years=u.value),s.value!==null&&s.value!==void 0&&s.value!==""&&(y.month=s.value);const i=await E.get("/api/statistics/export-payments-excel",{params:y,responseType:"blob"}),_=window.URL.createObjectURL(new Blob([i.data])),h=document.createElement("a");h.href=_;const j=i.headers["content-disposition"];let V="\u062F\u0641\u0639\u0627\u062A_\u0627\u0644\u062A\u062C\u0627\u0631.xlsx";if(j){const P=j.match(/filename="?(.+)"?/i);P&&P[1]&&(V=decodeURIComponent(P[1]))}h.setAttribute("download",V),document.body.appendChild(h),h.click(),h.remove(),window.URL.revokeObjectURL(_)}catch(y){console.error("Error exporting payments:",y),alert("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u0635\u062F\u064A\u0631 \u062F\u0641\u0639\u0627\u062A \u0627\u0644\u062A\u062C\u0627\u0631")}finally{T.value=!1}};return(y,i)=>(o(),n(k,null,[B(x(at),{title:"\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A Dashboard"}),B(rt,null,{header:q(()=>[...i[11]||(i[11]=[t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," \u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A Dashboard ",-1)])]),default:q(()=>{var _,h,j,V,P,L,R,S,F;return[t("div",Aa,[t("div",Oa,[t("div",La,[B(ga,{"selected-year":c.value,"selected-years":u.value,"selected-month":s.value,years:K.value,"onUpdate:selectedYear":i[0]||(i[0]=$=>c.value=$),"onUpdate:selectedYears":i[1]||(i[1]=$=>u.value=$),"onUpdate:selectedMonth":i[2]||(i[2]=$=>s.value=$)},null,8,["selected-year","selected-years","selected-month","years"])]),t("div",Ra,[l.value==="overview"?(o(),n("button",{key:0,onClick:Z,disabled:p.value,class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50 disabled:cursor-not-allowed"},[p.value?(o(),n("span",Fa,"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u0635\u062F\u064A\u0631...")):(o(),n("span",Ha,"\u062A\u0635\u062F\u064A\u0631 Excel"))],8,Sa)):m("",!0),l.value==="payments"?(o(),n("button",{key:1,onClick:tt,disabled:T.value,class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50 disabled:cursor-not-allowed"},[T.value?(o(),n("span",Ga,"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u0635\u062F\u064A\u0631...")):(o(),n("span",Ja,"\u062A\u0635\u062F\u064A\u0631 Excel"))],8,qa)):m("",!0),t("button",{onClick:Q,disabled:M.value,class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50 disabled:cursor-not-allowed"},[M.value?(o(),n("span",Qa,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0633\u0627\u0628...")):(o(),n("span",Wa,"\u0625\u0639\u0627\u062F\u0629 \u062D\u0633\u0627\u0628 \u0627\u0644\u0631\u0628\u062D"))],8,Ka)]),e.value?(o(),n("div",Xa,[...i[12]||(i[12]=[t("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 dark:border-gray-100"},null,-1),t("p",{class:"mt-4 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...",-1)])])):(o(),n("div",Za,[t("div",tr,[t("nav",er,[t("button",{onClick:i[3]||(i[3]=$=>l.value="overview"),class:w([l.value==="overview"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," \u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 ",2),t("button",{onClick:i[4]||(i[4]=$=>l.value="transfers"),class:w([l.value==="transfers"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," \u0627\u0644\u062D\u0648\u0644\u0627\u062A ",2),t("button",{onClick:i[5]||(i[5]=$=>l.value="profits"),class:w([l.value==="profits"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," \u0627\u0644\u0623\u0631\u0628\u0627\u062D ",2),t("button",{onClick:i[6]||(i[6]=$=>l.value="discounts"),class:w([l.value==="discounts"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A ",2),t("button",{onClick:i[7]||(i[7]=$=>l.value="traders"),class:w([l.value==="traders"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," \u0623\u0631\u0628\u0627\u062D \u0627\u0644\u062A\u062C\u0627\u0631 ",2),t("button",{onClick:i[8]||(i[8]=$=>l.value="payments"),class:w([l.value==="payments"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," \u062F\u0641\u0639\u0627\u062A \u0627\u0644\u062A\u062C\u0627\u0631 ",2)])]),z(t("div",sr,[B(Xt,{"cars-count":a.value.cars_count||0,"total-customs":a.value.total_customs||0,"exchange-profit":a.value.exchange_profit||0,"net-profit":a.value.net_profit||0,"net-transfers":a.value.net_transfers||0,"total-sales":a.value.total_sales||0,"total-purchases":a.value.total_purchases||0,"sales-purchase-difference":a.value.sales_purchase_difference||0,"traders-debt":a.value.traders_debt||0,"traders-payments":a.value.traders_payments||0,"total-payments-and-debt":a.value.total_payments_and_debt||0,"sales-vs-payments-difference":a.value.sales_vs_payments_difference||0},null,8,["cars-count","total-customs","exchange-profit","net-profit","net-transfers","total-sales","total-purchases","sales-purchase-difference","traders-debt","traders-payments","total-payments-and-debt","sales-vs-payments-difference"]),t("div",ar,[t("div",rr,[t("div",or,[i[13]||(i[13]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0627\u0644\u0623\u0631\u0628\u0627\u062D \u0627\u0644\u0634\u0647\u0631\u064A\u0629 ",-1)),a.value.monthly_profits&&a.value.month_labels?(o(),U(ye,{key:0,labels:a.value.month_labels,"monthly-profit":a.value.monthly_profits,"yearly-profit":a.value.yearly_profit||0},null,8,["labels","monthly-profit","yearly-profit"])):m("",!0)])]),t("div",dr,[t("div",lr,[i[14]||(i[14]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0627\u0644\u062A\u062F\u0641\u0642\u0627\u062A \u0627\u0644\u0646\u0642\u062F\u064A\u0629 \u0627\u0644\u0634\u0647\u0631\u064A\u0629 ",-1)),a.value.cash_flow_chart?(o(),U(Fs,{key:0,labels:a.value.cash_flow_chart.labels||[],"cash-in-data":a.value.cash_flow_chart.cash_in_data||[],"cash-out-data":a.value.cash_flow_chart.cash_out_data||[]},null,8,["labels","cash-in-data","cash-out-data"])):m("",!0)])])]),a.value.year_closing?(o(),n("div",nr,[B(sa,{year:a.value.year_closing.year,"total-income":a.value.year_closing.total_income||0,"total-expenses":a.value.year_closing.total_expenses||0,"total-discounts":a.value.year_closing.total_discounts||0,"net-year-profit":a.value.year_closing.net_year_profit||0,"carried-profit":a.value.year_closing.carried_profit||0,"is-closed":a.value.year_closing.is_closed||!1},null,8,["year","total-income","total-expenses","total-discounts","net-year-profit","carried-profit","is-closed"])])):m("",!0),a.value.custom&&a.value.custom.cars_with_difference&&a.value.custom.cars_with_difference.length>0?(o(),n("div",ir,[B(Ma,{cars:a.value.custom.cars_with_difference||[],"total-difference":a.value.custom.difference||0},null,8,["cars","total-difference"])])):m("",!0)],512),[[Y,l.value==="overview"]]),z(t("div",cr,[t("div",ur,[t("div",xr,[t("div",null,[i[15]||(i[15]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," \u0645\u0646 \u062A\u0627\u0631\u064A\u062E ",-1)),z(t("input",{type:"date","onUpdate:modelValue":i[9]||(i[9]=$=>b.value=$),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[G,b.value]])]),t("div",null,[i[16]||(i[16]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," \u0625\u0644\u0649 \u062A\u0627\u0631\u064A\u062E ",-1)),z(t("input",{type:"date","onUpdate:modelValue":i[10]||(i[10]=$=>f.value=$),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[G,f.value]])]),t("div",gr,[t("button",{onClick:X,disabled:v.value,class:"w-full bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50 disabled:cursor-not-allowed"},[v.value?(o(),n("span",mr,"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u0635\u062F\u064A\u0631...")):(o(),n("span",fr,"\u062A\u0635\u062F\u064A\u0631 Excel"))],8,yr)])])]),a.value.transfers_summary?(o(),n("div",pr,[i[17]||(i[17]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0645\u0644\u062E\u0635 \u0627\u0644\u062D\u0648\u0644\u0627\u062A ",-1)),B(is,{"gross-transfers":a.value.transfers_summary.gross_transfers||0,"transfer-fees":a.value.transfers_summary.transfer_fees||0,"net-transfers":a.value.transfers_summary.net_transfers||0,"erbil-transfers":a.value.transfers_summary.erbil_transfers||0},null,8,["gross-transfers","transfer-fees","net-transfers","erbil-transfers"])])):m("",!0),t("div",hr,[t("div",vr,[i[18]||(i[18]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062D\u0648\u0644\u0627\u062A ",-1)),a.value.transfers_summary&&a.value.transfers_summary.details?(o(),U(Bs,{key:0,transfers:a.value.transfers_summary.details},null,8,["transfers"])):m("",!0)])])],512),[[Y,l.value==="transfers"]]),z(t("div",kr,[t("div",br,[t("div",wr,[i[19]||(i[19]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0623\u0639\u0644\u0649 10 \u0633\u064A\u0627\u0631\u0627\u062A \u0631\u0628\u062D\u0627\u064B ",-1)),a.value.cars_with_profit?(o(),U(J,{key:0,cars:a.value.cars_with_profit,"max-profit":((_=a.value.profit_stats)==null?void 0:_.max)||0,"min-profit":((h=a.value.profit_stats)==null?void 0:h.min)||0,"avg-profit":((j=a.value.profit_stats)==null?void 0:j.avg)||0},null,8,["cars","max-profit","min-profit","avg-profit"])):m("",!0)])]),t("div",_r,[t("div",$r,[i[20]||(i[20]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0623\u0642\u0644 10 \u0633\u064A\u0627\u0631\u0627\u062A \u0631\u0628\u062D\u0627\u064B ",-1)),a.value.cars_with_lowest_profit?(o(),U(J,{key:0,cars:a.value.cars_with_lowest_profit,"max-profit":((V=a.value.profit_stats)==null?void 0:V.max)||0,"min-profit":((P=a.value.profit_stats)==null?void 0:P.min)||0,"avg-profit":((L=a.value.profit_stats)==null?void 0:L.avg)||0},null,8,["cars","max-profit","min-profit","avg-profit"])):m("",!0)])])],512),[[Y,l.value==="profits"]]),z(t("div",Cr,[t("div",Pr,[t("div",Dr,[i[21]||(i[21]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0633\u062C\u0644 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A ",-1)),a.value.discount_records?(o(),U(Ve,{key:0,discounts:a.value.discount_records,"total-discounts":((R=a.value.discount_stats)==null?void 0:R.total)||0,"max-discount":((S=a.value.discount_stats)==null?void 0:S.max)||0,"min-discount":((F=a.value.discount_stats)==null?void 0:F.min)||0},null,8,["discounts","total-discounts","max-discount","min-discount"])):m("",!0)])])],512),[[Y,l.value==="discounts"]]),z(t("div",Mr,[t("div",Nr,[t("div",jr,[i[22]||(i[22]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0631\u0628\u062D \u0645\u0646 \u0643\u0644 \u062A\u0627\u062C\u0631 ",-1)),B(Ia,{traders:N.value},null,8,["traders"])])])],512),[[Y,l.value==="traders"]]),z(t("div",Vr,[...i[23]||(i[23]=[t("div",{class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},[t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u062F\u0641\u0639\u0627\u062A \u0627\u0644\u062A\u062C\u0627\u0631 "),t("div",{class:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg"},[t("p",{class:"text-sm text-gray-700 dark:text-gray-300"},[t("strong",null,"\u0645\u0644\u0627\u062D\u0638\u0629:"),I(' \u064A\u0645\u0643\u0646\u0643 \u062A\u0635\u062F\u064A\u0631 \u062C\u0645\u064A\u0639 \u062F\u0641\u0639\u0627\u062A \u0627\u0644\u062A\u062C\u0627\u0631 \u0625\u0644\u0649 \u0645\u0644\u0641 Excel \u0628\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0632\u0631 "\u062A\u0635\u062F\u064A\u0631 Excel" \u0623\u0639\u0644\u0627\u0647. ')]),t("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-2"}," \u0627\u0644\u062F\u0641\u0639\u0627\u062A \u062A\u0634\u0645\u0644 \u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062A \u0645\u0646 \u0646\u0648\u0639 'out' \u0645\u0639 is_pay = 1 \u0648 amount < 0 ")])],-1)])],512),[[Y,l.value==="payments"]])]))])])]}),_:1})],64))}};export{Ur as default};
