import{r as p,o as u,c as B,w as D,a as f,b as e,d as q,j as m,i as b,k,e as y,v as h,t as d,g as x,T as F,y as O,x as Q,F as S,H as X,z as Z,h as R,n as ee}from"./app.1425fd0e.js";import{_ as te}from"./AuthenticatedLayout.09fa76e1.js";import{t as ae}from"./trash.e9cffa42.js";import{e as oe}from"./edit.de401226.js";import{a as C}from"./index.59b46b84.js";import{U as H}from"./Uploader.79fa26d5.js";import{q as Y}from"./VueSearchSelect.548e8b0d.js";import{M as re}from"./ModalDelCar.b747da78.js";import{W as se}from"./v3-infinite-loading.es.de6ddd3e.js";import{d as de}from"./debounce.4a61300d.js";/* empty css                                                                 *//* empty css                                                    */const le={key:0,class:"modal-mask"},ne={class:"modal-wrapper max-h-[80vh]"},ie={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},ue={class:"modal-header"},ce={class:"text-center dark:text-gray-200"},ge={class:"modal-body"},me={key:0,class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},fe={class:"mb-4 mx-1"},be=e("label",{class:"dark:text-gray-200",for:"color_id"}," \u0635\u0627\u062D\u0628 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 ",-1),ye={class:"relative"},he={class:"relative"},pe={key:0,className:"mb-4 mx-1"},ve={class:"dark:text-gray-200",for:"number"},ke={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-1 lg:gap-2"},xe={className:"mb-4 mx-1"},$e={class:"dark:text-gray-200",for:"car_number"},we={className:"mb-4 mx-1"},_e={class:"dark:text-gray-200",for:"pin"},De={className:"mb-4 mx-1"},Ce={class:"dark:text-gray-200",for:"pin"},Ae={className:"mb-4 mx-1"},Ue={class:"dark:text-gray-200",for:"pin"},Me={className:"mb-4 mx-1"},Ne={class:"dark:text-gray-200",for:"pin"},Ve={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},Ie={className:"mb-4 mx-1"},Se={class:"dark:text-gray-200",for:"note"},Be={key:1,class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},Te=["disabled"],ze={key:2,class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},Re={class:"mb-4"},je=e("label",{class:"form-label"},"\u0627\u0644\u0635\u0648\u0631",-1),qe={class:"mt-3"},Fe={key:0,class:"text-danger"},Oe={class:"modal-footer my-2"},He={class:"flex flex-row m-auto"},Ye={__name:"ModalAddCarsAnnual",props:{show:Boolean,formData:Object,client:Array,saveCar:Boolean},setup(t){function _(){const l=new Date,a=l.getFullYear(),o=String(l.getMonth()+1).padStart(2,"0"),v=String(l.getDate()).padStart(2,"0");return`${a}-${o}-${v}`}let n=p(!0);function $(l){C.get("/api/carsAnnualImageDel?name="+l.name).then(a=>{toast.success("\u062A\u0645  \u062D\u0630\u0641 \u0627\u0644\u0635\u0648\u0631\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:5e3,position:"bottom-right",rtl:!0})}).catch(a=>{console.error(a)})}return(l,a)=>(u(),B(F,{name:"modal"},{default:D(()=>{var o,v,w;return[t.show?(u(),f("div",le,[e("div",ne,[e("div",ie,[e("div",ue,[q(l.$slots,"header",{},()=>[e("h2",ce,d(l.$t("add_car")),1)])]),e("div",ge,[t.formData.id?b("",!0):(u(),f("div",me,[e("div",fe,[be,e("div",ye,[m(n)?b("",!0):(u(),B(m(Y),{key:0,optionValue:"id",optionText:"name",modelValue:t.formData.client_id,"onUpdate:modelValue":a[0]||(a[0]=c=>t.formData.client_id=c),list:t.client,placeholder:"\u062A\u062D\u062F\u064A\u062F \u0635\u0627\u062D\u0628 \u0627\u0644\u0633\u064A\u0627\u0631\u0629"},null,8,["modelValue","list"])),m(n)?b("",!0):(u(),f("button",{key:1,type:"button",onClick:a[1]||(a[1]=c=>{k(n)?n.value=!0:n=!0,t.formData.client_name="",t.formData.client_id=""}),class:"absolute left-0 top-0 h-full px-3 py-2 font-bold text-white bg-green-500 rounded-tl-lg rounded-bl-lg"}," \u0625\u0636\u0627\u0641\u0629 \u0635\u0627\u062D\u0628 \u0633\u064A\u0627\u0631\u0629 "))]),e("div",he,[m(n)?y((u(),f("input",{key:0,id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[2]||(a[2]=c=>t.formData.client_name=c)},null,512)),[[h,t.formData.client_name]]):b("",!0),m(n)?(u(),f("button",{key:1,type:"button",onClick:a[3]||(a[3]=c=>{k(n)?n.value=!1:n=!1,t.formData.client=""}),class:"absolute left-0 top-0 h-full px-3 py-2 font-bold text-white bg-pink-500 rounded-tl-lg rounded-bl-lg"}," \u062A\u062D\u062F\u064A\u062F \u0635\u0627\u062D\u0628 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 ")):b("",!0)])]),m(n)?(u(),f("div",pe,[e("label",ve,d(l.$t("phoneNumber")),1),y(e("input",{id:"number",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[4]||(a[4]=c=>t.formData.client_phone=c)},null,512),[[h,t.formData.client_phone]])])):b("",!0)])),e("div",ke,[e("div",xe,[e("label",$e,d(l.$t("car_number")),1),y(e("input",{id:"car_number",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[5]||(a[5]=c=>t.formData.car_number=c)},null,512),[[h,t.formData.car_number]])]),e("div",we,[e("label",_e,d(l.$t("car_type")),1),y(e("input",{id:"car_type",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[6]||(a[6]=c=>t.formData.car_type=c)},null,512),[[h,t.formData.car_type]])]),e("div",De,[e("label",Ce,d(l.$t("year")),1),y(e("input",{id:"year",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[7]||(a[7]=c=>t.formData.year=c)},null,512),[[h,t.formData.year]])]),e("div",Ae,[e("label",Ue,d(l.$t("color")),1),y(e("input",{id:"car_color",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[8]||(a[8]=c=>t.formData.car_color=c)},null,512),[[h,t.formData.car_color]])]),e("div",Me,[e("label",Ne,d(l.$t("date")),1),y(e("input",{id:"date",type:"date",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[9]||(a[9]=c=>t.formData.date=c)},null,512),[[h,t.formData.date]])])]),e("div",Ve,[e("div",Ie,[e("label",Se,d(l.$t("note")),1),y(e("input",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[10]||(a[10]=c=>t.formData.note=c)},null,512),[[h,t.formData.note]])])]),t.saveCar?b("",!0):(u(),f("div",Be,[e("button",{class:"modal-default-button py-3 bg-blue-500 rounded col-6",onClick:a[11]||(a[11]=c=>{t.formData.date=t.formData.date?t.formData.date:_(),l.$emit("a",t.formData)}),disabled:!t.formData.client_id&&!t.formData.client_name}," \u062D\u0641\u0638 \u0648\u0645\u062A\u0627\u0628\u0639\u0629 ",8,Te)])),t.saveCar?(u(),f("div",ze,[e("div",Re,[je,e("div",qe,[x(m(H),{server:"/api/carsAnnualUpload?carId="+t.saveCar,"is-invalid":!!((o=l.errors)!=null&&o.media),onChange:l.changeMedia,location:"/storage/posts/media",onInit:l.initMedia,onAdd:l.addMedia,onRemove:$},null,8,["server","is-invalid","onChange","onInit","onAdd"])]),(v=l.errors)!=null&&v.media?(u(),f("p",Fe,d((w=l.errors)==null?void 0:w.media[0]),1)):b("",!0)])])):b("",!0)]),e("div",Oe,[e("div",He,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:a[12]||(a[12]=c=>{l.$emit("close"),t.formData=""})}," \u0625\u063A\u0644\u0627\u0642 ")])])])])])):b("",!0)]}),_:3}))}};const Ee={key:0,class:"modal-mask"},Ge={class:"modal-wrapper max-h-[80vh]"},Le={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},We={class:"modal-header"},Je=e("h2",{class:"text-center dark:text-gray-200"}," \u062A\u0639\u062F\u064A\u0644 \u0645\u0639\u0644\u0648\u0645\u0627\u062A ",-1),Ke={class:"modal-body"},Pe={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},Qe={class:"mb-4 mx-1"},Xe=e("label",{class:"dark:text-gray-200",for:"color_id"}," \u0635\u0627\u062D\u0628 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 ",-1),Ze={class:"relative"},et={class:"relative"},tt={key:0,className:"mb-4 mx-1"},at={class:"dark:text-gray-200",for:"number"},ot={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-1 lg:gap-2"},rt={className:"mb-4 mx-1"},st={class:"dark:text-gray-200",for:"car_number"},dt={className:"mb-4 mx-1"},lt={class:"dark:text-gray-200",for:"pin"},nt={className:"mb-4 mx-1"},it={class:"dark:text-gray-200",for:"pin"},ut={className:"mb-4 mx-1"},ct={class:"dark:text-gray-200",for:"pin"},gt={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},mt={className:"mb-4 mx-1"},ft={class:"dark:text-gray-200",for:"note"},bt={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},yt={class:"m-4"},ht=e("label",{class:"form-label"},"\u0627\u0644\u0635\u0648\u0631",-1),pt={key:0,class:"text-danger"},vt={class:"modal-footer my-2"},kt={class:"flex flex-row"},xt={class:"basis-1/2 px-4"},$t={class:"basis-1/2 px-4"},wt=["disabled"],_t={__name:"ModalUpdateCarsAnnual",props:{show:Boolean,formData:Object,client:Array,saveCar:Boolean},setup(t){const _=O();let n=p(!1);function $(a){C.get("/api/carsAnnualImageDel?name="+a.name).then(o=>{_.success("\u062A\u0645  \u062D\u0630\u0641 \u0627\u0644\u0635\u0648\u0631\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:5e3,position:"bottom-right",rtl:!0})}).catch(o=>{console.error(o)})}function l(){const a=new Date,o=a.getFullYear(),v=String(a.getMonth()+1).padStart(2,"0"),w=String(a.getDate()).padStart(2,"0");return`${o}-${v}-${w}`}return(a,o)=>(u(),B(F,{name:"modal"},{default:D(()=>{var v,w,c;return[t.show?(u(),f("div",Ee,[e("div",Ge,[e("div",Le,[e("div",We,[q(a.$slots,"header",{},()=>[Je])]),e("div",Ke,[e("div",Pe,[e("div",Qe,[Xe,e("div",Ze,[m(n)?b("",!0):(u(),B(m(Y),{key:0,optionValue:"id",optionText:"name",modelValue:t.formData.client_id,"onUpdate:modelValue":o[0]||(o[0]=g=>t.formData.client_id=g),list:t.client,placeholder:"\u062A\u062D\u062F\u064A\u062F \u0635\u0627\u062D\u0628 \u0627\u0644\u0633\u064A\u0627\u0631\u0629"},null,8,["modelValue","list"])),m(n)?b("",!0):(u(),f("button",{key:1,type:"button",onClick:o[1]||(o[1]=g=>{k(n)?n.value=!0:n=!0,t.formData.client_name="",t.formData.client_id=""}),class:"absolute left-0 top-0 h-full px-3 py-2 font-bold text-white bg-green-500 rounded-tl-lg rounded-bl-lg"}," \u0625\u0636\u0627\u0641\u0629 \u0635\u0627\u062D\u0628 \u0633\u064A\u0627\u0631\u0629 "))]),e("div",et,[m(n)?y((u(),f("input",{key:0,id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":o[2]||(o[2]=g=>t.formData.client_name=g)},null,512)),[[h,t.formData.client_name]]):b("",!0),m(n)?(u(),f("button",{key:1,type:"button",onClick:o[3]||(o[3]=g=>{k(n)?n.value=!1:n=!1,t.formData.client=""}),class:"absolute left-0 top-0 h-full px-3 py-2 font-bold text-white bg-pink-500 rounded-tl-lg rounded-bl-lg"}," \u062A\u062D\u062F\u064A\u062F \u0635\u0627\u062D\u0628 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 ")):b("",!0)])]),m(n)?(u(),f("div",tt,[e("label",at,d(a.$t("phoneNumber")),1),y(e("input",{id:"number",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":o[4]||(o[4]=g=>t.formData.client_phone=g)},null,512),[[h,t.formData.client_phone]])])):b("",!0)]),e("div",ot,[e("div",rt,[e("label",st,d(a.$t("car_number")),1),y(e("input",{id:"car_number",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":o[5]||(o[5]=g=>t.formData.car_number=g)},null,512),[[h,t.formData.car_number]])]),e("div",dt,[e("label",lt,d(a.$t("car_type")),1),y(e("input",{id:"car_type",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":o[6]||(o[6]=g=>t.formData.car_type=g)},null,512),[[h,t.formData.car_type]])]),e("div",nt,[e("label",it,d(a.$t("year")),1),y(e("input",{id:"year",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":o[7]||(o[7]=g=>t.formData.year=g)},null,512),[[h,t.formData.year]])]),e("div",ut,[e("label",ct,d(a.$t("color")),1),y(e("input",{id:"car_color",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":o[8]||(o[8]=g=>t.formData.car_color=g)},null,512),[[h,t.formData.car_color]])])]),e("div",gt,[e("div",mt,[e("label",ft,d(a.$t("note")),1),y(e("input",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":o[9]||(o[9]=g=>t.formData.note=g)},null,512),[[h,t.formData.note]])])]),e("div",bt,[e("div",yt,[ht,e("div",null,[x(m(H),{server:"/api/carsAnnualUpload?carId="+t.formData.id,"is-invalid":!!((v=a.errors)!=null&&v.media),onChange:a.changeMedia,onInitMedia:a.media,location:"/public/uploadsResized",media:t.formData.car_images,onAdd:a.addMedia,onRemove:$},null,8,["server","is-invalid","onChange","onInitMedia","media","onAdd"])]),(w=a.errors)!=null&&w.media?(u(),f("p",pt,d((c=a.errors)==null?void 0:c.media[0]),1)):b("",!0)])])]),e("div",vt,[e("div",kt,[e("div",xt,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:o[10]||(o[10]=g=>a.$emit("close"))}," \u0627\u063A\u0644\u0627\u0642 ")]),e("div",$t,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:o[11]||(o[11]=g=>{t.formData.date=t.formData.date?t.formData.date:l(),a.$emit("a",t.formData),t.formData="",k(n)?n.value=!1:n=!1}),disabled:!t.formData.client_id&&!t.formData.client_name}," \u062D\u0641\u0638 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A ",8,wt)])])])])])])):b("",!0)]}),_:3}))}},Dt=e("h2",{class:"mb-5 dark:text-white text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1),Ct={key:0,class:"py-2"},At={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},Ut={class:"bg-white overflow-hidden shadow-sm"},Mt={class:"p-6 dark:bg-gray-900"},Nt={class:"flex flex-col"},Vt={class:"grid grid-cols-2 md:grid-cols-5 lg:grid-cols-5 gap-2 lg:gap-1"},It={class:"flex items-center max-w-5xl"},St=e("label",{class:"dark:text-gray-200",for:"simple-search"},null,-1),Bt={class:"relative w-full"},Tt=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[e("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-200 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),zt={value:"0",disabled:""},Rt={value:""},jt=["value"],qt={class:"text-center"},Ft=e("div",null,null,-1),Ot={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},Ht={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},Yt={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Et=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0627\u0633\u0645 \u0635\u0627\u062D\u0628 \u0627\u0644\u0633\u06CC\u0627\u0631\u06D5 ",-1),Gt={scope:"col",class:"px-1 py-3 text-base"},Lt={scope:"col",class:"px-1 py-3 text-base"},Wt={scope:"col",class:"px-1 py-3 text-base"},Jt={scope:"col",class:"px-1 py-3 text-base"},Kt={scope:"col",class:"px-1 py-3 text-base"},Pt={scope:"col",class:"px-1 py-3 text-base"},Qt=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0627\u0644\u0645\u0644\u0641\u0627\u062A \u0627\u0644\u0645\u062E\u0632\u0646\u0629 ",-1),Xt={scope:"col",class:"px-1 py-3 text-base",style:{width:"90px"}},Zt={className:"border dark:border-gray-800 text-center  dark:text-gray-200 text-black px-1 py-2 ",style:{"font-weight":"bold","font-size":"16px"}},ea={className:"border dark:border-gray-800 text-center px-1 py-2 "},ta={className:"border dark:border-gray-800 text-center px-1 py-2 "},aa={className:"border dark:border-gray-800 text-center px-1 py-2 "},oa={className:"border dark:border-gray-800 text-center px-1 py-2 "},ra={className:"border dark:border-gray-800 text-center px-1 py-2 "},sa={className:"border dark:border-gray-800 text-center px-1 py-2 "},da={className:"border dark:border-gray-800 text-center px-1 py-2 "},la=["href"],na=["src"],ia={className:"border dark:border-gray-800 text-start px-1 py-2"},ua=["onClick"],ca=["onClick"],ga={class:"spaner"},ma=e("div",null,null,-1),Ca={__name:"Index",props:{clientAnnual:Array},setup(t){Q();const _=O();let n=p(!1),$=p(!1),l=p(!1),a=p(!1);p(0),p(0);let o=p(!1);function v(i={}){g.value=i,l.value=!0}function w(i={}){g.value=i,a.value=!0}function c(i={}){g.value={},$.value=!0}const g=p({}),A=p([]);let T=p(!1),U=0,z=1,M="";const N=()=>{z=0,A.value.length=0,T.value=!T.value},E=async i=>{console.log(i);try{const r=(await C.get("api/getIndexCarAnnual",{params:{limit:100,page:z,q:M,user_id:U}})).data;r.data.length<100?(A.value.push(...r.data),i.complete()):(A.value.push(...r.data),i.loaded()),z++}catch(s){console.log(s)}};function G(i){l.value=!1,C.post("/api/updateCarsAnnual",i).then(s=>{n.value=!1,_.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),N()}).catch(s=>{n.value=!1,_.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function L(i){C.post("/api/delCarsAnnualr",i).then(s=>{a.value=!1,_.success("\u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:3e3,position:"bottom-right",rtl:!0}),N()}).catch(s=>{console.error(s)})}const j=de(N,500);function W(i){C.post("/api/addCarsAnnual",i).then(s=>{o.value=s.data.id,_.success("\u062A\u0645 \u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0628\u0646\u062C\u0627\u062D",{timeout:5e3,position:"bottom-right",rtl:!0})}).catch(s=>{console.error(s)})}function J(i){return`/public/uploadsResized/${i}`}function K(i){return`/public/uploads/${i}`}return(i,s)=>(u(),f(S,null,[x(m(X),{title:"Dashboard"}),x(Ye,{formData:g.value,saveCar:m(o),show:!!m($),client:t.clientAnnual,onA:s[0]||(s[0]=r=>W(r)),onClose:s[1]||(s[1]=r=>{k($)?$.value=!1:$=!1,k(o)?o.value=0:o=0,N()})},{header:D(()=>[]),_:1},8,["formData","saveCar","show","client"]),x(_t,{formData:g.value,saveCar:m(o),show:!!m(l),client:t.clientAnnual,onA:s[2]||(s[2]=r=>G(r)),onClose:s[3]||(s[3]=r=>k(l)?l.value=!1:l=!1)},{header:D(()=>[]),_:1},8,["formData","saveCar","show","client"]),x(re,{show:!!m(a),formData:g.value,onA:s[4]||(s[4]=r=>L(r)),onClose:s[5]||(s[5]=r=>k(a)?a.value=!1:a=!1)},{header:D(()=>[Dt]),_:1},8,["show","formData"]),x(te,null,{default:D(()=>[i.$page.props.auth.user.type_id==1?(u(),f("div",Ct,[e("div",At,[e("div",Ut,[e("div",Mt,[e("div",Nt,[e("div",Vt,[e("div",null,[e("form",It,[St,e("div",Bt,[Tt,y(e("input",{"onUpdate:modelValue":s[6]||(s[6]=r=>k(M)?M.value=r:M=r),onInput:s[7]||(s[7]=(...r)=>m(j)&&m(j)(...r)),type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"\u0628\u062D\u062B",required:""},null,544),[[h,m(M)]])])])]),e("div",null,[y(e("select",{onChange:s[8]||(s[8]=r=>N()),"onUpdate:modelValue":s[9]||(s[9]=r=>k(U)?U.value=r:U=r),id:"default",class:"pr-8 bg-gray-50 border border-gray-300 text-gray-900 mb-6 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-red-500 dark:focus:border-red-500"},[e("option",zt,d(i.$t("selectCustomer")),1),e("option",Rt,d(i.$t("allOwners")),1),(u(!0),f(S,null,R(t.clientAnnual,(r,V)=>(u(),f("option",{key:V,value:r.id},d(r.name),9,jt))),128))],544),[[Z,m(U)]])]),e("div",qt,[e("button",{type:"button",onClick:s[10]||(s[10]=r=>c()),style:{"min-width":"150px"},className:"px-6 mb-12 mx-2 py-2 font-bold text-white bg-purple-600 rounded"}," \u0627\u0636\u0627\u0641\u0629 \u0633\u064A\u0627\u0631\u0629 ")])]),e("div",null,[Ft,e("div",Ot,[e("table",Ht,[e("thead",Yt,[e("tr",null,[Et,e("th",Gt,d(i.$t("car_type")),1),e("th",Lt,d(i.$t("year")),1),e("th",Wt,d(i.$t("color")),1),e("th",Jt,d(i.$t("car_number")),1),e("th",Kt,d(i.$t("note")),1),e("th",Pt,d(i.$t("date")),1),Qt,e("th",Xt,d(i.$t("execute")),1)])]),e("tbody",null,[(u(!0),f(S,null,R(A.value,r=>{var V;return u(),f("tr",{key:r.id,class:ee([r.results==0?"":r.results==1?"bg-red-100 dark:bg-red-900":"bg-green-100 dark:bg-green-900","bg-white border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[e("td",Zt,d(((V=r.client)==null?void 0:V.name)||r.client_name),1),e("td",ea,d(r.car_type),1),e("td",ta,d(r.year),1),e("td",aa,d(r.car_color),1),e("td",oa,d(r.car_number),1),e("td",ra,d(r.note),1),e("td",sa,d(r.date),1),e("td",da,[(u(!0),f(S,null,R(r.car_images,(I,P)=>(u(),f("a",{key:P,href:K(I.name),style:{cursor:"pointer"},target:"_blank"},[e("img",{src:J(I.name),alt:"",class:"px-1",style:{"max-width":"100px","max-height":"50px",display:"inline"}},null,8,na)],8,la))),128))]),e("td",ia,[e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-slate-500 rounded",onClick:I=>v(r)},[x(oe)],8,ua),e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-orange-500 rounded",onClick:I=>w(r)},[x(ae)],8,ca)])],2)}),128))])])])]),e("div",ga,[x(m(se),{car:A.value,onInfinite:E,identifier:m(T)},null,8,["car","identifier"])])])])])])])):b("",!0),ma]),_:1})],64))}};export{Ca as default};
