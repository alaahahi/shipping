import{x as A,z as S,r as a,a as _,g as d,j as l,w as h,k as f,F as N,o as x,H as V,b as e,e as q,v as L,t as s,h as R,n as T,L as E,i as F}from"./app.c611a7a8.js";import{_ as H}from"./AuthenticatedLayout.6d466eec.js";import{p as U}from"./print.db8f18b1.js";import{t as G}from"./trash.a8be14a3.js";import{e as P}from"./edit.c891172a.js";import{M as W}from"./ModalDelCar.c3ab3cdf.js";import{_ as J}from"./ModalEditCar_S.a9aabae5.js";import{W as K}from"./v3-infinite-loading.es.4c26172b.js";import{d as O}from"./debounce.064bfde7.js";import{a as v}from"./index.18da28d9.js";/* empty css                                                    */import"./Uploader.83baee86.js";/* empty css                                                                 */const Q=e("h2",{class:"my-5 dark:text-white text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0639\u0642\u062F \u061F ",-1),X={key:0,class:"py-2"},Y={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},Z={class:"bg-white overflow-hidden shadow-sm"},ee={class:"p-6 dark:bg-gray-900"},te={class:"flex flex-col"},se={class:"grid grid-cols-2 md:grid-cols-5 lg:grid-cols-5 gap-2 lg:gap-1"},re={class:"flex items-center max-w-5xl"},oe=e("label",{class:"dark:text-gray-200",for:"simple-search"},null,-1),ae={class:"relative w-full"},le=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[e("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-200 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),de=e("div",null,null,-1),ne={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},ie={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},ce={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},pe={scope:"col",class:"px-1 py-3 text-base"},_e={scope:"col",class:"px-1 py-3 text-base"},he={scope:"col",class:"px-1 py-3 text-base"},xe={scope:"col",class:"px-1 py-3 text-base"},ue={scope:"col",class:"px-1 py-3 text-base"},ge={scope:"col",class:"px-1 py-3 text-base"},be={scope:"col",class:"px-1 py-3 text-base"},me={scope:"col",class:"px-1 py-3 text-base"},ye={scope:"col",class:"px-1 py-3 text-base"},fe={scope:"col",class:"px-1 py-3 text-base"},ve={scope:"col",class:"px-1 py-3 text-base"},ke={scope:"col",class:"px-1 py-3 text-base"},we={scope:"col",class:"px-1 py-3 text-base"},Ce={scope:"col",class:"px-1 py-3 text-base"},$e={scope:"col",class:"px-1 py-3 text-base",style:{width:"150px"}},Ne={className:"border dark:border-gray-800 text-center px-1 py-2 "},De={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ie={className:"border dark:border-gray-800 text-center px-1 py-2 "},Me={className:"border dark:border-gray-800 text-center px-1 py-2 "},Be={className:"border dark:border-gray-800 text-center px-1 py-2 "},je={className:"border dark:border-gray-800 text-center px-1 py-2 "},ze={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ae={className:"border dark:border-gray-800 text-center px-1 py-2 "},Se={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ve={className:"border dark:border-gray-800 text-center px-1 py-2 "},qe={className:"border dark:border-gray-800 text-center px-1 py-2 "},Le={className:"border dark:border-gray-800 text-center px-1 py-2 "},Re={className:"border dark:border-gray-800 text-center px-1 py-2 "},Te={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ee={className:"border dark:border-gray-800 text-start px-1 py-2"},Fe=["onClick"],He=["href"],Ue={class:"spaner"},Ge={class:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-4 lg:grid-cols-5 xl:grid-cols-7"},Pe={class:"flex items-start rounded-xl dark:bg-gray-600 dark:text-gray-300 bg-white p-4 shadow-lg"},We=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-full border border-red-100 bg-red-50"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1),Je={class:"mr-4"},Ke=e("h2",{class:"font-semibold"},"\u062C\u0645\u064A\u0639 \u0627\u0644\u0639\u0642\u0648\u062F",-1),Oe={class:"mt-2 text-sm text-gray-500 dark:text-gray-200"},Qe=e("div",null,null,-1),pt={__name:"index",props:{client:Array,user:String},setup(k){const D=k;A();const u=S();let w=a(!1);a(!1),a(!1);let i=a(!1),n=a(!1);a(0);let C=a(0);function I(r={}){g.value=r,n.value=!0}const g=a({}),c=a([]);let b=a(!1),M=0,m=1,p=D.user;const y=()=>{m=0,c.value.length=0,b.value=!b.value},B=async r=>{console.log(r);try{const o=await v.get("/api/getIndexContractCar",{params:{limit:100,page:m,q:p,user_id:M}}),t=o.data;C.value=o.data.total,t.data.length<100?(c.value.push(...t.data),r.complete()):(c.value.push(...t.data),r.loaded()),m++}catch(o){console.log(o)}};function j(r){i.value=!1,v.post("/api/updateCarsS",r).then(o=>{w.value=!1,u.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),getcountTotalInfo(),y()}).catch(o=>{w.value=!1,u.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function z(r){v.post("/api/DelCarContract",r).then(o=>{n.value=!1,u.success("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0639\u0642\u062F \u0628\u0646\u062C\u0627\u062D",{timeout:3e3,position:"bottom-right",rtl:!0}),y()}).catch(o=>{console.error(o)})}const $=O(y,500);return(r,o)=>(x(),_(N,null,[d(l(V),{title:"Dashboard"}),d(J,{formData:g.value,show:!!l(i),client:k.client,onA:o[0]||(o[0]=t=>j(t)),onClose:o[1]||(o[1]=t=>f(i)?i.value=!1:i=!1)},{header:h(()=>[]),_:1},8,["formData","show","client"]),d(W,{show:!!l(n),formData:g.value,onA:o[2]||(o[2]=t=>z(t)),onClose:o[3]||(o[3]=t=>f(n)?n.value=!1:n=!1)},{header:h(()=>[Q]),_:1},8,["show","formData"]),d(H,null,{default:h(()=>[r.$page.props.auth.user.type_id==8?(x(),_("div",X,[e("div",Y,[e("div",Z,[e("div",ee,[e("div",te,[e("div",se,[e("div",null,[e("form",re,[oe,e("div",ae,[le,q(e("input",{"onUpdate:modelValue":o[4]||(o[4]=t=>f(p)?p.value=t:p=t),onInput:o[5]||(o[5]=(...t)=>l($)&&l($)(...t)),type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"\u0628\u062D\u062B",required:""},null,544),[[L,l(p)]])])])])]),e("div",null,[de,e("div",ne,[e("table",ie,[e("thead",ce,[e("tr",null,[e("th",pe,s(r.$t("seller")),1),e("th",_e,s(r.$t("debt")),1),e("th",he,s(r.$t("debtInDinars")),1),e("th",xe,s(r.$t("car_type")),1),e("th",ue,s(r.$t("vin")),1),e("th",ge,s(r.$t("color")),1),e("th",be,s(r.$t("carPrice")),1),e("th",me,s(r.$t("paid")),1),e("th",ye,s(r.$t("remaining")),1),e("th",fe,s(r.$t("date")),1),e("th",ve,s(r.$t("Buyer")),1),e("th",ke,s(r.$t("debt")),1),e("th",we,s(r.$t("debtInDinars")),1),e("th",Ce,s(r.$t("note")),1),e("th",$e,s(r.$t("execute")),1)])]),e("tbody",null,[(x(!0),_(N,null,R(c.value,t=>(x(),_("tr",{key:t.id,class:T([t.status==0?"":t.status==1?"bg-red-100 dark:bg-red-900":"bg-green-100 dark:bg-green-900","bg-white border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[e("td",Ne,s(t.name_seller),1),e("td",De,s(t.tex_seller-t.tex_seller_paid),1),e("td",Ie,s(t.tex_seller_dinar-t.tex_seller_dinar_paid),1),e("td",Me,s(t.car_name),1),e("td",Be,s(t.vin),1),e("td",je,s(t.color),1),e("td",ze,s(t.car_price),1),e("td",Ae,s(t.car_paid),1),e("td",Se,s(t.car_price-t.car_paid),1),e("td",Ve,s(t.created),1),e("td",qe,s(t.name_buyer),1),e("td",Le,s(t.tex_buyer-t.tex_buyer_paid),1),e("td",Re,s(t.tex_buyer_dinar-t.tex_buyer_dinar_paid),1),e("td",Te,s(t.system_note),1),e("td",Ee,[d(l(E),{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-slate-500 rounded inline-flex",href:`/contract/${t.id}`},{default:h(()=>[d(P)]),_:2},1032,["href"]),e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-orange-500 rounded",onClick:Xe=>I(t)},[d(G)],8,Fe),e("a",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-blue-600 rounded inline-flex",href:`/contract_print/${t.id}`,target:"_blank"},[d(U)],8,He)])],2))),128))])])])]),e("div",Ue,[d(l(K),{car:c.value,onInfinite:B,identifier:l(b)},null,8,["car","identifier"])]),e("div",null,[e("div",Ge,[e("div",Pe,[We,e("div",Je,[Ke,e("p",Oe,s(l(C)),1)])])])])])])])])])):F("",!0),Qe]),_:1})],64))}};export{pt as default};
