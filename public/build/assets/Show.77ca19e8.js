import{G as Q,m as p,b as W,a as c,f as l,u,e as f,F as A,o as _,H as X,i as w,h as e,t as o,g as P,w as Y,y as Z,z as E,k as ee,n as te,j as R}from"./app.de011f70.js";import{_ as se}from"./AuthenticatedLayout.e91ec334.js";import{M as oe}from"./Modal.67290675.js";import{t as ae}from"./laravel-vue-pagination.es.6d71984c.js";import{_ as n,a as m}from"./TextInput.1e46e26b.js";import{a as k,_ as le,M as re}from"./ModalAddCarPayment.ffcf5fb6.js";import{_ as de}from"./ModalEditCar_S.8c60ddf1.js";/* empty css                                              */const ne=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," \u0634\u0631\u0643\u0629 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 ",-1),ie=e("h2",{class:"mb-5 dark:text-white text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1),ce={key:0},ue={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},_e={class:"ml-3 text-sm font-medium text-red-700 dark:text-red-800"},pe={class:"py-4"},me={class:"text-center pb-2"},be={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},he={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},xe={class:"p-6 bg-white border-gray-200"},ve={class:"flex flex-row"},ge={class:"basis-1/2 px-4"},ye={value:"undefined",disabled:""},fe=["value"],we={class:"basis-1/2"},ke={className:"mb-4 mx-5"},$e={class:"flex flex-row"},Ne={class:"grow"},Ce={class:"pb-3"},De={class:"mx-auto"},Me={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Ae={class:"bg-white border-gray-200"},Pe={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 lg:gap-1"},Se={className:"mb-4 mx-5"},Te={className:"mb-4 mx-5"},Ie={className:"mb-4 mx-5"},Fe={className:"mb-4 mx-5"},Ve={class:"flex flex-row"},Be={class:"grow"},Ee={class:"pb-3"},Re={class:"mx-auto"},Ue={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},je={class:"bg-white"},ze={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 lg:gap-1"},He={className:"mb-4 mx-5"},Le={className:"mb-4 mx-5"},Ge={className:"mb-4 mx-5"},Oe={className:"mb-4 mx-5"},qe={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 lg:gap-1"},Je={key:0,className:"mb-4 mx-5 print:hidden"},Ke=["disabled"],Qe={key:0},We={key:1},Xe={class:"overflow-x-auto shadow-md"},Ye={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},Ze={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},et={scope:"col",class:"px-1 py-3 text-base"},tt={scope:"col",class:"px-1 py-3 text-base"},st={scope:"col",class:"px-1 py-3 text-base"},ot={scope:"col",class:"px-1 py-3 text-base"},at={scope:"col",class:"px-1 py-3 text-base"},lt={scope:"col",class:"px-1 py-3 text-base"},rt={scope:"col",class:"px-1 py-3 text-base"},dt={scope:"col",class:"px-1 py-3 text-base"},nt={scope:"col",class:"px-1 py-3 text-base"},it={scope:"col",class:"px-1 py-3 text-base"},ct={scope:"col",class:"px-1 py-3 text-base"},ut={scope:"col",class:"px-1 py-3 text-base"},_t={scope:"col",class:"px-1 py-3 text-base"},pt={scope:"col",class:"px-1 py-3 text-base"},mt={scope:"col",class:"px-1 py-3 text-base"},bt={scope:"col",class:"px-1 py-3 text-base"},ht={scope:"col",class:"px-1 py-3 text-base"},xt={scope:"col",class:"px-1 py-3 text-base",style:{width:"240px"}},vt={className:"border dark:border-gray-800 text-center px-4 py-2 text-base"},gt={className:"border dark:border-gray-800 text-center px-4 py-2 text-base"},yt={className:"border dark:border-gray-800 text-center px-4 py-2 text-base"},ft={className:"border dark:border-gray-800 text-center px-4 py-2 text-base"},wt={className:"border dark:border-gray-800 text-center px-4 py-2 text-base"},kt={className:"border dark:border-gray-800 text-center px-4 py-2 text-base"},$t={className:"border dark:border-gray-800 text-center px-4 py-2 text-base"},Nt={className:"border dark:border-gray-800 text-center px-4 py-2 text-base"},Ct={className:"border dark:border-gray-800 text-center px-4 py-2 text-base"},Dt={className:"border dark:border-gray-800 text-center px-4 py-2 text-base"},Mt={className:"border dark:border-gray-800 text-center px-4 py-2 text-base"},At={className:"border dark:border-gray-800 text-center px-4 py-2 text-base"},Pt={className:"border dark:border-gray-800 text-center px-4 py-2 text-base"},St={className:"border dark:border-gray-800 text-center px-4 py-2 text-base"},Tt={className:"border dark:border-gray-800 text-center px-4 py-2 text-base"},It={className:"border dark:border-gray-800 text-center px-4 py-2 text-base"},Ft={className:"border dark:border-gray-800 text-center px-4 py-2 text-base"},Vt={className:"border dark:border-gray-800 text-start px-2 py-2"},Bt=["onClick"],Et=["onClick"],Rt=["onClick"],Ut={class:"mt-3 text-center",style:{direction:"ltr"}},jt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},zt={class:"flex flex-row"},Ht={class:"basis-1/2"},Lt=e("br",null,null,-1),Gt=e("div",{class:"basis-1/2 text-center"}," \u062A\u0648\u0642\u064A\u0639 \u0642\u0633\u0645 \u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629 ",-1),Ot=e("div",{class:"basis-1/2 text-end"}," \u062A\u0648\u0642\u064A\u0639 \u0627\u0644\u0645\u062F\u064A\u0631 ",-1),es={__name:"Show",props:{url:String,clients:Array,client_id:String,client:Object},setup(D){const U=D,h=Q(),r=p({}),x=U.client_id,S=p(0);let v=p(!1),g=p(!1),b=p(!1);const M=p(0),y=p({});p(0);const $=async(t,a=1)=>{k.get(`/api/getIndexAccountsSelas?page=${a}&user_id=${t||x}`).then(d=>{r.value=d.data}).catch(d=>{console.error(d)})};$();const j=W();let i=p(!1);function z(t){j.get(route("sentToCourt",t)),$(),i.value=!1}function H(t={}){y.value=t,g.value=!0}function L(t={}){y.value=t,v.value=!0}function G(t={}){y.value=t,b.value=!0}function O(t){k.post("/api/DelCar",t).then(a=>{g.value=!1,window.location.reload()}).catch(a=>{console.error(a)})}function q(t){v.value=!1,k.post("/api/updateCars",t).then(a=>{i.value=!1,h.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),getcountTotalInfo(),getResultsCar()}).catch(a=>{i.vcons,h.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function J(t){var a,d;k.get(`/api/addPaymentCar?car_id=${t.id}&amount=${(a=t.amountPayment)!=null?a:0}&note=${(d=t.notePayment)!=null?d:""}`).then(N=>{b.value=!1,h.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+t.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),window.location.reload()}).catch(N=>{i.value=!1,h.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function K(t,a){k.get(`/api/addPaymentCarTotal?amount=${t!=null?t:0}&client_id=${a!=null?a:""}`).then(d=>{b.value=!1,h.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+t+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),window.location.reload()}).catch(d=>{i.value=!1,h.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}return(t,a)=>(_(),c(A,null,[l(u(X),{title:"Dashboard"}),l(se,null,{header:f(()=>[ne]),default:f(()=>{var d,N,T,I,F,V;return[l(de,{formData:y.value,show:!!u(v),client:D.clients,carModel:t.carModel,onA:a[0]||(a[0]=s=>q(s)),onClose:a[1]||(a[1]=s=>w(v)?v.value=!1:v=!1)},{header:f(()=>[]),_:1},8,["formData","show","client","carModel"]),l(le,{formData:y.value,show:!!u(b),user:t.user,onA:a[2]||(a[2]=s=>J(s)),onClose:a[3]||(a[3]=s=>w(b)?b.value=!1:b=!1)},{header:f(()=>[]),_:1},8,["formData","show","user"]),l(re,{show:!!u(g),formData:y.value,onA:a[4]||(a[4]=s=>O(s)),onClose:a[5]||(a[5]=s=>w(g)?g.value=!1:g=!1)},{header:f(()=>[ie]),_:1},8,["show","formData"]),l(oe,{show:!!u(i),data:u(i).toString(),onA:a[6]||(a[6]=s=>z(s,t.arg1)),onClose:a[7]||(a[7]=s=>w(i)?i.value=!1:i=!1)},null,8,["show","data"]),t.$page.props.success?(_(),c("div",ce,[e("div",ue,[e("div",_e,o(t.$page.props.success),1)])])):P("",!0),e("div",pe,[e("h2",me,o(t.$t("sales_bill")),1),e("div",be,[e("div",he,[e("div",xe,[e("div",ve,[e("div",ge,[l(n,{class:"mb-1",for:"invoice_number",value:t.$t("Account")},null,8,["value"]),Y(e("select",{onChange:a[8]||(a[8]=s=>$(u(x))),"onUpdate:modelValue":a[9]||(a[9]=s=>w(x)?x.value=s:null),id:"default",class:"pr-8 bg-gray-50 border border-gray-300 text-gray-900 mb-6 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-red-500 dark:focus:border-red-500"},[e("option",ye,o(t.$t("selectCustomer")),1),(_(!0),c(A,null,E(D.clients,(s,C)=>(_(),c("option",{key:C,value:s.id},o(s.name),9,fe))),128))],544),[[Z,u(x)]])]),e("div",we,[e("div",ke,[l(n,{for:"totalAmount",value:t.$t("phoneNumber")},null,8,["value"]),l(m,{id:"totalAmount",type:"text",class:"mt-1 block w-full",value:(d=r.value.client)==null?void 0:d.phone,disabled:""},null,8,["value"])])])]),e("div",$e,[e("div",Ne,[e("div",Ce,[e("div",De,[e("div",Me,[e("div",Ae,[e("div",Pe,[e("div",Se,[l(n,{for:"car_total",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A"}),l(m,{id:"car_total",type:"text",class:"mt-1 block w-full",value:r.value.car_total,disabled:""},null,8,["value"])]),e("div",Te,[l(n,{for:"car_total_complete",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0645\u0643\u062A\u0645\u0644"}),l(m,{id:"car_total_complete",type:"text",class:"mt-1 block w-full",value:r.value.car_total_complete,disabled:""},null,8,["value"])]),e("div",Ie,[l(n,{for:"car_total_unpaid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u063A\u064A\u0631 \u0645\u062F\u0641\u0648\u0639"}),l(m,{id:"car_total_unpaid",type:"text",class:"mt-1 block w-full",value:r.value.car_total_unpaid,disabled:""},null,8,["value"])]),e("div",Fe,[l(n,{for:"car_total_uncomplete",value:" \u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0645\u062F\u0641\u0648\u0639 \u0648\u063A\u064A\u0631 \u0645\u0643\u0645\u0644"}),l(m,{id:"car_total_uncomplete",type:"text",class:"mt-1 block w-full",value:r.value.car_total_uncomplete,disabled:""},null,8,["value"])])])])])])])])]),e("div",Ve,[e("div",Be,[e("div",Ee,[e("div",Re,[e("div",Ue,[e("div",je,[e("div",ze,[e("div",He,[l(n,{for:"cars_sum",value:t.$t("Total_in_dollars")},null,8,["value"]),l(m,{id:"cars_sum",type:"text",class:"mt-1 block w-full",value:(N=r.value)==null?void 0:N.cars_sum,disabled:""},null,8,["value"])]),e("div",Le,[l(n,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u062F\u0641\u0648\u0639 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(m,{id:"cars_paid",type:"text",class:"mt-1 block w-full",value:(T=r.value)==null?void 0:T.cars_paid,disabled:""},null,8,["value"])]),e("div",Ge,[l(n,{for:"cars_need_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u064A\u0646 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(m,{id:"cars_need_paid",type:"text",class:"mt-1 block w-full",value:(I=r.value)==null?void 0:I.cars_need_paid,disabled:""},null,8,["value"])]),e("div",Oe,[l(n,{for:"percentage",value:" \u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(m,{id:"percentage",type:"text",class:"mt-1 block w-full",modelValue:M.value,"onUpdate:modelValue":a[10]||(a[10]=s=>M.value=s)},null,8,["modelValue"])])]),e("div",qe,[(F=r.value)!=null&&F.cars_need_paid?(_(),c("div",Je,[l(n,{for:"pay",value:"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062F\u0641\u0639"}),e("button",{onClick:a[11]||(a[11]=ee(s=>K(M.value,u(x)),["prevent"])),disabled:S.value||!parseInt(r.value.totalAmount),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},[S.value?(_(),c("span",We,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(_(),c("span",Qe,"\u062F\u0641\u0639"))],8,Ke)])):P("",!0)])])])])])])]),e("div",Xe,[e("table",Ye,[e("thead",Ze,[e("tr",null,[e("th",et,o(t.$t("no")),1),e("th",tt,o(t.$t("car_type")),1),e("th",st,o(t.$t("year")),1),e("th",ot,o(t.$t("color")),1),e("th",at,o(t.$t("vin")),1),e("th",lt,o(t.$t("car_number")),1),e("th",rt,o(t.$t("dinar")),1),e("th",dt,o(t.$t("dolar_price")),1),e("th",nt,o(t.$t("dolar_custom")),1),e("th",it,o(t.$t("note")),1),e("th",ct,o(t.$t("shipping_dolar")),1),e("th",ut,o(t.$t("coc_dolar")),1),e("th",_t,o(t.$t("checkout")),1),e("th",pt,o(t.$t("expenses")),1),e("th",mt,o(t.$t("total")),1),e("th",bt,o(t.$t("paid")),1),e("th",ht,o(t.$t("date")),1),e("th",xt,o(t.$t("execute")),1)])]),e("tbody",null,[(_(!0),c(A,null,E(r.value.data,s=>{var C;return _(),c("tr",{key:s.id,class:te([s.results==0?"":s.results==1?"bg-red-100 dark:bg-red-900":"bg-green-100 dark:bg-green-900","bg-white border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[e("td",vt,o(s.no),1),e("td",gt,o(s.car_type),1),e("td",yt,o(s.year),1),e("td",ft,o(s.car_color),1),e("td",wt,o(s.vin),1),e("td",kt,o(s.car_number),1),e("td",$t,o(s.dinar_s),1),e("td",Nt,o(s.dolar_price_s),1),e("td",Ct,o((C=s.dinar_s/s.dolar_price_s||0)==null?void 0:C.toFixed(0)),1),e("td",Dt,o(s.note),1),e("td",Mt,o(s.shipping_dolar_s),1),e("td",At,o(s.coc_dolar_s),1),e("td",Pt,o(s.checkout_s),1),e("td",St,o(s.expenses),1),e("td",Tt,o(s.total_s.toFixed(0)),1),e("td",It,o(s.paid),1),e("td",Ft,o(s.date),1),e("td",Vt,[e("button",{tabIndex:"1",class:"px-2 py-1 text-base text-white mx-1 bg-slate-500 rounded",onClick:B=>L(s)},o(t.$t("edit")),9,Bt),e("button",{tabIndex:"1",class:"px-2 py-1 text-base text-white mx-1 bg-orange-500 rounded",onClick:B=>H(s)},o(t.$t("delete")),9,Et),s.total_s!=s.paid?(_(),c("button",{key:0,tabIndex:"1",class:"px-2 py-1 text-base text-white mx-1 bg-green-500 rounded",onClick:B=>G(s)},o(t.$t("complet_pay")),9,Rt)):P("",!0)])],2)}),128))])])]),e("div",Ut,[l(u(ae),{data:r.value,onPaginationChangePage:$,limit:2},null,8,["data"])])])])])]),e("div",jt,[e("div",zt,[e("div",Ht,[R(" \u062A\u0648\u0642\u064A\u0639 \u0635\u0627\u062D\u0628 \u0627\u0644\u062D\u0633\u0627\u0628 "),Lt,R(" "+o((V=r.value.client)==null?void 0:V.name),1)]),Gt,Ot])])]}),_:1})],64))}};export{es as default};
