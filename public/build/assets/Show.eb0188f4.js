import{o as d,c as me,w as $,a as u,b as e,f as st,t as l,d as ce,e as I,v as E,i as x,T as pe,y as ge,r as c,u as be,g as n,j as s,F as L,H as ye,k as v,z as fe,h as at,l as K,s as xe,n as ve}from"./app.8c4ee2e2.js";import{a as he,_ as _e}from"./AuthenticatedLayout.2e71b868.js";import{M as ke}from"./Modal.9adf4ead.js";import{t as we}from"./laravel-vue-pagination.es.c1fa3c7a.js";import{_ as f}from"./InputLabel.38e57ace.js";import{_ as h}from"./TextInput.8874fdec.js";import{a as w}from"./index.b0400bd9.js";import{M as dt}from"./ModalDelCar.1138fa47.js";import{_ as $e}from"./ModalEditCar_S.54be1e97.js";import{_ as De}from"./ModalAddCarPayment.f3310620.js";import{_ as Ce,a as Ne,b as Ae,c as Me,e as Pe}from"./exit.19820ea5.js";import{p as it}from"./print.262998a6.js";import{p as It}from"./pay.2450cc7c.js";import{t as Se}from"./trash.b9a483f6.js";import{e as Ie}from"./edit.aa735f30.js";import{s as Fe}from"./show.2ea9d1f1.js";import{n as Te}from"./new.5bcb52ad.js";import"./lodash.6dd780d1.js";/* empty css                                              *//* empty css                                                    */import"./Uploader.feeb1fab.js";/* empty css                                                                 *//* empty css                                                       */const Ee={key:0,class:"modal-mask"},Be={class:"modal-wrapper max-h-[80vh]"},Ue={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},Ve={class:"modal-header text-center py-4 dark:text-gray-300"},je={class:"modal-body"},He={class:"grid grid-cols-2 gap-3 lg:gap-2"},Re={class:"mb-4 mx-5"},qe={class:"mb-4 mx-5"},ze={class:"mb-4 mx-5"},Le={class:"mb-4 mx-5"},Oe={class:"mb-4 mx-5"},We={class:"mb-4 mx-5"},Ye={class:"mb-4 mx-5"},Ze={class:"mb-4 mx-5"},Ge={class:"modal-footer my-2"},Je={class:"flex flex-row"},Ke={class:"basis-1/2 px-4"},Qe={class:"basis-1/2 px-4"},Xe=["disabled"],to={__name:"ModalShowDriving",props:{show:Boolean,formDriving:Object},setup(m){return(y,r)=>(d(),me(pe,{name:"modal"},{default:$(()=>[m.show?(d(),u("div",Ee,[e("div",Be,[e("div",Ue,[e("div",Ve,[st(" \u062A\u062E\u0648\u064A\u0644 \u0642\u064A\u0627\u062F\u0629 "+l(m.formDriving.car_typeDriving)+" "+l(m.formDriving.yearDriving)+" "+l(m.formDriving.car_colorDriving)+" \u0631\u0642\u0645 \u0634\u0627\u0646\u0635\u0649 "+l(m.formDriving.vinDriving)+" ",1),ce(y.$slots,"header")]),e("div",je,[e("div",He,[e("div",Re,[r[10]||(r[10]=e("label",{class:"dark:text-gray-200",for:"amountTotal"},"\u0627\u0644\u0627\u0633\u0645 \u0643\u0627\u0645\u0644",-1)),I(e("input",{id:"amountTotal",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":r[0]||(r[0]=b=>m.formDriving.nameDriving=b)},null,512),[[E,m.formDriving.nameDriving]])]),e("div",qe,[r[11]||(r[11]=e("label",{class:"dark:text-gray-200",for:"carType"},"\u0627\u0644\u0633\u064A\u0627\u0631\u0629",-1)),I(e("input",{id:"carType",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":r[1]||(r[1]=b=>m.formDriving.car_typeDriving=b)},null,512),[[E,m.formDriving.car_typeDriving]])]),e("div",ze,[r[12]||(r[12]=e("label",{class:"dark:text-gray-200",for:"vin"},"\u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0646\u0635\u064A",-1)),I(e("input",{id:"vin",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":r[2]||(r[2]=b=>m.formDriving.vinDriving=b)},null,512),[[E,m.formDriving.vinDriving]])]),e("div",Le,[r[13]||(r[13]=e("label",{class:"dark:text-gray-200",for:"carNumber"},"\u0631\u0642\u0645 \u0627\u0644\u0633\u064A\u0627\u0631\u0629",-1)),I(e("input",{id:"carNumber",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":r[3]||(r[3]=b=>m.formDriving.car_numberDriving=b)},null,512),[[E,m.formDriving.car_numberDriving]])]),e("div",Oe,[r[14]||(r[14]=e("label",{class:"dark:text-gray-200",for:"color"},"\u0627\u0644\u0644\u0648\u0646",-1)),I(e("input",{id:"color",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":r[4]||(r[4]=b=>m.formDriving.car_colorDriving=b)},null,512),[[E,m.formDriving.car_colorDriving]])]),e("div",We,[r[15]||(r[15]=e("label",{class:"dark:text-gray-200",for:"model"},"\u0645\u0648\u062F\u064A\u0644",-1)),I(e("input",{id:"model",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":r[5]||(r[5]=b=>m.formDriving.yearDriving=b)},null,512),[[E,m.formDriving.yearDriving]])]),e("div",Ye,[r[16]||(r[16]=e("label",{class:"dark:text-gray-200",for:"exitDate"},"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062A\u062E\u0648\u064A\u0644",-1)),I(e("input",{id:"exitDate",type:"date",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":r[6]||(r[6]=b=>m.formDriving.createdDriving=b)},null,512),[[E,m.formDriving.createdDriving]])])]),e("div",Ze,[r[17]||(r[17]=e("label",{class:"dark:text-gray-200",for:"note"},"\u062A\u062E\u0648\u064A\u0644 \u0627\u0644\u0642\u064A\u0627\u062F\u0629",-1)),I(e("textarea",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":r[7]||(r[7]=b=>m.formDriving.noteDriving=b)},null,512),[[E,m.formDriving.noteDriving]])])]),e("div",Ge,[e("div",Je,[e("div",Ke,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:r[8]||(r[8]=b=>{y.$emit("close")})},l(y.$t("cancel")),1)]),e("div",Qe,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:r[9]||(r[9]=b=>y.$emit("a",m.formDriving)),disabled:!m.formDriving.noteDriving},l(y.$t("yes")),9,Xe)])])])])])])):x("",!0)]),_:3}))}},eo={},oo={class:"w-6 h-6 text-white dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"};function ao(m,y){return d(),u("svg",oo,[...y[0]||(y[0]=[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7h1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V5a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h11.5M7 14h6m-6 3h6m0-10h.5m-.5 3h.5M7 7h3v3H7V7Z"},null,-1)])])}const so=he(eo,[["render",ao]]);const ro={class:"mb-5 dark:text-gray-400 text-center"},lo={class:"mb-5 dark:text-gray-400 text-center"},no={key:0},io={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},uo={class:"ml-3 text-sm font-medium text-red-700 dark:text-red-800"},mo={key:1,class:"py-4"},co={class:"text-center pb-2 dark:text-gray-400"},po={class:"max-w-9xl mx-auto sm:px-6 lg:px-8 p-6 dark:bg-gray-900"},go={class:"overflow-hidden shadow-sm sm:rounded-lg"},bo={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 lg:gap-1"},yo={class:"pr-4"},fo={value:"undefined",disabled:""},xo=["value"],vo={className:"mb-4  mr-5"},ho={class:"flex items-center ps-4 rounded-lg border border-gray-300 text-gray-900 mt-1"},_o=["value","checked"],ko={for:"bordered-checkbox-1",class:"w-full pt-3 py-2 mx-4 text-sm font-medium text-gray-900 dark:text-gray-300"},wo={class:"px-4"},$o={className:"mb-4 mx-5"},Do={class:"px-4"},Co={className:"mb-4 mx-5"},No={className:"mb-4  mr-5 print:hidden"},Ao={className:"mb-4  mr-5 print:hidden"},Mo=["href"],Po={className:"mb-4  mr-5 print:hidden"},So=["href"],Io={className:"mb-4  mr-5"},Fo={className:"mb-4  mr-5"},To={className:"mb-4  mr-5"},Eo={className:"mb-4  mr-5"},Bo={className:"mb-4  mr-5"},Uo={key:0,className:"mb-4  mr-5 print:hidden"},Vo=["disabled"],jo=["disabled"],Ho={className:"mb-4  mr-5 print:hidden"},Ro=["disabled"],qo={key:1,className:"mb-4  mr-5"},zo={className:"mb-4  mr-5"},Lo={className:"mb-4  mr-5"},Oo={className:"mb-4  mr-5"},Wo={className:"mb-4  mr-5"},Yo={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 lg:gap-1"},Zo={className:"mb-4  mr-5"},Go={className:"mb-4  mr-5"},Jo={className:"mb-4  mr-5"},Ko={className:"mb-4  mr-5 print:hidden"},Qo=["disabled"],Xo={key:0},ta={key:1},ea={key:2},oa={key:1,class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},aa={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},sa={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},ra={class:"bg-rose-500 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},la={className:"px-1 py-2 text-base"},na={className:"px-1 py-2 text-base"},da={className:"px-1 py-2 text-base"},ia={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},ua={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ma={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ca=["href"],pa={key:0,class:"text-center"},ga={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ba={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ya={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},fa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},xa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},va={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ha=["href"],_a={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ka={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},wa={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},$a={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},Da={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Ca={class:"rounded-l-lg mb-2 sm:mb-0"},Na={scope:"col",class:"px-1 py-2 text-base"},Aa={scope:"col",class:"px-1 py-2 text-base"},Ma={scope:"col",class:"px-1 py-2 text-base"},Pa={scope:"col",class:"px-1 py-2 text-base"},Sa={scope:"col",class:"px-1 py-2 text-base"},Ia={scope:"col",class:"px-1 py-2 text-base"},Fa={scope:"col",class:"px-1 py-2 text-base"},Ta={scope:"col",class:"px-1 py-2 text-base"},Ea={scope:"col",class:"px-1 py-2 text-base print:hidden"},Ba={scope:"col",class:"px-1 py-2 text-base print:hidden"},Ua={scope:"col",class:"px-1 py-2 text-base"},Va={scope:"col",class:"px-1 py-2 text-base"},ja={scope:"col",class:"px-1 py-2 text-base"},Ha={scope:"col",class:"px-1 py-2 text-base"},Ra={scope:"col",class:"px-1 py-2 text-base"},qa={scope:"col",class:"px-1 py-2 text-base"},za={scope:"col",class:"px-1 py-2 text-base"},La={scope:"col",class:"px-1 py-2 text-base"},Oa={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},Wa={className:"border dark:border-gray-800 text-center px-2 py-1"},Ya={className:"border dark:border-gray-800 text-center px-2 py-1"},Za={className:"border dark:border-gray-800 text-center px-2 py-1"},Ga={className:"border dark:border-gray-800 text-center px-2 py-1"},Ja={className:"border dark:border-gray-800 text-center px-2 py-1"},Ka={className:"border dark:border-gray-800 text-center px-2 py-1"},Qa={className:"border dark:border-gray-800 text-center px-2 py-1"},Xa={className:"border dark:border-gray-800 text-center px-2 py-1"},ts={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},es={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},os={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},as={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},ss={className:"border dark:border-gray-800 text-center px-2 py-1"},rs={className:"border dark:border-gray-800 text-center px-2 py-1"},ls={className:"border dark:border-gray-800 text-center px-2 py-1"},ns={className:"border dark:border-gray-800 text-center px-2 py-1"},ds={className:"border dark:border-gray-800 text-center px-2 py-1"},is={className:"border dark:border-gray-800 text-center px-2 py-1"},us={className:"border dark:border-gray-800 text-center px-2 py-1"},ms={className:"border dark:border-gray-800 text-center px-1 py-2 "},cs={className:"border dark:border-gray-800 text-center px-2 py-1"},ps={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},gs=["onClick"],bs=["onClick"],ys=["onClick"],fs=["onClick"],xs=["onClick"],vs=["onClick"],hs=["onClick"],_s=["onClick"],ks=["href"],ws={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},$s=["href"],Ds=["src"],Cs={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},Ns=["onClick"],As=["onClick"],Ms={class:"mt-3 text-center",style:{direction:"ltr"}},Ps={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 dark:text-gray-400 hidden print:block"},Ss={class:"flex flex-row"},Is={class:"basis-1/2"},or={__name:"Show",props:{url:String,clients:Array,client_id:String,client:Object,q:String},setup(m){let y=ge();c(0);let r=c({}),b=c(0),N=c(0),A=c(0),rt=1,B=c(!1),O=c(!1),W=c(!1),U=c(!1),lt=c(!1),Y=c(!1),_=c(!1),V=c(!1),j=c(!1),H=c(!1),tt=c(!1),R=c(!1);c(0);let p=c({}),M=c({}),q=c(0),Z=c(""),P=c(0),D=c(0);c(0);let G=c(!1),J=c(!1),et=async(a=1)=>{w.get(`/api/getIndexAccountsSelas?page=${a}&user_id=${Q.client_id}&from=${N.value}&to=${A.value}`).then(t=>{r.value=t.data,D.value=t.data.client.id,le(t.data.cars_sum)}).catch(t=>{console.error(t)})};function S(){let a="",t="";try{a=r.value.transactions.filter(i=>i.type==="out"&&i.amount<0&&i.is_pay===1)}catch{}try{t=a.reduce((i,g)=>i+g.amount,0)}catch{}return{totalAmount:t}}function Ft(a={}){p.value=a,G.value=!0}function Tt(a={}){p.value=a,J.value=!0}function Et(a){var t,i;a.balance=S().totalAmount*-1-((t=r.value)==null?void 0:t.cars_paid)-((i=r.value)==null?void 0:i.cars_discount),w.post("/api/AddPayFromBalanceCar",a).then(g=>{G.value=!1,window.location.reload()}).catch(g=>{console.error(g)})}function Bt(a){w.post("/api/DelPayFromBalanceCar",a).then(t=>{J.value=!1,window.location.reload()}).catch(t=>{console.error(t)})}const T=async(a=1)=>{w.get(`/api/getIndexAccountsSelas?page=${a}&user_id=${D.value}&from=${N.value}&to=${A.value}`).then(t=>{r.value=t.data,D.value=t.data.client.id}).catch(t=>{console.error(t)})};et();const Q=m,Ut=be();let F=c(!1);function Vt(a){Ut.get(route("sentToCourt",a)),et(),F.value=!1}function jt(a={}){p.value=a,W.value=!0}function Ht(a={}){p.value=a,p.value.dinar_s==0&&(p.value.dinar_s=p.value.dinar),O.value=!0}function Rt(a={}){p.value=a,p.value.notePayment=" \u0628\u064A\u062F ",U.value=!0}function qt(a){w.post("/api/DelCar",a).then(t=>{W.value=!1,window.location.reload()}).catch(t=>{console.error(t)})}function zt(a){O.value=!1,w.post("/api/updateCarsS",a).then(t=>{F.value=!1,y.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),T()}).catch(t=>{y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),T()})}function Lt(a){var t,i;a.discountPayment||(a.discountPayment=0),w.get(`/api/addPaymentCar?car_id=${a.id}&discount=${a.discountPayment}&amount=${(t=a.amountPayment)!=null?t:0}&note=${(i=a.notePayment)!=null?i:""}`).then(g=>{U.value=!1,y.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+a.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),T();let k=g.data;window.open(`/api/getIndexAccountsSelas?user_id=${Q.client_id}&print=2&transactions_id=${k.id}`,"_blank")}).catch(g=>{F.value=!1,console.log(g),y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Ot(a,t,i,g){b.value=!0,w.get(`/api/addPaymentCarTotal?amount=${a!=null?a:0}&discount=${i!=null?i:0}&note=${g}&client_id=${t!=null?t:0}`).then(k=>{U.value=!1,y.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+a+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),B.value=!1,b.value=!1,T(),Wt();let z=k.data;window.open(`/api/getIndexAccountsSelas?user_id=${Q.client_id}&print=2&transactions_id=${z.id}`,"_blank")}).catch(k=>{console.log(k),F.value=!1,b.value=!1,y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Wt(){P.value=0,q.value=0,Z.value=""}function Yt(){B.value=!0,Y.value=!1}function Zt(){B.value=!1}function Gt(){Y.value=!0,B.value=!1}function Jt(){Y.value=!1}function Kt(a={}){p.value=a,p.value.prices=100,p.value.price_dinars=5e4,V.value=!0}function Qt(a={}){p.value=formshowModalShowExitCar,j.value=!0}function Xt(a={}){p.value=a,p.value.createdExit=mt(),H.value=!0}function te(a={}){p.value=a.value=!0}function ee(a={}){M.value.car_typeDriving=a.car_type,M.value.yearDriving=a.year,M.value.car_colorDriving=a.car_color,M.value.vinDriving=a.vin,M.value.nameDriving=Q.client.name,M.value.clientIdDriving=D.value,M.value.car_numberDriving=a.car_number,M.value.createdDriving=mt(),M.value.noteDriving="\u0627\u0646\u0627 \u0643\u0627\u0631\u0632\u0627\u0646 \u0633\u0631\u0647\u0646\u0643 \u0645\u062D\u0645\u062F (\u0648\u0643\u064A\u0644 \u0639\u0627\u0645 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 \u0627\u064A\u0648\u0628 ) (\u0645\u062F\u064A\u0631 \u0645\u0641\u0648\u0636 \u0634\u0631\u0643\u0629 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 \u0627\u064A\u0648\u0628) \u0642\u062F \u062E\u0648\u0644\u062A \u0627\u0644\u0633\u064A\u062F(name) \u0628\u0642\u064A\u0627\u062F\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0630\u0627\u062A \u0627\u0644\u0645\u0648\u0627\u0635\u0641\u0627\u062A \u0627\u062F\u0646\u0627\u0647 \u0644\u0647 \u062D\u0642  \u0646\u0642\u0644\u0647\u0627  \u0645\u0646 \u0645\u062D\u0627\u0641\u0638\u0629 \u0627\u0644\u0649 \u0645\u062D\u0627\u0641\u0638\u0629 \u0627\u062E\u0631\u0649 \u0648\u062F\u0641\u0639 \u0627\u0644\u0631\u0633\u0648\u0645 \u0648\u0627\u0644\u063A\u0631\u0645\u0627\u062A \u0628\u064A\u0639 \u0648\u0634\u0631\u0627\u0621 \u0627\u0644\u0642\u0628\u0636 \u0627\u0644\u062B\u0645\u0646.",R.value=!0}function oe(){var t,i,g;let a=(g=(i=(t=r==null?void 0:r.value)==null?void 0:t.client)==null?void 0:i.wallet)==null?void 0:g.balance;P.value=a-q.value}function ae(){var t,i,g;let a=(g=(i=(t=r==null?void 0:r.value)==null?void 0:t.client)==null?void 0:i.wallet)==null?void 0:g.balance;console.log(a),P.value>a?(P.value=a,lt.value=!0,y.info(" \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u062F\u064A\u0646 \u0627\u0644\u0645\u0637\u0644\u0648\u0628 "+P.value,{timeout:4e3,position:"bottom-right",rtl:!0})):lt.value=!1}function se(a){var t,i,g,k,z,X;w.get(`/api/addCarContracts?car_id=${a.id}&price=${(t=a.prices)!=null?t:0}&price_dinar=${(i=a.price_dinars)!=null?i:0}&paid=${(g=a.paids)!=null?g:0}&paid_dinar=${(k=a.paid_dinars)!=null?k:0}&phone=${(z=a.phone)!=null?z:""}&note=${(X=a.note)!=null?X:""}`).then(ot=>{V.value=!1,y.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u0628\u0646\u062C\u0627\u062D ",{timeout:4e3,position:"bottom-right",rtl:!0}),T()}).catch(ot=>{V.value=!1,y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function re(a){var t,i,g;w.get(`/api/editCarContracts?car_id=${a.id}&paid=${(t=a.paids)!=null?t:0}&paid_dinar=${(i=a.paid_dinars)!=null?i:0}&note=${(g=a.notePayment)!=null?g:""}`).then(k=>{j.value=!1,y.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+a.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),T()}).catch(k=>{j.value=!1,y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function ut(a){w.get(`/api/makeCarExit?car_id=${a.id}&created=${a.createdExit}&phone=${a.phoneExit}&note=${a.noteExit}`).then(t=>{H.value=!1,y.success("\u062A\u0645 \u0627\u0636\u0627\u0641\u0629 \u062E\u0631\u0648\u062C\u064A\u0629 \u0644\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:5e3,position:"bottom-right",rtl:!0}),T()}).catch(t=>{H.value=!1,y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function le(a){w.get(`/api/checkClientBalance?userId=${Q.client_id}&currentBalance=${a+S().totalAmount}`).then(t=>{console.log(t),t.status==201&&y.success(" \u062A\u0645 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u062D\u0633\u0627\u0628 \u0628\u0646\u062C\u0627\u062D  "+t.data,{timeout:5e3,position:"bottom-right",rtl:!0})}).catch(t=>{y.error("\u0644\u0645 \u064A\u062A\u0645 \u0627\u0639\u0627\u062F\u0629 \u0641\u062D\u0635 \u0627\u0644\u062D\u0633\u0627\u0628  \u0628\u0646\u062C\u0627\u062D ",{timeout:5e3,position:"bottom-right",rtl:!0})})}function ne(a){w.post("/api/makeDrivingDocument",a).then(t=>{R.value=!1,window.open(`/api/makeDrivingDocumentPdf?doc_id=${t.data.id}`,"_blank")}).catch(t=>{R.value=!1,y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function mt(){const a=new Date,t=a.getFullYear(),i=String(a.getMonth()+1).padStart(2,"0"),g=String(a.getDate()).padStart(2,"0");return`${t}-${i}-${g}`}function de(a){return`/public/uploadsResized/${a}`}function ie(a){return`/public/uploads/${a}`}return(a,t)=>(d(),u(L,null,[n(s(ye),{title:"Dashboard"}),n(_e,null,{header:$(()=>[...t[36]||(t[36]=[e("h2",{class:"font-semibold text-xl dark:text-gray-400 text-gray-800 leading-tight"}," \u0634\u0631\u0643\u0629 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 ",-1)])]),default:$(()=>{var i,g,k,z,X,ot,ct,pt,gt,bt,yt,ft,xt,vt,ht,_t,kt,wt;return[n(Ce,{formData:s(p),show:!!s(V),onA:t[0]||(t[0]=o=>se(o)),onClose:t[1]||(t[1]=o=>v(V)?V.value=!1:V=!1)},{header:$(()=>[...t[37]||(t[37]=[])]),_:1},8,["formData","show"]),n(dt,{show:!!s(G),formData:s(p),onA:t[2]||(t[2]=o=>Et(o)),onClose:t[3]||(t[3]=o=>v(G)?G.value=!1:G=!1)},{header:$(()=>[e("h2",ro," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062F\u0641\u0639 "+l(s(p).car_type)+" \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",1)]),_:1},8,["show","formData"]),n(dt,{show:!!s(J),formData:s(p),onA:t[4]||(t[4]=o=>Bt(o)),onClose:t[5]||(t[5]=o=>v(J)?J.value=!1:J=!1)},{header:$(()=>[e("h2",lo," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0639\u0627\u062F\u0629 \u062F\u0641\u0639\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 "+l(s(p).car_type)+" \u0644\u0644\u0631\u0635\u064A\u062F \u061F ",1)]),_:1},8,["show","formData"]),n(Ne,{formData:s(p),show:!!s(j),onA:t[6]||(t[6]=o=>re(o)),onClose:t[7]||(t[7]=o=>v(j)?j.value=!1:j=!1)},{header:$(()=>[...t[38]||(t[38]=[])]),_:1},8,["formData","show"]),n(Ae,{formData:s(p),show:!!s(H),onA:t[8]||(t[8]=o=>ut(o)),onClose:t[9]||(t[9]=o=>v(H)?H.value=!1:H=!1)},{header:$(()=>[...t[39]||(t[39]=[])]),_:1},8,["formData","show"]),n(Me,{formData:s(p),show:!!s(tt),onA:t[10]||(t[10]=o=>ut(o)),onClose:t[11]||(t[11]=o=>v(tt)?tt.value=!1:tt=!1)},{header:$(()=>[...t[40]||(t[40]=[])]),_:1},8,["formData","show"]),n(to,{formDriving:s(M),show:!!s(R),onA:t[12]||(t[12]=o=>ne(o)),onClose:t[13]||(t[13]=o=>v(R)?R.value=!1:R=!1)},{header:$(()=>[...t[41]||(t[41]=[])]),_:1},8,["formDriving","show"]),n($e,{formData:s(p),show:!!s(O),client:m.clients,onA:t[14]||(t[14]=o=>zt(o)),onClose:t[15]||(t[15]=o=>v(O)?O.value=!1:O=!1)},{header:$(()=>[...t[42]||(t[42]=[])]),_:1},8,["formData","show","client"]),n(De,{formData:s(p),show:!!s(U),onA:t[16]||(t[16]=o=>Lt(o)),onClose:t[17]||(t[17]=o=>v(U)?U.value=!1:U=!1)},{header:$(()=>[...t[43]||(t[43]=[])]),_:1},8,["formData","show"]),n(dt,{show:!!s(W),formData:s(p),onA:t[18]||(t[18]=o=>qt(o)),onClose:t[19]||(t[19]=o=>v(W)?W.value=!1:W=!1)},{header:$(()=>[...t[44]||(t[44]=[e("h2",{class:"mb-5 dark:text-gray-400 text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1)])]),_:1},8,["show","formData"]),n(ke,{show:!!s(F),data:s(F).toString(),onA:t[20]||(t[20]=o=>Vt(o,a.arg1)),onClose:t[21]||(t[21]=o=>v(F)?F.value=!1:F=!1)},null,8,["show","data"]),a.$page.props.success?(d(),u("div",no,[e("div",io,[e("div",uo,l(a.$page.props.success),1)])])):x("",!0),a.$page.props.auth.user.type_id==1||a.$page.props.auth.user.type_id==6?(d(),u("div",mo,[e("h2",co,l(a.$t("sales_bill")),1),e("div",po,[e("div",go,[e("div",bo,[e("div",yo,[n(f,{class:"mb-1",for:"invoice_number",value:a.$t("Account")},null,8,["value"]),I(e("select",{onChange:t[22]||(t[22]=o=>T()),"onUpdate:modelValue":t[23]||(t[23]=o=>v(D)?D.value=o:D=o),id:"default",class:"pr-8 border border-gray-300 text-gray-900 mb-6 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:border-gray-400 dark:placeholder-gray-400 dark:text-gray-600 dark:focus:ring-red-500 dark:focus:border-red-500"},[e("option",fo,l(a.$t("selectCustomer")),1),(d(!0),u(L,null,at(m.clients,(o,nt)=>(d(),u(L,{key:nt},[o.wallet.balance>0||o.id==s(D)?(d(),u("option",{key:0,value:o.id},l(o.name),9,xo)):x("",!0)],64))),128))],544),[[fe,s(D)]])]),e("div",null,[e("div",vo,[n(f,{for:"totalAmount",value:"\u0641\u0644\u062A\u0631\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u0643\u062A\u0645\u0644\u0629"}),e("div",ho,[e("input",{id:"bordered-checkbox-1",type:"checkbox",onChange:t[24]||(t[24]=o=>s(_)==!0?v(_)?_.value=!1:_=!1:v(_)?_.value=!0:_=!0),value:s(_),checked:!s(_),name:"bordered-checkbox",class:"w-4 h-4 mx-2 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,_o),e("label",ko,l(s(_)==!1?" \u062A\u0645 \u0627\u0644\u0641\u0644\u062A\u0631":"\u062A\u0645 \u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0629"),1)])])]),e("div",wo,[e("div",$o,[n(f,{for:"from",value:a.$t("from_date")},null,8,["value"]),n(h,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:s(N),"onUpdate:modelValue":t[25]||(t[25]=o=>v(N)?N.value=o:N=o)},null,8,["modelValue"])])]),e("div",Do,[e("div",Co,[n(f,{for:"to",value:a.$t("to_date")},null,8,["value"]),n(h,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:s(A),"onUpdate:modelValue":t[26]||(t[26]=o=>v(A)?A.value=o:A=o)},null,8,["modelValue"])])]),e("div",No,[n(f,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),e("button",{onClick:t[27]||(t[27]=K(o=>s(et)(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},[...t[45]||(t[45]=[e("span",null,"\u0641\u0644\u062A\u0631\u0629",-1)])])]),e("div",Ao,[n(f,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),e("a",{href:`/api/getIndexAccountsSelas?user_id=${s(D)}&from=${s(N)}&to=${s(A)}&print=1&showComplatedCars=${s(_)?0:1}`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-orange-500 rounded block text-center",style:{width:"100%"}},[...t[46]||(t[46]=[e("span",null,"\u0637\u0628\u0627\u0639\u0629",-1)])],8,Mo)]),e("div",Po,[n(f,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),e("a",{href:`/api/getIndexAccountsSelas?user_id=${s(D)}&from=${s(N)}&to=${s(A)}&print=1&printExcel=1&showComplatedCars=${s(_)?0:1}`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded block text-center",style:{width:"100%"}},[...t[47]||(t[47]=[e("span",null,"Excel",-1)])],8,So)]),e("div",Io,[n(f,{for:"car_total",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A"}),n(h,{id:"car_total",type:"text",class:"mt-1 block w-full",value:s(r).car_total,disabled:""},null,8,["value"])]),e("div",Fo,[n(f,{for:"cars_sum",value:a.$t("Total_in_dollars")+" \u062C\u0645\u0631\u0643 "},null,8,["value"]),n(h,{id:"cars_sum",type:"text",class:"mt-1 block w-full",value:(i=s(r))==null?void 0:i.cars_sum,disabled:""},null,8,["value"])]),e("div",To,[n(f,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u062F\u0641\u0648\u0639  \u062C\u0645\u0631\u0643 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),n(h,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:parseFloat((g=s(r))==null?void 0:g.cars_sum)-(parseFloat((X=(z=(k=s(r))==null?void 0:k.client)==null?void 0:z.wallet)==null?void 0:X.balance)+parseFloat((ot=s(r))==null?void 0:ot.cars_discount)),disabled:""},null,8,["value"])]),e("div",Eo,[n(f,{for:"cars_discount",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A  \u062C\u0645\u0631\u0643 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),n(h,{id:"cars_discount",type:"text",class:"mt-1 block w-full",value:(ct=s(r))==null?void 0:ct.cars_discount,disabled:""},null,8,["value"])]),e("div",Bo,[n(f,{for:"cars_need_paid",value:"  \u0627\u0644\u0631\u0635\u064A\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),n(h,{id:"cars_need_paid",type:"number",class:"mt-1 block w-full",value:S().totalAmount*-1-((pt=s(r))==null?void 0:pt.cars_sum),disabled:""},null,8,["value"])]),S().totalAmount*-1-((gt=s(r))==null?void 0:gt.cars_sum)!=0?(d(),u("div",Uo,[n(f,{for:"pay",value:"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629"}),s(B)?x("",!0):(d(),u("button",{key:0,onClick:t[28]||(t[28]=K(o=>Yt(),["prevent"])),disabled:s(b),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},[...t[48]||(t[48]=[e("span",null,"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629",-1)])],8,Vo)),s(B)?(d(),u("button",{key:1,onClick:t[29]||(t[29]=K(o=>Zt(),["prevent"])),disabled:s(b),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},[...t[49]||(t[49]=[e("span",null,"\u0627\u062E\u0641\u0627\u0621 \u062F\u0641\u0639\u0629",-1)])],8,jo)):x("",!0)])):x("",!0),e("div",Ho,[n(f,{for:"pay",value:"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A"}),s(Y)?x("",!0):(d(),u("button",{key:0,onClick:t[30]||(t[30]=K(o=>Gt(),["prevent"])),disabled:s(b),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-purple-500 rounded",style:{width:"100%"}},[...t[50]||(t[50]=[e("span",null,"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1)])],8,Ro)),s(Y)?(d(),u("button",{key:1,onClick:t[31]||(t[31]=K(o=>Jt(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},[...t[51]||(t[51]=[e("span",null,"\u0627\u062E\u0641\u0627\u0621 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1)])])):x("",!0)]),S().totalAmount*-1-((bt=s(r))==null?void 0:bt.cars_discount)-((yt=s(r))==null?void 0:yt.cars_paid)!=0?(d(),u("div",qo,[n(f,{for:"cars_need_paid",value:"\u0627\u0644\u0631\u0635\u064A\u062F \u063A\u064A\u0631 \u0645\u0648\u0632\u0639 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),n(h,{id:"cars_need_paid",type:"number",class:"mt-1 block w-full",value:S().totalAmount*-1-((ft=s(r))==null?void 0:ft.cars_discount)-((xt=s(r))==null?void 0:xt.cars_paid)},null,8,["value"])])):x("",!0),e("div",zo,[n(f,{for:"contract_total",value:"\u0627\u0644\u0639\u0642\u0648\u062F \u0627\u0644\u0645\u0646\u062C\u0632\u0629"}),n(h,{id:"contract_total",type:"text",class:"mt-1 block w-full",value:s(r).contract_total,disabled:""},null,8,["value"])]),e("div",Lo,[n(f,{for:"exit_car_total",value:"\u0627\u0644\u062E\u0631\u0648\u062C\u064A\u0627\u062A \u0627\u0644\u0645\u0646\u062C\u0632\u0629"}),n(h,{id:"exit_car_total",type:"text",class:"mt-1 block w-full",value:s(r).exit_car_total,disabled:""},null,8,["value"])]),e("div",Oo,[n(f,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u064A\u0646 \u0639\u0642\u0648\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),n(h,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:(vt=s(r))==null?void 0:vt.contract_total_debit_Dollar,disabled:""},null,8,["value"])]),e("div",Wo,[n(f,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u064A\u0646 \u0639\u0642\u0648\u062F \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631"}),n(h,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:(ht=s(r))==null?void 0:ht.contract_total_debit_Dinar,disabled:""},null,8,["value"])])]),s(B)?(d(),u("div",Yo,[e("div",Zo,[n(f,{for:"discount",value:"\u0627\u0644\u062E\u0635\u0645"}),n(h,{id:"discount",type:"number",onInput:oe,class:"mt-1 block w-full",modelValue:s(q),"onUpdate:modelValue":t[32]||(t[32]=o=>v(q)?q.value=o:q=o)},null,8,["modelValue"])]),e("div",Go,[n(f,{for:"percentage",value:" \u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0645\u0631\u0627\u062F \u062F\u0641\u0639\u0647"}),n(h,{id:"percentage",type:"number",onInput:ae,class:"mt-1 block w-full",modelValue:s(P),"onUpdate:modelValue":t[33]||(t[33]=o=>v(P)?P.value=o:P=o)},null,8,["modelValue"])]),e("div",Jo,[n(f,{for:"discount",value:"\u0645\u0644\u0627\u062D\u0638\u0629"}),n(h,{id:"discount",type:"text",class:"mt-1 block w-full",modelValue:s(Z),"onUpdate:modelValue":t[34]||(t[34]=o=>v(Z)?Z.value=o:Z=o)},null,8,["modelValue"])]),e("div",Ko,[n(f,{for:"pay",value:"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062F\u0641\u0639"}),e("button",{onClick:t[35]||(t[35]=K(o=>Ot(s(P),s(D),s(q),s(Z)),["prevent"])),disabled:s(b),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},[s(lt)?(d(),u("span",Xo,"\u064A\u0631\u062C\u0649 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u0645\u0628\u0644\u063A \u0644")):x("",!0),s(b)?(d(),u("span",ea,"\u062C\u0627\u0631\u064A \u0627\u0644\u0637\u0628\u0627\u0639\u0629...")):(d(),u("span",ta,"\u062F\u0641\u0639"))],8,Qo)])])):x("",!0),s(Y)?(d(),u("div",oa,[e("table",aa,[e("thead",sa,[e("tr",ra,[t[52]||(t[52]=e("th",{className:"px-1 py-2 text-base"},"#",-1)),e("th",la,l(a.$t("date")),1),e("th",na,l(a.$t("description")),1),e("th",da,l(a.$t("amount")),1),e("th",ia,l(a.$t("execute")),1)])]),e("tbody",null,[e("tr",ua,[t[54]||(t[54]=e("td",null,null,-1)),t[55]||(t[55]=e("td",null,null,-1)),t[56]||(t[56]=e("td",null,null,-1)),t[57]||(t[57]=e("td",null,null,-1)),e("td",ma,[e("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${s(r).client.id}&from=${s(N)}&to=${s(A)}&print=4`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-blue-500 rounded"},[t[53]||(t[53]=st(" \u062C\u0645\u064A\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A ",-1)),n(it)],8,ca)])]),(d(!0),u(L,null,at(s(r).transactions,o=>(d(),u(L,{key:o.id},[o.type=="out"&&o.amount<0&&o.is_pay==1?(d(),u("tr",pa,[e("td",ga,l(v(rt)?rt.value++:rt++),1),e("td",ba,l(o.id),1),e("td",ya,l(o.created),1),e("td",fa,l(o.description),1),e("td",xa,l(o.amount*-1),1),e("td",va,[o.type=="out"&&o.amount<0?(d(),u("a",{key:0,target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${s(r).client.id}&from=${s(N)}&to=${s(A)}&print=2&transactions_id=${o.id}`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-green-500 rounded"},[n(it)],8,ha)):x("",!0)])])):x("",!0)],64))),128)),e("tr",_a,[t[58]||(t[58]=e("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A",-1)),e("td",null,l((_t=s(r))==null?void 0:_t.cars_discount),1),t[59]||(t[59]=e("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1)),e("td",ka,l(S().totalAmount*-1),1),e("td",null,"\u0627\u0644\u0646\u062A\u0627\u062A\u062C : "+l(S().totalAmount*-1-parseInt((kt=s(r))==null?void 0:kt.cars_discount)),1)])])])])):x("",!0),e("div",null,[e("div",wa,[e("table",$a,[e("thead",Da,[e("tr",Ca,[e("th",Na,l(a.$t("no")),1),e("th",Aa,l(a.$t("car_type")),1),e("th",Ma,l(a.$t("year")),1),e("th",Pa,l(a.$t("color")),1),e("th",Sa,l(a.$t("vin")),1),e("th",Ia,l(a.$t("car_number")),1),e("th",Fa,l(a.$t("dinar")),1),e("th",Ta,l(a.$t("dolar_price")),1),e("th",Ea,l(a.$t("dolar_custom")),1),e("th",Ba,l(a.$t("note")),1),t[60]||(t[60]=e("th",{scope:"col",class:"px-1 py-2 text-base print:hidden"}," \u062C\u0645\u0631\u0643 \u0645\u0646\u0641\u0633\u062A ",-1)),t[61]||(t[61]=e("th",{scope:"col",class:"px-1 py-2 text-base print:hidden"}," \u062E\u0635\u0645 \u0645\u0628\u0627\u0634\u0631 ",-1)),e("th",Ua,l(a.$t("shipping_dolar")),1),e("th",Va,l(a.$t("coc_dolar")),1),e("th",ja,l(a.$t("checkout")),1),e("th",Ha,l(a.$t("expenses")),1),t[62]||(t[62]=e("th",{scope:"col",class:"px-1 py-2 text-base"}," \u0646\u0642\u0644 \u0628\u0631\u064A ",-1)),e("th",Ra,l(a.$t("total")),1),e("th",qa,l(a.$t("paid")),1),e("th",za,l(a.$t("discount")),1),e("th",La,l(a.$t("date")),1),e("th",Oa,l(a.$t("execute")),1),t[63]||(t[63]=e("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"100px"}}," \u062A\u062E\u0632\u064A\u0646 ",-1)),t[64]||(t[64]=e("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"120px"}}," \u0627\u0644\u0631\u0635\u064A\u062F ",-1))])]),e("tbody",null,[(d(!0),u(L,null,at(s(r).data,(o,nt)=>{var $t,Dt,Ct,Nt,At,Mt,Pt,St;return I((d(),u("tr",{key:o.id,class:ve([{"bg-red-100 dark:bg-red-900":o.results==0,"bg-red-100 dark:bg-red-900":o.results==1,"bg-green-100 dark:bg-green-900":o.results==2,"bg-yellow-100 dark:bg-yellow-900":o.vin.startsWith(m.q)||(o.car_number?o.car_number.toString().startsWith(m.q):"")},"border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[e("td",Wa,l(nt+1),1),e("td",Ya,l(o.car_type),1),e("td",Za,l(o.year),1),e("td",Ga,l(o.car_color),1),e("td",Ja,l(o.vin),1),e("td",Ka,l(o.car_number),1),e("td",Qa,l(o.dinar_s),1),e("td",Xa,l(o.dolar_price_s),1),e("td",ts,l((o.dinar_s/o.dolar_price_s*100).toFixed(0)||0),1),e("td",es,l(o.note),1),e("td",os,l((o.dinar_s/13e4*100).toFixed(0)||0),1),e("td",as,l(((o.dinar_s/13e4*100).toFixed(0)||0)-((o.dinar_s/o.dolar_price_s*100).toFixed(0)||0)),1),e("td",ss,l(o.shipping_dolar_s),1),e("td",rs,l(o.coc_dolar_s),1),e("td",ls,l(o.checkout_s),1),e("td",ns,l(o.expenses_s),1),e("td",ds,l(o.land_shipping_s),1),e("td",is,l(o.total_s.toFixed(0)),1),e("td",us,l(o.paid),1),e("td",ms,l(o.discount),1),e("td",cs,l(o.date),1),e("td",ps,[e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-slate-500 rounded",onClick:C=>Ht(o)},[n(Ie)],8,gs),e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-orange-500 rounded",onClick:C=>jt(o)},[n(Se)],8,bs),o.total_s!=o.paid+o.discount?(d(),u("button",{key:0,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:C=>Rt(o)},[n(It)],8,ys)):x("",!0),(($t=o.contract)==null?void 0:$t.price)!=((Dt=o.contract)==null?void 0:Dt.paid)||((Ct=o.contract)==null?void 0:Ct.price_dinar)!=((Nt=o.contract)==null?void 0:Nt.paid_dinar)?(d(),u("button",{key:1,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-pink-500 rounded",onClick:C=>Qt(o)},[n(It)],8,fs)):x("",!0),o.contract?x("",!0):(d(),u("button",{key:2,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-yellow-500 rounded",onClick:C=>Kt(o)},[n(Te)],8,xs)),o.is_exit?x("",!0):(d(),u("button",{key:3,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-red-500 rounded",onClick:C=>Xt(o)},[n(Pe)],8,vs)),o.is_exit?(d(),u("button",{key:4,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-blue-500 rounded",onClick:C=>te(o)},[n(Fe)],8,hs)):x("",!0),e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-violet-500 rounded",onClick:C=>ee(o)},[n(so)],8,_s),e("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${s(r).client.id}&print=6&car_id=${o.id}`,tabIndex:"1",class:"px-1 py-1 text-white m-1 bg-gray-900 rounded"},[n(it,{class:"inline-flex"})],8,ks)]),e("td",ws,[(d(!0),u(L,null,at(o.car_images,(C,ue)=>(d(),u("a",{key:ue,href:ie(C.name),style:{cursor:"pointer"},target:"_blank"},[e("img",{src:de(C.name),alt:"",class:"px-1",style:{"max-width":"80px","max-height":"50px",display:"inline"}},null,8,Ds)],8,$s))),128))]),e("td",Cs,[S().totalAmount*-1-((At=s(r))==null?void 0:At.cars_discount)-((Mt=s(r))==null?void 0:Mt.cars_paid)!=0?(d(),u("button",{key:0,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:C=>Ft(o)}," \u062F\u0641\u0639 \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",8,Ns)):x("",!0),S().totalAmount*-1-((Pt=s(r))==null?void 0:Pt.cars_discount)-((St=s(r))==null?void 0:St.cars_sum)!=0&&o.paid?(d(),u("button",{key:1,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 mt-1 text-white mx-1 bg-red-500 rounded",onClick:C=>Tt(o)}," \u0627\u0639\u0627\u062F\u0629 \u0644\u0644\u0631\u0635\u064A\u062F ",8,As)):x("",!0)])],2)),[[xe,o.results==2&&s(_)||o.results!=2]])}),128))])])])]),e("div",Ms,[n(s(we),{data:s(r),onPaginationChangePage:s(et),limit:2},null,8,["data","onPaginationChangePage"])])])])])):x("",!0),e("div",Ps,[e("div",Ss,[e("div",Is,[t[65]||(t[65]=st(" \u062A\u0648\u0642\u064A\u0639 \u0635\u0627\u062D\u0628 \u0627\u0644\u062D\u0633\u0627\u0628 ",-1)),t[66]||(t[66]=e("br",null,null,-1)),st(" "+l((wt=s(r).client)==null?void 0:wt.name),1)]),t[67]||(t[67]=e("div",{class:"basis-1/2 text-center"},"\u062A\u0648\u0642\u064A\u0639 \u0642\u0633\u0645 \u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1)),t[68]||(t[68]=e("div",{class:"basis-1/2 text-end"},"\u062A\u0648\u0642\u064A\u0639 \u0627\u0644\u0645\u062F\u064A\u0631",-1))])])]}),_:1})],64))}};export{or as default};
