import{r as _,E as ne,q as ie,o as m,c as ue,w as B,a as v,b as e,d as ce,e as g,O as w,t as r,v as $,i as R,T as pe,z as ge,x as _e,g as p,j as c,k as U,F as O,H as be,A as me,h as K,l as ye,n as Y,L as fe}from"./app.43fb9288.js";import{_ as he}from"./AuthenticatedLayout.22134e9c.js";import{_ as V}from"./InputLabel.de0e2662.js";import{_ as Z}from"./TextInput.aaa54c14.js";import{s as xe}from"./show.5ca57061.js";import{p as ve}from"./pay.c91b0f5b.js";import{t as ke}from"./trash.ac02c02f.js";import{e as we}from"./edit.c4140ea8.js";import{_ as $e}from"./ModalAddCarPayment.335c6a57.js";import{M as Ce}from"./ModalDelCar.46e45107.js";import{_ as Ne}from"./ModalEditCar_S.fc7b0a26.js";import{W as De}from"./v3-infinite-loading.es.de5bb3f4.js";import{d as Ue}from"./debounce.f5f91bc4.js";import{a as P}from"./index.ca24b4d4.js";/* empty css                                                    */import"./Uploader.eadfdc61.js";/* empty css                                                                 *//* empty css                                                       */const Ve={key:0,class:"modal-mask"},Me={class:"modal-wrapper max-h-[80vh]"},Ie={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},Se={class:"modal-header"},Ae={class:"text-center dark:text-gray-200"},Be={class:"modal-body"},Ee={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-1 lg:gap-2"},Pe={className:"mb-4 mx-1"},je={class:"flex items-center gap-2 mb-1"},ze={class:"dark:text-gray-200",for:"dolar_price_s"},Fe=["disabled"],Re={key:0,class:"text-red-500"},Te={className:"mb-4 mx-1"},qe={class:"flex items-center gap-2 mb-1"},Oe={class:"dark:text-gray-200",for:"shipping_dolar_s"},Le=["disabled"],He={className:"mb-4 mx-1"},Ge={class:"flex items-center gap-2 mb-1"},We={class:"dark:text-gray-200",for:"coc_dolar_s"},Je=["disabled"],Ke={className:"mb-4 mx-1"},Qe={class:"flex items-center gap-2 mb-1"},Xe={class:"dark:text-gray-200",for:"checkout_s"},Ye=["disabled"],Ze={className:"mb-4 mx-1"},et={class:"flex items-center gap-2 mb-1"},tt={class:"dark:text-gray-200",for:"expenses_s"},st=["disabled"],ot={className:"mb-4 mx-1"},at={class:"flex items-center gap-2 mb-1"},rt=["disabled"],dt={className:"mb-4 mx-1"},lt={class:"flex items-center gap-2 mb-1"},nt=["disabled"],it={className:"mb-4 mx-1"},ut={class:"flex items-center gap-2 mb-1"},ct={class:"dark:text-gray-200",for:"date"},pt=["disabled"],gt={className:"mb-4 mx-1"},_t={class:"flex items-center gap-2 mb-1"},bt={class:"dark:text-gray-200",for:"note"},mt=["disabled"],yt={class:"modal-footer my-2"},ft={class:"flex flex-row"},ht={class:"basis-1/2 px-4"},xt={class:"basis-1/2 px-4"},vt=["disabled"],kt={__name:"ModalBulkEditCarSales",props:{show:Boolean,baseData:{type:Object,default:()=>({})},selectedCount:{type:Number,default:0}},emits:["close","confirm"],setup(M,{emit:y}){const b=M,j=y,i=_({}),f=_(!1),l=_({});function C(){const n={...b.baseData};return delete n.vin,delete n.car_number,delete n.id,delete n.created_at,delete n.updated_at,delete n.client,delete n.contract,delete n.exitcar,delete n.car_images,delete n.CarImages,delete n.car_type,delete n.car_color,delete n.year,delete n.dinar_s,n}ne(()=>b.show,n=>{var a,d;if(n){i.value=C(),!i.value.dinar_s&&((a=b.baseData)==null?void 0:a.dinar_s)&&(i.value.dinar_s=b.baseData.dinar_s),!i.value.expenses_s&&((d=b.baseData)==null?void 0:d.expenses_s)&&(i.value.expenses_s=b.baseData.expenses_s),f.value=!1;const L=["dolar_price_s","shipping_dolar_s","coc_dolar_s","checkout_s","expenses_s","land_shipping_s","land_shipping_dinar_s","date","note"];l.value={},L.forEach(H=>{l.value[H]=!0})}else i.value={},l.value={}});function T(){var a,d;const n=(d=(a=i.value)==null?void 0:a.dolar_price_s)!=null?d:"";if(!n){f.value=!1;return}f.value=!/^\d{6}$/.test(String(n))}const z=ie(()=>f.value);function h(){if(z.value)return;const n={};Object.keys(i.value).forEach(a=>{l.value[a]&&(n[a]=i.value[a])}),j("confirm",n)}return(n,a)=>(m(),ue(pe,{name:"modal"},{default:B(()=>[M.show?(m(),v("div",Ve,[e("div",Me,[e("div",Ie,[e("div",Se,[ce(n.$slots,"header",{},()=>[e("h2",Ae," \u062A\u0639\u062F\u064A\u0644 \u062C\u0645\u0627\u0639\u064A \u0644\u0644\u0645\u0628\u064A\u0639\u0627\u062A ("+r(M.selectedCount)+") ",1)])]),e("div",Be,[a[21]||(a[21]=e("p",{class:"mb-4 text-sm text-gray-600 dark:text-gray-300"}," \u0633\u064A\u062A\u0645 \u062A\u0637\u0628\u064A\u0642 \u0627\u0644\u062A\u0639\u062F\u064A\u0644\u0627\u062A \u0639\u0644\u0649 \u062C\u0645\u064A\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u062D\u062F\u062F\u0629. \u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0635\u064A \u0648\u0631\u0642\u0645 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0644\u0646 \u064A\u062A\u063A\u064A\u0631\u0627. ",-1)),e("div",Ee,[e("div",Pe,[e("div",je,[g(e("input",{type:"checkbox",id:"include_dolar_price_s","onUpdate:modelValue":a[0]||(a[0]=d=>l.value.dolar_price_s=d),class:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600"},null,512),[[w,l.value.dolar_price_s]]),e("label",ze,r(n.$t("dolar_price")),1)]),g(e("input",{id:"dolar_price_s",onChange:T,type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[1]||(a[1]=d=>i.value.dolar_price_s=d),disabled:!l.value.dolar_price_s},null,40,Fe),[[$,i.value.dolar_price_s]]),f.value?(m(),v("div",Re," \u0645\u0637\u0644\u0648\u0628 \u0631\u0642\u0645 \u0645\u0646 6 \u062E\u0627\u0646\u0629 \u0641\u0642\u0637 ")):R("",!0)]),e("div",Te,[e("div",qe,[g(e("input",{type:"checkbox",id:"include_shipping_dolar_s","onUpdate:modelValue":a[2]||(a[2]=d=>l.value.shipping_dolar_s=d),class:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600"},null,512),[[w,l.value.shipping_dolar_s]]),e("label",Oe,r(n.$t("shipping_dolar")),1)]),g(e("input",{id:"shipping_dolar_s",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[3]||(a[3]=d=>i.value.shipping_dolar_s=d),disabled:!l.value.shipping_dolar_s},null,8,Le),[[$,i.value.shipping_dolar_s]])]),e("div",He,[e("div",Ge,[g(e("input",{type:"checkbox",id:"include_coc_dolar_s","onUpdate:modelValue":a[4]||(a[4]=d=>l.value.coc_dolar_s=d),class:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600"},null,512),[[w,l.value.coc_dolar_s]]),e("label",We,r(n.$t("coc_dolar")),1)]),g(e("input",{id:"coc_dolar_s",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[5]||(a[5]=d=>i.value.coc_dolar_s=d),disabled:!l.value.coc_dolar_s},null,8,Je),[[$,i.value.coc_dolar_s]])]),e("div",Ke,[e("div",Qe,[g(e("input",{type:"checkbox",id:"include_checkout_s","onUpdate:modelValue":a[6]||(a[6]=d=>l.value.checkout_s=d),class:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600"},null,512),[[w,l.value.checkout_s]]),e("label",Xe,r(n.$t("checkout")),1)]),g(e("input",{id:"checkout_s",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[7]||(a[7]=d=>i.value.checkout_s=d),disabled:!l.value.checkout_s},null,8,Ye),[[$,i.value.checkout_s]])]),e("div",Ze,[e("div",et,[g(e("input",{type:"checkbox",id:"include_expenses_s","onUpdate:modelValue":a[8]||(a[8]=d=>l.value.expenses_s=d),class:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600"},null,512),[[w,l.value.expenses_s]]),e("label",tt,r(n.$t("expenses")),1)]),g(e("input",{id:"expenses_s",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[9]||(a[9]=d=>i.value.expenses_s=d),disabled:!l.value.expenses_s},null,8,st),[[$,i.value.expenses_s]])]),e("div",ot,[e("div",at,[g(e("input",{type:"checkbox",id:"include_land_shipping_s","onUpdate:modelValue":a[10]||(a[10]=d=>l.value.land_shipping_s=d),class:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600"},null,512),[[w,l.value.land_shipping_s]]),a[19]||(a[19]=e("label",{class:"dark:text-gray-200",for:"land_shipping_s"}," \u0646\u0642\u0644 \u0628\u0631\u064A ",-1))]),g(e("input",{id:"land_shipping_s",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[11]||(a[11]=d=>i.value.land_shipping_s=d),disabled:!l.value.land_shipping_s},null,8,rt),[[$,i.value.land_shipping_s]])]),e("div",dt,[e("div",lt,[g(e("input",{type:"checkbox",id:"include_land_shipping_dinar_s","onUpdate:modelValue":a[12]||(a[12]=d=>l.value.land_shipping_dinar_s=d),class:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600"},null,512),[[w,l.value.land_shipping_dinar_s]]),a[20]||(a[20]=e("label",{class:"dark:text-gray-200",for:"land_shipping_dinar_s"}," \u0646\u0642\u0644 \u0648\u062A\u062E\u0644\u064A\u0635 \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 ",-1))]),g(e("input",{id:"land_shipping_dinar_s",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[13]||(a[13]=d=>i.value.land_shipping_dinar_s=d),disabled:!l.value.land_shipping_dinar_s},null,8,nt),[[$,i.value.land_shipping_dinar_s]])]),e("div",it,[e("div",ut,[g(e("input",{type:"checkbox",id:"include_date_s","onUpdate:modelValue":a[14]||(a[14]=d=>l.value.date=d),class:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600"},null,512),[[w,l.value.date]]),e("label",ct,r(n.$t("date")),1)]),g(e("input",{id:"date",type:"date",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[15]||(a[15]=d=>i.value.date=d),disabled:!l.value.date},null,8,pt),[[$,i.value.date]])])]),e("div",gt,[e("div",_t,[g(e("input",{type:"checkbox",id:"include_note_s","onUpdate:modelValue":a[16]||(a[16]=d=>l.value.note=d),class:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600"},null,512),[[w,l.value.note]]),e("label",bt,r(n.$t("note")),1)]),g(e("input",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[17]||(a[17]=d=>i.value.note=d),disabled:!l.value.note},null,8,mt),[[$,i.value.note]])])]),e("div",yt,[e("div",ft,[e("div",ht,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:a[18]||(a[18]=d=>n.$emit("close"))},r(n.$t("cancel")),1)]),e("div",xt,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:h,disabled:z.value},r(n.$t("yes")),9,vt)])])])])])])):R("",!0)]),_:3}))}},wt={key:0,class:"py-2"},$t={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},Ct={class:"bg-white overflow-hidden shadow-sm"},Nt={class:"p-6 dark:bg-gray-900"},Dt={class:"flex flex-col"},Ut={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-2 lg:gap-1"},Vt={class:"flex items-center max-w-5xl"},Mt={class:"relative w-full"},It={value:"0",disabled:""},St={value:""},At=["value"],Bt={class:"px-2"},Et={className:"mb-4"},Pt={class:"px-2"},jt={className:"mb-4"},zt={className:"mb-4  mr-2 print:hidden"},Ft={className:"mb-4  mr-5 print:hidden"},Rt=["href"],Tt={key:0,className:"mb-4  mr-5 print:hidden"},qt=["href"],Ot={className:"mb-4 mr-5 print:hidden text-center"},Lt=["disabled"],Ht={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},Gt={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},Wt={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Jt={scope:"col",class:"px-1 py-3 text-base"},Kt={scope:"col",class:"px-1 py-3 text-base"},Qt={scope:"col",class:"px-1 py-3 text-base"},Xt={scope:"col",class:"px-1 py-3 text-base"},Yt={scope:"col",class:"px-1 py-3 text-base"},Zt={scope:"col",class:"px-1 py-3 text-base"},es={scope:"col",class:"px-1 py-3 text-base"},ts={scope:"col",class:"px-1 py-3 text-base"},ss={scope:"col",class:"px-1 py-3 text-base"},os={scope:"col",class:"px-1 py-3 text-base"},as={scope:"col",class:"px-1 py-3 text-base"},rs={scope:"col",class:"px-1 py-3 text-base"},ds={scope:"col",class:"px-1 py-3 text-base"},ls={scope:"col",class:"px-1 py-3 text-base"},ns={scope:"col",class:"px-1 py-3 text-base"},is={scope:"col",class:"px-1 py-3 text-base"},us={scope:"col",class:"px-1 py-3 text-base"},cs={scope:"col",class:"px-1 py-3 text-base"},ps={scope:"col",class:"px-1 py-3 text-base",style:{width:"180px"}},gs={class:"border dark:border-gray-800 text-center px-1 py-2"},_s=["value"],bs={className:"border dark:border-gray-800 text-center  dark:text-gray-200 text-black px-1 py-2 ",style:{"font-weight":"bold","font-size":"16px"}},ms={className:"border dark:border-gray-800 text-center px-1 py-2 "},ys={className:"border dark:border-gray-800 text-center px-1 py-2 "},fs={className:"border dark:border-gray-800 text-center px-1 py-2 "},hs={className:"border dark:border-gray-800 text-center px-1 py-2 "},xs={className:"border dark:border-gray-800 text-center px-1 py-2 "},vs={className:"border dark:border-gray-800 text-center px-1 py-2 "},ks={className:"border dark:border-gray-800 text-center px-1 py-2 "},ws={className:"border dark:border-gray-800 text-center px-1 py-2 "},$s={className:"border dark:border-gray-800 text-center px-1 py-2 "},Cs={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ns={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ds={className:"border dark:border-gray-800 text-center px-1 py-2 "},Us={className:"border dark:border-gray-800 text-center px-1 py-2 "},Vs={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ms={className:"border dark:border-gray-800 text-center px-1 py-2 "},Is={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ss={className:"border dark:border-gray-800 text-center px-1 py-2 "},As={className:"border dark:border-gray-800 text-center px-1 py-2 "},Bs={className:"border dark:border-gray-800 text-start px-1 py-2"},Es=["onClick"],Ps=["onClick"],js=["onClick"],zs={className:"border dark:border-gray-800 text-center px-1 py-2 "},Fs=["href"],Rs=["src"],Ts={class:"spaner"},qs={class:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-4 lg:grid-cols-5 xl:grid-cols-7"},Os={class:"flex items-start rounded-xl dark:bg-gray-600 dark:text-gray-300 bg-white p-4 shadow-lg"},Ls={class:"mr-4"},Hs={class:"font-semibold"},Gs={class:"mt-2 text-sm text-gray-500 dark:text-gray-200"},Ws={class:"flex items-start rounded-xl dark:bg-gray-600 dark:text-gray-300 bg-white p-4 shadow-lg"},Js={class:"mr-4"},Ks={class:"font-semibold"},Qs={class:"mt-2 text-sm text-gray-500 dark:text-gray-200"},mo={__name:"Sales",props:{client:Array,config:Array},setup(M){ge();const y=M,b=_e();let j=_(!1);_(!1),_(!1);let i=_(!1),f=_(!1),l=_(!1),C=_(!1),T=_(0),z=_(0);const h=_([]),n=_({});function a(o={}){u.value=o,u.value.dinar_s==0&&(u.value.dinar_s=u.value.dinar),u.value.expenses_s==0&&(u.value.expenses_s=u.value.expenses),u.value.dolar_price_s==0&&(u.value.dolar_price_s=y.config[0].dolar_price),u.value.shipping_dolar_s==0&&(u.value.shipping_dolar_s=y.config[0].shipping_dolar),u.value.coc_dolar_s==0&&(u.value.coc_dolar_s=y.config[0].coc_dolar),u.value.checkout_s==0&&(u.value.checkout_s=y.config[0].checkout),u.value.land_shipping_s==0&&(u.value.land_shipping_s=y.config[0].land_shipping_s),f.value=!0}function d(o={}){u.value=o,C.value=!0}function L(){var k,D,x,q,X;if(!h.value.length){b.warning("\u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u062E\u062A\u064A\u0627\u0631 \u0633\u064A\u0627\u0631\u0629 \u0648\u0627\u062D\u062F\u0629 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644",{timeout:2e3,position:"bottom-right",rtl:!0});return}const o=h.value[0],s=E.value.find(le=>le.id===o);if(!s)return;const t={...s};(!t.dinar_s||t.dinar_s===0)&&(t.dinar_s=t.dinar),(!t.expenses_s||t.expenses_s===0)&&(t.expenses_s=t.expenses),(!t.dolar_price_s||t.dolar_price_s===0)&&(t.dolar_price_s=(k=y.config[0].dolar_price)!=null?k:t.dolar_price_s),(!t.shipping_dolar_s||t.shipping_dolar_s===0)&&(t.shipping_dolar_s=(D=y.config[0].shipping_dolar)!=null?D:t.shipping_dolar_s),(!t.coc_dolar_s||t.coc_dolar_s===0)&&(t.coc_dolar_s=(x=y.config[0].coc_dolar)!=null?x:t.coc_dolar_s),(!t.checkout_s||t.checkout_s===0)&&(t.checkout_s=(q=y.config[0].checkout)!=null?q:t.checkout_s),(!t.land_shipping_s||t.land_shipping_s===0)&&(t.land_shipping_s=(X=y.config[0].land_shipping_s)!=null?X:t.land_shipping_s),delete t.car_type,delete t.car_color,delete t.year,delete t.dinar,delete t.dinar_s,delete t.car_owner,n.value=t,l.value=!0}function H(o={}){u.value=o,u.value.notePayment=" \u0628\u064A\u062F ",i.value=!0}const u=_({}),E=_([]);let I=_(""),S=_(""),G=_(!1),N=0,W=1,F="";const A=()=>{W=0,E.value.length=0,G.value=!G.value,h.value=[]},ee=async o=>{console.log(o);try{const t=(await P.get("/getIndexCar",{params:{limit:100,page:W,q:F,user_id:N,from:I.value,to:S.value,get_image:1}})).data;t.data.length<100?(E.value.push(...t.data),o.complete()):(E.value.push(...t.data),o.loaded()),W++}catch(s){console.log(s)}},J=async()=>{P.get("/api/totalInfo").then(o=>{T.value=o.data.data.mainAccount,z.value=o.data.data.allCars}).catch(o=>{console.error(o)})};J();function te(o){f.value=!1,P.post("/api/updateCarsS",o).then(s=>{j.value=!1,b.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),J(),A()}).catch(s=>{j.value=!1,b.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function se(o){const s={...o,car_ids:h.value};delete s.car_type,delete s.car_color,delete s.year,delete s.dinar,delete s.dinar_s,delete s.vin,delete s.car_number,delete s.car_owner,P.post("/api/bulkUpdateCarsS",s).then(()=>{b.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u062C\u0645\u0627\u0639\u064A \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),l.value=!1,h.value=[],J(),A()}).catch(t=>{console.error(t),b.error("\u0641\u0634\u0644 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u062C\u0645\u0627\u0639\u064A",{timeout:2e3,position:"bottom-right",rtl:!0})})}function oe(o){P.post("/api/DelCar",o).then(s=>{C.value=!1,b.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D \u0648\u062E\u0635\u0645 \u0627\u0644\u0645\u0628\u0644\u063A \u0645\u0646 \u062F\u064A\u0646 \u0627\u0644\u0632\u0628\u0648\u0646",{timeout:3e3,position:"bottom-right",rtl:!0}),A()}).catch(s=>{console.error(s)})}function ae(o){var s,t,k;P.get(`/api/addPaymentCar?car_id=${o.id}&discount=${(s=o.discountPayment)!=null?s:0}&amount=${(t=o.amountPayment)!=null?t:0}&note=${(k=o.notePayment)!=null?k:""}`).then(D=>{A(),i.value=!1,b.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+o.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0});let x=D.data;window.open(`/api/getIndexAccountsSelas?user_id=${o.client.id}&print=2&transactions_id=${x.id}`,"_blank")}).catch(D=>{j.value=!1,b.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}const Q=Ue(A,500);function re(o){return`/public/uploadsResized/${o}`}function de(o){return`/public/uploads/${o}`}return(o,s)=>(m(),v(O,null,[p(c(be),{title:"Dashboard"}),p(Ne,{formData:u.value,show:!!c(f),client:M.client,onA:s[0]||(s[0]=t=>te(t)),onClose:s[1]||(s[1]=t=>U(f)?f.value=!1:f=!1)},{header:B(()=>[...s[16]||(s[16]=[])]),_:1},8,["formData","show","client"]),p(kt,{show:!!c(l),baseData:n.value,"selected-count":h.value.length,onConfirm:se,onClose:s[2]||(s[2]=t=>U(l)?l.value=!1:l=!1)},{header:B(()=>[...s[17]||(s[17]=[])]),_:1},8,["show","baseData","selected-count"]),p($e,{formData:u.value,show:!!c(i),onA:s[3]||(s[3]=t=>ae(t)),onClose:s[4]||(s[4]=t=>U(i)?i.value=!1:i=!1)},{header:B(()=>[...s[18]||(s[18]=[])]),_:1},8,["formData","show"]),p(Ce,{show:!!c(C),formData:u.value,onA:s[5]||(s[5]=t=>oe(t)),onClose:s[6]||(s[6]=t=>U(C)?C.value=!1:C=!1)},{header:B(()=>[...s[19]||(s[19]=[e("h2",{class:"mb-5 dark:text-white text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1)])]),_:1},8,["show","formData"]),p(he,null,{default:B(()=>[o.$page.props.auth.user.type_id==1||o.$page.props.auth.user.type_id==6?(m(),v("div",wt,[e("div",$t,[e("div",Ct,[e("div",Nt,[e("div",Dt,[e("div",Ut,[e("div",null,[p(V,{class:"mb-1",for:"pay",value:"\u0628\u062D\u062B"}),e("form",Vt,[s[21]||(s[21]=e("label",{class:"dark:text-gray-200",for:"simple-search"},null,-1)),e("div",Mt,[s[20]||(s[20]=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[e("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-200 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),g(e("input",{"onUpdate:modelValue":s[7]||(s[7]=t=>U(F)?F.value=t:F=t),onInput:s[8]||(s[8]=(...t)=>c(Q)&&c(Q)(...t)),type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"\u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0646\u0635\u0649 - \u0631\u0642\u0645 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 - \u0627\u0633\u0645 \u0627\u0644\u062A\u0627\u062C\u0631 - \u0627\u0633\u0645 \u0627\u0644\u0633\u064A\u0627\u0631\u0629",required:""},null,544),[[$,c(F)]])])])]),e("div",null,[p(V,{class:"mb-1",for:"pay",value:"\u0627\u062E\u062A\u064A\u0627\u0631 \u062A\u0627\u062C\u0631"}),g(e("select",{onChange:s[9]||(s[9]=t=>A()),"onUpdate:modelValue":s[10]||(s[10]=t=>U(N)?N.value=t:N=t),id:"default",class:"pr-8 bg-gray-50 border border-gray-300 text-gray-900 mb-6 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-red-500 dark:focus:border-red-500"},[e("option",It,r(o.$t("selectCustomer")),1),e("option",St,r(o.$t("allOwners")),1),(m(!0),v(O,null,K(M.client,(t,k)=>(m(),v("option",{key:k,value:t.id},r(t.name),9,At))),128))],544),[[me,c(N)]])]),e("div",Bt,[e("div",Et,[p(V,{for:"from",value:o.$t("from_date")},null,8,["value"]),p(Z,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:c(I),"onUpdate:modelValue":s[11]||(s[11]=t=>U(I)?I.value=t:I=t)},null,8,["modelValue"])])]),e("div",Pt,[e("div",jt,[p(V,{for:"to",value:o.$t("to_date")},null,8,["value"]),p(Z,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:c(S),"onUpdate:modelValue":s[12]||(s[12]=t=>U(S)?S.value=t:S=t)},null,8,["modelValue"])])]),e("div",zt,[p(V,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),e("button",{onClick:s[13]||(s[13]=ye(t=>A(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},[...s[22]||(s[22]=[e("span",null,"\u0641\u0644\u062A\u0631\u0629",-1)])])]),e("div",Ft,[p(V,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),e("a",{href:`/api/getIndexCar?user_id=${c(N)}&from=${c(I)}&to=${c(S)}&print=1&printExcel=1`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded block text-center",style:{width:"100%"}},[...s[23]||(s[23]=[e("span",null,"Excel",-1)])],8,Rt)]),c(N)?(m(),v("div",Tt,[p(V,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),e("a",{target:"_blank",href:`api/getIndexAccountsSelas?user_id=${c(N)}&from=${c(I)}&to=${c(S)}&print=1&showComplatedCars=0`,class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-orange-500 rounded d-block",style:{width:"100%",display:"block","text-align":"center"}},[...s[24]||(s[24]=[e("span",null,"\u0637\u0628\u0627\u0639\u0629",-1)])],8,qt)])):R("",!0),e("div",Ot,[p(V,{for:"bulk",value:"\u062A\u0639\u062F\u064A\u0644 \u062C\u0645\u0627\u0639\u064A"}),e("button",{id:"bulk",type:"button",onClick:s[14]||(s[14]=t=>L()),disabled:!h.value.length,class:Y(["px-6 mb-12 py-2 mt-1 font-bold text-white rounded w-full",h.value.length?"bg-blue-500":"bg-gray-400 cursor-not-allowed"])}," \u062A\u0646\u0641\u064A\u0630 ",10,Lt)])]),e("div",null,[s[28]||(s[28]=e("div",null,null,-1)),e("div",Ht,[e("table",Gt,[e("thead",Wt,[e("tr",null,[s[25]||(s[25]=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u062A\u062D\u062F\u064A\u062F ",-1)),e("th",Jt,r(o.$t("car_owner")),1),e("th",Kt,r(o.$t("car_type")),1),e("th",Qt,r(o.$t("year")),1),e("th",Xt,r(o.$t("color")),1),e("th",Yt,r(o.$t("vin")),1),e("th",Zt,r(o.$t("car_number")),1),e("th",es,r(o.$t("dinar")),1),e("th",ts,r(o.$t("dolar_price")),1),e("th",ss,r(o.$t("dolar_custom")),1),e("th",os,r(o.$t("note")),1),e("th",as,r(o.$t("shipping_dolar")),1),e("th",rs,r(o.$t("coc_dolar")),1),e("th",ds,r(o.$t("checkout")),1),e("th",ls,r(o.$t("expenses")),1),s[26]||(s[26]=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0646\u0642\u0644 \u0628\u0631\u064A ",-1)),e("th",ns,r(o.$t("total")),1),e("th",is,r(o.$t("paid")),1),e("th",us,r(o.$t("discount")),1),e("th",cs,r(o.$t("date")),1),e("th",ps,r(o.$t("execute")),1),s[27]||(s[27]=e("th",{class:"px-1 py-3 text-base"},"\u062A\u062E\u0632\u064A\u0646",-1))])]),e("tbody",null,[(m(!0),v(O,null,K(E.value,t=>{var k,D;return m(),v("tr",{key:t.id,class:Y([t.results==0?"":t.results==1?"bg-red-100 dark:bg-red-900":"bg-green-100 dark:bg-green-900","bg-white border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[e("td",gs,[g(e("input",{type:"checkbox",value:t.id,"onUpdate:modelValue":s[15]||(s[15]=x=>h.value=x),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,_s),[[w,h.value]])]),e("td",bs,r((k=t.client)==null?void 0:k.name),1),e("td",ms,r(t.car_type),1),e("td",ys,r(t.year),1),e("td",fs,r(t.car_color),1),e("td",hs,r(t.vin),1),e("td",xs,r(t.car_number),1),e("td",vs,r(t.dinar_s),1),e("td",ks,r(t.dolar_price_s),1),e("td",ws,r((t.dinar_s/t.dolar_price_s*100).toFixed(0)||0),1),e("td",$s,r(t.note),1),e("td",Cs,r(t.shipping_dolar_s),1),e("td",Ns,r(t.coc_dolar_s),1),e("td",Ds,r(t.checkout_s),1),e("td",Us,r(t.expenses_s),1),e("td",Vs,r(t.land_shipping_s),1),e("td",Ms,r(t.total_s.toFixed(0)),1),e("td",Is,r(t.paid),1),e("td",Ss,r(t.discount),1),e("td",As,r(t.date),1),e("td",Bs,[e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-slate-500 rounded",onClick:x=>a(t)},[p(we)],8,Es),e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-orange-500 rounded",onClick:x=>d(t)},[p(ke)],8,Ps),t.total_s!=t.paid+t.discount?(m(),v("button",{key:0,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:x=>H(t)},[p(ve)],8,js)):R("",!0),p(c(fe),{style:{display:"inline-flex"},className:"px-1 py-1  text-white mx-1 bg-blue-500 rounded d-inline-block",href:o.route("showClients",(D=t.client)==null?void 0:D.id)},{default:B(()=>[p(xe)]),_:1},8,["href"])]),e("td",zs,[(m(!0),v(O,null,K(t.car_images,(x,q)=>(m(),v("a",{key:q,href:de(x.name),style:{cursor:"pointer"},target:"_blank"},[e("img",{src:re(x.name),alt:"",class:"px-1",style:{"max-width":"100px","max-height":"50px",display:"inline"}},null,8,Rs)],8,Fs))),128))])],2)}),128))])])])]),e("div",Ts,[p(c(De),{car:E.value,onInfinite:ee,identifier:c(G)},null,8,["car","identifier"])]),e("div",null,[e("div",qs,[e("div",Os,[s[29]||(s[29]=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-full border border-orange-100 bg-orange-50"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-orange-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),e("div",Ls,[e("h2",Hs,r(o.$t("capital")),1),e("p",Gs,r(c(T)),1)])]),e("div",Ws,[s[30]||(s[30]=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-full border border-red-100 bg-red-50"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1)),e("div",Js,[e("h2",Ks,r(o.$t("all_cars")),1),e("p",Qs,r(c(z)),1)])])])])])])])])])):R("",!0),s[31]||(s[31]=e("div",null,null,-1))]),_:1})],64))}};export{mo as default};
