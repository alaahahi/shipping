import{r as v,o as u,c as B,w as A,a as f,b as e,d as q,q as c,i as b,s as h,e as y,v as p,t as l,g as x,T as F,u as O,B as Q,F as S,H as X,k as Z,h as j,n as ee}from"./app.87ab4bc7.js";import{_ as te}from"./AuthenticatedLayout.2a159fa4.js";import{t as ae}from"./trash.db62f3e7.js";import{e as oe}from"./edit.95bf4681.js";import{a as _}from"./index.1f614d15.js";import{U as H}from"./Uploader.0b698523.js";import{q as Y}from"./VueSearchSelect.9f4a5bb9.js";/* empty css                        */import{M as re}from"./ModalDelCar.29a9de06.js";import{W as se}from"./v3-infinite-loading.es.46ac653b.js";/* empty css              */import{d as le}from"./debounce.e1d6e31f.js";import"./_plugin-vue_export-helper.cdc0426e.js";/* empty css                                                                 *//* empty css                                                    */const de={key:0,class:"modal-mask"},ne={class:"modal-wrapper max-h-[80vh]"},ie={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},ue={class:"modal-header"},ge={class:"text-center dark:text-gray-200"},me={class:"modal-body"},ce={key:0,class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},fe={class:"mb-4 mx-1"},be={class:"relative"},ye={class:"relative"},pe={key:0,className:"mb-4 mx-1"},ve={class:"dark:text-gray-200",for:"number"},ke={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-1 lg:gap-2"},he={className:"mb-4 mx-1"},xe={class:"dark:text-gray-200",for:"car_number"},$e={className:"mb-4 mx-1"},we={class:"dark:text-gray-200",for:"pin"},De={className:"mb-4 mx-1"},Ce={class:"dark:text-gray-200",for:"pin"},Ae={className:"mb-4 mx-1"},_e={class:"dark:text-gray-200",for:"pin"},Ue={className:"mb-4 mx-1"},Me={class:"dark:text-gray-200",for:"pin"},Ne={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},Ve={className:"mb-4 mx-1"},Ie={class:"dark:text-gray-200",for:"note"},Se={key:1,class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},Be=["disabled"],Re={key:2,class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},Te={class:"mb-4"},je={class:"mt-3"},ze={key:0,class:"text-danger"},qe={class:"modal-footer my-2"},Fe={class:"flex flex-row m-auto"},Oe={__name:"ModalAddCarsAnnual",props:{show:Boolean,formData:Object,client:Array,saveCar:Boolean},setup(t){function D(){const d=new Date,a=d.getFullYear(),r=String(d.getMonth()+1).padStart(2,"0"),k=String(d.getDate()).padStart(2,"0");return`${a}-${r}-${k}`}let i=v(!0);function $(d){_.get("/api/carsAnnualImageDel?name="+d.name).then(a=>{toast.success("\u062A\u0645  \u062D\u0630\u0641 \u0627\u0644\u0635\u0648\u0631\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:5e3,position:"bottom-right",rtl:!0})}).catch(a=>{console.error(a)})}return(d,a)=>(u(),B(F,{name:"modal"},{default:A(()=>{var r,k,w;return[t.show?(u(),f("div",de,[e("div",ne,[e("div",ie,[e("div",ue,[q(d.$slots,"header",{},()=>[e("h2",ge,l(d.$t("add_car")),1)])]),e("div",me,[t.formData.id?b("",!0):(u(),f("div",ce,[e("div",fe,[a[13]||(a[13]=e("label",{class:"dark:text-gray-200",for:"color_id"}," \u0635\u0627\u062D\u0628 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 ",-1)),e("div",be,[c(i)?b("",!0):(u(),B(c(Y),{key:0,optionValue:"id",optionText:"name",modelValue:t.formData.client_id,"onUpdate:modelValue":a[0]||(a[0]=g=>t.formData.client_id=g),list:t.client,placeholder:"\u062A\u062D\u062F\u064A\u062F \u0635\u0627\u062D\u0628 \u0627\u0644\u0633\u064A\u0627\u0631\u0629"},null,8,["modelValue","list"])),c(i)?b("",!0):(u(),f("button",{key:1,type:"button",onClick:a[1]||(a[1]=g=>{h(i)?i.value=!0:i=!0,t.formData.client_name="",t.formData.client_id=""}),class:"absolute left-0 top-0 h-full px-3 py-2 font-bold text-white bg-green-500 rounded-tl-lg rounded-bl-lg"}," \u0625\u0636\u0627\u0641\u0629 \u0635\u0627\u062D\u0628 \u0633\u064A\u0627\u0631\u0629 "))]),e("div",ye,[c(i)?y((u(),f("input",{key:0,id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[2]||(a[2]=g=>t.formData.client_name=g)},null,512)),[[p,t.formData.client_name]]):b("",!0),c(i)?(u(),f("button",{key:1,type:"button",onClick:a[3]||(a[3]=g=>{h(i)?i.value=!1:i=!1,t.formData.client=""}),class:"absolute left-0 top-0 h-full px-3 py-2 font-bold text-white bg-pink-500 rounded-tl-lg rounded-bl-lg"}," \u062A\u062D\u062F\u064A\u062F \u0635\u0627\u062D\u0628 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 ")):b("",!0)])]),c(i)?(u(),f("div",pe,[e("label",ve,l(d.$t("phoneNumber")),1),y(e("input",{id:"number",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[4]||(a[4]=g=>t.formData.client_phone=g)},null,512),[[p,t.formData.client_phone]])])):b("",!0)])),e("div",ke,[e("div",he,[e("label",xe,l(d.$t("car_number")),1),y(e("input",{id:"car_number",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[5]||(a[5]=g=>t.formData.car_number=g)},null,512),[[p,t.formData.car_number]])]),e("div",$e,[e("label",we,l(d.$t("car_type")),1),y(e("input",{id:"car_type",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[6]||(a[6]=g=>t.formData.car_type=g)},null,512),[[p,t.formData.car_type]])]),e("div",De,[e("label",Ce,l(d.$t("year")),1),y(e("input",{id:"year",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[7]||(a[7]=g=>t.formData.year=g)},null,512),[[p,t.formData.year]])]),e("div",Ae,[e("label",_e,l(d.$t("color")),1),y(e("input",{id:"car_color",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[8]||(a[8]=g=>t.formData.car_color=g)},null,512),[[p,t.formData.car_color]])]),e("div",Ue,[e("label",Me,l(d.$t("date")),1),y(e("input",{id:"date",type:"date",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[9]||(a[9]=g=>t.formData.date=g)},null,512),[[p,t.formData.date]])])]),e("div",Ne,[e("div",Ve,[e("label",Ie,l(d.$t("note")),1),y(e("input",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":a[10]||(a[10]=g=>t.formData.note=g)},null,512),[[p,t.formData.note]])])]),t.saveCar?b("",!0):(u(),f("div",Se,[e("button",{class:"modal-default-button py-3 bg-blue-500 rounded col-6",onClick:a[11]||(a[11]=g=>{t.formData.date=t.formData.date?t.formData.date:D(),d.$emit("a",t.formData)}),disabled:!t.formData.client_id&&!t.formData.client_name}," \u062D\u0641\u0638 \u0648\u0645\u062A\u0627\u0628\u0639\u0629 ",8,Be)])),t.saveCar?(u(),f("div",Re,[e("div",Te,[a[14]||(a[14]=e("label",{class:"form-label"},"\u0627\u0644\u0635\u0648\u0631",-1)),e("div",je,[x(c(H),{server:"/api/carsAnnualUpload?carId="+t.saveCar,"is-invalid":!!((r=d.errors)!=null&&r.media),onChange:d.changeMedia,location:"/storage/posts/media",onInit:d.initMedia,onAdd:d.addMedia,onRemove:$},null,8,["server","is-invalid","onChange","onInit","onAdd"])]),(k=d.errors)!=null&&k.media?(u(),f("p",ze,l((w=d.errors)==null?void 0:w.media[0]),1)):b("",!0)])])):b("",!0)]),e("div",qe,[e("div",Fe,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:a[12]||(a[12]=g=>{d.$emit("close"),t.formData=""})}," \u0625\u063A\u0644\u0627\u0642 ")])])])])])):b("",!0)]}),_:3}))}};const He={key:0,class:"modal-mask"},Ye={class:"modal-wrapper max-h-[80vh]"},Ee={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},Ge={class:"modal-header"},Le={class:"modal-body"},We={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},Je={class:"mb-4 mx-1"},Ke={class:"relative"},Pe={class:"relative"},Qe={key:0,className:"mb-4 mx-1"},Xe={class:"dark:text-gray-200",for:"number"},Ze={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-1 lg:gap-2"},et={className:"mb-4 mx-1"},tt={class:"dark:text-gray-200",for:"car_number"},at={className:"mb-4 mx-1"},ot={class:"dark:text-gray-200",for:"pin"},rt={className:"mb-4 mx-1"},st={class:"dark:text-gray-200",for:"pin"},lt={className:"mb-4 mx-1"},dt={class:"dark:text-gray-200",for:"pin"},nt={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},it={className:"mb-4 mx-1"},ut={class:"dark:text-gray-200",for:"note"},gt={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},mt={class:"m-4"},ct={key:0,class:"text-danger"},ft={class:"modal-footer my-2"},bt={class:"flex flex-row"},yt={class:"basis-1/2 px-4"},pt={class:"basis-1/2 px-4"},vt=["disabled"],kt={__name:"ModalUpdateCarsAnnual",props:{show:Boolean,formData:Object,client:Array,saveCar:Boolean},setup(t){const D=O();let i=v(!1);function $(a){_.get("/api/carsAnnualImageDel?name="+a.name).then(r=>{D.success("\u062A\u0645  \u062D\u0630\u0641 \u0627\u0644\u0635\u0648\u0631\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:5e3,position:"bottom-right",rtl:!0})}).catch(r=>{console.error(r)})}function d(){const a=new Date,r=a.getFullYear(),k=String(a.getMonth()+1).padStart(2,"0"),w=String(a.getDate()).padStart(2,"0");return`${r}-${k}-${w}`}return(a,r)=>(u(),B(F,{name:"modal"},{default:A(()=>{var k,w,g;return[t.show?(u(),f("div",He,[e("div",Ye,[e("div",Ee,[e("div",Ge,[q(a.$slots,"header",{},()=>[r[12]||(r[12]=e("h2",{class:"text-center dark:text-gray-200"}," \u062A\u0639\u062F\u064A\u0644 \u0645\u0639\u0644\u0648\u0645\u0627\u062A ",-1))])]),e("div",Le,[e("div",We,[e("div",Je,[r[13]||(r[13]=e("label",{class:"dark:text-gray-200",for:"color_id"}," \u0635\u0627\u062D\u0628 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 ",-1)),e("div",Ke,[c(i)?b("",!0):(u(),B(c(Y),{key:0,optionValue:"id",optionText:"name",modelValue:t.formData.client_id,"onUpdate:modelValue":r[0]||(r[0]=m=>t.formData.client_id=m),list:t.client,placeholder:"\u062A\u062D\u062F\u064A\u062F \u0635\u0627\u062D\u0628 \u0627\u0644\u0633\u064A\u0627\u0631\u0629"},null,8,["modelValue","list"])),c(i)?b("",!0):(u(),f("button",{key:1,type:"button",onClick:r[1]||(r[1]=m=>{h(i)?i.value=!0:i=!0,t.formData.client_name="",t.formData.client_id=""}),class:"absolute left-0 top-0 h-full px-3 py-2 font-bold text-white bg-green-500 rounded-tl-lg rounded-bl-lg"}," \u0625\u0636\u0627\u0641\u0629 \u0635\u0627\u062D\u0628 \u0633\u064A\u0627\u0631\u0629 "))]),e("div",Pe,[c(i)?y((u(),f("input",{key:0,id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":r[2]||(r[2]=m=>t.formData.client_name=m)},null,512)),[[p,t.formData.client_name]]):b("",!0),c(i)?(u(),f("button",{key:1,type:"button",onClick:r[3]||(r[3]=m=>{h(i)?i.value=!1:i=!1,t.formData.client=""}),class:"absolute left-0 top-0 h-full px-3 py-2 font-bold text-white bg-pink-500 rounded-tl-lg rounded-bl-lg"}," \u062A\u062D\u062F\u064A\u062F \u0635\u0627\u062D\u0628 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 ")):b("",!0)])]),c(i)?(u(),f("div",Qe,[e("label",Xe,l(a.$t("phoneNumber")),1),y(e("input",{id:"number",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":r[4]||(r[4]=m=>t.formData.client_phone=m)},null,512),[[p,t.formData.client_phone]])])):b("",!0)]),e("div",Ze,[e("div",et,[e("label",tt,l(a.$t("car_number")),1),y(e("input",{id:"car_number",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":r[5]||(r[5]=m=>t.formData.car_number=m)},null,512),[[p,t.formData.car_number]])]),e("div",at,[e("label",ot,l(a.$t("car_type")),1),y(e("input",{id:"car_type",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":r[6]||(r[6]=m=>t.formData.car_type=m)},null,512),[[p,t.formData.car_type]])]),e("div",rt,[e("label",st,l(a.$t("year")),1),y(e("input",{id:"year",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":r[7]||(r[7]=m=>t.formData.year=m)},null,512),[[p,t.formData.year]])]),e("div",lt,[e("label",dt,l(a.$t("color")),1),y(e("input",{id:"car_color",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":r[8]||(r[8]=m=>t.formData.car_color=m)},null,512),[[p,t.formData.car_color]])])]),e("div",nt,[e("div",it,[e("label",ut,l(a.$t("note")),1),y(e("input",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":r[9]||(r[9]=m=>t.formData.note=m)},null,512),[[p,t.formData.note]])])]),e("div",gt,[e("div",mt,[r[14]||(r[14]=e("label",{class:"form-label"},"\u0627\u0644\u0635\u0648\u0631",-1)),e("div",null,[x(c(H),{server:"/api/carsAnnualUpload?carId="+t.formData.id,"is-invalid":!!((k=a.errors)!=null&&k.media),onChange:a.changeMedia,onInitMedia:a.media,location:"/public/uploadsResized",media:t.formData.car_images,onAdd:a.addMedia,onRemove:$},null,8,["server","is-invalid","onChange","onInitMedia","media","onAdd"])]),(w=a.errors)!=null&&w.media?(u(),f("p",ct,l((g=a.errors)==null?void 0:g.media[0]),1)):b("",!0)])])]),e("div",ft,[e("div",bt,[e("div",yt,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:r[10]||(r[10]=m=>a.$emit("close"))}," \u0627\u063A\u0644\u0627\u0642 ")]),e("div",pt,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:r[11]||(r[11]=m=>{t.formData.date=t.formData.date?t.formData.date:d(),a.$emit("a",t.formData),t.formData="",h(i)?i.value=!1:i=!1}),disabled:!t.formData.client_id&&!t.formData.client_name}," \u062D\u0641\u0638 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A ",8,vt)])])])])])])):b("",!0)]}),_:3}))}},ht={key:0,class:"py-2"},xt={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},$t={class:"bg-white overflow-hidden shadow-sm"},wt={class:"p-6 dark:bg-gray-900"},Dt={class:"flex flex-col"},Ct={class:"grid grid-cols-2 md:grid-cols-5 lg:grid-cols-5 gap-2 lg:gap-1"},At={class:"flex items-center max-w-5xl"},_t={class:"relative w-full"},Ut={value:"0",disabled:""},Mt={value:""},Nt=["value"],Vt={class:"text-center"},It={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},St={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},Bt={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Rt={scope:"col",class:"px-1 py-3 text-base"},Tt={scope:"col",class:"px-1 py-3 text-base"},jt={scope:"col",class:"px-1 py-3 text-base"},zt={scope:"col",class:"px-1 py-3 text-base"},qt={scope:"col",class:"px-1 py-3 text-base"},Ft={scope:"col",class:"px-1 py-3 text-base"},Ot={scope:"col",class:"px-1 py-3 text-base",style:{width:"90px"}},Ht={className:"border dark:border-gray-800 text-center  dark:text-gray-200 text-black px-1 py-2 ",style:{"font-weight":"bold","font-size":"16px"}},Yt={className:"border dark:border-gray-800 text-center px-1 py-2 "},Et={className:"border dark:border-gray-800 text-center px-1 py-2 "},Gt={className:"border dark:border-gray-800 text-center px-1 py-2 "},Lt={className:"border dark:border-gray-800 text-center px-1 py-2 "},Wt={className:"border dark:border-gray-800 text-center px-1 py-2 "},Jt={className:"border dark:border-gray-800 text-center px-1 py-2 "},Kt={className:"border dark:border-gray-800 text-center px-1 py-2 "},Pt=["href"],Qt=["src"],Xt={className:"border dark:border-gray-800 text-start px-1 py-2"},Zt=["onClick"],ea=["onClick"],ta={class:"spaner"},pa={__name:"Index",props:{clientAnnual:Array},setup(t){Q();const D=O();let i=v(!1),$=v(!1),d=v(!1),a=v(!1);v(0),v(0);let r=v(!1);function k(n={}){m.value=n,d.value=!0}function w(n={}){m.value=n,a.value=!0}function g(n={}){m.value={},$.value=!0}const m=v({}),U=v([]);let R=v(!1),M=0,T=1,N="";const V=()=>{T=0,U.value.length=0,R.value=!R.value},E=async n=>{console.log(n);try{const s=(await _.get("api/getIndexCarAnnual",{params:{limit:100,page:T,q:N,user_id:M}})).data;s.data.length<100?(U.value.push(...s.data),n.complete()):(U.value.push(...s.data),n.loaded()),T++}catch(o){console.log(o)}};function G(n){d.value=!1,_.post("/api/updateCarsAnnual",n).then(o=>{i.value=!1,D.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),V()}).catch(o=>{i.value=!1,D.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function L(n){_.post("/api/delCarsAnnualr",n).then(o=>{a.value=!1,D.success("\u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:3e3,position:"bottom-right",rtl:!0}),V()}).catch(o=>{console.error(o)})}const z=le(V,500);function W(n){_.post("/api/addCarsAnnual",n).then(o=>{r.value=o.data.id,D.success("\u062A\u0645 \u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0628\u0646\u062C\u0627\u062D",{timeout:5e3,position:"bottom-right",rtl:!0})}).catch(o=>{console.error(o)})}function J(n,o){return o==2024?`https://main.salam-jalal-co.intellij-app.com/public/uploadsResized/${n}`:`/public/uploadsResized/${n}`}function K(n,o){return o==2024?`https://main.salam-jalal-co.intellij-app.com/public/uploads/${n}`:`/public/uploads/${n}`}return(n,o)=>(u(),f(S,null,[x(c(X),{title:"Dashboard"}),x(Oe,{formData:m.value,saveCar:c(r),show:!!c($),client:t.clientAnnual,onA:o[0]||(o[0]=s=>W(s)),onClose:o[1]||(o[1]=s=>{h($)?$.value=!1:$=!1,h(r)?r.value=0:r=0,V()})},{header:A(()=>[...o[11]||(o[11]=[])]),_:1},8,["formData","saveCar","show","client"]),x(kt,{formData:m.value,saveCar:c(r),show:!!c(d),client:t.clientAnnual,onA:o[2]||(o[2]=s=>G(s)),onClose:o[3]||(o[3]=s=>h(d)?d.value=!1:d=!1)},{header:A(()=>[...o[12]||(o[12]=[])]),_:1},8,["formData","saveCar","show","client"]),x(re,{show:!!c(a),formData:m.value,onA:o[4]||(o[4]=s=>L(s)),onClose:o[5]||(o[5]=s=>h(a)?a.value=!1:a=!1)},{header:A(()=>[...o[13]||(o[13]=[e("h2",{class:"mb-5 dark:text-white text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1)])]),_:1},8,["show","formData"]),x(te,null,{default:A(()=>[n.$page.props.auth.user.type_id==1?(u(),f("div",ht,[e("div",xt,[e("div",$t,[e("div",wt,[e("div",Dt,[e("div",Ct,[e("div",null,[e("form",At,[o[15]||(o[15]=e("label",{class:"dark:text-gray-200",for:"simple-search"},null,-1)),e("div",_t,[o[14]||(o[14]=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[e("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-200 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),y(e("input",{"onUpdate:modelValue":o[6]||(o[6]=s=>h(N)?N.value=s:N=s),onInput:o[7]||(o[7]=(...s)=>c(z)&&c(z)(...s)),type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"\u0628\u062D\u062B",required:""},null,544),[[p,c(N)]])])])]),e("div",null,[y(e("select",{onChange:o[8]||(o[8]=s=>V()),"onUpdate:modelValue":o[9]||(o[9]=s=>h(M)?M.value=s:M=s),id:"default",class:"pr-8 bg-gray-50 border border-gray-300 text-gray-900 mb-6 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-red-500 dark:focus:border-red-500"},[e("option",Ut,l(n.$t("selectCustomer")),1),e("option",Mt,l(n.$t("allOwners")),1),(u(!0),f(S,null,j(t.clientAnnual,(s,I)=>(u(),f("option",{key:I,value:s.id},l(s.name),9,Nt))),128))],544),[[Z,c(M)]])]),e("div",Vt,[e("button",{type:"button",onClick:o[10]||(o[10]=s=>g()),style:{"min-width":"150px"},className:"px-6 mb-12 mx-2 py-2 font-bold text-white bg-purple-600 rounded"}," \u0627\u0636\u0627\u0641\u0629 \u0633\u064A\u0627\u0631\u0629 ")])]),e("div",null,[o[18]||(o[18]=e("div",null,null,-1)),e("div",It,[e("table",St,[e("thead",Bt,[e("tr",null,[o[16]||(o[16]=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0627\u0633\u0645 \u0635\u0627\u062D\u0628 \u0627\u0644\u0633\u06CC\u0627\u0631\u06D5 ",-1)),e("th",Rt,l(n.$t("car_type")),1),e("th",Tt,l(n.$t("year")),1),e("th",jt,l(n.$t("color")),1),e("th",zt,l(n.$t("car_number")),1),e("th",qt,l(n.$t("note")),1),e("th",Ft,l(n.$t("date")),1),o[17]||(o[17]=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0627\u0644\u0645\u0644\u0641\u0627\u062A \u0627\u0644\u0645\u062E\u0632\u0646\u0629 ",-1)),e("th",Ot,l(n.$t("execute")),1)])]),e("tbody",null,[(u(!0),f(S,null,j(U.value,s=>{var I;return u(),f("tr",{key:s.id,class:ee([s.results==0?"":s.results==1?"bg-red-100 dark:bg-red-900":"bg-green-100 dark:bg-green-900","bg-white border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[e("td",Ht,l(((I=s.client)==null?void 0:I.name)||s.client_name),1),e("td",Yt,l(s.car_type),1),e("td",Et,l(s.year),1),e("td",Gt,l(s.car_color),1),e("td",Lt,l(s.car_number),1),e("td",Wt,l(s.note),1),e("td",Jt,l(s.date),1),e("td",Kt,[(u(!0),f(S,null,j(s.car_images,(C,P)=>(u(),f("a",{key:P,href:K(C.name,C.year),style:{cursor:"pointer"},target:"_blank"},[e("img",{src:J(C.name,C.year),alt:"",class:"px-1",style:{"max-width":"100px","max-height":"50px",display:"inline"}},null,8,Qt)],8,Pt))),128))]),e("td",Xt,[e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-slate-500 rounded",onClick:C=>k(s)},[x(oe)],8,Zt),e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-orange-500 rounded",onClick:C=>w(s)},[x(ae)],8,ea)])],2)}),128))])])])]),e("div",ta,[x(c(se),{car:U.value,onInfinite:E,identifier:c(R)},null,8,["car","identifier"])])])])])])])):b("",!0),o[19]||(o[19]=e("div",null,null,-1))]),_:1})],64))}};export{pa as default};
