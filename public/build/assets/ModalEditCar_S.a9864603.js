import{u as Q,r as y,m as Y,l as S,o as n,c as G,w as J,a as l,b as t,d as K,n as v,t as s,q as $,e as g,k as W,F as T,h as N,i as b,v as u,g as Z,T as ee}from"./app.ff36a7c0.js";import{a as A}from"./index.01a2cd8e.js";import{U as te}from"./Uploader.92278ca5.js";/* empty css                                                       */const ae={key:0,class:"modal-mask"},re={class:"modal-wrapper max-h-[80vh]"},oe={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},se={class:"modal-header"},de={class:"text-center dark:text-gray-200"},ne={class:"border-b border-gray-200 dark:border-gray-700 mb-4"},le={class:"flex space-x-8",style:{direction:"rtl"}},ie={key:0,class:"modal-body"},ge={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},ue={class:"mb-4 mx-1"},ce={class:"dark:text-gray-200",for:"color_id"},me={class:"relative"},be={selected:"",disabled:""},ye=["value"],fe={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-1 lg:gap-2"},xe={className:"mb-4 mx-1"},pe={class:"dark:text-gray-200",for:"pin"},ke={className:"mb-4 mx-1"},ve={class:"dark:text-gray-200",for:"pin"},he={className:"mb-4 mx-1"},_e={class:"dark:text-gray-200",for:"pin"},we={className:"mb-4 mx-1"},De={class:"dark:text-gray-200",for:"pin"},$e={key:0,class:"text-red-700"},Ce={className:"mb-4 mx-1"},Ue={class:"dark:text-gray-200",for:"car_number"},Ve={className:"mb-4 mx-1"},Te={class:"dark:text-gray-200",for:"expenses"},Ne={className:"mb-4 mx-1"},Ae={class:"dark:text-gray-200",for:"dinar_s"},Ee={className:"mb-4 mx-1"},Re={class:"dark:text-gray-200",for:"dolar_price_s"},Fe={key:0,class:"text-red-500"},Me={className:"mb-4 mx-1"},Se={class:"dark:text-gray-200",for:"shipping_dolar_s"},je={className:"mb-4 mx-1"},Ie={class:"dark:text-gray-200",for:"coc_dolar_s"},Le={className:"mb-4 mx-1"},Be={class:"dark:text-gray-200",for:"checkout_s"},Oe={className:"mb-4 mx-1"},He={className:"mb-4 mx-1"},Xe={class:"dark:text-gray-200",for:"date"},ze={className:"mb-4 mx-1"},Pe={class:"dark:text-gray-200",for:"note"},qe={key:1,class:"modal-body"},Qe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ye={class:"mb-4"},Ge={class:"mb-4"},Je={class:"mb-4"},Ke={class:"mb-4"},We={class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},Ze={class:"mb-4"},et={class:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg mt-4"},tt={class:"flex items-center justify-between"},at={class:"text-3xl font-bold text-green-600 dark:text-green-400"},rt={class:"mt-4"},ot={class:"mt-6"},st=["disabled"],dt={class:"text-xs text-gray-500 dark:text-gray-400 text-center mt-2"},nt={key:2,class:"modal-body"},lt={class:"max-h-[60vh] overflow-y-auto"},it={key:0,class:"text-center py-8"},gt={key:1,class:"text-center py-8"},ut={key:2,class:"space-y-4"},ct={class:"flex items-start justify-between"},mt={class:"flex-1"},bt={class:"flex items-center gap-2 mb-2"},yt={class:"text-2xl"},ft={class:"font-semibold text-gray-900 dark:text-gray-100"},xt={class:"text-xs px-2 py-1 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300"},pt={class:"text-sm text-gray-700 dark:text-gray-300 mb-2"},kt={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},vt={key:1,class:"mt-3 p-3 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 text-xs"},ht={class:"space-y-2"},_t={class:"font-medium text-gray-700 dark:text-gray-300 min-w-[120px]"},wt={class:"flex items-center gap-2 flex-1"},Dt={class:"text-red-600 dark:text-red-400 line-through bg-red-50 dark:bg-red-900/20 px-2 py-0.5 rounded text-xs font-medium"},$t={class:"text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/20 px-2 py-0.5 rounded text-xs font-medium"},Ct={key:0,class:"flex justify-center items-center gap-2 mt-4"},Ut=["disabled"],Vt={class:"text-sm text-gray-600 dark:text-gray-400"},Tt=["disabled"],Nt={key:3,class:"modal-footer my-2"},At={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},Et={class:"mb-4"},Rt={class:"mt-3"},Ft={key:0,class:"text-danger"},Mt={class:"flex flex-row"},St={class:"basis-1/2 px-4"},jt={class:"basis-1/2 px-4"},It=["disabled"],Lt={key:4,class:"modal-footer my-2"},Bt={class:"flex flex-row"},Ot={class:"basis-full px-4"},qt={__name:"ModalEditCar_S",props:{show:Boolean,formData:Object,client:Array,systemConfig:Object},setup(o){const h=Q(),c=o,d=y({fee:0,expenses:0,companyContract:2e5,exchangeRate:0,additionalExpenses:0,totalUSD:0,noteToAdd:""}),p=Y(()=>{const a=parseFloat(d.value.fee||0)+parseFloat(d.value.expenses||0)+parseFloat(d.value.companyContract||0),e=parseFloat(d.value.exchangeRate||1),i=parseFloat(d.value.additionalExpenses||0);if(e>0){const x=a/(e/100),k=Math.round(x)+i;return d.value.noteToAdd=`+ \u0631\u0633\u0648\u0645 \u062A\u0633\u062C\u064A\u0644 \u0648\u0645\u0635\u0627\u0631\u064A\u0641 ${k}$`,k}return d.value.noteToAdd="",i});function j(){const a=p.value;a>0&&(c.formData.expenses=Math.round(parseFloat(c.formData.expenses||0)+a),c.formData.expenses_s=Math.round(parseFloat(c.formData.expenses_s||0)+a),c.formData.note?c.formData.note+=" "+d.value.noteToAdd:c.formData.note=d.value.noteToAdd,d.value={fee:0,expenses:0,companyContract:2e5,exchangeRate:d.value.exchangeRate,additionalExpenses:0,totalUSD:0,noteToAdd:""},m.value="edit",h.success("\u2705 \u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0631\u0633\u0648\u0645 \u0627\u0644\u062A\u0633\u062C\u064A\u0644 \u0628\u0646\u062C\u0627\u062D!",{timeout:3e3,position:"bottom-right"}),setTimeout(()=>{h.info("\u{1F4CE} \u064A\u0631\u062C\u0649 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0645\u0631\u0641\u0642 \u0625\u0630\u0627 \u0645\u0648\u062C\u0648\u062F",{timeout:5e3,position:"bottom-right"})},500))}function I(){const a=new Date,e=a.getFullYear(),i=String(a.getMonth()+1).padStart(2,"0"),x=String(a.getDate()).padStart(2,"0");return`${e}-${i}-${x}`}function L(a){a&&A.get(`/api/check_vin?car_vin=${a}`).then(e=>{E.value=e.data}).catch(e=>{console.error(e)})}let B=y(!1),E=y(!1),C=y(!1);const m=y("edit"),_=y([]),U=y(!1),f=y(1),w=y(1);function O(a){const e=c.formData.dolar_price_s;/^\d{6}$/.test(e)?C.value=!1:C.value=!0}function H(a){A.get("/api/carsAnnualImageDel?img_type=contract&name="+a.name).then(e=>{h.success("\u062A\u0645  \u062D\u0630\u0641 \u0627\u0644\u0635\u0648\u0631\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:5e3,position:"bottom-right",rtl:!0})}).catch(e=>{console.error(e)})}async function D(a=1){var e;if(!!((e=c.formData)!=null&&e.id)){U.value=!0;try{const i=await A.get(`/api/car/${c.formData.id}/history`,{params:{page:a}});_.value=i.data.data||[],f.value=i.data.current_page||1,w.value=i.data.last_page||1}catch(i){console.error("Error loading car history:",i),h.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u0645\u064A\u0644 \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0633\u064A\u0627\u0631\u0629",{timeout:3e3,position:"bottom-right",rtl:!0})}finally{U.value=!1}}}function X(a){return{create:"\u2795",update:"\u270F\uFE0F",delete:"\u{1F5D1}\uFE0F",restore:"\u267B\uFE0F",sale:"\u{1F4B0}",purchase:"\u{1F6D2}"}[a]||"\u{1F4DD}"}function z(a){return{create:"\u0625\u0636\u0627\u0641\u0629",update:"\u062A\u062D\u062F\u064A\u062B",delete:"\u062D\u0630\u0641",restore:"\u0627\u0633\u062A\u0639\u0627\u062F\u0629",sale:"\u0628\u064A\u0639",purchase:"\u0634\u0631\u0627\u0621"}[a]||a}function P(a){if(!a||a==="null"||a===null)return"";try{const e=new Date(a);return isNaN(e.getTime())?a:e.toLocaleString("ar-IQ",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Error formatting date:",e),a}}function R(a){if(!a)return{};const e={};return Object.keys(a).forEach(i=>{i!=="created_at"&&i!=="updated_at"&&(e[i]=a[i])}),e}function q(a){return{dinar:"\u062F\u064A\u0646\u0627\u0631",dolar_price:"\u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641",dolar_custom:"\u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641 \u0645\u062E\u0635\u0635",checkout:"\u062A\u062E\u0644\u064A\u0635",shipping_dolar:"\u0646\u0642\u0644 \u0645\u0634\u062A\u0631\u064A\u0627\u062A",coc_dolar:"\u0634\u0647\u0627\u062F\u0629 \u0627\u0644\u0645\u0646\u0634\u0623",total:"\u0627\u0644\u0645\u062C\u0645\u0648\u0639",paid:"\u0627\u0644\u0645\u062F\u0641\u0648\u0639",profit:"\u0627\u0644\u0631\u0628\u062D",expenses:"\u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A",land_shipping:"\u0646\u0642\u0644 \u0628\u0631\u064A \u0645\u0634\u062A\u0631\u064A\u0627\u062A",land_shipping_dinar:"\u0646\u0642\u0644 \u0628\u0631\u064A \u062F\u064A\u0646\u0627\u0631 \u0645\u0634\u062A\u0631\u064A\u0627\u062A",dinar_s:"\u062F\u064A\u0646\u0627\u0631 \u0645\u0628\u064A\u0639\u0627\u062A",dolar_price_s:"\u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641 \u0645\u0628\u064A\u0639\u0627\u062A",dolar_custom_s:"\u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641 \u0645\u062E\u0635\u0635 \u0645\u0628\u064A\u0639\u0627\u062A",checkout_s:"\u062A\u062E\u0644\u064A\u0635 \u0645\u0628\u064A\u0639\u0627\u062A",shipping_dolar_s:"\u0646\u0642\u0644 \u0645\u0628\u064A\u0639\u0627\u062A",coc_dolar_s:"\u0634\u0647\u0627\u062F\u0629 \u0627\u0644\u0645\u0646\u0634\u0623 \u0645\u0628\u064A\u0639\u0627\u062A",total_s:"\u0627\u0644\u0645\u062C\u0645\u0648\u0639 \u0645\u0628\u064A\u0639\u0627\u062A",expenses_s:"\u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A \u0645\u0628\u064A\u0639\u0627\u062A",land_shipping_s:"\u0646\u0642\u0644 \u0628\u0631\u064A \u0645\u0628\u064A\u0639\u0627\u062A",land_shipping_dinar_s:"\u0646\u0642\u0644 \u0628\u0631\u064A \u062F\u064A\u0646\u0627\u0631 \u0645\u0628\u064A\u0639\u0627\u062A",car_type:"\u0646\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0629",year:"\u0627\u0644\u0633\u0646\u0629",car_color:"\u0627\u0644\u0644\u0648\u0646",vin:"\u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0635\u064A",car_number:"\u0631\u0642\u0645 \u0627\u0644\u0633\u064A\u0627\u0631\u0629",date:"\u0627\u0644\u062A\u0627\u0631\u064A\u062E",note:"\u0645\u0644\u0627\u062D\u0638\u0629",client_id:"\u0627\u0644\u0632\u0628\u0648\u0646",discount:"\u0627\u0644\u062E\u0635\u0645",car_price:"\u0633\u0639\u0631 \u0627\u0644\u0633\u064A\u0627\u0631\u0629"}[a]||a}return S(()=>c.show,a=>{var e,i;a&&((e=c.formData)==null?void 0:e.id)&&(m.value==="history"&&D(),(i=c.systemConfig)!=null&&i.usd_to_dinar_rate&&(d.value.exchangeRate=c.systemConfig.usd_to_dinar_rate))}),S(()=>m.value,a=>{var e;a==="history"&&((e=c.formData)==null?void 0:e.id)&&_.value.length===0&&D()}),(a,e)=>(n(),G(ee,{name:"modal"},{default:J(()=>{var i,x,k;return[o.show?(n(),l("div",ae,[t("div",re,[t("div",oe,[t("div",se,[K(a.$slots,"header",{},()=>[t("h2",de,s(a.$t("edit_car")),1)])]),t("div",ne,[t("div",le,[t("button",{onClick:e[0]||(e[0]=r=>m.value="edit"),class:v(["py-2 px-4 text-sm font-medium border-b-2 transition-colors",m.value==="edit"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"])}," \u270F\uFE0F \u062A\u0639\u062F\u064A\u0644 ",2),t("button",{onClick:e[1]||(e[1]=r=>m.value="registration"),class:v(["py-2 px-4 text-sm font-medium border-b-2 transition-colors",m.value==="registration"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"])}," \u{1F4DD} \u062A\u0633\u062C\u064A\u0644 ",2),t("button",{onClick:e[2]||(e[2]=r=>m.value="history"),class:v(["py-2 px-4 text-sm font-medium border-b-2 transition-colors",m.value==="history"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"])}," \u{1F4DC} \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0633\u064A\u0627\u0631\u0629 ",2)])]),m.value==="edit"?(n(),l("div",ie,[t("div",ge,[t("div",ue,[t("label",ce,s(a.$t("car_owner")),1),t("div",me,[$(B)?b("",!0):g((n(),l("select",{key:0,"onUpdate:modelValue":e[3]||(e[3]=r=>o.formData.client_id=r),id:"color_id",class:"pr-8 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",disabled:""},[t("option",be,s(a.$t("selectCustomer")),1),(n(!0),l(T,null,N(o.client,(r,V)=>(n(),l("option",{key:V,value:r.id},s(r.name),9,ye))),128))],512)),[[W,o.formData.client_id]])])])]),t("div",fe,[t("div",xe,[t("label",pe,s(a.$t("car_type")),1),g(t("input",{id:"car_type",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[4]||(e[4]=r=>o.formData.car_type=r)},null,512),[[u,o.formData.car_type]])]),t("div",ke,[t("label",ve,s(a.$t("year")),1),g(t("input",{id:"year",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[5]||(e[5]=r=>o.formData.year=r)},null,512),[[u,o.formData.year]])]),t("div",he,[t("label",_e,s(a.$t("color")),1),g(t("input",{id:"car_color",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[6]||(e[6]=r=>o.formData.car_color=r)},null,512),[[u,o.formData.car_color]])]),t("div",we,[t("label",De,s(a.$t("vin")),1),g(t("input",{id:"vin",type:"text",onChange:e[7]||(e[7]=r=>L(o.formData.vin)),class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[8]||(e[8]=r=>o.formData.vin=r)},null,544),[[u,o.formData.vin]]),$(E)?(n(),l("div",$e," \u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0635\u064A \u0645\u0633\u062A\u062E\u062F\u0645 ")):b("",!0)]),t("div",Ce,[t("label",Ue,s(a.$t("car_number")),1),g(t("input",{id:"car_number",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[9]||(e[9]=r=>o.formData.car_number=r)},null,512),[[u,o.formData.car_number]])]),t("div",Ve,[t("label",Te,s(a.$t("expenses")),1),g(t("input",{id:"expenses",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[10]||(e[10]=r=>o.formData.expenses_s=r)},null,512),[[u,o.formData.expenses_s]])]),t("div",Ne,[t("label",Ae,s(a.$t("dinar")),1),g(t("input",{id:"dinar_s",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[11]||(e[11]=r=>o.formData.dinar_s=r)},null,512),[[u,o.formData.dinar_s]])]),t("div",Ee,[t("label",Re,s(a.$t("dolar_price")),1),g(t("input",{id:"dolar_price_s",onChange:O,type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[12]||(e[12]=r=>o.formData.dolar_price_s=r)},null,544),[[u,o.formData.dolar_price_s]]),$(C)?(n(),l("div",Fe," \u0645\u0637\u0644\u0648\u0628 \u0631\u0642\u0645 \u0645\u0646 6 \u062E\u0627\u0646\u0629 \u0641\u0642\u0637 ")):b("",!0)]),t("div",Me,[t("label",Se,s(a.$t("shipping_dolar")),1),g(t("input",{id:"shipping_dolar",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[13]||(e[13]=r=>o.formData.shipping_dolar_s=r)},null,512),[[u,o.formData.shipping_dolar_s]])]),t("div",je,[t("label",Ie,s(a.$t("coc_dolar")),1),g(t("input",{id:"coc_dolar_s",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[14]||(e[14]=r=>o.formData.coc_dolar_s=r)},null,512),[[u,o.formData.coc_dolar_s]])]),t("div",Le,[t("label",Be,s(a.$t("checkout")),1),g(t("input",{id:"checkout_s",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[15]||(e[15]=r=>o.formData.checkout_s=r)},null,512),[[u,o.formData.checkout_s]])]),t("div",Oe,[e[30]||(e[30]=t("label",{class:"dark:text-gray-200",for:"expenses"}," \u0646\u0642\u0644 \u0628\u0631\u064A ",-1)),g(t("input",{id:"expenses",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[16]||(e[16]=r=>o.formData.land_shipping_s=r)},null,512),[[u,o.formData.land_shipping_s]])]),t("div",He,[t("label",Xe,s(a.$t("date")),1),g(t("input",{id:"date",type:"date",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[17]||(e[17]=r=>o.formData.date=r)},null,512),[[u,o.formData.date]])])]),t("div",ze,[t("label",Pe,s(a.$t("note")),1),g(t("input",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[18]||(e[18]=r=>o.formData.note=r)},null,512),[[u,o.formData.note]])])])):b("",!0),m.value==="registration"?(n(),l("div",qe,[e[41]||(e[41]=t("div",{class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg mb-4"},[t("h3",{class:"text-lg font-semibold text-blue-800 dark:text-blue-300 mb-2"}," \u{1F4CB} \u062D\u0633\u0627\u0628 \u0631\u0633\u0648\u0645 \u0627\u0644\u062A\u0633\u062C\u064A\u0644 \u0648\u0627\u0644\u0645\u0635\u0627\u0631\u064A\u0641 "),t("p",{class:"text-sm text-blue-600 dark:text-blue-400"},' \u0627\u0645\u0644\u0623 \u0627\u0644\u062D\u0642\u0648\u0644 \u0623\u062F\u0646\u0627\u0647\u060C \u0633\u064A\u062A\u0645 \u0627\u0644\u062D\u0633\u0627\u0628 \u062A\u0644\u0642\u0627\u0626\u064A\u0627\u064B \u0648\u0639\u0646\u062F \u0627\u0644\u0636\u063A\u0637 \u0639\u0644\u0649 "\u062A\u0637\u0628\u064A\u0642 \u0627\u0644\u0631\u0633\u0648\u0645" \u0633\u064A\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0628\u0644\u063A \u0639\u0644\u0649 \u0627\u0644\u0645\u0635\u0627\u0631\u064A\u0641 \u0648\u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0629 ')],-1)),t("div",Qe,[t("div",Ye,[e[31]||(e[31]=t("label",{class:"dark:text-gray-200 font-medium",for:"reg_fee_s"}," \u0627\u0644\u062A\u0633\u062C\u064A\u0644 (\u062F\u064A\u0646\u0627\u0631) ",-1)),g(t("input",{id:"reg_fee_s",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[19]||(e[19]=r=>d.value.fee=r),placeholder:"0"},null,512),[[u,d.value.fee,void 0,{number:!0}]])]),t("div",Ge,[e[32]||(e[32]=t("label",{class:"dark:text-gray-200 font-medium",for:"reg_expenses_s"}," \u0627\u0644\u0645\u0635\u0631\u0648\u0641 (\u062F\u064A\u0646\u0627\u0631) ",-1)),g(t("input",{id:"reg_expenses_s",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[20]||(e[20]=r=>d.value.expenses=r),placeholder:"0"},null,512),[[u,d.value.expenses,void 0,{number:!0}]])]),t("div",Je,[e[33]||(e[33]=t("label",{class:"dark:text-gray-200 font-medium",for:"reg_contract_s"}," \u0639\u0642\u062F \u0627\u0644\u0634\u0631\u0643\u0629 (\u062F\u064A\u0646\u0627\u0631) ",-1)),g(t("input",{id:"reg_contract_s",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[21]||(e[21]=r=>d.value.companyContract=r)},null,512),[[u,d.value.companyContract,void 0,{number:!0}]]),e[34]||(e[34]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," \u0627\u0644\u0642\u064A\u0645\u0629 \u0627\u0644\u0627\u0641\u062A\u0631\u0627\u0636\u064A\u0629: 200,000 \u062F\u064A\u0646\u0627\u0631 ",-1))]),t("div",Ke,[e[35]||(e[35]=t("label",{class:"dark:text-gray-200 font-medium",for:"reg_exchange_s"}," \u0633\u0639\u0631 100 \u062F\u0648\u0644\u0627\u0631 \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 ",-1)),g(t("input",{id:"reg_exchange_s",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[22]||(e[22]=r=>d.value.exchangeRate=r),placeholder:"150"},null,512),[[u,d.value.exchangeRate,void 0,{number:!0}]]),t("p",We," \u{1F4A1} \u064A\u0623\u062A\u064A \u0645\u0646 \u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A (100 \u062F\u0648\u0644\u0627\u0631 = "+s(d.value.exchangeRate)+" \u062F\u064A\u0646\u0627\u0631) ",1)]),t("div",Ze,[e[36]||(e[36]=t("label",{class:"dark:text-gray-200 font-medium",for:"reg_additional_s"}," \u0645\u0635\u0631\u0648\u0641 \u0625\u0636\u0627\u0641\u064A (\u062F\u0648\u0644\u0627\u0631) \u{1F4B5} ",-1)),g(t("input",{id:"reg_additional_s",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[23]||(e[23]=r=>d.value.additionalExpenses=r),placeholder:"0"},null,512),[[u,d.value.additionalExpenses,void 0,{number:!0}]]),e[37]||(e[37]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," \u{1F4B0} \u064A\u064F\u0636\u0627\u0641 \u0645\u0628\u0627\u0634\u0631\u0629 \u0644\u0644\u0645\u062C\u0645\u0648\u0639 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 ",-1))])]),t("div",et,[t("div",tt,[e[38]||(e[38]=t("div",null,[t("h4",{class:"text-lg font-bold text-green-800 dark:text-green-300"}," \u0627\u0644\u0645\u062C\u0645\u0648\u0639 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 (\u0639\u062F\u062F \u0635\u062D\u064A\u062D) "),t("p",{class:"text-sm text-green-600 dark:text-green-400 mt-1"}," \u0627\u0644\u062D\u0633\u0627\u0628: [(\u0627\u0644\u062A\u0633\u062C\u064A\u0644 + \u0627\u0644\u0645\u0635\u0631\u0648\u0641 + \u0639\u0642\u062F \u0627\u0644\u0634\u0631\u0643\u0629) \xF7 (\u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641 \xF7 100)] + \u0645\u0635\u0631\u0648\u0641 \u0625\u0636\u0627\u0641\u064A ")],-1)),t("div",at,s(p.value)+" $ ",1)])]),t("div",rt,[e[39]||(e[39]=t("label",{class:"dark:text-gray-200 font-medium flex items-center gap-2",for:"reg_note"},[t("span",null,"\u{1F4DD}"),t("span",null,"\u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0629 \u0627\u0644\u062A\u064A \u0633\u064A\u062A\u0645 \u0625\u0636\u0627\u0641\u062A\u0647\u0627")],-1)),g(t("textarea",{id:"reg_note","onUpdate:modelValue":e[24]||(e[24]=r=>d.value.noteToAdd=r),rows:"2",class:"mt-2 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900",placeholder:"+ \u0631\u0633\u0648\u0645 \u062A\u0633\u062C\u064A\u0644 \u0648\u0645\u0635\u0627\u0631\u064A\u0641 XXX$"},null,512),[[u,d.value.noteToAdd]]),e[40]||(e[40]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," \u{1F4A1} \u064A\u0645\u0643\u0646\u0643 \u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0629 \u0642\u0628\u0644 \u062A\u0637\u0628\u064A\u0642 \u0627\u0644\u0631\u0633\u0648\u0645 ",-1))]),t("div",ot,[t("button",{onClick:j,disabled:p.value<=0,class:v(["w-full py-3 px-4 rounded-lg font-semibold text-white transition-all",p.value>0?"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 shadow-lg":"bg-gray-400 cursor-not-allowed"])}," \u2705 \u062A\u0637\u0628\u064A\u0642 \u0627\u0644\u0631\u0633\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0645\u0635\u0627\u0631\u064A\u0641 \u0648\u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0629 ",10,st),t("p",dt," \u0633\u064A\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 "+s(p.value)+"$ \u0639\u0644\u0649 \u0627\u0644\u0645\u0635\u0627\u0631\u064A\u0641 \u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0629 ",1)])])):b("",!0),m.value==="history"?(n(),l("div",nt,[t("div",lt,[U.value?(n(),l("div",it,[...e[42]||(e[42]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),t("p",{class:"mt-4 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062A\u0627\u0631\u064A\u062E...",-1)])])):_.value.length===0?(n(),l("div",gt,[...e[43]||(e[43]=[t("div",{class:"text-5xl mb-2"},"\u{1F4ED}",-1),t("p",{class:"text-lg text-gray-500 dark:text-gray-400"},"\u0644\u0627 \u064A\u0648\u062C\u062F \u062A\u0627\u0631\u064A\u062E \u0644\u0644\u0633\u064A\u0627\u0631\u0629",-1)])])):(n(),l("div",ut,[(n(!0),l(T,null,N(_.value,(r,V)=>(n(),l("div",{key:r.id||V,class:v(["bg-gray-50 dark:bg-gray-800 rounded-lg p-4 border-r-4",{"border-green-500":r.action==="create","border-blue-500":r.action==="update","border-red-500":r.action==="delete","border-yellow-500":r.action==="restore","border-purple-500":r.action==="sale"||r.action==="purchase"}])},[t("div",ct,[t("div",mt,[t("div",bt,[t("span",yt,s(X(r.action)),1),t("span",ft,s(z(r.action)),1),t("span",xt,s(P(r.created_at)),1)]),t("p",pt,s(r.description||"\u0644\u0627 \u064A\u0648\u062C\u062F \u0648\u0635\u0641"),1),r.user?(n(),l("div",kt," \u{1F464} "+s(r.user.name||"\u0645\u0633\u062A\u062E\u062F\u0645 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)):b("",!0),r.changes&&Object.keys(R(r.changes)).length>0?(n(),l("div",vt,[e[45]||(e[45]=t("div",{class:"font-semibold mb-2 text-gray-700 dark:text-gray-300 text-sm"},"\u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A:",-1)),t("div",ht,[(n(!0),l(T,null,N(R(r.changes),(F,M)=>(n(),l("div",{key:M,class:"flex items-center gap-2 py-1 px-2 rounded bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},[t("span",_t,s(q(M))+":",1),t("div",wt,[t("span",Dt,s(F.old||"\u0641\u0627\u0631\u063A"),1),e[44]||(e[44]=t("span",{class:"text-blue-500 dark:text-blue-400 text-lg font-bold"},"\u27F5",-1)),t("span",$t,s(F.new||"\u0641\u0627\u0631\u063A"),1)])]))),128))])])):b("",!0)])])],2))),128)),w.value>1?(n(),l("div",Ct,[t("button",{onClick:e[25]||(e[25]=r=>D(f.value-1)),disabled:f.value===1,class:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed"}," \u0627\u0644\u0633\u0627\u0628\u0642 ",8,Ut),t("span",Vt," \u0635\u0641\u062D\u0629 "+s(f.value)+" \u0645\u0646 "+s(w.value),1),t("button",{onClick:e[26]||(e[26]=r=>D(f.value+1)),disabled:f.value>=w.value,class:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed"}," \u0627\u0644\u062A\u0627\u0644\u064A ",8,Tt)])):b("",!0)]))])])):b("",!0),m.value==="edit"?(n(),l("div",Nt,[t("div",At,[t("div",Et,[e[46]||(e[46]=t("label",{class:"form-label"},"\u0627\u0644\u0635\u0648\u0631",-1)),t("div",Rt,[Z($(te),{server:"/api/carsAnnualUpload?img_type=contract&carId="+o.formData.id,"is-invalid":!!((i=a.errors)!=null&&i.media),onChange:a.changeMedia,onInitMedia:a.media,location:"/public/uploadsResized",media:o.formData.car_images,onAdd:a.addMedia,onRemove:H},null,8,["server","is-invalid","onChange","onInitMedia","media","onAdd"])]),(x=a.errors)!=null&&x.media?(n(),l("p",Ft,s((k=a.errors)==null?void 0:k.media[0]),1)):b("",!0)])]),t("div",Mt,[t("div",St,[t("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:e[27]||(e[27]=r=>a.$emit("close"))},s(a.$t("cancel")),1)]),t("div",jt,[t("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:e[28]||(e[28]=r=>{o.formData.date=o.formData.date?o.formData.date:I(),a.$emit("a",o.formData),o.formData=""}),disabled:!o.formData.client_id&&!o.formData.client_name},s(a.$t("yes")),9,It)])])])):b("",!0),m.value==="history"?(n(),l("div",Lt,[t("div",Bt,[t("div",Ot,[t("button",{class:"modal-default-button py-3 bg-gray-500 rounded w-full",onClick:e[29]||(e[29]=r=>a.$emit("close"))},s(a.$t("cancel")),1)])])])):b("",!0)])])])):b("",!0)]}),_:3}))}};export{qt as _};
