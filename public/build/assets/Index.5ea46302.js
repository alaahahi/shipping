import{u as L,r as x,l as Z,o as m,c as J,w as S,a as k,b as e,d as K,f as ae,i as v,e as y,v as f,q as h,t as o,g as U,T as Q,m as se,n as Y,F as P,h as G,s as j,B as oe,H as de}from"./app.4a493a4e.js";import{_ as le}from"./AuthenticatedLayout.99a26136.js";import{t as ne}from"./trash.add0adeb.js";import{e as ie}from"./edit.9b128b72.js";import{a as A}from"./index.5ceda7bb.js";import{U as ee}from"./Uploader.b25ec393.js";/* empty css                        */import{d as re}from"./debounce.f1198a22.js";import{_ as ue}from"./_plugin-vue_export-helper.cdc0426e.js";import{M as ge}from"./ModalDelCar.3346879c.js";import{W as be}from"./v3-infinite-loading.es.c920b8ee.js";/* empty css              *//* empty css                                                                 *//* empty css                                                    */const ce={key:0,class:"modal-mask"},pe={class:"modal-wrapper max-h-[80vh]"},me={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},ye={class:"modal-header"},fe={class:"text-center dark:text-gray-200"},ke={class:"modal-body"},xe={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-1 lg:gap-2"},ve={className:"mb-4 mx-1"},he={class:"dark:text-gray-200",for:"vin"},$e={key:0,class:"text-blue-500 text-xs mr-2"},we={className:"mb-4 mx-1"},_e={class:"dark:text-gray-200",for:"pin"},De={className:"mb-4 mx-1"},Ce={class:"dark:text-gray-200",for:"pin"},Ue={className:"mb-4 mx-1"},Ve={class:"dark:text-gray-200",for:"pin"},Me={className:"mb-4 mx-1"},Ne={className:"mb-4 mx-1"},Ie={className:"mb-4 mx-1"},He={class:"dark:text-gray-200",for:"pin"},je={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},Ae={className:"mb-4 mx-1"},Se={class:"dark:text-gray-200",for:"note"},Ee={key:0,class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},Be=["disabled"],Te={key:1,class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},Re={class:"mb-4"},ze={class:"mt-3"},Oe={key:0,class:"text-danger"},We={class:"modal-footer my-2"},qe={class:"flex flex-row m-auto"},Fe={__name:"ModalAddCarsHunter",props:{show:Boolean,formData:Object,client:Array,saveCar:Boolean},emits:["a","close","carExists"],setup(t,{emit:D}){const w=t,C=D,_=L(),g=x(!1);function c(){const u=new Date,s=u.getFullYear(),N=String(u.getMonth()+1).padStart(2,"0"),$=String(u.getDate()).padStart(2,"0");return`${s}-${N}-${$}`}x(!0);const n=re(async u=>{if(!(!u||u.length<3)){g.value=!0;try{const s=await A.get("/api/checkCarInCars",{params:{vin:u}});s.data.exists&&C("carExists",s.data)}catch(s){console.error("Error checking car:",s)}finally{g.value=!1}}},800);Z(()=>{var u;return(u=w.formData)==null?void 0:u.vin},u=>{u&&w.show&&n(u)});function i(u){A.get("/api/carsHunterImageDel?name="+u.name).then(s=>{_.success("\u062A\u0645  \u062D\u0630\u0641 \u0627\u0644\u0635\u0648\u0631\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:5e3,position:"bottom-right",rtl:!0})}).catch(s=>{console.error(s)})}return(u,s)=>(m(),J(Q,{name:"modal"},{default:S(()=>{var N,$,V;return[t.show?(m(),k("div",ce,[e("div",pe,[e("div",me,[e("div",ye,[K(u.$slots,"header",{},()=>[e("h2",fe,o(u.$t("add_car")),1)])]),e("div",ke,[e("div",xe,[e("div",ve,[e("label",he,[s[11]||(s[11]=ae(" \u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0646\u0635\u064A ",-1)),g.value?(m(),k("span",$e,"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0642\u0642...")):v("",!0)]),y(e("input",{id:"vin",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[0]||(s[0]=d=>t.formData.vin=d),onInput:s[1]||(s[1]=d=>h(n)(t.formData.vin))},null,544),[[f,t.formData.vin]])]),e("div",we,[e("label",_e,o(u.$t("car_type")),1),y(e("input",{id:"car_type",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[2]||(s[2]=d=>t.formData.car_type=d)},null,512),[[f,t.formData.car_type]])]),e("div",De,[e("label",Ce,o(u.$t("year")),1),y(e("input",{id:"year",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[3]||(s[3]=d=>t.formData.year=d)},null,512),[[f,t.formData.year]])]),e("div",Ue,[e("label",Ve,o(u.$t("color")),1),y(e("input",{id:"car_color",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[4]||(s[4]=d=>t.formData.car_color=d)},null,512),[[f,t.formData.car_color]])]),e("div",Me,[s[12]||(s[12]=e("label",{class:"dark:text-gray-200",for:"pin"}," \u0633\u0639\u0631 \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A",-1)),y(e("input",{id:"price_p",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[5]||(s[5]=d=>t.formData.price_p=d)},null,512),[[f,t.formData.price_p]])]),e("div",Ne,[s[13]||(s[13]=e("label",{class:"dark:text-gray-200",for:"pin"}," \u0633\u0639\u0631 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A",-1)),y(e("input",{id:"price_s",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[6]||(s[6]=d=>t.formData.price_s=d)},null,512),[[f,t.formData.price_s]])]),e("div",Ie,[e("label",He,o(u.$t("date")),1),y(e("input",{id:"date",type:"date",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[7]||(s[7]=d=>t.formData.date=d)},null,512),[[f,t.formData.date]])])]),e("div",je,[e("div",Ae,[e("label",Se,o(u.$t("note")),1),y(e("input",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[8]||(s[8]=d=>t.formData.note=d)},null,512),[[f,t.formData.note]])])]),t.saveCar?v("",!0):(m(),k("div",Ee,[e("button",{class:"modal-default-button py-3 bg-blue-500 rounded col-6",onClick:s[9]||(s[9]=d=>{t.formData.date=t.formData.date?t.formData.date:c(),u.$emit("a",t.formData)}),disabled:!t.formData.vin}," \u062D\u0641\u0638 \u0648\u0645\u062A\u0627\u0628\u0639\u0629 ",8,Be)])),t.saveCar?(m(),k("div",Te,[e("div",Re,[s[14]||(s[14]=e("label",{class:"form-label"},"\u0627\u0644\u0635\u0648\u0631",-1)),e("div",ze,[U(h(ee),{server:"/api/carsHunterUpload?carId="+t.saveCar,"is-invalid":!!((N=u.errors)!=null&&N.media),onChange:u.changeMedia,location:"/storage/posts/media",onInit:u.initMedia,onAdd:u.addMedia,onRemove:i},null,8,["server","is-invalid","onChange","onInit","onAdd"])]),($=u.errors)!=null&&$.media?(m(),k("p",Oe,o((V=u.errors)==null?void 0:V.media[0]),1)):v("",!0)])])):v("",!0)]),e("div",We,[e("div",qe,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:s[10]||(s[10]=d=>{u.$emit("close"),t.formData=""})}," \u0625\u063A\u0644\u0627\u0642 ")])])])])])):v("",!0)]}),_:3}))}};const Pe={key:0,class:"modal-mask"},Le={class:"modal-wrapper max-h-[90vh]"},Ye={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[90vh]"},Ge={class:"modal-header"},Je={class:"flex items-center justify-between border-b dark:border-gray-700 pb-3"},Ke={class:"text-center dark:text-yellow-400 text-xl font-bold text-red-600 dark:text-yellow-400 flex items-center gap-2"},Qe={key:0,class:"text-sm bg-orange-500 text-white px-3 py-1 rounded-full"},Xe={key:0,class:"modal-body"},Ze={key:0,class:"bg-orange-100 dark:bg-orange-900/30 dark:border dark:border-orange-700/50 p-4 rounded-lg mb-4 shadow-sm"},er={class:"flex items-center gap-2"},rr={class:"text-orange-800 dark:text-orange-300 font-medium"},tr={class:"bg-blue-50 dark:bg-blue-900/30 dark:border dark:border-blue-700/50 p-4 rounded-lg mb-4 shadow-sm dark:shadow-lg"},ar={class:"grid grid-cols-2 md:grid-cols-3 gap-3"},sr={class:"bg-white dark:bg-gray-800/50 p-2 rounded border dark:border-gray-700"},or={class:"font-bold dark:text-blue-300 text-base"},dr={class:"bg-white dark:bg-gray-800/50 p-2 rounded border dark:border-gray-700"},lr={class:"font-bold dark:text-blue-300 text-base"},nr={class:"bg-white dark:bg-gray-800/50 p-2 rounded border dark:border-gray-700"},ir={class:"font-bold dark:text-blue-300 text-base"},ur={class:"bg-white dark:bg-gray-800/50 p-2 rounded border dark:border-gray-700"},gr={class:"font-bold dark:text-yellow-400 text-base font-mono"},br={key:0,class:"bg-white dark:bg-gray-800/50 p-2 rounded border dark:border-gray-700"},cr={class:"font-bold dark:text-blue-300 text-base"},pr={class:"bg-white dark:bg-gray-800/50 p-2 rounded border dark:border-gray-700"},mr={class:"space-y-4"},yr={class:"bg-green-50 dark:bg-green-900/30 dark:border dark:border-green-700/50 p-4 rounded-lg shadow-sm dark:shadow-lg"},fr={class:"flex justify-between items-center mb-3 border-b dark:border-green-700/50 pb-2"},kr={key:0,class:"grid grid-cols-2 md:grid-cols-4 gap-3"},xr={class:"bg-white dark:bg-gray-800/50 p-3 rounded border dark:border-gray-700"},vr={class:"font-bold dark:text-gray-200"},hr={class:"bg-white dark:bg-gray-800/50 p-3 rounded border dark:border-gray-700"},$r={class:"font-bold dark:text-gray-200"},wr={class:"bg-white dark:bg-gray-800/50 p-3 rounded border dark:border-gray-700"},_r={class:"font-bold dark:text-gray-200"},Dr={key:1,class:"space-y-3"},Cr={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},Ur={class:"bg-gray-100 dark:bg-gray-800 dark:border dark:border-gray-700 p-3 rounded shadow-sm"},Vr={class:"font-bold dark:text-green-400 text-green-700 text-lg"},Mr={class:"bg-purple-50 dark:bg-purple-900/30 dark:border dark:border-purple-700/50 p-4 rounded-lg shadow-sm dark:shadow-lg"},Nr={key:0,class:"grid grid-cols-2 md:grid-cols-4 gap-3"},Ir={class:"bg-white dark:bg-gray-800/50 p-3 rounded border dark:border-gray-700"},Hr={class:"font-bold dark:text-gray-200"},jr={class:"bg-white dark:bg-gray-800/50 p-3 rounded border dark:border-gray-700"},Ar={class:"font-bold dark:text-gray-200"},Sr={class:"bg-white dark:bg-gray-800/50 p-3 rounded border dark:border-gray-700"},Er={class:"font-bold dark:text-gray-200"},Br={key:1,class:"space-y-3"},Tr={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},Rr={class:"bg-gray-100 dark:bg-gray-800 dark:border dark:border-gray-700 p-3 rounded shadow-sm"},zr={class:"font-bold dark:text-purple-400 text-purple-700 text-lg"},Or={class:"bg-gradient-to-r from-blue-50 to-green-50 dark:from-blue-900/30 dark:to-green-900/30 dark:border dark:border-blue-700/50 p-4 rounded-lg shadow-sm dark:shadow-lg"},Wr={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},qr={class:"bg-white dark:bg-gray-800/50 p-4 rounded border dark:border-gray-700 text-center"},Fr={class:"font-bold text-2xl text-blue-600 dark:text-blue-400 block"},Pr={class:"bg-white dark:bg-gray-800/50 p-4 rounded border dark:border-gray-700 text-center"},Lr={class:"font-bold text-2xl text-purple-600 dark:text-purple-400 block"},Yr={class:"bg-white dark:bg-gray-800/50 p-4 rounded border dark:border-gray-700 text-center"},Gr={class:"bg-yellow-50 dark:bg-yellow-900/30 dark:border dark:border-yellow-700/50 p-4 rounded-lg shadow-sm dark:shadow-lg"},Jr=["disabled"],Kr={key:0,class:"bg-gray-50 dark:bg-gray-800/50 dark:border dark:border-gray-700 p-4 rounded-lg shadow-sm dark:shadow-lg"},Qr={class:"space-y-2"},Xr={class:"font-bold dark:text-gray-200 block"},Zr={class:"text-sm text-gray-600 dark:text-gray-400"},et={class:"text-left"},rt={key:0,class:"font-bold text-green-600 dark:text-green-400 block"},tt={key:1,class:"font-bold text-blue-600 dark:text-blue-400"},at={key:1,class:"flex gap-3 mt-4"},st=["disabled"],ot={class:"modal-footer my-2"},dt={__name:"ModalCarWarning",props:{show:Boolean,carData:Object},emits:["close","updated"],setup(t,{emit:D}){const w=t,C=D,_=L(),g=x(!1),c=x(!1),n=x({expenses:0,checkout:0,shipping_dolar:0,coc_dolar:0,dinar:0,land_shipping:0,land_shipping_dinar:0,dolar_price:1}),i=x({expenses_s:0,checkout_s:0,shipping_dolar_s:0,coc_dolar_s:0,dinar_s:0,land_shipping_s:0,land_shipping_dinar_s:0,dolar_price_s:1}),u=x("");Z(()=>w.carData,d=>{d&&d.car&&(d.car.purchase_expenses&&Object.assign(n.value,d.car.purchase_expenses),d.car.sales_expenses&&Object.assign(i.value,d.car.sales_expenses),u.value=d.car.note||"")},{immediate:!0,deep:!0});const s=se(()=>{const d=N();return $()-d});function N(){const d=n.value.dolar_price>9999?n.value.dolar_price/100:n.value.dolar_price||1;return d===0&&(d=1),(n.value.checkout||0)+(n.value.shipping_dolar||0)+(n.value.coc_dolar||0)+(n.value.expenses||0)+(n.value.land_shipping||0)+parseInt(n.value.dinar||0)/d+parseInt(n.value.land_shipping_dinar||0)/d}function $(){const d=i.value.dolar_price_s>9999?i.value.dolar_price_s/100:i.value.dolar_price_s||1;return d===0&&(d=1),(i.value.checkout_s||0)+(i.value.shipping_dolar_s||0)+(i.value.coc_dolar_s||0)+(i.value.expenses_s||0)+(i.value.land_shipping_s||0)+parseInt(i.value.dinar_s||0)/d+parseInt(i.value.land_shipping_dinar_s||0)/d}async function V(){var d,r;if(!!((r=(d=w.carData)==null?void 0:d.car)!=null&&r.id)){c.value=!0;try{const M=await A.post("/api/updateCarExpenses",{car_id:w.carData.car.id,purchase_expenses:n.value,sales_expenses:i.value,note:u.value});_.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0635\u0627\u0631\u064A\u0641 \u0648\u0625\u0639\u0627\u062F\u0629 \u062D\u0633\u0627\u0628 \u0627\u0644\u0631\u0628\u062D \u0628\u0646\u062C\u0627\u062D",{timeout:3e3,position:"bottom-right",rtl:!0}),g.value=!1,C("updated",M.data)}catch(M){console.error(M),_.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0635\u0627\u0631\u064A\u0641",{timeout:3e3,position:"bottom-right",rtl:!0})}finally{c.value=!1}}}return(d,r)=>(m(),J(Q,{name:"modal"},{default:S(()=>{var M,I,H,T,R,z,B,O,W,q,F;return[t.show?(m(),k("div",Pe,[e("div",Le,[e("div",Ye,[e("div",Ge,[K(d.$slots,"header",{},()=>{var l;return[e("div",Je,[e("h2",Ke,[r[21]||(r[21]=e("span",{class:"text-2xl"},"\u26A0\uFE0F",-1)),r[22]||(r[22]=e("span",null,"\u062A\u062D\u0630\u064A\u0631: \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0645\u0648\u062C\u0648\u062F\u0629 \u0641\u064A \u0627\u0644\u0646\u0638\u0627\u0645",-1)),(l=t.carData)!=null&&l.from_second_project?(m(),k("span",Qe," \u0645\u0646 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 \u0627\u0644\u062B\u0627\u0646\u064A ")):v("",!0)]),e("button",{onClick:r[0]||(r[0]=p=>d.$emit("close")),class:"text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white text-2xl font-bold w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"}," \u2715 ")])]},!0)]),(M=t.carData)!=null&&M.car?(m(),k("div",Xe,[(I=t.carData)!=null&&I.from_second_project?(m(),k("div",Ze,[e("div",er,[r[23]||(r[23]=e("span",{class:"text-2xl"},"\u2139\uFE0F",-1)),e("p",rr,o(t.carData.message||"\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0641\u064A \u0627\u0644\u0645\u0634\u0631\u0648\u0639 \u0627\u0644\u062B\u0627\u0646\u064A"),1)])])):v("",!0),e("div",tr,[r[30]||(r[30]=e("h3",{class:"text-lg font-bold dark:text-blue-300 mb-3 flex items-center gap-2"},[e("span",{class:"text-xl"},"\u{1F697}"),e("span",null,"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0633\u064A\u0627\u0631\u0629")],-1)),e("div",ar,[e("div",sr,[r[24]||(r[24]=e("span",{class:"text-gray-600 dark:text-gray-400 text-sm block mb-1"},"\u0646\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0629:",-1)),e("span",or,o(t.carData.car.car_type||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),1)]),e("div",dr,[r[25]||(r[25]=e("span",{class:"text-gray-600 dark:text-gray-400 text-sm block mb-1"},"\u0627\u0644\u0633\u0646\u0629:",-1)),e("span",lr,o(t.carData.car.year||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),1)]),e("div",nr,[r[26]||(r[26]=e("span",{class:"text-gray-600 dark:text-gray-400 text-sm block mb-1"},"\u0627\u0644\u0644\u0648\u0646:",-1)),e("span",ir,o(t.carData.car.car_color||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),1)]),e("div",ur,[r[27]||(r[27]=e("span",{class:"text-gray-600 dark:text-gray-400 text-sm block mb-1"},"\u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0646\u0635\u064A:",-1)),e("span",gr,o(t.carData.car.vin),1)]),t.carData.car.client?(m(),k("div",br,[r[28]||(r[28]=e("span",{class:"text-gray-600 dark:text-gray-400 text-sm block mb-1"},"\u0627\u0644\u0639\u0645\u064A\u0644:",-1)),e("span",cr,o(t.carData.car.client.name),1)])):v("",!0),e("div",pr,[r[29]||(r[29]=e("span",{class:"text-gray-600 dark:text-gray-400 text-sm block mb-1"},"\u0627\u0644\u062D\u0627\u0644\u0629:",-1)),e("span",{class:Y(["font-bold text-base",{"text-green-600 dark:text-green-400":t.carData.car.results==2,"text-yellow-600 dark:text-yellow-400":t.carData.car.results==1,"text-red-600 dark:text-red-400":t.carData.car.results==0}])},o(t.carData.car.results==0?"\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0631\u0628\u0637":t.carData.car.results==1?"\u062A\u0645 \u0627\u0644\u0631\u0628\u0637":"\u0645\u0643\u062A\u0645\u0644"),3)])])]),e("div",mr,[e("div",yr,[e("div",fr,[r[31]||(r[31]=e("h3",{class:"text-lg font-bold dark:text-green-300 flex items-center gap-2"},[e("span",{class:"text-xl"},"\u{1F4B0}"),e("span",null,"\u0645\u0635\u0627\u0631\u064A\u0641 \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A")],-1)),g.value?v("",!0):(m(),k("button",{key:0,onClick:r[1]||(r[1]=l=>g.value=!0),class:"px-4 py-2 bg-blue-500 dark:bg-blue-600 text-white rounded hover:bg-blue-600 dark:hover:bg-blue-700 transition-colors shadow-sm"}," \u270F\uFE0F \u062A\u0639\u062F\u064A\u0644 "))]),g.value?(m(),k("div",Dr,[e("div",Cr,[e("div",null,[r[35]||(r[35]=e("label",{class:"block text-sm dark:text-gray-300 mb-1 font-medium"},"\u0627\u0644\u0645\u0635\u0627\u0631\u064A\u0641 ($)",-1)),y(e("input",{"onUpdate:modelValue":r[2]||(r[2]=l=>n.value.expenses=l),type:"number",step:"0.01",class:"w-full border dark:border-gray-600 rounded px-2 py-2 dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400"},null,512),[[f,n.value.expenses,void 0,{number:!0}]])]),e("div",null,[r[36]||(r[36]=e("label",{class:"block text-sm dark:text-gray-300 mb-1"},"\u0627\u0644\u062C\u0645\u0631\u0643 ($)",-1)),y(e("input",{"onUpdate:modelValue":r[3]||(r[3]=l=>n.value.checkout=l),type:"number",step:"0.01",class:"w-full border dark:border-gray-600 rounded px-2 py-2 dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400"},null,512),[[f,n.value.checkout,void 0,{number:!0}]])]),e("div",null,[r[37]||(r[37]=e("label",{class:"block text-sm dark:text-gray-300 mb-1 font-medium"},"\u0627\u0644\u0634\u062D\u0646 ($)",-1)),y(e("input",{"onUpdate:modelValue":r[4]||(r[4]=l=>n.value.shipping_dolar=l),type:"number",step:"0.01",class:"w-full border dark:border-gray-600 rounded px-2 py-2 dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400"},null,512),[[f,n.value.shipping_dolar,void 0,{number:!0}]])]),e("div",null,[r[38]||(r[38]=e("label",{class:"block text-sm dark:text-gray-300 mb-1 font-medium"},"COC ($)",-1)),y(e("input",{"onUpdate:modelValue":r[5]||(r[5]=l=>n.value.coc_dolar=l),type:"number",step:"0.01",class:"w-full border dark:border-gray-600 rounded px-2 py-2 dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400"},null,512),[[f,n.value.coc_dolar,void 0,{number:!0}]])]),e("div",null,[r[39]||(r[39]=e("label",{class:"block text-sm dark:text-gray-300 mb-1 font-medium"},"\u0627\u0644\u062F\u064A\u0646\u0627\u0631",-1)),y(e("input",{"onUpdate:modelValue":r[6]||(r[6]=l=>n.value.dinar=l),type:"number",step:"0.01",class:"w-full border dark:border-gray-600 rounded px-2 py-2 dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400"},null,512),[[f,n.value.dinar,void 0,{number:!0}]])]),e("div",null,[r[40]||(r[40]=e("label",{class:"block text-sm dark:text-gray-300 mb-1 font-medium"},"\u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641",-1)),y(e("input",{"onUpdate:modelValue":r[7]||(r[7]=l=>n.value.dolar_price=l),type:"number",step:"0.01",class:"w-full border dark:border-gray-600 rounded px-2 py-2 dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400"},null,512),[[f,n.value.dolar_price,void 0,{number:!0}]])]),e("div",null,[r[41]||(r[41]=e("label",{class:"block text-sm dark:text-gray-300 mb-1 font-medium"},"\u0634\u062D\u0646 \u0628\u0631\u064A ($)",-1)),y(e("input",{"onUpdate:modelValue":r[8]||(r[8]=l=>n.value.land_shipping=l),type:"number",step:"0.01",class:"w-full border dark:border-gray-600 rounded px-2 py-2 dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400"},null,512),[[f,n.value.land_shipping,void 0,{number:!0}]])]),e("div",null,[r[42]||(r[42]=e("label",{class:"block text-sm dark:text-gray-300 mb-1 font-medium"},"\u0634\u062D\u0646 \u0628\u0631\u064A (\u062F\u064A\u0646\u0627\u0631)",-1)),y(e("input",{"onUpdate:modelValue":r[9]||(r[9]=l=>n.value.land_shipping_dinar=l),type:"number",step:"0.01",class:"w-full border dark:border-gray-600 rounded px-2 py-2 dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400"},null,512),[[f,n.value.land_shipping_dinar,void 0,{number:!0}]])])]),e("div",Ur,[e("span",Vr,"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u062D\u0633\u0648\u0628: $"+o(N()),1)])])):(m(),k("div",kr,[e("div",xr,[r[32]||(r[32]=e("span",{class:"text-gray-600 dark:text-gray-400 text-sm block mb-1"},"\u0627\u0644\u0645\u0635\u0627\u0631\u064A\u0641:",-1)),e("span",vr,"$"+o(((H=t.carData.car.purchase_expenses)==null?void 0:H.expenses)||0),1)]),e("div",hr,[r[33]||(r[33]=e("span",{class:"text-gray-600 dark:text-gray-400 text-sm block mb-1"},"\u0627\u0644\u062C\u0645\u0631\u0643:",-1)),e("span",$r,"$"+o(((T=t.carData.car.purchase_expenses)==null?void 0:T.checkout)||0),1)]),e("div",wr,[r[34]||(r[34]=e("span",{class:"text-gray-600 dark:text-gray-400 text-sm block mb-1"},"\u0627\u0644\u0634\u062D\u0646:",-1)),e("span",_r,"$"+o(((R=t.carData.car.purchase_expenses)==null?void 0:R.shipping_dolar)||0),1)])]))]),e("div",Mr,[r[54]||(r[54]=e("div",{class:"flex justify-between items-center mb-3 border-b dark:border-purple-700/50 pb-2"},[e("h3",{class:"text-lg font-bold dark:text-purple-300 flex items-center gap-2"},[e("span",{class:"text-xl"},"\u{1F4B5}"),e("span",null,"\u0645\u0635\u0627\u0631\u064A\u0641 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A")])],-1)),g.value?(m(),k("div",Br,[e("div",Tr,[e("div",null,[r[46]||(r[46]=e("label",{class:"block text-sm dark:text-gray-300 mb-1 font-medium"},"\u0627\u0644\u0645\u0635\u0627\u0631\u064A\u0641 ($)",-1)),y(e("input",{"onUpdate:modelValue":r[10]||(r[10]=l=>i.value.expenses_s=l),type:"number",step:"0.01",class:"w-full border dark:border-gray-600 rounded px-2 py-2 dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-purple-500 dark:focus:ring-purple-400 focus:border-purple-500 dark:focus:border-purple-400"},null,512),[[f,i.value.expenses_s,void 0,{number:!0}]])]),e("div",null,[r[47]||(r[47]=e("label",{class:"block text-sm dark:text-gray-300 mb-1 font-medium"},"\u0627\u0644\u062C\u0645\u0631\u0643 ($)",-1)),y(e("input",{"onUpdate:modelValue":r[11]||(r[11]=l=>i.value.checkout_s=l),type:"number",step:"0.01",class:"w-full border dark:border-gray-600 rounded px-2 py-2 dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-purple-500 dark:focus:ring-purple-400 focus:border-purple-500 dark:focus:border-purple-400"},null,512),[[f,i.value.checkout_s,void 0,{number:!0}]])]),e("div",null,[r[48]||(r[48]=e("label",{class:"block text-sm dark:text-gray-300 mb-1 font-medium"},"\u0627\u0644\u0634\u062D\u0646 ($)",-1)),y(e("input",{"onUpdate:modelValue":r[12]||(r[12]=l=>i.value.shipping_dolar_s=l),type:"number",step:"0.01",class:"w-full border dark:border-gray-600 rounded px-2 py-2 dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-purple-500 dark:focus:ring-purple-400 focus:border-purple-500 dark:focus:border-purple-400"},null,512),[[f,i.value.shipping_dolar_s,void 0,{number:!0}]])]),e("div",null,[r[49]||(r[49]=e("label",{class:"block text-sm dark:text-gray-300 mb-1 font-medium"},"COC ($)",-1)),y(e("input",{"onUpdate:modelValue":r[13]||(r[13]=l=>i.value.coc_dolar_s=l),type:"number",step:"0.01",class:"w-full border dark:border-gray-600 rounded px-2 py-2 dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-purple-500 dark:focus:ring-purple-400 focus:border-purple-500 dark:focus:border-purple-400"},null,512),[[f,i.value.coc_dolar_s,void 0,{number:!0}]])]),e("div",null,[r[50]||(r[50]=e("label",{class:"block text-sm dark:text-gray-300 mb-1 font-medium"},"\u0627\u0644\u062F\u064A\u0646\u0627\u0631",-1)),y(e("input",{"onUpdate:modelValue":r[14]||(r[14]=l=>i.value.dinar_s=l),type:"number",step:"0.01",class:"w-full border dark:border-gray-600 rounded px-2 py-2 dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-purple-500 dark:focus:ring-purple-400 focus:border-purple-500 dark:focus:border-purple-400"},null,512),[[f,i.value.dinar_s,void 0,{number:!0}]])]),e("div",null,[r[51]||(r[51]=e("label",{class:"block text-sm dark:text-gray-300 mb-1 font-medium"},"\u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641",-1)),y(e("input",{"onUpdate:modelValue":r[15]||(r[15]=l=>i.value.dolar_price_s=l),type:"number",step:"0.01",class:"w-full border dark:border-gray-600 rounded px-2 py-2 dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-purple-500 dark:focus:ring-purple-400 focus:border-purple-500 dark:focus:border-purple-400"},null,512),[[f,i.value.dolar_price_s,void 0,{number:!0}]])]),e("div",null,[r[52]||(r[52]=e("label",{class:"block text-sm dark:text-gray-300 mb-1 font-medium"},"\u0634\u062D\u0646 \u0628\u0631\u064A ($)",-1)),y(e("input",{"onUpdate:modelValue":r[16]||(r[16]=l=>i.value.land_shipping_s=l),type:"number",step:"0.01",class:"w-full border dark:border-gray-600 rounded px-2 py-2 dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-purple-500 dark:focus:ring-purple-400 focus:border-purple-500 dark:focus:border-purple-400"},null,512),[[f,i.value.land_shipping_s,void 0,{number:!0}]])]),e("div",null,[r[53]||(r[53]=e("label",{class:"block text-sm dark:text-gray-300 mb-1 font-medium"},"\u0634\u062D\u0646 \u0628\u0631\u064A (\u062F\u064A\u0646\u0627\u0631)",-1)),y(e("input",{"onUpdate:modelValue":r[17]||(r[17]=l=>i.value.land_shipping_dinar_s=l),type:"number",step:"0.01",class:"w-full border dark:border-gray-600 rounded px-2 py-2 dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-purple-500 dark:focus:ring-purple-400 focus:border-purple-500 dark:focus:border-purple-400"},null,512),[[f,i.value.land_shipping_dinar_s,void 0,{number:!0}]])])]),e("div",Rr,[e("span",zr,"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u062D\u0633\u0648\u0628: $"+o($()),1)])])):(m(),k("div",Nr,[e("div",Ir,[r[43]||(r[43]=e("span",{class:"text-gray-600 dark:text-gray-400 text-sm block mb-1"},"\u0627\u0644\u0645\u0635\u0627\u0631\u064A\u0641:",-1)),e("span",Hr,"$"+o(((z=t.carData.car.sales_expenses)==null?void 0:z.expenses_s)||0),1)]),e("div",jr,[r[44]||(r[44]=e("span",{class:"text-gray-600 dark:text-gray-400 text-sm block mb-1"},"\u0627\u0644\u062C\u0645\u0631\u0643:",-1)),e("span",Ar,"$"+o(((B=t.carData.car.sales_expenses)==null?void 0:B.checkout_s)||0),1)]),e("div",Sr,[r[45]||(r[45]=e("span",{class:"text-gray-600 dark:text-gray-400 text-sm block mb-1"},"\u0627\u0644\u0634\u062D\u0646:",-1)),e("span",Er,"$"+o(((O=t.carData.car.sales_expenses)==null?void 0:O.shipping_dolar_s)||0),1)])]))]),e("div",Or,[r[58]||(r[58]=e("h3",{class:"text-lg font-bold dark:text-gray-200 mb-4 flex items-center gap-2"},[e("span",{class:"text-xl"},"\u{1F4CA}"),e("span",null,"\u0645\u0644\u062E\u0635 \u0627\u0644\u0633\u064A\u0627\u0631\u0629")],-1)),e("div",Wr,[e("div",qr,[r[55]||(r[55]=e("span",{class:"text-gray-600 dark:text-gray-400 text-sm block mb-2"},"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A (\u0646\u0641\u0633 \u0627\u0644\u0633\u064A\u0627\u0631\u0629)",-1)),e("span",Fr," $"+o(t.carData.car.total_purchases||((W=t.carData.car.purchase_expenses)==null?void 0:W.total)||0),1)]),e("div",Pr,[r[56]||(r[56]=e("span",{class:"text-gray-600 dark:text-gray-400 text-sm block mb-2"},"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A (\u0646\u0641\u0633 \u0627\u0644\u0633\u064A\u0627\u0631\u0629)",-1)),e("span",Lr," $"+o(t.carData.car.total_sales||((q=t.carData.car.sales_expenses)==null?void 0:q.total_s)||0),1)]),e("div",Yr,[r[57]||(r[57]=e("span",{class:"text-gray-600 dark:text-gray-400 text-sm block mb-2"},"\u0627\u0644\u0631\u0628\u062D (\u0646\u0641\u0633 \u0627\u0644\u0633\u064A\u0627\u0631\u0629)",-1)),e("span",{class:Y(["font-bold text-2xl block",(t.carData.car.profit||s.value)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])}," $"+o(t.carData.car.profit||s.value),3)])])]),e("div",Gr,[e("div",null,[r[59]||(r[59]=e("label",{class:"block text-sm dark:text-gray-300 mb-1 font-medium"},"\u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0629",-1)),y(e("textarea",{"onUpdate:modelValue":r[18]||(r[18]=l=>u.value=l),disabled:!g.value,rows:"2",class:"w-full border dark:border-gray-600 rounded px-2 py-2 dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 disabled:opacity-50"},null,8,Jr),[[f,u.value]])])]),((F=t.carData.car.additional_expenses)==null?void 0:F.length)>0?(m(),k("div",Kr,[r[60]||(r[60]=e("h3",{class:"text-lg font-bold dark:text-gray-200 mb-3 flex items-center gap-2"},[e("span",{class:"text-xl"},"\u{1F4CB}"),e("span",null,"\u0645\u0635\u0627\u0631\u064A\u0641 \u0625\u0636\u0627\u0641\u064A\u0629")],-1)),e("div",Qr,[(m(!0),k(P,null,G(t.carData.car.additional_expenses,l=>(m(),k("div",{key:l.id,class:"flex justify-between items-center p-3 bg-white dark:bg-gray-800 rounded border dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow"},[e("div",null,[e("span",Xr,o(l.note||"\u0628\u062F\u0648\u0646 \u0645\u0644\u0627\u062D\u0638\u0629"),1),e("span",Zr,o(l.created),1)]),e("div",et,[l.amount_dollar>0?(m(),k("span",rt," $"+o(l.amount_dollar),1)):v("",!0),l.amount_dinar>0?(m(),k("span",tt,o(l.amount_dinar)+" \u062F\u064A\u0646\u0627\u0631 ",1)):v("",!0)])]))),128))])])):v("",!0)]),g.value?(m(),k("div",at,[e("button",{onClick:V,disabled:c.value,class:"flex-1 px-4 py-3 bg-green-500 dark:bg-green-600 text-white rounded-lg hover:bg-green-600 dark:hover:bg-green-700 disabled:opacity-50 shadow-md hover:shadow-lg transition-all font-medium"},o(c.value?"\u23F3 \u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...":"\u{1F4BE} \u062D\u0641\u0638 \u0627\u0644\u062A\u0639\u062F\u064A\u0644\u0627\u062A"),9,st),e("button",{onClick:r[19]||(r[19]=l=>g.value=!1),class:"flex-1 px-4 py-3 bg-gray-500 dark:bg-gray-600 text-white rounded-lg hover:bg-gray-600 dark:hover:bg-gray-700 shadow-md hover:shadow-lg transition-all font-medium"}," \u274C \u0625\u0644\u063A\u0627\u0621 ")])):v("",!0)])):v("",!0),e("div",ot,[e("button",{class:"modal-default-button py-3 bg-rose-500 dark:bg-rose-600 rounded-lg w-full hover:bg-rose-600 dark:hover:bg-rose-700 shadow-md hover:shadow-lg transition-all font-medium",onClick:r[20]||(r[20]=l=>d.$emit("close"))}," \u2715 \u0625\u063A\u0644\u0627\u0642 ")])])])])):v("",!0)]}),_:3}))}},lt=ue(dt,[["__scopeId","data-v-5155cbd1"]]);const nt={key:0,class:"modal-mask"},it={class:"modal-wrapper max-h-[80vh]"},ut={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},gt={class:"modal-header"},bt={class:"modal-body"},ct={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-1 lg:gap-2"},pt={className:"mb-4 mx-1"},mt={class:"dark:text-gray-200",for:"vin"},yt={className:"mb-4 mx-1"},ft={class:"dark:text-gray-200",for:"pin"},kt={className:"mb-4 mx-1"},xt={class:"dark:text-gray-200",for:"pin"},vt={className:"mb-4 mx-1"},ht={class:"dark:text-gray-200",for:"pin"},$t={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},wt={className:"mb-4 mx-1"},_t={class:"dark:text-gray-200",for:"note"},Dt={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},Ct={class:"m-4"},Ut={key:0,class:"text-danger"},Vt={class:"modal-footer my-2"},Mt={class:"flex flex-row"},Nt={class:"basis-1/2 px-4"},It={class:"basis-1/2 px-4"},Ht=["disabled"],jt={__name:"ModalUpdateCarsHunter",props:{show:Boolean,formData:Object,client:Array,saveCar:Boolean},setup(t){const D=L();let w=x(!1);function C(g){A.get("/api/carsHunterImageDel?name="+g.name).then(c=>{D.success("\u062A\u0645  \u062D\u0630\u0641 \u0627\u0644\u0635\u0648\u0631\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:5e3,position:"bottom-right",rtl:!0})}).catch(c=>{console.error(c)})}function _(){const g=new Date,c=g.getFullYear(),n=String(g.getMonth()+1).padStart(2,"0"),i=String(g.getDate()).padStart(2,"0");return`${c}-${n}-${i}`}return(g,c)=>(m(),J(Q,{name:"modal"},{default:S(()=>{var n,i,u;return[t.show?(m(),k("div",nt,[e("div",it,[e("div",ut,[e("div",gt,[K(g.$slots,"header",{},()=>[c[7]||(c[7]=e("h2",{class:"text-center dark:text-gray-200"}," \u062A\u0639\u062F\u064A\u0644 \u0645\u0639\u0644\u0648\u0645\u0627\u062A ",-1))])]),e("div",bt,[e("div",ct,[e("div",pt,[e("label",mt,o(g.$t("vin")),1),y(e("input",{id:"vin",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":c[0]||(c[0]=s=>t.formData.vin=s)},null,512),[[f,t.formData.vin]])]),e("div",yt,[e("label",ft,o(g.$t("car_type")),1),y(e("input",{id:"car_type",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":c[1]||(c[1]=s=>t.formData.car_type=s)},null,512),[[f,t.formData.car_type]])]),e("div",kt,[e("label",xt,o(g.$t("year")),1),y(e("input",{id:"year",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":c[2]||(c[2]=s=>t.formData.year=s)},null,512),[[f,t.formData.year]])]),e("div",vt,[e("label",ht,o(g.$t("color")),1),y(e("input",{id:"car_color",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":c[3]||(c[3]=s=>t.formData.car_color=s)},null,512),[[f,t.formData.car_color]])])]),e("div",$t,[e("div",wt,[e("label",_t,o(g.$t("note")),1),y(e("input",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":c[4]||(c[4]=s=>t.formData.note=s)},null,512),[[f,t.formData.note]])])]),e("div",Dt,[e("div",Ct,[c[8]||(c[8]=e("label",{class:"form-label"},"\u0627\u0644\u0635\u0648\u0631",-1)),e("div",null,[U(h(ee),{server:"/api/carsHunterUpload?carId="+t.formData.id,"is-invalid":!!((n=g.errors)!=null&&n.media),onChange:g.changeMedia,onInitMedia:g.media,location:"/public/uploadsResized",media:t.formData.car_images_hunter,onAdd:g.addMedia,onRemove:C},null,8,["server","is-invalid","onChange","onInitMedia","media","onAdd"])]),(i=g.errors)!=null&&i.media?(m(),k("p",Ut,o((u=g.errors)==null?void 0:u.media[0]),1)):v("",!0)])])]),e("div",Vt,[e("div",Mt,[e("div",Nt,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:c[5]||(c[5]=s=>g.$emit("close"))}," \u0627\u063A\u0644\u0627\u0642 ")]),e("div",It,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:c[6]||(c[6]=s=>{t.formData.date=t.formData.date?t.formData.date:_(),g.$emit("a",t.formData),t.formData="",j(w)?w.value=!1:w=!1}),disabled:!t.formData.vin}," \u062D\u0641\u0638 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A ",8,Ht)])])])])])])):v("",!0)]}),_:3}))}},At={key:0,class:"py-2"},St={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},Et={class:"bg-white overflow-hidden shadow-sm"},Bt={class:"p-6 dark:bg-gray-900"},Tt={class:"flex flex-col"},Rt={class:"grid grid-cols-2 md:grid-cols-5 lg:grid-cols-5 gap-2 lg:gap-1"},zt={class:"flex items-center max-w-5xl"},Ot={class:"relative w-full"},Wt={class:"text-center"},qt={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},Ft={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},Pt={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Lt={scope:"col",class:"px-1 py-3 text-base"},Yt={scope:"col",class:"px-1 py-3 text-base"},Gt={scope:"col",class:"px-1 py-3 text-base"},Jt={scope:"col",class:"px-1 py-3 text-base"},Kt={scope:"col",class:"px-1 py-3 text-base"},Qt={scope:"col",class:"px-1 py-3 text-base"},Xt={scope:"col",class:"px-1 py-3 text-base",style:{width:"90px"}},Zt={className:"border dark:border-gray-800 text-center  dark:text-gray-200 text-black px-1 py-2 ",style:{"font-weight":"bold","font-size":"16px"}},ea={className:"border dark:border-gray-800 text-center px-1 py-2 "},ra={className:"border dark:border-gray-800 text-center px-1 py-2 "},ta={className:"border dark:border-gray-800 text-center px-1 py-2 "},aa={className:"border dark:border-gray-800 text-center px-1 py-2 "},sa={className:"border dark:border-gray-800 text-center px-1 py-2 "},oa={className:"border dark:border-gray-800 text-center px-1 py-2 "},da={className:"border dark:border-gray-800 text-center px-1 py-2 "},la={className:"border dark:border-gray-800 text-center px-1 py-2 "},na=["href"],ia=["src"],ua={className:"border dark:border-gray-800 text-start px-1 py-2"},ga=["onClick"],ba=["onClick"],ca={class:"spaner"},Va={__name:"Index",setup(t){oe();const D=L();let w=x(!1),C=x(!1),_=x(!1),g=x(!1),c=x(!1),n=x(null);x(0),x(0);let i=x(!1);function u(p={}){$.value=p,_.value=!0}function s(p={}){$.value=p,g.value=!0}function N(p={}){$.value={},C.value=!0}const $=x({}),V=x([]);let d=x(!1),r=0,M=1,I="";const H=()=>{M=0,V.value.length=0,d.value=!d.value},T=async p=>{console.log(p);try{const b=(await A.get("api/getIndexCarHunter",{params:{limit:100,page:M,q:I,user_id:r}})).data;b.data.length<100?(V.value.push(...b.data),p.complete()):(V.value.push(...b.data),p.loaded()),M++}catch(a){console.log(a)}};function R(p){_.value=!1,A.post("/api/updateCarsHunter",p).then(a=>{w.value=!1,D.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),H()}).catch(a=>{w.value=!1,D.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function z(p){A.post("/api/delCarsHunterr",p).then(a=>{g.value=!1,D.success("\u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:3e3,position:"bottom-right",rtl:!0}),H()}).catch(a=>{console.error(a)})}const B=re(H,500);function O(p){n.value=p,c.value=!0}function W(p){H(),D.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:3e3,position:"bottom-right",rtl:!0})}function q(p){A.post("/api/addCarsHunter",p).then(a=>{i.value=a.data.id,D.success("\u062A\u0645 \u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0628\u0646\u062C\u0627\u062D",{timeout:5e3,position:"bottom-right",rtl:!0})}).catch(a=>{console.error(a)})}function F(p,a){return a==2024?`https://shippingkirkuk.intellijapp.com/public/uploadsResized/${p}`:`/public/uploadsResized/${p}`}function l(p,a){return a==2024?`https://shippingkirkuk.intellijapp.com/public/uploads/${p}`:`/public/uploads/${p}`}return(p,a)=>(m(),k(P,null,[U(h(de),{title:"Dashboard"}),U(Fe,{formData:$.value,saveCar:h(i),show:!!h(C),onA:a[0]||(a[0]=b=>q(b)),onCarExists:a[1]||(a[1]=b=>O(b)),onClose:a[2]||(a[2]=b=>{j(C)?C.value=!1:C=!1,j(i)?i.value=0:i=0,H()})},{header:S(()=>[...a[12]||(a[12]=[])]),_:1},8,["formData","saveCar","show"]),U(lt,{show:!!h(c),carData:h(n),onClose:a[3]||(a[3]=b=>{j(c)?c.value=!1:c=!1,j(n)?n.value=null:n=null}),onUpdated:a[4]||(a[4]=b=>W())},null,8,["show","carData"]),U(jt,{formData:$.value,saveCar:h(i),show:!!h(_),onA:a[5]||(a[5]=b=>R(b)),onClose:a[6]||(a[6]=b=>j(_)?_.value=!1:_=!1)},{header:S(()=>[...a[13]||(a[13]=[])]),_:1},8,["formData","saveCar","show"]),U(ge,{show:!!h(g),formData:$.value,onA:a[7]||(a[7]=b=>z(b)),onClose:a[8]||(a[8]=b=>j(g)?g.value=!1:g=!1)},{header:S(()=>[...a[14]||(a[14]=[e("h2",{class:"mb-5 dark:text-white text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1)])]),_:1},8,["show","formData"]),U(le,null,{default:S(()=>[p.$page.props.auth.user.type_id==1?(m(),k("div",At,[e("div",St,[e("div",Et,[e("div",Bt,[e("div",Tt,[e("div",Rt,[e("div",null,[e("form",zt,[a[16]||(a[16]=e("label",{class:"dark:text-gray-200",for:"simple-search"},null,-1)),e("div",Ot,[a[15]||(a[15]=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[e("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-200 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),y(e("input",{"onUpdate:modelValue":a[9]||(a[9]=b=>j(I)?I.value=b:I=b),onInput:a[10]||(a[10]=(...b)=>h(B)&&h(B)(...b)),type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"\u0628\u062D\u062B",required:""},null,544),[[f,h(I)]])])])]),e("div",Wt,[e("button",{type:"button",onClick:a[11]||(a[11]=b=>N()),style:{"min-width":"150px"},className:"px-6 mb-12 mx-2 py-2 font-bold text-white bg-purple-600 rounded"}," \u0627\u0636\u0627\u0641\u0629 \u0633\u064A\u0627\u0631\u0629 ")])]),e("div",null,[a[20]||(a[20]=e("div",null,null,-1)),e("div",qt,[e("table",Ft,[e("thead",Pt,[e("tr",null,[a[17]||(a[17]=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0627\u0633\u0645 \u0635\u0627\u062D\u0628 \u0627\u0644\u0633\u06CC\u0627\u0631\u06D5 ",-1)),e("th",Lt,o(p.$t("car_type")),1),e("th",Yt,o(p.$t("year")),1),e("th",Gt,o(p.$t("color")),1),e("th",Jt,o(p.$t("vin")),1),e("th",Kt,o(p.$t("note")),1),a[18]||(a[18]=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0627\u0644\u062D\u0627\u0644\u0629 ",-1)),e("th",Qt,o(p.$t("date")),1),a[19]||(a[19]=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0627\u0644\u0645\u0644\u0641\u0627\u062A \u0627\u0644\u0645\u062E\u0632\u0646\u0629 ",-1)),e("th",Xt,o(p.$t("execute")),1)])]),e("tbody",null,[(m(!0),k(P,null,G(V.value,b=>{var X;return m(),k("tr",{key:b.id,class:Y([b.results==0?"":b.results==1?"bg-red-100 dark:bg-red-900":"bg-green-100 dark:bg-green-900","bg-white border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[e("td",Zt,o(((X=b.client)==null?void 0:X.name)||b.client_name),1),e("td",ea,o(b.car_type),1),e("td",ra,o(b.year),1),e("td",ta,o(b.car_color),1),e("td",aa,o(b.vin),1),e("td",sa,o(b.note),1),e("td",oa,o(b.status==1?"\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0631\u0628\u0637":"\u062A\u0645 \u0627\u0644\u0631\u0628\u0637"),1),e("td",da,o(b.date),1),e("td",la,[(m(!0),k(P,null,G(b.car_images_hunter,(E,te)=>(m(),k("a",{key:te,href:l(E.name,E.year),style:{cursor:"pointer"},target:"_blank"},[e("img",{src:F(E.name,E.year),alt:"",class:"px-1",style:{"max-width":"100px","max-height":"50px",display:"inline"}},null,8,ia)],8,na))),128))]),e("td",ua,[e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-slate-500 rounded",onClick:E=>u(b)},[U(ie)],8,ga),e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-orange-500 rounded",onClick:E=>s(b)},[U(ne)],8,ba)])],2)}),128))])])])]),e("div",ca,[U(h(be),{car:V.value,onInfinite:T,identifier:h(d)},null,8,["car","identifier"])])])])])])])):v("",!0),a[21]||(a[21]=e("div",null,null,-1))]),_:1})],64))}};export{Va as default};
