import{I as Y,m as u,b as Z,a as r,f as l,u as p,e as w,F,o as d,H as ee,i as N,h as e,t as o,g as C,w as te,y as se,z,k as H,n as oe,j as L}from"./app.5c9d6996.js";import{_ as ae}from"./AuthenticatedLayout.5380d655.js";import{M as le}from"./Modal.0e760d4f.js";import{t as re}from"./laravel-vue-pagination.es.f22bddc0.js";import{_ as n,a as _}from"./TextInput.f9c57138.js";import{a as A}from"./index.f798449d.js";import{_ as de,M as ne}from"./ModalAddCarPayment.c927e9bd.js";import{_ as ie}from"./ModalEditCar_S.389acff0.js";/* empty css                                              */const ce=e("h2",{class:"font-semibold text-xl dark:text-gray-400 text-gray-800 leading-tight"}," \u0634\u0631\u0643\u0629 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 ",-1),ue=e("h2",{class:"mb-5 dark:text-gray-400 text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1),pe={key:0},_e={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},me={class:"ml-3 text-sm font-medium text-red-700 dark:text-red-800"},be={key:1,class:"py-4"},he={class:"text-center pb-2 dark:text-gray-400"},ve={class:"max-w-9xl mx-auto sm:px-6 lg:px-8 p-6 dark:bg-gray-900"},ye={class:"overflow-hidden shadow-sm sm:rounded-lg"},xe={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 lg:gap-1"},ge={class:"pr-4"},fe={value:"undefined",disabled:""},ke=["value"],$e={className:"mb-4  mr-5"},we={class:"px-4"},Ne={className:"mb-4 mx-5"},Ce={class:"px-4"},Ae={className:"mb-4 mx-5"},De={className:"mb-4  mr-5 print:hidden"},Me={key:0},Pe={key:1},Se={className:"mb-4  mr-5 print:hidden"},Ve=["href"],Ie={key:0},Te={key:1},Fe={className:"mb-4  mr-5"},Ue={className:"mb-4  mr-5"},Be={className:"mb-4  mr-5"},Ee={className:"mb-4  mr-5"},je={className:"mb-4  mr-5"},ze={className:"mb-4  mr-5"},He={className:"mb-4  mr-5"},Le={key:0,className:"mb-4  mr-5"},Re={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 lg:gap-1"},Oe={key:0,className:"mb-4  mr-5 print:hidden"},qe=["disabled"],Ge={key:0},Je={key:1},Ke={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},Qe={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},We={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Xe={class:"rounded-l-lg mb-2 sm:mb-0"},Ye={scope:"col",class:"px-1 py-2 text-base"},Ze={scope:"col",class:"px-1 py-2 text-base"},et={scope:"col",class:"px-1 py-2 text-base"},tt={scope:"col",class:"px-1 py-2 text-base"},st={scope:"col",class:"px-1 py-2 text-base"},ot={scope:"col",class:"px-1 py-2 text-base"},at={scope:"col",class:"px-1 py-2 text-base"},lt={scope:"col",class:"px-1 py-2 text-base"},rt={scope:"col",class:"px-1 py-2 text-base print:hidden"},dt={scope:"col",class:"px-1 py-2 text-base print:hidden"},nt={scope:"col",class:"px-1 py-2 text-base"},it={scope:"col",class:"px-1 py-2 text-base"},ct={scope:"col",class:"px-1 py-2 text-base"},ut={scope:"col",class:"px-1 py-2 text-base"},pt={scope:"col",class:"px-1 py-2 text-base"},_t={scope:"col",class:"px-1 py-2 text-base"},mt={scope:"col",class:"px-1 py-2 text-base"},bt={scope:"col",class:"px-1 py-2 text-base"},ht={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},vt={className:"border dark:border-gray-800 text-center px-2 py-1"},yt={className:"border dark:border-gray-800 text-center px-2 py-1"},xt={className:"border dark:border-gray-800 text-center px-2 py-1"},gt={className:"border dark:border-gray-800 text-center px-2 py-1"},ft={className:"border dark:border-gray-800 text-center px-2 py-1"},kt={className:"border dark:border-gray-800 text-center px-2 py-1"},$t={className:"border dark:border-gray-800 text-center px-2 py-1"},wt={className:"border dark:border-gray-800 text-center px-2 py-1"},Nt={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},Ct={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},At={className:"border dark:border-gray-800 text-center px-2 py-1"},Dt={className:"border dark:border-gray-800 text-center px-2 py-1"},Mt={className:"border dark:border-gray-800 text-center px-2 py-1"},Pt={className:"border dark:border-gray-800 text-center px-2 py-1"},St={className:"border dark:border-gray-800 text-center px-2 py-1"},Vt={className:"border dark:border-gray-800 text-center px-2 py-1"},It={className:"border dark:border-gray-800 text-center px-1 py-2 "},Tt={className:"border dark:border-gray-800 text-center px-2 py-1"},Ft={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},Ut=["onClick"],Bt=["onClick"],Et=["onClick"],jt={class:"mt-3 text-center",style:{direction:"ltr"}},zt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 dark:text-gray-400 hidden print:block"},Ht={class:"flex flex-row"},Lt={class:"basis-1/2"},Rt=e("br",null,null,-1),Ot=e("div",{class:"basis-1/2 text-center"},"\u062A\u0648\u0642\u064A\u0639 \u0642\u0633\u0645 \u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1),qt=e("div",{class:"basis-1/2 text-end"},"\u062A\u0648\u0642\u064A\u0639 \u0627\u0644\u0645\u062F\u064A\u0631",-1),ts={__name:"Show",props:{url:String,clients:Array,client_id:String,client:Object},setup(I){const U=I,v=Y(),i=u({}),b=U.client_id,D=u(0),M=u(0),P=u(0);let y=u(!1),x=u(!1),h=u(!1);const S=u(0),g=u({});u(0);const f=async(t,a=1)=>{A.get(`/api/getIndexAccountsSelas?page=${a}&user_id=${t||b}&from=${M.value}&to=${P.value}`).then(c=>{i.value=c.data}).catch(c=>{console.error(c)})};f();const R=Z();let m=u(!1);function O(t){R.get(route("sentToCourt",t)),f(),m.value=!1}function q(t={}){g.value=t,x.value=!0}function G(t={}){g.value=t,y.value=!0}function J(t={}){g.value=t,h.value=!0}function K(t){A.post("/api/DelCar",t).then(a=>{x.value=!1,window.location.reload()}).catch(a=>{console.error(a)})}function Q(t){y.value=!1,A.post("/api/updateCarsS",t).then(a=>{m.value=!1,v.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),getcountTotalInfo()}).catch(a=>{m.vcons,v.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function W(t){var a,c,k;A.get(`/api/addPaymentCar?car_id=${t.id}&discount=${(a=t.discount)!=null?a:0}&amount=${(c=t.amountPayment)!=null?c:0}&note=${(k=t.notePayment)!=null?k:""}`).then($=>{h.value=!1,v.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+t.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0});let V=$.data;window.open(`/api/getIndexAccountsSelas?user_id=${U.client_id}&print=2&transactions_id=${V.id}`,"_blank")}).catch($=>{m.value=!1,v.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function X(t,a){A.get(`/api/addPaymentCarTotal?amount=${t!=null?t:0}&client_id=${a!=null?a:""}`).then(c=>{h.value=!1,v.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+t+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),window.location.reload()}).catch(c=>{m.value=!1,v.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}return(t,a)=>(d(),r(F,null,[l(p(ee),{title:"Dashboard"}),l(ae,null,{header:w(()=>[ce]),default:w(()=>{var c,k,$,V,B,E;return[l(ie,{formData:g.value,show:!!p(y),client:I.clients,carModel:t.carModel,onA:a[0]||(a[0]=s=>Q(s)),onClose:a[1]||(a[1]=s=>N(y)?y.value=!1:y=!1)},{header:w(()=>[]),_:1},8,["formData","show","client","carModel"]),l(de,{formData:g.value,show:!!p(h),user:t.user,onA:a[2]||(a[2]=s=>W(s)),onClose:a[3]||(a[3]=s=>N(h)?h.value=!1:h=!1)},{header:w(()=>[]),_:1},8,["formData","show","user"]),l(ne,{show:!!p(x),formData:g.value,onA:a[4]||(a[4]=s=>K(s)),onClose:a[5]||(a[5]=s=>N(x)?x.value=!1:x=!1)},{header:w(()=>[ue]),_:1},8,["show","formData"]),l(le,{show:!!p(m),data:p(m).toString(),onA:a[6]||(a[6]=s=>O(s,t.arg1)),onClose:a[7]||(a[7]=s=>N(m)?m.value=!1:m=!1)},null,8,["show","data"]),t.$page.props.success?(d(),r("div",pe,[e("div",_e,[e("div",me,o(t.$page.props.success),1)])])):C("",!0),t.$page.props.auth.user.type_id==1?(d(),r("div",be,[e("h2",he,o(t.$t("sales_bill")),1),e("div",ve,[e("div",ye,[e("div",xe,[e("div",ge,[l(n,{class:"mb-1",for:"invoice_number",value:t.$t("Account")},null,8,["value"]),te(e("select",{onChange:a[8]||(a[8]=s=>f(p(b))),"onUpdate:modelValue":a[9]||(a[9]=s=>N(b)?b.value=s:null),id:"default",class:"pr-8 border border-gray-300 text-gray-900 mb-6 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:border-gray-400 dark:placeholder-gray-400 dark:text-gray-600 dark:focus:ring-red-500 dark:focus:border-red-500"},[e("option",fe,o(t.$t("selectCustomer")),1),(d(!0),r(F,null,z(I.clients,(s,T)=>(d(),r("option",{key:T,value:s.id},o(s.name),9,ke))),128))],544),[[se,p(b)]])]),e("div",null,[e("div",$e,[l(n,{for:"totalAmount",value:t.$t("phoneNumber")},null,8,["value"]),l(_,{id:"totalAmount",type:"text",class:"mt-1 block w-full",value:(c=i.value.client)==null?void 0:c.phone,disabled:""},null,8,["value"])])]),e("div",we,[e("div",Ne,[l(n,{for:"from",value:t.$t("from_date")},null,8,["value"]),l(_,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:M.value,"onUpdate:modelValue":a[10]||(a[10]=s=>M.value=s)},null,8,["modelValue"])])]),e("div",Ce,[e("div",Ae,[l(n,{for:"to",value:t.$t("to_date")},null,8,["value"]),l(_,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:P.value,"onUpdate:modelValue":a[11]||(a[11]=s=>P.value=s)},null,8,["modelValue"])])]),e("div",De,[l(n,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),e("button",{onClick:a[12]||(a[12]=H(s=>f(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},[D.value?(d(),r("span",Pe,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(d(),r("span",Me,"\u0641\u0644\u062A\u0631\u0629"))])]),e("div",Se,[l(n,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),e("a",{href:`/api/getIndexAccountsSelas?user_id=${p(b)}&from=${M.value}&to=${P.value}&print=1`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-orange-500 rounded block text-center",style:{width:"100%"}},[D.value?(d(),r("span",Te,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(d(),r("span",Ie,"\u0637\u0628\u0627\u0639\u0629"))],8,Ve)]),e("div",Fe,[l(n,{for:"car_total",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A"}),l(_,{id:"car_total",type:"text",class:"mt-1 block w-full",value:i.value.car_total,disabled:""},null,8,["value"])]),e("div",Ue,[l(n,{for:"car_total_complete",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0645\u0643\u062A\u0645\u0644"}),l(_,{id:"car_total_complete",type:"text",class:"mt-1 block w-full",value:i.value.car_total_complete,disabled:""},null,8,["value"])]),e("div",Be,[l(n,{for:"car_total_unpaid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u063A\u064A\u0631 \u0645\u062F\u0641\u0648\u0639"}),l(_,{id:"car_total_unpaid",type:"text",class:"mt-1 block w-full",value:i.value.car_total_unpaid,disabled:""},null,8,["value"])]),e("div",Ee,[l(n,{for:"car_total_uncomplete",value:" \u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0645\u062F\u0641\u0648\u0639 \u0648\u063A\u064A\u0631 \u0645\u0643\u0645\u0644"}),l(_,{id:"car_total_uncomplete",type:"text",class:"mt-1 block w-full",value:i.value.car_total_uncomplete,disabled:""},null,8,["value"])]),e("div",je,[l(n,{for:"cars_sum",value:t.$t("Total_in_dollars")},null,8,["value"]),l(_,{id:"cars_sum",type:"text",class:"mt-1 block w-full",value:(k=i.value)==null?void 0:k.cars_sum,disabled:""},null,8,["value"])]),e("div",ze,[l(n,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u062F\u0641\u0648\u0639 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(_,{id:"cars_paid",type:"text",class:"mt-1 block w-full",value:($=i.value)==null?void 0:$.cars_paid,disabled:""},null,8,["value"])]),e("div",He,[l(n,{for:"cars_need_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u064A\u0646 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(_,{id:"cars_need_paid",type:"text",class:"mt-1 block w-full",value:(V=i.value)==null?void 0:V.cars_need_paid,disabled:""},null,8,["value"])]),(B=i.value)!=null&&B.cars_need_paid?(d(),r("div",Le,[l(n,{for:"percentage",value:" \u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0645\u0631\u0627\u062F \u062F\u0641\u0639\u0647"}),l(_,{id:"percentage",type:"text",class:"mt-1 block w-full",modelValue:S.value,"onUpdate:modelValue":a[13]||(a[13]=s=>S.value=s)},null,8,["modelValue"])])):C("",!0)]),e("div",Re,[S.value?(d(),r("div",Oe,[l(n,{for:"pay",value:"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062F\u0641\u0639"}),e("button",{onClick:a[14]||(a[14]=H(s=>X(S.value,p(b)),["prevent"])),disabled:D.value||!parseInt(i.value.totalAmount),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},[D.value?(d(),r("span",Je,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(d(),r("span",Ge,"\u062F\u0641\u0639"))],8,qe)])):C("",!0)]),e("div",null,[e("div",Ke,[e("table",Qe,[e("thead",We,[e("tr",Xe,[e("th",Ye,o(t.$t("no")),1),e("th",Ze,o(t.$t("car_type")),1),e("th",et,o(t.$t("year")),1),e("th",tt,o(t.$t("color")),1),e("th",st,o(t.$t("vin")),1),e("th",ot,o(t.$t("car_number")),1),e("th",at,o(t.$t("dinar")),1),e("th",lt,o(t.$t("dolar_price")),1),e("th",rt,o(t.$t("dolar_custom")),1),e("th",dt,o(t.$t("note")),1),e("th",nt,o(t.$t("shipping_dolar")),1),e("th",it,o(t.$t("coc_dolar")),1),e("th",ct,o(t.$t("checkout")),1),e("th",ut,o(t.$t("expenses")),1),e("th",pt,o(t.$t("total")),1),e("th",_t,o(t.$t("paid")),1),e("th",mt,o(t.$t("discount")),1),e("th",bt,o(t.$t("date")),1),e("th",ht,o(t.$t("execute")),1)])]),e("tbody",null,[(d(!0),r(F,null,z(i.value.data,(s,T)=>(d(),r("tr",{key:s.id,class:oe([s.results==0?"":s.results==1?"bg-red-100 dark:bg-red-900":"bg-green-100 dark:bg-green-900","border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[e("td",vt,o(T+1),1),e("td",yt,o(s.car_type),1),e("td",xt,o(s.year),1),e("td",gt,o(s.car_color),1),e("td",ft,o(s.vin),1),e("td",kt,o(s.car_number),1),e("td",$t,o(s.dinar_s),1),e("td",wt,o(s.dolar_price_s),1),e("td",Nt,o((s.dinar_s/s.dolar_price_s*100).toFixed(0)||0),1),e("td",Ct,o(s.note),1),e("td",At,o(s.shipping_dolar_s),1),e("td",Dt,o(s.coc_dolar_s),1),e("td",Mt,o(s.checkout_s),1),e("td",Pt,o(s.expenses),1),e("td",St,o(s.total_s.toFixed(0)),1),e("td",Vt,o(s.paid),1),e("td",It,o(s.discount),1),e("td",Tt,o(s.date),1),e("td",Ft,[e("button",{tabIndex:"1",class:"px-2 py-1 text-white mx-1 bg-slate-500 rounded",onClick:j=>G(s)},o(t.$t("edit")),9,Ut),e("button",{tabIndex:"1",class:"px-2 py-1 text-white mx-1 bg-orange-500 rounded",onClick:j=>q(s)},o(t.$t("delete")),9,Bt),s.total_s!=s.paid+s.discount?(d(),r("button",{key:0,tabIndex:"1",class:"px-2 py-1 text-white mx-1 bg-green-500 rounded",onClick:j=>J(s)},o(t.$t("complet_pay")),9,Et)):C("",!0)])],2))),128))])])])]),e("div",jt,[l(p(re),{data:i.value,onPaginationChangePage:f,limit:2},null,8,["data"])])])])])):C("",!0),e("div",zt,[e("div",Ht,[e("div",Lt,[L(" \u062A\u0648\u0642\u064A\u0639 \u0635\u0627\u062D\u0628 \u0627\u0644\u062D\u0633\u0627\u0628 "),Rt,L(" "+o((E=i.value.client)==null?void 0:E.name),1)]),Ot,qt])])]}),_:1})],64))}};export{ts as default};
