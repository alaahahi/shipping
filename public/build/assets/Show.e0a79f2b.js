import{y as te,r as p,u as ee,a as i,g as r,j as a,w,F as V,o as c,H as oe,k as b,b as t,t as l,i as h,e as vt,z as se,h as X,l as O,f as ot,s as ae,n as re}from"./app.853edbe3.js";import{_ as le}from"./AuthenticatedLayout.78f5fb1b.js";import{M as de}from"./Modal.8c1fc8ea.js";import{t as ne}from"./laravel-vue-pagination.es.5a5522da.js";import{_}from"./InputLabel.e7064700.js";import{_ as y}from"./TextInput.f44657c0.js";import{a as $}from"./index.a10b8e8a.js";import{M as st}from"./ModalDelCar.a1d6e416.js";import{_ as ie}from"./ModalEditCar_S.3ae3ab3b.js";import{_ as ce}from"./ModalAddCarPayment.71dc633f.js";import{_ as ue,a as pe,b as me,c as _e,e as he}from"./exit.9281a354.js";import{p as kt}from"./print.7c883db7.js";import{p as wt}from"./pay.b720f9db.js";import{t as be}from"./trash.a7b6c6e4.js";import{e as ye}from"./edit.0722308e.js";import{s as xe}from"./show.cce185fb.js";import{n as fe}from"./new.e8af65fd.js";/* empty css                                              *//* empty css                                                    */import"./Uploader.bfad503e.js";/* empty css                                                                 *//* empty css                                                       */const ge=t("h2",{class:"font-semibold text-xl dark:text-gray-400 text-gray-800 leading-tight"}," \u0634\u0631\u0643\u0629 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 ",-1),ve={class:"mb-5 dark:text-gray-400 text-center"},ke={class:"mb-5 dark:text-gray-400 text-center"},we=t("h2",{class:"mb-5 dark:text-gray-400 text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1),$e={key:0},Ce={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},Ne={class:"ml-3 text-sm font-medium text-red-700 dark:text-red-800"},Ae={key:1,class:"py-4"},De={class:"text-center pb-2 dark:text-gray-400"},Pe={class:"max-w-9xl mx-auto sm:px-6 lg:px-8 p-6 dark:bg-gray-900"},Me={class:"overflow-hidden shadow-sm sm:rounded-lg"},Ie={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 lg:gap-1"},Se={class:"pr-4"},Fe={value:"undefined",disabled:""},Ee=["value"],Te={className:"mb-4  mr-5"},Be={class:"flex items-center ps-4 rounded-lg border border-gray-300 text-gray-900 mt-1"},Ue=["value","checked"],Re={for:"bordered-checkbox-1",class:"w-full pt-3 py-2 mx-4 text-sm font-medium text-gray-900 dark:text-gray-300"},Ve={class:"px-4"},qe={className:"mb-4 mx-5"},ze={class:"px-4"},je={className:"mb-4 mx-5"},He={className:"mb-4  mr-5 print:hidden"},Le=t("span",null,"\u0641\u0644\u062A\u0631\u0629",-1),We=[Le],Oe={className:"mb-4  mr-5 print:hidden"},Ye=["href"],Ge=t("span",null,"\u0637\u0628\u0627\u0639\u0629",-1),Je=[Ge],Ke={className:"mb-4  mr-5 print:hidden"},Qe=["href"],Xe=t("span",null,"Excel",-1),Ze=[Xe],to={className:"mb-4  mr-5"},eo={className:"mb-4  mr-5"},oo={className:"mb-4  mr-5"},so={className:"mb-4  mr-5"},ao={className:"mb-4  mr-5"},ro={key:0,className:"mb-4  mr-5 print:hidden"},lo=["disabled"],no=t("span",null,"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629",-1),io=[no],co=["disabled"],uo=t("span",null,"\u0627\u062E\u0641\u0627\u0621 \u062F\u0641\u0639\u0629",-1),po=[uo],mo={className:"mb-4  mr-5 print:hidden"},_o=["disabled"],ho=t("span",null,"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1),bo=[ho],yo=t("span",null,"\u0627\u062E\u0641\u0627\u0621 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1),xo=[yo],fo={key:1,className:"mb-4  mr-5"},go={className:"mb-4  mr-5"},vo={className:"mb-4  mr-5"},ko={className:"mb-4  mr-5"},wo={className:"mb-4  mr-5"},$o={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 lg:gap-1"},Co={className:"mb-4  mr-5"},No={className:"mb-4  mr-5"},Ao={className:"mb-4  mr-5"},Do={className:"mb-4  mr-5 print:hidden"},Po=["disabled"],Mo={key:0},Io={key:1},So={key:2},Fo={key:1,class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},Eo={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},To={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Bo={class:"bg-rose-500 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},Uo=t("th",{className:"px-1 py-2 text-base"},"#",-1),Ro={className:"px-1 py-2 text-base"},Vo={className:"px-1 py-2 text-base"},qo={className:"px-1 py-2 text-base"},zo={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},jo={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ho=t("td",null,null,-1),Lo=t("td",null,null,-1),Wo=t("td",null,null,-1),Oo=t("td",null,null,-1),Yo={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Go=["href"],Jo={key:0,class:"text-center"},Ko={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Qo={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Xo={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Zo={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ts={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},es=["href"],os={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ss=t("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A",-1),as=t("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1),rs={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ls={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},ds={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},ns={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},is={class:"rounded-l-lg mb-2 sm:mb-0"},cs={scope:"col",class:"px-1 py-2 text-base"},us={scope:"col",class:"px-1 py-2 text-base"},ps={scope:"col",class:"px-1 py-2 text-base"},ms={scope:"col",class:"px-1 py-2 text-base"},_s={scope:"col",class:"px-1 py-2 text-base"},hs={scope:"col",class:"px-1 py-2 text-base"},bs={scope:"col",class:"px-1 py-2 text-base"},ys={scope:"col",class:"px-1 py-2 text-base"},xs={scope:"col",class:"px-1 py-2 text-base print:hidden"},fs={scope:"col",class:"px-1 py-2 text-base print:hidden"},gs=t("th",{scope:"col",class:"px-1 py-2 text-base print:hidden"}," \u062C\u0645\u0631\u0643 \u0645\u0646\u0641\u0633\u062A ",-1),vs=t("th",{scope:"col",class:"px-1 py-2 text-base print:hidden"}," \u062E\u0635\u0645 \u0645\u0628\u0627\u0634\u0631 ",-1),ks={scope:"col",class:"px-1 py-2 text-base"},ws={scope:"col",class:"px-1 py-2 text-base"},$s={scope:"col",class:"px-1 py-2 text-base"},Cs={scope:"col",class:"px-1 py-2 text-base"},Ns={scope:"col",class:"px-1 py-2 text-base"},As={scope:"col",class:"px-1 py-2 text-base"},Ds={scope:"col",class:"px-1 py-2 text-base"},Ps={scope:"col",class:"px-1 py-2 text-base"},Ms={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},Is=t("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"100px"}}," \u062A\u062E\u0632\u064A\u0646 ",-1),Ss=t("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"120px"}}," \u0627\u0644\u0631\u0635\u064A\u062F ",-1),Fs={className:"border dark:border-gray-800 text-center px-2 py-1"},Es={className:"border dark:border-gray-800 text-center px-2 py-1"},Ts={className:"border dark:border-gray-800 text-center px-2 py-1"},Bs={className:"border dark:border-gray-800 text-center px-2 py-1"},Us={className:"border dark:border-gray-800 text-center px-2 py-1"},Rs={className:"border dark:border-gray-800 text-center px-2 py-1"},Vs={className:"border dark:border-gray-800 text-center px-2 py-1"},qs={className:"border dark:border-gray-800 text-center px-2 py-1"},zs={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},js={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},Hs={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},Ls={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},Ws={className:"border dark:border-gray-800 text-center px-2 py-1"},Os={className:"border dark:border-gray-800 text-center px-2 py-1"},Ys={className:"border dark:border-gray-800 text-center px-2 py-1"},Gs={className:"border dark:border-gray-800 text-center px-2 py-1"},Js={className:"border dark:border-gray-800 text-center px-2 py-1"},Ks={className:"border dark:border-gray-800 text-center px-2 py-1"},Qs={className:"border dark:border-gray-800 text-center px-1 py-2 "},Xs={className:"border dark:border-gray-800 text-center px-2 py-1"},Zs={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},ta=["onClick"],ea=["onClick"],oa=["onClick"],sa=["onClick"],aa=["onClick"],ra=["onClick"],la=["onClick"],da={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},na=["href"],ia=["src"],ca={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},ua=["onClick"],pa=["onClick"],ma={class:"mt-3 text-center",style:{direction:"ltr"}},_a={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 dark:text-gray-400 hidden print:block"},ha={class:"flex flex-row"},ba={class:"basis-1/2"},ya=t("br",null,null,-1),xa=t("div",{class:"basis-1/2 text-center"},"\u062A\u0648\u0642\u064A\u0639 \u0642\u0633\u0645 \u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1),fa=t("div",{class:"basis-1/2 text-end"},"\u062A\u0648\u0642\u064A\u0639 \u0627\u0644\u0645\u062F\u064A\u0631",-1),ja={__name:"Show",props:{url:String,clients:Array,client_id:String,client:Object,q:String},setup(Y){const Z=Y;let x=te();p(0);let d=p({}),M=p(0),C=p(0),N=p(0),S=p(!1),q=p(!1),z=p(!1),F=p(!1),tt=p(!1),j=p(!1),f=p(!1),E=p(!1),T=p(!1),B=p(!1),G=p(!1);p(0);let u=p({}),U=p(0),H=p(""),A=p(0),v=p(0);p(0);let L=p(!1),W=p(!1),K=async(o=1)=>{$.get(`/api/getIndexAccountsSelas?page=${o}&user_id=${Z.client_id}&from=${C.value}&to=${N.value}`).then(s=>{d.value=s.data,v.value=s.data.client.id}).catch(s=>{console.error(s)})};function D(){return{totalAmount:d.value.transactions.filter(n=>n.type==="out"&&n.amount<0&&n.is_pay===1).reduce((n,m)=>n+m.amount,0)}}function $t(o={}){u.value=o,L.value=!0}function Ct(o={}){u.value=o,W.value=!0}function Nt(o){var s;o.balance=D().totalAmount*-1-((s=d.value)==null?void 0:s.cars_paid),$.post("/api/AddPayFromBalanceCar",o).then(n=>{L.value=!1,window.location.reload()}).catch(n=>{console.error(n)})}function At(o){$.post("/api/DelPayFromBalanceCar",o).then(s=>{W.value=!1,window.location.reload()}).catch(s=>{console.error(s)})}const I=async(o=1)=>{$.get(`/api/getIndexAccountsSelas?page=${o}&user_id=${v.value}&from=${C.value}&to=${N.value}`).then(s=>{d.value=s.data,v.value=s.data.client.id}).catch(s=>{console.error(s)})};K();const Dt=ee();let P=p(!1);function Pt(o){Dt.get(route("sentToCourt",o)),K(),P.value=!1}function Mt(o={}){u.value=o,z.value=!0}function It(o={}){u.value=o,u.value.dinar_s==0&&(u.value.dinar_s=u.value.dinar),q.value=!0}function St(o={}){u.value=o,u.value.notePayment=" \u0628\u064A\u062F ",F.value=!0}function Ft(o){$.post("/api/DelCar",o).then(s=>{z.value=!1,window.location.reload()}).catch(s=>{console.error(s)})}function Et(o){q.value=!1,$.post("/api/updateCarsS",o).then(s=>{P.value=!1,x.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),I()}).catch(s=>{x.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),I()})}function Tt(o){var s,n;o.discountPayment||(o.discountPayment=0),$.get(`/api/addPaymentCar?car_id=${o.id}&discount=${o.discountPayment}&amount=${(s=o.amountPayment)!=null?s:0}&note=${(n=o.notePayment)!=null?n:""}`).then(m=>{F.value=!1,x.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+o.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),I();let g=m.data;window.open(`/api/getIndexAccountsSelas?user_id=${Z.client_id}&print=2&transactions_id=${g.id}`,"_blank")}).catch(m=>{P.value=!1,console.log(m),x.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Bt(o,s,n,m){M.value=!0,$.get(`/api/addPaymentCarTotal?amount=${o!=null?o:0}&discount=${n!=null?n:0}&note=${m}&client_id=${s!=null?s:0}`).then(g=>{F.value=!1,x.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+o+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),S.value=!1,M.value=!1,I(),Ut();let R=g.data;window.open(`/api/getIndexAccountsSelas?user_id=${Z.client_id}&print=2&transactions_id=${R.id}`,"_blank")}).catch(g=>{console.log(g),P.value=!1,M.value=!1,x.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Ut(){A.value=0,U.value=0,H.value=""}function Rt(){S.value=!0,j.value=!1}function Vt(){S.value=!1}function qt(){j.value=!0,S.value=!1}function zt(){j.value=!1}function jt(o={}){u.value=o,u.value.prices=100,u.value.price_dinars=5e4,E.value=!0}function Ht(o={}){u.value=o,T.value=!0}function Lt(o={}){u.value=o,u.value.createdExit=Kt(),B.value=!0}function Wt(o={}){u.value=o,G.value=!0}function Ot(){var s,n,m;let o=(m=(n=(s=d==null?void 0:d.value)==null?void 0:s.client)==null?void 0:n.wallet)==null?void 0:m.balance;A.value=o-U.value}function Yt(){var s,n,m;let o=(m=(n=(s=d==null?void 0:d.value)==null?void 0:s.client)==null?void 0:n.wallet)==null?void 0:m.balance;console.log(o),A.value>o?(A.value=o,tt.value=!0,x.info(" \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u062F\u064A\u0646 \u0627\u0644\u0645\u0637\u0644\u0648\u0628 "+A.value,{timeout:4e3,position:"bottom-right",rtl:!0})):tt.value=!1}function Gt(o){var s,n,m,g,R,J;$.get(`/api/addCarContracts?car_id=${o.id}&price=${(s=o.prices)!=null?s:0}&price_dinar=${(n=o.price_dinars)!=null?n:0}&paid=${(m=o.paids)!=null?m:0}&paid_dinar=${(g=o.paid_dinars)!=null?g:0}&phone=${(R=o.phone)!=null?R:""}&note=${(J=o.note)!=null?J:""}`).then(Q=>{E.value=!1,x.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u0628\u0646\u062C\u0627\u062D ",{timeout:4e3,position:"bottom-right",rtl:!0}),I()}).catch(Q=>{E.value=!1,x.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Jt(o){var s,n,m;$.get(`/api/editCarContracts?car_id=${o.id}&paid=${(s=o.paids)!=null?s:0}&paid_dinar=${(n=o.paid_dinars)!=null?n:0}&note=${(m=o.notePayment)!=null?m:""}`).then(g=>{T.value=!1,x.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+o.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),I()}).catch(g=>{T.value=!1,x.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function at(o){$.get(`/api/makeCarExit?car_id=${o.id}&created=${o.createdExit}&phone=${o.phoneExit}&note=${o.noteExit}`).then(s=>{B.value=!1,x.success("\u062A\u0645 \u0627\u0636\u0627\u0641\u0629 \u062E\u0631\u0648\u062C\u064A\u0629 \u0644\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:5e3,position:"bottom-right",rtl:!0}),I()}).catch(s=>{B.value=!1,x.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Kt(){const o=new Date,s=o.getFullYear(),n=String(o.getMonth()+1).padStart(2,"0"),m=String(o.getDate()).padStart(2,"0");return`${s}-${n}-${m}`}function Qt(o){return`/public/uploadsResized/${o}`}function Xt(o){return`/public/uploads/${o}`}return(o,s)=>(c(),i(V,null,[r(a(oe),{title:"Dashboard"}),r(le,null,{header:w(()=>[ge]),default:w(()=>{var n,m,g,R,J,Q,rt,lt,dt,nt,it,ct,ut,pt,mt,_t;return[r(ue,{formData:a(u),show:!!a(E),onA:s[0]||(s[0]=e=>Gt(e)),onClose:s[1]||(s[1]=e=>b(E)?E.value=!1:E=!1)},{header:w(()=>[]),_:1},8,["formData","show"]),r(st,{show:!!a(L),formData:a(u),onA:s[2]||(s[2]=e=>Nt(e)),onClose:s[3]||(s[3]=e=>b(L)?L.value=!1:L=!1)},{header:w(()=>[t("h2",ve," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062F\u0641\u0639 "+l(a(u).car_type)+" \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",1)]),_:1},8,["show","formData"]),r(st,{show:!!a(W),formData:a(u),onA:s[4]||(s[4]=e=>At(e)),onClose:s[5]||(s[5]=e=>b(W)?W.value=!1:W=!1)},{header:w(()=>[t("h2",ke," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0639\u0627\u062F\u0629 \u062F\u0641\u0639\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 "+l(a(u).car_type)+" \u0644\u0644\u0631\u0635\u064A\u062F \u061F ",1)]),_:1},8,["show","formData"]),r(pe,{formData:a(u),show:!!a(T),onA:s[6]||(s[6]=e=>Jt(e)),onClose:s[7]||(s[7]=e=>b(T)?T.value=!1:T=!1)},{header:w(()=>[]),_:1},8,["formData","show"]),r(me,{formData:a(u),show:!!a(B),onA:s[8]||(s[8]=e=>at(e)),onClose:s[9]||(s[9]=e=>b(B)?B.value=!1:B=!1)},{header:w(()=>[]),_:1},8,["formData","show"]),r(_e,{formData:a(u),show:!!a(G),onA:s[10]||(s[10]=e=>at(e)),onClose:s[11]||(s[11]=e=>b(G)?G.value=!1:G=!1)},{header:w(()=>[]),_:1},8,["formData","show"]),r(ie,{formData:a(u),show:!!a(q),client:Y.clients,onA:s[12]||(s[12]=e=>Et(e)),onClose:s[13]||(s[13]=e=>b(q)?q.value=!1:q=!1)},{header:w(()=>[]),_:1},8,["formData","show","client"]),r(ce,{formData:a(u),show:!!a(F),onA:s[14]||(s[14]=e=>Tt(e)),onClose:s[15]||(s[15]=e=>b(F)?F.value=!1:F=!1)},{header:w(()=>[]),_:1},8,["formData","show"]),r(st,{show:!!a(z),formData:a(u),onA:s[16]||(s[16]=e=>Ft(e)),onClose:s[17]||(s[17]=e=>b(z)?z.value=!1:z=!1)},{header:w(()=>[we]),_:1},8,["show","formData"]),r(de,{show:!!a(P),data:a(P).toString(),onA:s[18]||(s[18]=e=>Pt(e,o.arg1)),onClose:s[19]||(s[19]=e=>b(P)?P.value=!1:P=!1)},null,8,["show","data"]),o.$page.props.success?(c(),i("div",$e,[t("div",Ce,[t("div",Ne,l(o.$page.props.success),1)])])):h("",!0),o.$page.props.auth.user.type_id==1||o.$page.props.auth.user.type_id==6?(c(),i("div",Ae,[t("h2",De,l(o.$t("sales_bill")),1),t("div",Pe,[t("div",Me,[t("div",Ie,[t("div",Se,[r(_,{class:"mb-1",for:"invoice_number",value:o.$t("Account")},null,8,["value"]),vt(t("select",{onChange:s[20]||(s[20]=e=>I()),"onUpdate:modelValue":s[21]||(s[21]=e=>b(v)?v.value=e:v=e),id:"default",class:"pr-8 border border-gray-300 text-gray-900 mb-6 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:border-gray-400 dark:placeholder-gray-400 dark:text-gray-600 dark:focus:ring-red-500 dark:focus:border-red-500"},[t("option",Fe,l(o.$t("selectCustomer")),1),(c(!0),i(V,null,X(Y.clients,(e,et)=>(c(),i(V,{key:et},[e.wallet.balance>0||e.id==a(v)?(c(),i("option",{key:0,value:e.id},l(e.name),9,Ee)):h("",!0)],64))),128))],544),[[se,a(v)]])]),t("div",null,[t("div",Te,[r(_,{for:"totalAmount",value:"\u0641\u0644\u062A\u0631\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u0643\u062A\u0645\u0644\u0629"}),t("div",Be,[t("input",{id:"bordered-checkbox-1",type:"checkbox",onChange:s[22]||(s[22]=e=>a(f)==!0?b(f)?f.value=!1:f=!1:b(f)?f.value=!0:f=!0),value:a(f),checked:!a(f),name:"bordered-checkbox",class:"w-4 h-4 mx-2 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,Ue),t("label",Re,l(a(f)==!1?" \u062A\u0645 \u0627\u0644\u0641\u0644\u062A\u0631":"\u062A\u0645 \u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0629"),1)])])]),t("div",Ve,[t("div",qe,[r(_,{for:"from",value:o.$t("from_date")},null,8,["value"]),r(y,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:a(C),"onUpdate:modelValue":s[23]||(s[23]=e=>b(C)?C.value=e:C=e)},null,8,["modelValue"])])]),t("div",ze,[t("div",je,[r(_,{for:"to",value:o.$t("to_date")},null,8,["value"]),r(y,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:a(N),"onUpdate:modelValue":s[24]||(s[24]=e=>b(N)?N.value=e:N=e)},null,8,["modelValue"])])]),t("div",He,[r(_,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),t("button",{onClick:s[25]||(s[25]=O(e=>a(K)(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},We)]),t("div",Oe,[r(_,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),t("a",{href:`/api/getIndexAccountsSelas?user_id=${a(v)}&from=${a(C)}&to=${a(N)}&print=1&showComplatedCars=${a(f)?0:1}`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-orange-500 rounded block text-center",style:{width:"100%"}},Je,8,Ye)]),t("div",Ke,[r(_,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),t("a",{href:`/api/getIndexAccountsSelas?user_id=${a(v)}&from=${a(C)}&to=${a(N)}&print=1&printExcel=1&showComplatedCars=${a(f)?0:1}`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded block text-center",style:{width:"100%"}},Ze,8,Qe)]),t("div",to,[r(_,{for:"car_total",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A"}),r(y,{id:"car_total",type:"text",class:"mt-1 block w-full",value:a(d).car_total,disabled:""},null,8,["value"])]),t("div",eo,[r(_,{for:"cars_sum",value:o.$t("Total_in_dollars")+" \u062C\u0645\u0631\u0643 "},null,8,["value"]),r(y,{id:"cars_sum",type:"text",class:"mt-1 block w-full",value:(n=a(d))==null?void 0:n.cars_sum,disabled:""},null,8,["value"])]),t("div",oo,[r(_,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u062F\u0641\u0648\u0639  \u062C\u0645\u0631\u0643 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),r(y,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:parseFloat((m=a(d))==null?void 0:m.cars_sum)-(parseFloat((J=(R=(g=a(d))==null?void 0:g.client)==null?void 0:R.wallet)==null?void 0:J.balance)+parseFloat((Q=a(d))==null?void 0:Q.cars_discount)),disabled:""},null,8,["value"])]),t("div",so,[r(_,{for:"cars_discount",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A  \u062C\u0645\u0631\u0643 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),r(y,{id:"cars_discount",type:"text",class:"mt-1 block w-full",value:(rt=a(d))==null?void 0:rt.cars_discount,disabled:""},null,8,["value"])]),t("div",ao,[r(_,{for:"cars_need_paid",value:"  \u0627\u0644\u0631\u0635\u064A\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),r(y,{id:"cars_need_paid",type:"number",class:"mt-1 block w-full",value:D().totalAmount*-1-((lt=a(d))==null?void 0:lt.cars_sum),disabled:""},null,8,["value"])]),D().totalAmount*-1-((dt=a(d))==null?void 0:dt.cars_sum)!=0?(c(),i("div",ro,[r(_,{for:"pay",value:"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629"}),a(S)?h("",!0):(c(),i("button",{key:0,onClick:s[26]||(s[26]=O(e=>Rt(),["prevent"])),disabled:a(M),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},io,8,lo)),a(S)?(c(),i("button",{key:1,onClick:s[27]||(s[27]=O(e=>Vt(),["prevent"])),disabled:a(M),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},po,8,co)):h("",!0)])):h("",!0),t("div",mo,[r(_,{for:"pay",value:"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A"}),a(j)?h("",!0):(c(),i("button",{key:0,onClick:s[28]||(s[28]=O(e=>qt(),["prevent"])),disabled:a(M),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-purple-500 rounded",style:{width:"100%"}},bo,8,_o)),a(j)?(c(),i("button",{key:1,onClick:s[29]||(s[29]=O(e=>zt(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},xo)):h("",!0)]),D().totalAmount*-1-((nt=a(d))==null?void 0:nt.cars_paid)!=0?(c(),i("div",fo,[r(_,{for:"cars_need_paid",value:"\u0627\u0644\u0631\u0635\u064A\u062F \u063A\u064A\u0631 \u0645\u0648\u0632\u0639 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),r(y,{id:"cars_need_paid",type:"number",class:"mt-1 block w-full",value:D().totalAmount*-1-((it=a(d))==null?void 0:it.cars_paid)},null,8,["value"])])):h("",!0),t("div",go,[r(_,{for:"contract_total",value:"\u0627\u0644\u0639\u0642\u0648\u062F \u0627\u0644\u0645\u0646\u062C\u0632\u0629"}),r(y,{id:"contract_total",type:"text",class:"mt-1 block w-full",value:a(d).contract_total,disabled:""},null,8,["value"])]),t("div",vo,[r(_,{for:"exit_car_total",value:"\u0627\u0644\u062E\u0631\u0648\u062C\u064A\u0627\u062A \u0627\u0644\u0645\u0646\u062C\u0632\u0629"}),r(y,{id:"exit_car_total",type:"text",class:"mt-1 block w-full",value:a(d).exit_car_total,disabled:""},null,8,["value"])]),t("div",ko,[r(_,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u064A\u0646 \u0639\u0642\u0648\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),r(y,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:(ct=a(d))==null?void 0:ct.contract_total_debit_Dollar,disabled:""},null,8,["value"])]),t("div",wo,[r(_,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u064A\u0646 \u0639\u0642\u0648\u062F \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631"}),r(y,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:(ut=a(d))==null?void 0:ut.contract_total_debit_Dinar,disabled:""},null,8,["value"])])]),a(S)?(c(),i("div",$o,[t("div",Co,[r(_,{for:"discount",value:"\u0627\u0644\u062E\u0635\u0645"}),r(y,{id:"discount",type:"number",onInput:Ot,class:"mt-1 block w-full",modelValue:a(U),"onUpdate:modelValue":s[30]||(s[30]=e=>b(U)?U.value=e:U=e)},null,8,["modelValue"])]),t("div",No,[r(_,{for:"percentage",value:" \u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0645\u0631\u0627\u062F \u062F\u0641\u0639\u0647"}),r(y,{id:"percentage",type:"number",onInput:Yt,class:"mt-1 block w-full",modelValue:a(A),"onUpdate:modelValue":s[31]||(s[31]=e=>b(A)?A.value=e:A=e)},null,8,["modelValue"])]),t("div",Ao,[r(_,{for:"discount",value:"\u0645\u0644\u0627\u062D\u0638\u0629"}),r(y,{id:"discount",type:"text",class:"mt-1 block w-full",modelValue:a(H),"onUpdate:modelValue":s[32]||(s[32]=e=>b(H)?H.value=e:H=e)},null,8,["modelValue"])]),t("div",Do,[r(_,{for:"pay",value:"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062F\u0641\u0639"}),t("button",{onClick:s[33]||(s[33]=O(e=>Bt(a(A),a(v),a(U),a(H)),["prevent"])),disabled:a(M),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},[a(tt)?(c(),i("span",Mo,"\u064A\u0631\u062C\u0649 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u0645\u0628\u0644\u063A \u0644")):h("",!0),a(M)?(c(),i("span",So,"\u062C\u0627\u0631\u064A \u0627\u0644\u0637\u0628\u0627\u0639\u0629...")):(c(),i("span",Io,"\u062F\u0641\u0639"))],8,Po)])])):h("",!0),a(j)?(c(),i("div",Fo,[t("table",Eo,[t("thead",To,[t("tr",Bo,[Uo,t("th",Ro,l(o.$t("date")),1),t("th",Vo,l(o.$t("description")),1),t("th",qo,l(o.$t("amount")),1),t("th",zo,l(o.$t("execute")),1)])]),t("tbody",null,[t("tr",jo,[Ho,Lo,Wo,Oo,t("td",Yo,[t("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${a(d).client.id}&from=${a(C)}&to=${a(N)}&print=4`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-blue-500 rounded"},[ot(" \u062C\u0645\u064A\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A "),r(kt)],8,Go)])]),(c(!0),i(V,null,X(a(d).transactions,e=>(c(),i(V,{key:e.id},[e.type=="out"&&e.amount<0&&e.is_pay==1?(c(),i("tr",Jo,[t("td",Ko,l(e.id),1),t("td",Qo,l(e.created),1),t("td",Xo,l(e.description),1),t("td",Zo,l(e.amount*-1),1),t("td",ts,[e.type=="out"&&e.amount<0?(c(),i("a",{key:0,target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${a(d).client.id}&from=${a(C)}&to=${a(N)}&print=2&transactions_id=${e.id}`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-green-500 rounded"},[r(kt)],8,es)):h("",!0)])])):h("",!0)],64))),128)),t("tr",os,[ss,t("td",null,l((pt=a(d))==null?void 0:pt.cars_discount),1),as,t("td",rs,l(D().totalAmount*-1),1),t("td",null,"\u0627\u0644\u0646\u062A\u0627\u062A\u062C : "+l(D().totalAmount*-1-parseInt((mt=a(d))==null?void 0:mt.cars_discount)),1)])])])])):h("",!0),t("div",null,[t("div",ls,[t("table",ds,[t("thead",ns,[t("tr",is,[t("th",cs,l(o.$t("no")),1),t("th",us,l(o.$t("car_type")),1),t("th",ps,l(o.$t("year")),1),t("th",ms,l(o.$t("color")),1),t("th",_s,l(o.$t("vin")),1),t("th",hs,l(o.$t("car_number")),1),t("th",bs,l(o.$t("dinar")),1),t("th",ys,l(o.$t("dolar_price")),1),t("th",xs,l(o.$t("dolar_custom")),1),t("th",fs,l(o.$t("note")),1),gs,vs,t("th",ks,l(o.$t("shipping_dolar")),1),t("th",ws,l(o.$t("coc_dolar")),1),t("th",$s,l(o.$t("checkout")),1),t("th",Cs,l(o.$t("expenses")),1),t("th",Ns,l(o.$t("total")),1),t("th",As,l(o.$t("paid")),1),t("th",Ds,l(o.$t("discount")),1),t("th",Ps,l(o.$t("date")),1),t("th",Ms,l(o.$t("execute")),1),Is,Ss])]),t("tbody",null,[(c(!0),i(V,null,X(a(d).data,(e,et)=>{var ht,bt,yt,xt,ft,gt;return vt((c(),i("tr",{key:e.id,class:re([{"bg-red-100 dark:bg-red-900":e.results==0,"bg-red-100 dark:bg-red-900":e.results==1,"bg-green-100 dark:bg-green-900":e.results==2,"bg-yellow-100 dark:bg-yellow-900":e.vin.startsWith(Y.q)||(e.car_number?e.car_number.toString().startsWith(Y.q):"")},"border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[t("td",Fs,l(et+1),1),t("td",Es,l(e.car_type),1),t("td",Ts,l(e.year),1),t("td",Bs,l(e.car_color),1),t("td",Us,l(e.vin),1),t("td",Rs,l(e.car_number),1),t("td",Vs,l(e.dinar_s),1),t("td",qs,l(e.dolar_price_s),1),t("td",zs,l((e.dinar_s/e.dolar_price_s*100).toFixed(0)||0),1),t("td",js,l(e.note),1),t("td",Hs,l((e.dinar_s/13e4*100).toFixed(0)||0),1),t("td",Ls,l(((e.dinar_s/13e4*100).toFixed(0)||0)-((e.dinar_s/e.dolar_price_s*100).toFixed(0)||0)),1),t("td",Ws,l(e.shipping_dolar_s),1),t("td",Os,l(e.coc_dolar_s),1),t("td",Ys,l(e.checkout_s),1),t("td",Gs,l(e.expenses_s),1),t("td",Js,l(e.total_s.toFixed(0)),1),t("td",Ks,l(e.paid),1),t("td",Qs,l(e.discount),1),t("td",Xs,l(e.date),1),t("td",Zs,[t("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-slate-500 rounded",onClick:k=>It(e)},[r(ye)],8,ta),t("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-orange-500 rounded",onClick:k=>Mt(e)},[r(be)],8,ea),e.total_s!=e.paid+e.discount?(c(),i("button",{key:0,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:k=>St(e)},[r(wt)],8,oa)):h("",!0),((ht=e.contract)==null?void 0:ht.price)!=((bt=e.contract)==null?void 0:bt.paid)||((yt=e.contract)==null?void 0:yt.price_dinar)!=((xt=e.contract)==null?void 0:xt.paid_dinar)?(c(),i("button",{key:1,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-pink-500 rounded",onClick:k=>Ht(e)},[r(wt)],8,sa)):h("",!0),e.contract?h("",!0):(c(),i("button",{key:2,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-yellow-500 rounded",onClick:k=>jt(e)},[r(fe)],8,aa)),e.is_exit?h("",!0):(c(),i("button",{key:3,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-red-500 rounded",onClick:k=>Lt(e)},[r(he)],8,ra)),e.is_exit?(c(),i("button",{key:4,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-blue-500 rounded",onClick:k=>Wt(e)},[r(xe)],8,la)):h("",!0)]),t("td",da,[(c(!0),i(V,null,X(e.car_images,(k,Zt)=>(c(),i("a",{key:Zt,href:Xt(k.name),style:{cursor:"pointer"},target:"_blank"},[t("img",{src:Qt(k.name),alt:"",class:"px-1",style:{"max-width":"80px","max-height":"50px",display:"inline"}},null,8,ia)],8,na))),128))]),t("td",ca,[D().totalAmount*-1-((ft=a(d))==null?void 0:ft.cars_paid)!=0?(c(),i("button",{key:0,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:k=>$t(e)}," \u062F\u0641\u0639 \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",8,ua)):h("",!0),D().totalAmount*-1-((gt=a(d))==null?void 0:gt.cars_sum)!=0&&e.paid?(c(),i("button",{key:1,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 mt-1 text-white mx-1 bg-red-500 rounded",onClick:k=>Ct(e)}," \u0627\u0639\u0627\u062F\u0629 \u0644\u0644\u0631\u0635\u064A\u062F ",8,pa)):h("",!0)])],2)),[[ae,e.results==2&&a(f)||e.results!=2]])}),128))])])])]),t("div",ma,[r(a(ne),{data:a(d),onPaginationChangePage:a(K),limit:2},null,8,["data","onPaginationChangePage"])])])])])):h("",!0),t("div",_a,[t("div",ha,[t("div",ba,[ot(" \u062A\u0648\u0642\u064A\u0639 \u0635\u0627\u062D\u0628 \u0627\u0644\u062D\u0633\u0627\u0628 "),ya,ot(" "+l((_t=a(d).client)==null?void 0:_t.name),1)]),xa,fa])])]}),_:1})],64))}};export{ja as default};
