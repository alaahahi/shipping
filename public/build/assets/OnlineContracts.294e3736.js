import{m as g,o as l,d as S,e as C,a as m,h as t,r as R,w as c,C as u,t as r,g as k,T as F,s as X,I as Y,f as h,u as b,i as A,F as P,H as Z,y as tt,z as E,n as et}from"./app.c8aaa45b.js";import{a as H,_ as at}from"./AuthenticatedLayout.d946f1e8.js";import"./vue-tailwind-datepicker.3b0b2fb0.js";import{t as O}from"./laravel-vue-pagination.es.4962c4f7.js";import{a as $}from"./index.a9387a80.js";import{p as ot}from"./pay.4e235362.js";const rt={key:0,class:"modal-mask"},st={class:"modal-wrapper"},dt={class:"modal-container dark:bg-gray-900"},nt={class:"modal-header"},it={class:"modal-body"},lt={class:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 gap-3 lg:gap-2"},ct={className:"mb-4 mx-5"},gt=t("label",{class:"dark:text-gray-200",for:"amountTotal"},"\u0633\u0639\u0631 \u0627\u0644\u0639\u0642\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1),ut={className:"mb-4 mx-5"},mt=t("label",{class:"dark:text-gray-200",for:"amountTotal"},"\u0633\u0639\u0631 \u0627\u0644\u0639\u0642\u062F \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631",-1),bt={class:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 gap-3 lg:gap-2"},yt={className:"mb-4 mx-5"},ft=t("label",{class:"dark:text-gray-200",for:"amountPayment"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u062F\u0641\u0639 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1),ht={className:"mb-4 mx-5"},pt=t("label",{class:"dark:text-gray-200",for:"amountPayment"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u062F\u0641\u0639 \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631",-1),xt={className:"mb-4 mx-5"},kt={class:"dark:text-gray-200",for:"notePayment"},_t={class:"modal-footer my-2"},vt={class:"flex flex-row"},wt={class:"basis-1/2 px-4"},$t={class:"basis-1/2 px-4"},Ct=["disabled"],Dt={__name:"ModalAddCarContracts",props:{show:Boolean,company:Array,color:Array,carModel:Array,name:Array,client:Array,user:Array,expenses:Array,formData:Object},setup(o){return g(0),(n,s)=>(l(),S(F,{name:"modal"},{default:C(()=>[o.show?(l(),m("div",rt,[t("div",st,[t("div",dt,[t("div",nt,[R(n.$slots,"header")]),t("div",it,[t("div",null,[t("div",lt,[t("div",ct,[gt,c(t("input",{id:"amountTotal",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[0]||(s[0]=d=>o.formData.prices=d)},null,512),[[u,o.formData.prices]])]),t("div",ut,[mt,c(t("input",{id:"amountTotal",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[1]||(s[1]=d=>o.formData.price_dinars=d)},null,512),[[u,o.formData.price_dinars]])])]),t("div",bt,[t("div",yt,[ft,c(t("input",{id:"amountPayment",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[2]||(s[2]=d=>o.formData.paids=d)},null,512),[[u,o.formData.paids]])]),t("div",ht,[pt,c(t("input",{id:"amountPayment",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[3]||(s[3]=d=>o.formData.paid_dinars=d)},null,512),[[u,o.formData.paid_dinars]])])]),t("div",xt,[t("label",kt,r(n.$t("note")),1),c(t("input",{id:"notePayment",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[4]||(s[4]=d=>o.formData.note=d)},null,512),[[u,o.formData.note]])])])]),t("div",_t,[t("div",vt,[t("div",wt,[t("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:s[5]||(s[5]=d=>{n.$emit("close")})},r(n.$t("cancel")),1)]),t("div",$t,[t("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:s[6]||(s[6]=d=>{n.$emit("a",o.formData),o.formData=""}),disabled:!(o.formData.prices||o.formData.price_dinars)},r(n.$t("yes")),9,Ct)])])])])])])):k("",!0)]),_:3}))}};const Mt={key:0,class:"modal-mask"},Nt={class:"modal-wrapper"},At={class:"modal-container dark:bg-gray-900"},Pt={class:"modal-header"},jt={class:"modal-body"},Ut={class:"grid grid-cols-3 md:grid-cols-3 lg:grid-cols-3 gap-3 lg:gap-3"},Bt={className:"mb-4 mx-5"},zt={class:"dark:text-gray-200",for:"user_id"},It={className:"mb-4 mx-5"},Vt={class:"dark:text-gray-200",for:"user_id"},Et={className:"mb-4 mx-5"},Ot={class:"dark:text-gray-200",for:"userId"},Tt=["value"],St={class:"grid grid-cols-3 md:grid-cols-3 lg:grid-cols-3 gap-3 lg:gap-3"},Rt={className:"mb-4 mx-5"},Ft={class:"dark:text-gray-200",for:"user_id"},Ht={className:"mb-4 mx-5"},qt={class:"dark:text-gray-200",for:"user_id"},Lt={className:"mb-4 mx-5"},Gt={class:"dark:text-gray-200",for:"userId"},Jt=["value"],Kt={className:"mb-4 mx-5"},Qt={class:"dark:text-gray-200",for:"amountPayment"},Wt={className:"mb-4 mx-5"},Xt={class:"dark:text-gray-200",for:"amountPayment"},Yt={className:"mb-4 mx-5"},Zt={class:"dark:text-gray-200",for:"notePayment"},te={class:"modal-footer my-2"},ee={class:"flex flex-row"},ae={class:"basis-1/2 px-4"},oe={class:"basis-1/2 px-4"},re=["disabled"],se={__name:"ModalEditCarContracts",props:{show:Boolean,company:Array,color:Array,carModel:Array,name:Array,client:Array,user:Array,expenses:Array,formData:Object},setup(o){return g(0),(n,s)=>(l(),S(F,{name:"modal"},{default:C(()=>[o.show?(l(),m("div",Mt,[t("div",Nt,[t("div",At,[t("div",Pt,[R(n.$slots,"header")]),t("div",jt,[t("div",Ut,[t("div",Bt,[t("label",zt,r(n.$t("totalForCar"))+" \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",1),c(t("input",{id:"id",type:"text",style:{display:"none"},disabled:"","onUpdate:modelValue":s[0]||(s[0]=d=>o.formData.id=d)},null,512),[[u,o.formData.id]]),c(t("input",{id:"id",type:"text",disabled:"",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[1]||(s[1]=d=>o.formData.contract.price=d)},null,512),[[u,o.formData.contract.price]])]),t("div",It,[t("label",Vt,r(n.$t("paid_amount"))+" \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",1),c(t("input",{id:"id",type:"text",disabled:"",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[2]||(s[2]=d=>o.formData.contract.paid=d)},null,512),[[u,o.formData.contract.paid]])]),t("div",Et,[t("label",Ot,r(n.$t("debtRemaining"))+" \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",1),t("input",{id:"id",type:"text",disabled:"",value:o.formData.contract.price-o.formData.contract.paid,class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900"},null,8,Tt)])]),t("div",St,[t("div",Rt,[t("label",Ft,r(n.$t("totalForCar"))+" \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631",1),c(t("input",{id:"id",type:"text",style:{display:"none"},disabled:"","onUpdate:modelValue":s[3]||(s[3]=d=>o.formData.id=d)},null,512),[[u,o.formData.id]]),c(t("input",{id:"id",type:"text",disabled:"",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[4]||(s[4]=d=>o.formData.contract.price_dinar=d)},null,512),[[u,o.formData.contract.price_dinar]])]),t("div",Ht,[t("label",qt,r(n.$t("paid_amount"))+" \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631",1),c(t("input",{id:"id",type:"text",disabled:"",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[5]||(s[5]=d=>o.formData.contract.paid_dinar=d)},null,512),[[u,o.formData.contract.paid_dinar]])]),t("div",Lt,[t("label",Gt,r(n.$t("debtRemaining"))+" \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631",1),t("input",{id:"id",type:"text",disabled:"",value:o.formData.contract.price_dinar-o.formData.contract.paid_dinar,class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900"},null,8,Jt)])]),t("div",null,[t("div",Kt,[t("label",Qt,r(n.$t("amount"))+" \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",1),c(t("input",{id:"amountPayment",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[6]||(s[6]=d=>o.formData.paids=d)},null,512),[[u,o.formData.paids]])]),t("div",Wt,[t("label",Xt,r(n.$t("amount"))+" \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631",1),c(t("input",{id:"amountPayment",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[7]||(s[7]=d=>o.formData.paid_dinars=d)},null,512),[[u,o.formData.paid_dinars]])]),t("div",Yt,[t("label",Zt,r(n.$t("note")),1),c(t("input",{id:"notePayment",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[8]||(s[8]=d=>o.formData.notePayment=d)},null,512),[[u,o.formData.notePayment]])])])]),t("div",te,[t("div",ee,[t("div",ae,[t("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:s[9]||(s[9]=d=>{n.$emit("close")})},r(n.$t("cancel")),1)]),t("div",oe,[t("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:s[10]||(s[10]=d=>{n.$emit("a",o.formData),o.formData=""}),disabled:!(o.formData.paids||o.formData.paid_dinars)},r(n.$t("yes")),9,re)])])])])])])):k("",!0)]),_:3}))}},de={},ne={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},ie=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"},null,-1),le=[ie];function ce(o,n){return l(),m("svg",ne,le)}const T=H(de,[["render",ce]]),ge={},ue={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},me=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 10.5v6m3-3H9m4.06-7.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"},null,-1),be=[me];function ye(o,n){return l(),m("svg",ue,be)}const fe=H(ge,[["render",ye]]),he={key:0,class:"py-2"},pe={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},xe={class:"bg-white overflow-hidden shadow-sm"},ke={class:"p-6 dark:bg-gray-900"},_e={class:"flex flex-col"},ve={class:"grid grid-cols-2 md:grid-cols-5 lg:grid-cols-5 gap-2 lg:gap-1"},we={class:"flex items-center max-w-5xl"},$e=t("label",{class:"dark:text-gray-200",for:"simple-search"},null,-1),Ce={class:"relative w-full"},De=t("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[t("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-200 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),Me={value:"undefined",disabled:""},Ne={value:""},Ae=["value"],Pe={class:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-4 lg:grid-cols-5 xl:grid-cols-7"},je={class:"flex items-start rounded-xl dark:bg-gray-600 dark:text-gray-300 bg-white p-4 shadow-lg"},Ue=t("div",{class:"flex h-12 w-12 items-center justify-center rounded-full border border-orange-100 bg-orange-50"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-orange-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1),Be={class:"mr-4"},ze={class:"font-semibold"},Ie={class:"mt-2 text-sm text-gray-500 dark:text-gray-200"},Ve={class:"flex items-start rounded-xl dark:bg-gray-600 dark:text-gray-300 bg-white p-4 shadow-lg"},Ee=t("div",{class:"flex h-12 w-12 items-center justify-center rounded-full border border-orange-100 bg-orange-50"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-orange-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1),Oe={class:"mr-4"},Te={class:"font-semibold"},Se={class:"mt-2 text-sm text-gray-500 dark:text-gray-200"},Re={class:"flex items-start rounded-xl dark:bg-gray-600 dark:text-gray-300 bg-white p-4 shadow-lg"},Fe=t("div",{class:"flex h-12 w-12 items-center justify-center rounded-full border border-orange-100 bg-orange-50"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-orange-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1),He={class:"mr-4"},qe={class:"font-semibold"},Le={class:"mt-2 text-sm text-gray-500 dark:text-gray-200"},Ge={class:"flex items-start rounded-xl dark:bg-gray-600 dark:text-gray-300 bg-white p-4 shadow-lg"},Je=t("div",{class:"flex h-12 w-12 items-center justify-center rounded-full border border-orange-100 bg-orange-50"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-orange-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1),Ke={class:"mr-4"},Qe={class:"font-semibold"},We={class:"mt-2 text-sm text-gray-500 dark:text-gray-200"},Xe={class:"flex items-start rounded-xl dark:bg-gray-600 dark:text-gray-300 bg-white p-4 shadow-lg"},Ye=t("div",{class:"flex h-12 w-12 items-center justify-center rounded-full border border-red-100 bg-red-50"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1),Ze={class:"mr-4"},ta={class:"font-semibold"},ea={class:"mt-2 text-sm text-gray-500 dark:text-gray-200"},aa={class:"mt-3 text-center",style:{direction:"ltr"}},oa={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},ra={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},sa={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},da={scope:"col",class:"px-1 py-3 text-base"},na={scope:"col",class:"px-1 py-3 text-base"},ia={scope:"col",class:"px-1 py-3 text-base"},la={scope:"col",class:"px-1 py-3 text-base"},ca={scope:"col",class:"px-1 py-3 text-base"},ga={scope:"col",class:"px-1 py-3 text-base"},ua={scope:"col",class:"px-1 py-3 text-base"},ma={scope:"col",class:"px-1 py-3 text-base"},ba=t("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0645\u062F\u0641\u0648\u0639 \u062F\u0648\u0644\u0627\u0631 ",-1),ya=t("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0645\u062F\u0641\u0648\u0639 \u062F\u064A\u0646\u0627\u0631 ",-1),fa={scope:"col",class:"px-1 py-3 text-base",style:{width:"150px"}},ha={className:"border dark:border-gray-800 text-center px-2 py-2 "},pa={className:"border dark:border-gray-800 text-center px-2 py-2 "},xa={className:"border dark:border-gray-800 text-center px-2 py-2 "},ka={className:"border dark:border-gray-800 text-center px-2 py-2 "},_a={className:"border dark:border-gray-800 text-center px-2 py-2 "},va={className:"border dark:border-gray-800 text-center px-2 py-2 "},wa={className:"border dark:border-gray-800 text-center px-2 py-2 "},$a={className:"border dark:border-gray-800 text-center px-2 py-2 "},Ca={className:"border dark:border-gray-800 text-center px-2 py-2 "},Da={className:"border dark:border-gray-800 text-center px-2 py-2 "},Ma={className:"border dark:border-gray-800 text-start px-2 py-2"},Na=["onClick"],Aa=["onClick"],Pa=["onClick"],ja=["onClick"],Ua={class:"mt-3 text-center",style:{direction:"ltr"}},Ba=t("div",null,null,-1),Sa={__name:"OnlineContracts",props:{client:Array},setup(o){X(),g({});const n=Y();let s=g(""),d=g(!1),y=g(!1),j=g(0),U=g(0),B=g(0),z=g(0),I=g(0);function q(e={}){_.value=e,_.value.prices=100,_.value.price_dinars=5e4,d.value=!0}function L(e={}){_.value=e,y.value=!0}const _=g({});g({});const v=g([]);g({startDate:"",endDate:""});const p=async(e=1,i="")=>{const a=await fetch(`/getIndexCar?page=${e}&user_id=${i}`);v.value=await a.json()},G=async(e="",i=1)=>{const a=await fetch(`/getIndexCarSearch?page=${i}&q=${e}`);v.value=await a.json()},M=async()=>{$.get("/api/totalInfo").then(e=>{j.value=e.data.data.onlineContracts,B.value=e.data.data.onlineContractsDinar,z.value=e.data.data.debtOnlineContractsDinar,U.value=e.data.data.debtOnlineContracts,I.value=e.data.data.allCars}).catch(e=>{console.error(e)})};M(),p();function J(e){var i,a,f,x,w;$.get(`/api/addCarContracts?car_id=${e.id}&price=${(i=e.prices)!=null?i:0}&price_dinar=${(a=e.price_dinars)!=null?a:0}&paid=${(f=e.paids)!=null?f:0}&paid_dinar=${(x=e.paid_dinars)!=null?x:0}&note=${(w=e.note)!=null?w:""}`).then(D=>{d.value=!1,n.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u0628\u0646\u062C\u0627\u062D ",{timeout:4e3,position:"bottom-right",rtl:!0}),p(),M()}).catch(D=>{d.value=!1,n.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function K(e){var i,a,f;$.get(`/api/editCarContracts?car_id=${e.id}&paid=${(i=e.paids)!=null?i:0}&paid_dinar=${(a=e.paid_dinars)!=null?a:0}&note=${(f=e.notePayment)!=null?f:""}`).then(x=>{y.value=!1,n.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+e.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),p(),M()}).catch(x=>{y.value=!1,n.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Q(e){$.get(`/api/makeCarExit?car_id=${e}`).then(i=>{y.value=!1,n.success(" \u062A\u0645 \u062A\u0639\u062F\u064A\u0644 \u062E\u0631\u0648\u062C\u064A\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),p()}).catch(i=>{y.value=!1,n.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function W(e){$.get(`/api/unMakeCarExit?car_id=${e}`).then(i=>{y.value=!1,n.success(" \u062A\u0645 \u062A\u0639\u062F\u064A\u0644 \u062E\u0631\u0648\u062C\u064A\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),p()}).catch(i=>{y.value=!1,n.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}return(e,i)=>(l(),m(P,null,[h(b(Z),{title:"Dashboard"}),h(Dt,{formData:_.value,show:!!b(d),user:e.user,onA:i[0]||(i[0]=a=>J(a)),onClose:i[1]||(i[1]=a=>A(d)?d.value=!1:d=!1)},{header:C(()=>[]),_:1},8,["formData","show","user"]),h(se,{formData:_.value,show:!!b(y),user:e.user,onA:i[2]||(i[2]=a=>K(a)),onClose:i[3]||(i[3]=a=>A(y)?y.value=!1:y=!1)},{header:C(()=>[]),_:1},8,["formData","show","user"]),h(at,null,{default:C(()=>[e.$page.props.auth.user.type_id==1?(l(),m("div",he,[t("div",pe,[t("div",xe,[t("div",ke,[t("div",_e,[t("div",ve,[t("div",null,[t("form",we,[$e,t("div",Ce,[De,c(t("input",{"onUpdate:modelValue":i[4]||(i[4]=a=>A(s)?s.value=a:s=a),onInput:i[5]||(i[5]=a=>G(b(s))),type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"\u0628\u062D\u062B",required:""},null,544),[[u,b(s)]])])])]),t("div",null,[c(t("select",{onChange:i[6]||(i[6]=a=>p(1,e.user_id)),"onUpdate:modelValue":i[7]||(i[7]=a=>e.user_id=a),id:"default",class:"pr-8 bg-gray-50 border border-gray-300 text-gray-900 mb-6 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-red-500 dark:focus:border-red-500"},[t("option",Me,r(e.$t("selectCustomer")),1),t("option",Ne,r(e.$t("allOwners")),1),(l(!0),m(P,null,E(o.client,(a,f)=>(l(),m("option",{key:f,value:a.id},r(a.name),9,Ae))),128))],544),[[tt,e.user_id]])])]),t("div",null,[t("div",Pe,[t("div",je,[Ue,t("div",Be,[t("h2",ze,r(e.$t("online_contracts")),1),t("p",Ie,r(b(j))+" \u062F\u0648\u0644\u0627\u0631",1)])]),t("div",Ve,[Ee,t("div",Oe,[t("h2",Te,r(e.$t("debtOnlineContracts")),1),t("p",Se,r(b(U))+" \u062F\u0648\u0644\u0627\u0631",1)])]),t("div",Re,[Fe,t("div",He,[t("h2",qe,r(e.$t("online_contracts")),1),t("p",Le,r(b(B))+" \u062F\u064A\u0646\u0627\u0631",1)])]),t("div",Ge,[Je,t("div",Ke,[t("h2",Qe,r(e.$t("debtOnlineContracts")),1),t("p",We,r(b(z))+" \u062F\u064A\u0646\u0627\u0631",1)])]),t("div",Xe,[Ye,t("div",Ze,[t("h2",ta,r(e.$t("all_cars")),1),t("p",ea,r(b(I)),1)])])])]),t("div",null,[t("div",null,[t("div",aa,[h(b(O),{data:v.value,onPaginationChangePage:p,limit:10,"item-classes":["bg-white","dark:bg-gray-600","text-gray-500","dark:text-gray-300","border-gray-300","dark:border-gray-900","hover:bg-gray-200"],activeClasses:["bg-rose-50","border-rose-500","text-rose-600"]},null,8,["data"])])]),t("div",oa,[t("table",ra,[t("thead",sa,[t("tr",null,[t("th",da,r(e.$t("no")),1),t("th",na,r(e.$t("car_owner")),1),t("th",ia,r(e.$t("car_type")),1),t("th",la,r(e.$t("year")),1),t("th",ca,r(e.$t("color")),1),t("th",ga,r(e.$t("vin")),1),t("th",ua,r(e.$t("car_number")),1),t("th",ma,r(e.$t("date")),1),ba,ya,t("th",fa,r(e.$t("execute")),1)])]),t("tbody",null,[(l(!0),m(P,null,E(v.value.data,a=>{var f,x,w,D,V;return l(),m("tr",{key:a.id,class:et([a.results==0?"":a.results==1?"bg-red-100 dark:bg-red-900":"bg-green-100 dark:bg-green-900","bg-white border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[t("td",ha,r(a.no),1),t("td",pa,r((f=a.client)==null?void 0:f.name),1),t("td",xa,r(a.car_type),1),t("td",ka,r(a.year),1),t("td",_a,r(a.car_color),1),t("td",va,r(a.vin),1),t("td",wa,r(a.car_number),1),t("td",$a,r(a.date),1),t("td",Ca,r(((x=a.contract)==null?void 0:x.paid)||0),1),t("td",Da,r(((w=a.contract)==null?void 0:w.paid_dinar)||0),1),t("td",Ma,[a.contract&&((D=a.contract)==null?void 0:D.price)!=((V=a.contract)==null?void 0:V.paid)?(l(),m("button",{key:0,tabIndex:"1",class:"px-2 py-1 text-white mx-1 bg-pink-500 rounded",onClick:N=>L(a)},[h(ot)],8,Na)):k("",!0),a.contract?k("",!0):(l(),m("button",{key:1,tabIndex:"1",class:"px-2 py-1 text-white mx-1 bg-yellow-500 rounded",onClick:N=>q(a)},[h(fe)],8,Aa)),a.is_exit==0?(l(),m("button",{key:2,tabIndex:"1",class:"px-2 py-1 text-white mx-1 bg-red-500 rounded",onClick:N=>Q(a.id)},[h(T)],8,Pa)):k("",!0),a.is_exit==1?(l(),m("button",{key:3,tabIndex:"1",class:"px-2 py-1 text-white mx-1 bg-green-500 rounded",onClick:N=>W(a.id)},[h(T)],8,ja)):k("",!0)])],2)}),128))])])]),t("div",Ua,[h(b(O),{data:v.value,onPaginationChangePage:p,limit:10,"item-classes":["bg-white","dark:bg-gray-600","text-gray-500","dark:text-gray-300","border-gray-300","dark:border-gray-900","hover:bg-gray-200"],activeClasses:["bg-rose-50","border-rose-500","text-rose-600"]},null,8,["data"])])])])])])])])):k("",!0),Ba]),_:1})],64))}};export{Sa as default};
