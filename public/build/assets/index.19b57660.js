import{x as L,z as R,r as a,a as g,g as d,j as l,w as u,k as b,F as M,o as y,H as T,b as e,e as E,v as F,t as r,h as H,n as U,L as G,i as W}from"./app.763083a4.js";import{_ as J}from"./AuthenticatedLayout.efe21604.js";import{p as K}from"./print.1654ee50.js";import{t as O}from"./trash.59453f31.js";import{e as Q}from"./edit.3ead836a.js";import{_ as X}from"./ModalAddCarPayment.84f4ef43.js";import{M as Y}from"./ModalDelCar.189c0100.js";import{_ as Z}from"./ModalEditCar_S.41fe4dd3.js";import{W as V}from"./v3-infinite-loading.es.d9eba18b.js";import{d as ee}from"./debounce.d5aee8fd.js";import{a as f}from"./index.4cf09782.js";/* empty css                                                    */import"./Uploader.7e9c7c34.js";/* empty css                                                                 */const te=e("h2",{class:"my-5 dark:text-white text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0639\u0642\u062F \u061F ",-1),se={key:0,class:"py-2"},oe={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},re={class:"bg-white overflow-hidden shadow-sm"},ae={class:"p-6 dark:bg-gray-900"},le={class:"flex flex-col"},de={class:"grid grid-cols-2 md:grid-cols-5 lg:grid-cols-5 gap-2 lg:gap-1"},ne={class:"flex items-center max-w-5xl"},ie=e("label",{class:"dark:text-gray-200",for:"simple-search"},null,-1),ce={class:"relative w-full"},pe=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[e("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-200 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),_e=e("div",null,null,-1),xe={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},ue={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},he={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},me=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0627\u0644\u0628\u0627\u0626\u0639 ",-1),ge=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u062F\u064A\u0646 ",-1),be=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u062F\u064A\u0646 \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 ",-1),ye=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0627\u0644\u0633\u064A\u0627\u0631\u0629 ",-1),fe=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0635\u064A ",-1),ve=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0644\u0648\u0646 ",-1),ke=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0633\u0639\u0631 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 ",-1),we=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0627\u0644\u0645\u062F\u0641\u0648\u0639 ",-1),Ce=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0627\u0644\u0645\u062A\u0628\u0642\u064A ",-1),Ne=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0628\u062A\u0627\u0631\u064A\u062E ",-1),De=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0627\u0644\u0645\u0634\u062A\u0631\u064A ",-1),$e=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u062F\u064A\u0646 ",-1),Me=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u062F\u064A\u0646 \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 ",-1),Ie=e("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0645\u0644\u0627\u062D\u0638\u0629 ",-1),Ae={scope:"col",class:"px-1 py-3 text-base",style:{width:"150px"}},Pe={className:"border dark:border-gray-800 text-center px-1 py-2 "},Be={className:"border dark:border-gray-800 text-center px-1 py-2 "},je={className:"border dark:border-gray-800 text-center px-1 py-2 "},ze={className:"border dark:border-gray-800 text-center px-1 py-2 "},Se={className:"border dark:border-gray-800 text-center px-1 py-2 "},qe={className:"border dark:border-gray-800 text-center px-1 py-2 "},Le={className:"border dark:border-gray-800 text-center px-1 py-2 "},Re={className:"border dark:border-gray-800 text-center px-1 py-2 "},Te={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ee={className:"border dark:border-gray-800 text-center px-1 py-2 "},Fe={className:"border dark:border-gray-800 text-center px-1 py-2 "},He={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ue={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ge={className:"border dark:border-gray-800 text-center px-1 py-2 "},We={className:"border dark:border-gray-800 text-start px-1 py-2"},Je=["onClick"],Ke=["href"],Oe={class:"spaner"},Qe={class:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-4 lg:grid-cols-5 xl:grid-cols-7"},Xe={class:"flex items-start rounded-xl dark:bg-gray-600 dark:text-gray-300 bg-white p-4 shadow-lg"},Ye=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-full border border-red-100 bg-red-50"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1),Ze={class:"mr-4"},Ve=e("h2",{class:"font-semibold"},"\u062C\u0645\u064A\u0639 \u0627\u0644\u0639\u0642\u0648\u062F",-1),et={class:"mt-2 text-sm text-gray-500 dark:text-gray-200"},tt=e("div",null,null,-1),mt={__name:"index",props:{client:Array},setup(I){L();const i=R();let v=a(!1);a(!1),a(!1);let c=a(!1),p=a(!1),n=a(!1);a(0);let N=a(0);function A(o={}){h.value=o,n.value=!0}const h=a({}),_=a([]);let k=a(!1),P=0,w=1,x="";const m=()=>{w=0,_.value.length=0,k.value=!k.value},B=async o=>{console.log(o);try{const s=await f.get("/api/getIndexContractCar",{params:{limit:100,page:w,q:x,user_id:P}}),t=s.data;N.value=s.data.total,t.data.length<100?(_.value.push(...t.data),o.complete()):(_.value.push(...t.data),o.loaded()),w++}catch(s){console.log(s)}};function j(o){p.value=!1,f.post("/api/updateCarsS",o).then(s=>{v.value=!1,i.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),getcountTotalInfo(),m()}).catch(s=>{v.value=!1,i.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function z(o){f.post("/api/DelCarContract",o).then(s=>{n.value=!1,i.success("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0639\u0642\u062F \u0628\u0646\u062C\u0627\u062D",{timeout:3e3,position:"bottom-right",rtl:!0}),m()}).catch(s=>{console.error(s)})}function S(o){var s,t,C;f.get(`/api/addPaymentCar?car_id=${o.id}&discount=${(s=o.discountPayment)!=null?s:0}&amount=${(t=o.amountPayment)!=null?t:0}&note=${(C=o.notePayment)!=null?C:""}`).then($=>{m(),c.value=!1,i.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+o.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0});let q=$.data;window.open(`/api/getIndexAccountsSelas?user_id=${o.client.id}&print=2&transactions_id=${q.id}`,"_blank")}).catch($=>{v.value=!1,i.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}const D=ee(m,500);return(o,s)=>(y(),g(M,null,[d(l(T),{title:"Dashboard"}),d(Z,{formData:h.value,show:!!l(p),client:I.client,onA:s[0]||(s[0]=t=>j(t)),onClose:s[1]||(s[1]=t=>b(p)?p.value=!1:p=!1)},{header:u(()=>[]),_:1},8,["formData","show","client"]),d(X,{formData:h.value,show:!!l(c),onA:s[2]||(s[2]=t=>S(t)),onClose:s[3]||(s[3]=t=>b(c)?c.value=!1:c=!1)},{header:u(()=>[]),_:1},8,["formData","show"]),d(Y,{show:!!l(n),formData:h.value,onA:s[4]||(s[4]=t=>z(t)),onClose:s[5]||(s[5]=t=>b(n)?n.value=!1:n=!1)},{header:u(()=>[te]),_:1},8,["show","formData"]),d(J,null,{default:u(()=>[o.$page.props.auth.user.type_id==8?(y(),g("div",se,[e("div",oe,[e("div",re,[e("div",ae,[e("div",le,[e("div",de,[e("div",null,[e("form",ne,[ie,e("div",ce,[pe,E(e("input",{"onUpdate:modelValue":s[6]||(s[6]=t=>b(x)?x.value=t:x=t),onInput:s[7]||(s[7]=(...t)=>l(D)&&l(D)(...t)),type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"\u0628\u062D\u062B",required:""},null,544),[[F,l(x)]])])])])]),e("div",null,[_e,e("div",xe,[e("table",ue,[e("thead",he,[e("tr",null,[me,ge,be,ye,fe,ve,ke,we,Ce,Ne,De,$e,Me,Ie,e("th",Ae,r(o.$t("execute")),1)])]),e("tbody",null,[(y(!0),g(M,null,H(_.value,t=>(y(),g("tr",{key:t.id,class:U([t.status==0?"":t.status==1?"bg-red-100 dark:bg-red-900":"bg-green-100 dark:bg-green-900","bg-white border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[e("td",Pe,r(t.name_seller),1),e("td",Be,r(t.tex_seller-t.tex_seller_paid),1),e("td",je,r(t.tex_seller_dinar-t.tex_seller_dinar_paid),1),e("td",ze,r(t.car_name),1),e("td",Se,r(t.vin),1),e("td",qe,r(t.color),1),e("td",Le,r(t.car_price),1),e("td",Re,r(t.car_paid),1),e("td",Te,r(t.car_price-t.car_paid),1),e("td",Ee,r(t.created),1),e("td",Fe,r(t.name_buyer),1),e("td",He,r(t.tex_buyer-t.tex_buyer_paid),1),e("td",Ue,r(t.tex_buyer_dinar-t.tex_buyer_dinar_paid),1),e("td",Ge,r(t.system_note),1),e("td",We,[d(l(G),{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-slate-500 rounded inline-flex",href:`/contract/${t.id}`},{default:u(()=>[d(Q)]),_:2},1032,["href"]),e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-orange-500 rounded",onClick:C=>A(t)},[d(O)],8,Je),e("a",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-blue-600 rounded inline-flex",href:`/contract_print/${t.id}`,target:"_blank"},[d(K)],8,Ke)])],2))),128))])])])]),e("div",Oe,[d(l(V),{car:_.value,onInfinite:B,identifier:l(k)},null,8,["car","identifier"])]),e("div",null,[e("div",Qe,[e("div",Xe,[Ye,e("div",Ze,[Ve,e("p",et,r(l(N)),1)])])])])])])])])])):W("",!0),tt]),_:1})],64))}};export{mt as default};
