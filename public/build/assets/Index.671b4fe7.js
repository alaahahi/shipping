import{r as b,o as d,c as Q,w as N,a as i,b as t,d as xt,n as A,t as l,e as H,v as K,f as B,g,F as V,h as W,i as x,T as ft,j as be,k as Tt,u as ce,l as me,m as At,p as ye,q as c,H as ge,s as I,x as xe,L as ct}from"./app.db3c5b1f.js";import{_ as fe}from"./AuthenticatedLayout.7b3c75da.js";/* empty css                                              */import{M as ve,_ as he,a as ke,b as $e,c as we,i as _e}from"./imags.5d1b5501.js";import{_ as Ne,a as Ce}from"./ModalAddExpenses.2b403d0f.js";import{_ as X}from"./InputLabel.ad39ebfe.js";import{_ as ot}from"./TextInput.41c95fc1.js";import{p as J}from"./print.ab93e2fe.js";/* empty css                                                            */import{a as C}from"./index.bfdbbc3c.js";import{t as De}from"./trash.d5d0b0b2.js";import{e as Te}from"./edit.e9b158eb.js";import{W as Ae}from"./v3-infinite-loading.es.2c2e6b43.js";import{d as Me}from"./debounce.c8748994.js";import{f as Ee}from"./datetime.47733478.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./Uploader.d18eb0fe.js";/* empty css                                                                 *//* empty css                                                         */const Ue={key:0,class:"modal-mask"},Ie={class:"modal-wrapper max-h-[80vh]"},Se={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},Be={class:"modal-header"},Ve={class:"modal-body"},Oe={class:"text-sm font-medium text-center text-gray-500 border-b border-gray-200 dark:text-gray-400 dark:border-gray-700"},Ge={class:"flex flex-wrap -mb-px"},je={key:0},Fe={className:"mb-4 mx-5"},He={class:"dark:text-gray-200",for:"expens_amount"},Le={className:"mb-4 mx-5"},Re={class:"dark:text-gray-200",for:"expenses_id"},We={className:"mb-4 mx-5"},Ze={class:"dark:text-gray-200",for:"expens_amount"},qe=["value"],Pe={className:"mb-4 mx-5"},Ye={class:"dark:text-gray-200",for:"note"},ze={key:1},Xe={class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},Je={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},Ke={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Qe={class:"bg-rose-500 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},ts={className:"px-1 py-2 text-base"},es={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},ss={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},as={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},rs=["href"],os={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ds={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ls={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ns={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},is={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},us={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ps=["href"],bs={class:"modal-footer my-2"},cs={class:"flex flex-row"},ms={class:"basis-1/2 px-4"},ys={class:"basis-1/2 px-4"},gs=["disabled"],xs={__name:"ModalAddGenExpenses",props:{show:Boolean,company:Array,color:Array,carModel:Array,name:Array,client:Array,user:Array,expenses:Array,GenExpenses:Array,formData:Object},setup(m){const D=b("add"),$=f=>{D.value=f};return(f,p)=>(d(),Q(ft,{name:"modal"},{default:N(()=>{var v;return[m.show?(d(),i("div",Ue,[t("div",Ie,[t("div",Se,[t("div",Be,[xt(f.$slots,"header")]),t("div",Ve,[t("div",Oe,[t("ul",Ge,[t("li",{class:"mr-2",onClick:p[0]||(p[0]=y=>$("add"))},[t("button",{class:A(["inline-block p-4 border-b-2 border-transparent rounded-t-lg",D.value=="add"?"dark:text-blue-500 dark:border-blue-500":"hover:text-gray-600 hover:border-gray-300"])}," \u0627\u0636\u0627\u0641\u0629 ",2)]),t("li",{class:"mr-2",onClick:p[1]||(p[1]=y=>$("record"))},[t("button",{class:A(["inline-block p-4 border-b-2 border-transparent rounded-t-lg",D.value=="record"?"dark:text-blue-500 dark:border-blue-500":"hover:text-gray-600 hover:border-gray-300"])}," \u0627\u0644\u0633\u062C\u0644 ",2)])])]),D.value=="add"?(d(),i("div",je,[t("div",null,[p[7]||(p[7]=t("h1",{class:"text-center dark:text-gray-200 mt-4"}," \u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629",-1)),t("div",Fe,[t("label",He,l(f.$t("amount")),1),H(t("input",{id:"expens_amount",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":p[2]||(p[2]=y=>m.formData.amount=y)},null,512),[[K,m.formData.amount]])]),t("div",Le,[t("label",Re,l(f.$t("factor")),1),H(t("input",{id:"note_expens",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":p[3]||(p[3]=y=>m.formData.factor=y)},null,512),[[K,m.formData.factor]])]),t("div",We,[t("label",Ze,l(f.$t("result")),1),t("input",{id:"expens_amount",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900",value:(m.formData.amount/m.formData.factor).toFixed(1)},null,8,qe)]),t("div",Pe,[t("label",Ye,l(f.$t("note")),1),H(t("input",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":p[4]||(p[4]=y=>m.formData.note=y)},null,512),[[K,m.formData.note]])])])])):(d(),i("div",ze,[p[17]||(p[17]=t("h1",{class:"text-center dark:text-gray-200 mt-4"}," \u0633\u062C\u0644 \u0627\u0644\u062D\u0648\u0644\u0627\u062A",-1)),t("div",Xe,[t("table",Je,[t("thead",Ke,[t("tr",Qe,[p[8]||(p[8]=t("th",{className:"px-1 py-2 text-base"},"\u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644",-1)),t("th",ts,l(f.$t("date")),1),p[9]||(p[9]=t("th",{className:"px-1 py-2 text-base"},"\u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641",-1)),p[10]||(p[10]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1)),p[11]||(p[11]=t("th",{className:"px-1 py-2 text-base"},"\u0645\u0644\u0627\u062D\u0638\u0629",-1)),t("th",es,l(f.$t("execute")),1)])]),t("tbody",null,[t("tr",ss,[p[13]||(p[13]=t("td",null,null,-1)),p[14]||(p[14]=t("td",null,null,-1)),p[15]||(p[15]=t("td",null,null,-1)),p[16]||(p[16]=t("td",null,null,-1)),t("td",as,[t("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${(v=m.GenExpenses[0])==null?void 0:v.user_id}&print=5`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-blue-500 rounded"},[p[12]||(p[12]=B(" \u062C\u0645\u064A\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A ",-1)),g(J)],8,rs)])]),(d(!0),i(V,null,W(m.GenExpenses,y=>{var T;return d(),i("tr",{key:y.id,class:"text-center"},[t("td",os,l(y.id),1),t("td",ds,l((T=y==null?void 0:y.created_at)==null?void 0:T.slice(0,19).replace("T"," ")),1),t("td",ls,l(y.factor),1),t("td",ns,l(y.amount),1),t("td",is,l(y.reason),1),t("td",us,[t("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${y.user_id}&print=3&transactions_id=${y.transaction_id}`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-green-500 rounded"},[g(J)],8,ps)])])}),128))])])])]))]),t("div",bs,[t("div",cs,[t("div",ms,[t("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:p[5]||(p[5]=y=>{f.$emit("close"),D.value="add"})},l(f.$t("cancel")),1)]),t("div",ys,[t("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:p[6]||(p[6]=y=>{f.$emit("a",m.formData),m.formData=""}),disabled:!m.formData.amount},l(f.$t("yes")),9,gs)])])])])])])):x("",!0)]}),_:3}))}};const fs={key:0,class:"modal-mask"},vs={class:"modal-wrapper max-h-[80vh]"},hs={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},ks={class:"modal-header"},$s={class:"modal-body"},ws={class:"text-sm font-medium text-center text-gray-500 border-b border-gray-200 dark:text-gray-400 dark:border-gray-700"},_s={class:"flex flex-wrap -mb-px"},Ns={key:0},Cs={className:"mb-4 mx-5"},Ds={key:0,className:"mb-4 mx-5"},Ts=["value"],As={className:"mb-4 mx-5"},Ms={className:"mb-4 mx-5"},Es={class:"dark:text-gray-200",for:"note"},Us={key:1},Is={class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},Ss={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},Bs={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Vs={class:"bg-rose-500 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},Os={className:"px-1 py-2 text-base"},Gs={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},js={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Fs={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Hs={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ls={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Rs={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ws={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Zs={class:"modal-footer my-2"},qs={class:"flex flex-row"},Ps={class:"basis-1/2 px-4"},Ys={class:"basis-1/2 px-4"},zs=["disabled"],Xs={__name:"ModalAddExpensesToMainBransh",props:{show:Boolean,user:Array,allTransfers:Array,formData:Object},emits:["a","close"],setup(m,{emit:D}){const $=b("add"),f=w=>{$.value=w},p=m,v=D,y=b("local"),T=b([]),M=b(null);be(()=>{L()});function L(){C.get("/api/connected-systems").then(w=>{T.value=w.data}).catch(w=>{console.error("Error loading connected systems:",w)})}function O(){if(y.value==="external"){const w={amount:p.formData.amount,sender_note:p.formData.note||"",note:p.formData.note||"",external_system_id:M.value};C.post("/api/send-external-transfer",w).then(u=>{alert("\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062A\u062D\u0648\u064A\u0644 \u0627\u0644\u062E\u0627\u0631\u062C\u064A \u0628\u0646\u062C\u0627\u062D"),y.value="local",M.value=null,v("close")}).catch(u=>{var n,a;console.error("Error sending external transfer:",u),alert("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062A\u062D\u0648\u064A\u0644 \u0627\u0644\u062E\u0627\u0631\u062C\u064A: "+(((a=(n=u.response)==null?void 0:n.data)==null?void 0:a.error)||u.message))})}else v("a",p.formData)}return(w,u)=>(d(),Q(ft,{name:"modal"},{default:N(()=>[m.show?(d(),i("div",fs,[t("div",vs,[t("div",hs,[t("div",ks,[xt(w.$slots,"header")]),t("div",$s,[t("div",ws,[t("ul",_s,[t("li",{class:"mr-2",onClick:u[0]||(u[0]=n=>f("add"))},[t("button",{class:A(["inline-block p-4 border-b-2 border-transparent rounded-t-lg",$.value=="add"?"dark:text-blue-500 dark:border-blue-500":"hover:text-gray-600 hover:border-gray-300"])}," \u0627\u0636\u0627\u0641\u0629 ",2)]),t("li",{class:"mr-2",onClick:u[1]||(u[1]=n=>f("record"))},[t("button",{class:A(["inline-block p-4 border-b-2 border-transparent rounded-t-lg",$.value=="record"?"dark:text-blue-500 dark:border-blue-500":"hover:text-gray-600 hover:border-gray-300"])}," \u0627\u0644\u0633\u062C\u0644 ",2)])])]),$.value=="add"?(d(),i("div",Ns,[t("div",null,[u[13]||(u[13]=t("h1",{class:"text-center dark:text-gray-200 mt-4"}," \u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629",-1)),t("div",Cs,[u[9]||(u[9]=t("label",{class:"dark:text-gray-200",for:"transfer_type"},"\u0646\u0648\u0639 \u0627\u0644\u062A\u062D\u0648\u064A\u0644",-1)),H(t("select",{id:"transfer_type","onUpdate:modelValue":u[2]||(u[2]=n=>y.value=n),class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900",onChange:u[3]||(u[3]=n=>M.value=null)},[...u[8]||(u[8]=[t("option",{value:"local"},"\u062A\u062D\u0648\u064A\u0644 \u0645\u062D\u0644\u064A",-1),t("option",{value:"external"},"\u062A\u062D\u0648\u064A\u0644 \u062E\u0627\u0631\u062C\u064A",-1)])],544),[[Tt,y.value]])]),y.value==="external"?(d(),i("div",Ds,[u[11]||(u[11]=t("label",{class:"dark:text-gray-200",for:"external_system"},"\u0627\u062E\u062A\u0631 \u0627\u0644\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u0633\u062A\u0642\u0628\u0644",-1)),H(t("select",{id:"external_system","onUpdate:modelValue":u[4]||(u[4]=n=>M.value=n),class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900"},[u[10]||(u[10]=t("option",{value:""},"-- \u0627\u062E\u062A\u0631 \u0627\u0644\u0646\u0638\u0627\u0645 --",-1)),(d(!0),i(V,null,W(T.value,n=>(d(),i("option",{key:n.id,value:n.id},l(n.name)+" ("+l(n.domain)+") ",9,Ts))),128))],512),[[Tt,M.value]])])):x("",!0),t("div",As,[u[12]||(u[12]=t("label",{class:"dark:text-gray-200",for:"expens_amount"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1)),H(t("input",{id:"expens_amount",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":u[5]||(u[5]=n=>m.formData.amount=n)},null,512),[[K,m.formData.amount]])]),t("div",Ms,[t("label",Es,l(w.$t("note")),1),H(t("input",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":u[6]||(u[6]=n=>m.formData.note=n)},null,512),[[K,m.formData.note]])])])])):(d(),i("div",Us,[u[20]||(u[20]=t("h1",{class:"text-center dark:text-gray-200 mt-4"}," \u0633\u062C\u0644 \u0627\u0644\u062D\u0648\u0644\u0627\u062A",-1)),t("div",Is,[t("table",Ss,[t("thead",Bs,[t("tr",Vs,[u[14]||(u[14]=t("th",{className:"px-1 py-2 text-base"},"\u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644",-1)),t("th",Os,l(w.$t("date")),1),u[15]||(u[15]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1)),u[16]||(u[16]=t("th",{className:"px-1 py-2 text-base"},"\u0623\u062C\u0648\u0631 \u0627\u0644\u062D\u0648\u0644\u0627\u062A",-1)),u[17]||(u[17]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0635\u0627\u0641\u064A",-1)),u[18]||(u[18]=t("th",{className:"px-1 py-2 text-base"},"\u0645\u0644\u0627\u062D\u0638\u0629",-1)),u[19]||(u[19]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u062D\u0627\u0644\u0629",-1))])]),t("tbody",null,[(d(!0),i(V,null,W(m.allTransfers,n=>{var a;return d(),i("tr",{key:n.id,class:"text-center"},[t("td",Gs,l(n.id),1),t("td",js,l((a=n==null?void 0:n.created_at)==null?void 0:a.slice(0,19).replace("T"," ")),1),t("td",Fs,l(n.amount),1),t("td",Hs,l(n.fee),1),t("td",Ls,l(n.amount-n.fee),1),t("td",Rs,l(n.note),1),t("td",Ws,l(n.stauts),1)])}),128))])])])]))]),t("div",Zs,[t("div",qs,[t("div",Ps,[t("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:u[7]||(u[7]=n=>{w.$emit("close"),$.value="add"})},l(w.$t("cancel")),1)]),t("div",Ys,[t("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:O,disabled:!m.formData.amount||y.value==="external"&&!M.value},l(w.$t("yes")),9,zs)])])])])])])):x("",!0)]),_:3}))}};const Js={key:0,class:"modal-mask"},Ks={class:"modal-wrapper max-h-[80vh]"},Qs={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},ta={class:"modal-header"},ea={class:"modal-body"},sa={class:"text-sm font-medium text-center text-gray-500 border-b border-gray-200 dark:text-gray-400 dark:border-gray-700"},aa={class:"flex flex-wrap -mb-px"},ra={key:0},oa={key:0,id:"alert-additional-content-4 my-3",class:"p-4 mb-4 text-yellow-800 border border-yellow-300 rounded-lg bg-yellow-50 dark:bg-gray-800 dark:text-yellow-300 dark:border-yellow-800",role:"alert"},da={class:"flex items-center"},la={class:"text-lg font-medium"},na={class:"mt-2 mb-4 text-sm px-4"},ia=["onUpdate:modelValue"],ua=["onUpdate:modelValue"],pa={class:"flex items-center py-3"},ba={class:"text-lg font-medium"},ca={class:"flex mt-5"},ma=["onClick"],ya=["onClick","disabled"],ga={key:1},xa={class:"flex justify-between items-center mt-4 mb-2"},fa={class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},va={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},ha={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},ka={class:"bg-rose-500 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},$a={className:"px-1 py-2 text-base"},wa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},_a={key:0,class:"ml-2 text-xs text-blue-600 dark:text-blue-300",title:"\u062A\u062D\u0648\u064A\u0644 \u062E\u0627\u0631\u062C\u064A"},Na={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ca={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Da={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ta={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Aa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ma={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},Ea={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ua={key:0,class:"px-2 py-1 text-xs font-semibold text-blue-700 bg-blue-100 dark:bg-blue-800 dark:text-blue-200 rounded"},Ia={key:1,class:"px-2 py-1 text-xs font-semibold text-gray-700 bg-gray-100 dark:bg-gray-800 dark:text-gray-200 rounded"},Sa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ba={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Va=["onClick"],Oa={key:0,class:"text-center"},Ga={key:2},ja={class:"flex justify-between items-center mt-4 mb-2"},Fa={class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},Ha={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},La={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Ra={class:"bg-gray-600 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},Wa={className:"px-1 py-2 text-base"},Za={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},qa={key:0,class:"ml-2 text-xs text-blue-600 dark:text-blue-300",title:"\u062A\u062D\u0648\u064A\u0644 \u062E\u0627\u0631\u062C\u064A"},Pa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ya={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},za={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Xa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ja={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ka={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},Qa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},tr={key:0,class:"px-2 py-1 text-xs font-semibold text-blue-700 bg-blue-100 dark:bg-blue-800 dark:text-blue-200 rounded"},er={key:1,class:"px-2 py-1 text-xs font-semibold text-gray-700 bg-gray-100 dark:bg-gray-800 dark:text-gray-200 rounded"},sr={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ar={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},rr=["onClick"],or={key:0,class:"text-center"},dr={class:"modal-footer my-2"},lr={class:"flex flex-row"},nr={class:"basis-1/2 px-4"},ir={class:"basis-1/2 px-4"},ur={__name:"ModalExpensesFromOtherBransh",props:{show:Boolean,user:Array,allTransfers:Array,formData:Object},setup(m){const D=ce(),$=b("add"),f=n=>{$.value=n},p=m,v=b([...p.allTransfers]);me(()=>p.allTransfers,n=>{v.value=[...n]},{deep:!0,immediate:!0});const y=At(()=>v.value.filter(n=>!n.is_archived)),T=At(()=>v.value.filter(n=>n.is_archived));function M(n){C.post("/api/confirmTransfers",n).then(a=>{const o=v.value.findIndex(h=>h.id===n.id);o!==-1&&(v.value[o]=a.data)}).catch(a=>{console.error("Error confirming transfer:",a),alert("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062A\u062D\u0648\u064A\u0644")})}function L(n){C.post("/api/cancelTransfers",n).then(a=>{v.value=v.value.filter(o=>o.id!==n.id)}).catch(a=>{console.error("Error canceling transfer:",a)})}async function O(n){try{const a=await C.post("/api/archiveTransfer",{id:n.id}),o=v.value.findIndex(h=>h.id===n.id);if(o!==-1){const h=a.data.transfer||{...v.value[o],is_archived:!0};v.value.splice(o,1,h),D.success("\u062A\u0645 \u0623\u0631\u0634\u0641\u0629 \u0627\u0644\u062A\u062D\u0648\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})}}catch(a){console.error("Error archiving transfer:",a),D.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0623\u0631\u0634\u0641\u0629 \u0627\u0644\u062A\u062D\u0648\u064A\u0644",{timeout:3e3,position:"bottom-right",rtl:!0})}}async function w(n){try{const a=await C.post("/api/unarchiveTransfer",{id:n.id}),o=v.value.findIndex(h=>h.id===n.id);if(o!==-1){const h=a.data.transfer||{...v.value[o],is_archived:!1};v.value.splice(o,1,h),D.success("\u062A\u0645 \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u062A\u062D\u0648\u064A\u0644 \u0644\u0644\u0633\u062C\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})}}catch(a){console.error("Error unarchiving transfer:",a),D.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u062A\u062D\u0648\u064A\u0644 \u0644\u0644\u0633\u062C\u0644",{timeout:3e3,position:"bottom-right",rtl:!0})}}function u(n){const a=n==="archive"?T.value:y.value;if(a.length===0){D.warning("\u0644\u0627 \u062A\u0648\u062C\u062F \u062A\u062D\u0648\u064A\u0644\u0627\u062A \u0644\u0644\u0637\u0628\u0627\u0639\u0629",{timeout:2e3,position:"bottom-right",rtl:!0});return}const o=window.open("","_blank"),h=`
    <html>
      <head>
        <title>${n==="archive"?"\u0623\u0631\u0634\u064A\u0641 \u0627\u0644\u062D\u0648\u0644\u0627\u062A":"\u0633\u062C\u0644 \u0627\u0644\u062D\u0648\u0644\u0627\u062A"}</title>
        <style>
          body { font-family: Arial, sans-serif; direction: rtl; }
          table { width: 100%; border-collapse: collapse; margin-top: 20px; }
          th, td { border: 1px solid #ddd; padding: 8px; text-align: center; }
          th { background-color: #f2f2f2; }
          h1 { text-align: center; }
        </style>
      </head>
      <body>
        <h1>${n==="archive"?"\u0623\u0631\u0634\u064A\u0641 \u0627\u0644\u062D\u0648\u0644\u0627\u062A":"\u0633\u062C\u0644 \u0627\u0644\u062D\u0648\u0644\u0627\u062A"}</h1>
        <table>
          <thead>
            <tr>
              <th>\u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644</th>
              <th>\u0627\u0644\u062A\u0627\u0631\u064A\u062E</th>
              <th>\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631</th>
              <th>\u0623\u062C\u0648\u0631 \u0627\u0644\u062D\u0648\u0644\u0627\u062A</th>
              <th>\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0635\u0627\u0641\u064A</th>
              <th>\u0645\u0644\u0627\u062D\u0638\u0629</th>
              <th>\u0627\u0644\u062D\u0627\u0644\u0629</th>
            </tr>
          </thead>
          <tbody>
            ${a.map(U=>`
              <tr>
                <td>${U.id}</td>
                <td>${U.created_at?U.created_at.slice(0,19).replace("T"," "):""}</td>
                <td>${U.amount||0}</td>
                <td>${U.fee||0}</td>
                <td>${(U.amount||0)-(U.fee||0)}</td>
                <td>${U.note||""}</td>
                <td>${U.stauts||""}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>
      </body>
    </html>
  `;o.document.write(h),o.document.close(),o.print()}return(n,a)=>(d(),Q(ft,{name:"modal"},{default:N(()=>[m.show?(d(),i("div",Js,[t("div",Ks,[t("div",Qs,[t("div",ta,[xt(n.$slots,"header")]),t("div",ea,[t("div",sa,[t("ul",aa,[t("li",{class:"mr-2",onClick:a[0]||(a[0]=o=>f("add"))},[t("button",{class:A(["inline-block p-4 border-b-2 border-transparent rounded-t-lg",$.value=="add"?"dark:text-blue-500 dark:border-blue-500":"hover:text-gray-600 hover:border-gray-300"])}," \u0637\u0644\u0628\u0627\u062A \u0642\u064A\u062F \u0627\u0644\u062A\u062D\u0648\u064A\u0644 ",2)]),t("li",{class:"mr-2",onClick:a[1]||(a[1]=o=>f("record"))},[t("button",{class:A(["inline-block p-4 border-b-2 border-transparent rounded-t-lg",$.value=="record"?"dark:text-blue-500 dark:border-blue-500":"hover:text-gray-600 hover:border-gray-300"])}," \u0627\u0644\u0633\u062C\u0644 ",2)]),t("li",{class:"mr-2",onClick:a[2]||(a[2]=o=>f("archive"))},[t("button",{class:A(["inline-block p-4 border-b-2 border-transparent rounded-t-lg",$.value=="archive"?"dark:text-blue-500 dark:border-blue-500":"hover:text-gray-600 hover:border-gray-300"])}," \u0627\u0644\u0623\u0631\u0634\u064A\u0641 ",2)])])]),$.value=="add"?(d(),i("div",ra,[a[14]||(a[14]=t("h2",{class:"text-center py-3"},"\u0637\u0644\u0628\u0627\u062A \u0642\u064A\u062F \u0627\u0644\u062A\u062D\u0648\u064A\u0644",-1)),(d(!0),i(V,null,W(v.value,o=>(d(),i(V,{key:o.id},[o.stauts!="\u062A\u0645 \u0627\u0644\u0623\u0633\u062A\u0644\u0627\u0645"?(d(),i("div",oa,[t("div",da,[a[7]||(a[7]=t("svg",{class:"flex-shrink-0 w-4 h-4 me-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})],-1)),a[8]||(a[8]=t("span",{class:"sr-only"},"Info",-1)),a[9]||(a[9]=t("h3",{class:"text-lg font-medium px-2"},"\u0637\u0644\u0628 \u062D\u0648\u0627\u0644\u0629 \u0645\u0646 \u0641\u0631\u0639 \u0643\u0631\u0643\u0648\u0643",-1)),t("h3",la," \u0645\u0628\u0644\u063A "+l(o.amount)+" \u062F\u0648\u0644\u0627\u0631 ",1)]),t("div",na,l(o.note),1),a[13]||(a[13]=t("label",{class:"dark:text-gray-200 px-4",for:"note"},"\u0623\u062C\u0648\u0631 \u0627\u0644\u062D\u0648\u0627\u0644\u0629 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1)),H(t("input",{type:"number",class:"mt-3 mx-3 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":h=>o.inputValue=h},null,8,ia),[[K,o.inputValue]]),H(t("input",{type:"text",class:"mt-3 mx-3 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":h=>o.receiver=h},null,8,ua),[[K,o.receiver]]),t("div",pa,[a[10]||(a[10]=t("svg",{class:"flex-shrink-0 w-4 h-4 me-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})],-1)),a[11]||(a[11]=t("span",{class:"sr-only"},"Info",-1)),a[12]||(a[12]=t("h3",{class:"text-lg font-medium px-2"}," \u0635\u0627\u0641\u064A \u0627\u0644\u062D\u0648\u0627\u0644\u0629 \u0628\u0639\u062F \u062E\u0635\u0645 \u0623\u062C\u0631 \u0627\u0644\u062A\u062D\u0648\u064A\u0644",-1)),t("h3",ba," \u0645\u0628\u0644\u063A "+l(o.amount-o.inputValue)+" \u062F\u0648\u0644\u0627\u0631 ",1)]),t("div",ca,[t("button",{onClick:h=>M(o),type:"button",class:"mx-2 text-white bg-yellow-800 hover:bg-yellow-900 focus:ring-4 focus:outline-none focus:ring-yellow-300 font-medium rounded-lg text-xs px-3 py-1.5 me-2 text-center inline-flex items-center dark:bg-yellow-300 dark:text-gray-800 dark:hover:bg-yellow-400 dark:focus:ring-yellow-800"}," \u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062D\u0648\u0627\u0644\u0627\u062A ",8,ma),t("button",{onClick:h=>L(o),type:"button",class:"text-yellow-800 bg-transparent border border-yellow-800 hover:bg-yellow-900 hover:text-white focus:ring-4 focus:outline-none focus:ring-yellow-300 font-medium rounded-lg text-xs px-3 py-1.5 text-center dark:hover:bg-yellow-300 dark:border-yellow-300 dark:text-yellow-300 dark:hover:text-gray-800 dark:focus:ring-yellow-800","data-dismiss-target":"#alert-additional-content-4","aria-label":"Close",disabled:!m.formData.fee}," \u0625\u0644\u063A\u0627\u0621 ",8,ya)])])):x("",!0)],64))),128))])):$.value=="record"?(d(),i("div",ga,[t("div",xa,[a[16]||(a[16]=t("h1",{class:"text-center dark:text-gray-200"}," \u0633\u062C\u0644 \u0627\u0644\u062D\u0648\u0644\u0627\u062A",-1)),t("button",{onClick:a[3]||(a[3]=o=>u("record")),class:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700 flex items-center gap-2",title:"\u0637\u0628\u0627\u0639\u0629 \u0627\u0644\u0633\u062C\u0644"},[g(J,{class:"w-4 h-4"}),a[15]||(a[15]=B(" \u0637\u0628\u0627\u0639\u0629 ",-1))])]),t("div",fa,[t("table",va,[t("thead",ha,[t("tr",ka,[a[17]||(a[17]=t("th",{className:"px-1 py-2 text-base"},"\u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644",-1)),t("th",$a,l(n.$t("date")),1),a[18]||(a[18]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1)),a[19]||(a[19]=t("th",{className:"px-1 py-2 text-base"},"\u0623\u062C\u0648\u0631 \u0627\u0644\u062D\u0648\u0644\u0627\u062A",-1)),a[20]||(a[20]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0635\u0627\u0641\u064A",-1)),a[21]||(a[21]=t("th",{className:"px-1 py-2 text-base"},"\u0645\u0644\u0627\u062D\u0638\u0629",-1)),a[22]||(a[22]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0646\u0648\u0639",-1)),a[23]||(a[23]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u062D\u0627\u0644\u0629",-1)),a[24]||(a[24]=t("th",{className:"px-1 py-2 text-base"},"\u062A\u0646\u0641\u064A\u0630",-1))])]),t("tbody",null,[(d(!0),i(V,null,W(y.value,o=>{var h;return d(),i("tr",{key:o.id,class:A(["text-center",o.is_external?"bg-blue-50 dark:bg-blue-900":""])},[t("td",wa,[B(l(o.id)+" ",1),o.is_external?(d(),i("span",_a,"\u{1F310}")):x("",!0)]),t("td",Na,l((h=o==null?void 0:o.created_at)==null?void 0:h.slice(0,19).replace("T"," ")),1),t("td",Ca,l(o.amount),1),t("td",Da,l(o.fee),1),t("td",Ta,l(o.amount-o.fee),1),t("td",Aa,[B(l(o.note)+" ",1),o.is_external&&o.external_system_domain?(d(),i("div",Ma," \u0645\u0646: "+l(o.external_system_domain),1)):x("",!0)]),t("td",Ea,[o.is_external?(d(),i("span",Ua," \u062E\u0627\u0631\u062C\u064A ")):(d(),i("span",Ia," \u0645\u062D\u0644\u064A "))]),t("td",Sa,l(o.stauts),1),t("td",Ba,[t("button",{onClick:U=>O(o),class:"px-3 py-1 text-sm font-semibold text-white bg-gray-600 rounded hover:bg-gray-700",title:"\u0623\u0631\u0634\u0641\u0629 \u0627\u0644\u062A\u062D\u0648\u064A\u0644"}," \u0623\u0631\u0634\u0641\u0629 ",8,Va)])],2)}),128)),y.value.length===0?(d(),i("tr",Oa,[...a[25]||(a[25]=[t("td",{colspan:"9",class:"px-4 py-4 border dark:border-gray-800 dark:text-gray-200"},"\u0644\u0627 \u062A\u0648\u062C\u062F \u062A\u062D\u0648\u064A\u0644\u0627\u062A",-1)])])):x("",!0)])])])])):$.value=="archive"?(d(),i("div",Ga,[t("div",ja,[a[27]||(a[27]=t("h1",{class:"text-center dark:text-gray-200"}," \u0623\u0631\u0634\u064A\u0641 \u0627\u0644\u062D\u0648\u0644\u0627\u062A",-1)),t("button",{onClick:a[4]||(a[4]=o=>u("archive")),class:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700 flex items-center gap-2",title:"\u0637\u0628\u0627\u0639\u0629 \u0627\u0644\u0623\u0631\u0634\u064A\u0641"},[g(J,{class:"w-4 h-4"}),a[26]||(a[26]=B(" \u0637\u0628\u0627\u0639\u0629 ",-1))])]),t("div",Fa,[t("table",Ha,[t("thead",La,[t("tr",Ra,[a[28]||(a[28]=t("th",{className:"px-1 py-2 text-base"},"\u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644",-1)),t("th",Wa,l(n.$t("date")),1),a[29]||(a[29]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1)),a[30]||(a[30]=t("th",{className:"px-1 py-2 text-base"},"\u0623\u062C\u0648\u0631 \u0627\u0644\u062D\u0648\u0644\u0627\u062A",-1)),a[31]||(a[31]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0635\u0627\u0641\u064A",-1)),a[32]||(a[32]=t("th",{className:"px-1 py-2 text-base"},"\u0645\u0644\u0627\u062D\u0638\u0629",-1)),a[33]||(a[33]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0646\u0648\u0639",-1)),a[34]||(a[34]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u062D\u0627\u0644\u0629",-1)),a[35]||(a[35]=t("th",{className:"px-1 py-2 text-base"},"\u062A\u0646\u0641\u064A\u0630",-1))])]),t("tbody",null,[(d(!0),i(V,null,W(T.value,o=>{var h;return d(),i("tr",{key:o.id,class:A(["text-center",o.is_external?"bg-blue-50 dark:bg-blue-900":""])},[t("td",Za,[B(l(o.id)+" ",1),o.is_external?(d(),i("span",qa,"\u{1F310}")):x("",!0)]),t("td",Pa,l((h=o==null?void 0:o.created_at)==null?void 0:h.slice(0,19).replace("T"," ")),1),t("td",Ya,l(o.amount),1),t("td",za,l(o.fee),1),t("td",Xa,l(o.amount-o.fee),1),t("td",Ja,[B(l(o.note)+" ",1),o.is_external&&o.external_system_domain?(d(),i("div",Ka," \u0645\u0646: "+l(o.external_system_domain),1)):x("",!0)]),t("td",Qa,[o.is_external?(d(),i("span",tr," \u062E\u0627\u0631\u062C\u064A ")):(d(),i("span",er," \u0645\u062D\u0644\u064A "))]),t("td",sr,l(o.stauts),1),t("td",ar,[t("button",{onClick:U=>w(o),class:"px-3 py-1 text-sm font-semibold text-white bg-green-600 rounded hover:bg-green-700",title:"\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u062A\u062D\u0648\u064A\u0644 \u0644\u0644\u0633\u062C\u0644"}," \u0625\u0639\u0627\u062F\u0629 \u0644\u0644\u0633\u062C\u0644 ",8,rr)])],2)}),128)),T.value.length===0?(d(),i("tr",or,[...a[36]||(a[36]=[t("td",{colspan:"9",class:"px-4 py-4 border dark:border-gray-800 dark:text-gray-200"},"\u0644\u0627 \u062A\u0648\u062C\u062F \u062A\u062D\u0648\u064A\u0644\u0627\u062A \u0645\u0624\u0631\u0634\u0641\u0629",-1)])])):x("",!0)])])])])):x("",!0)]),t("div",dr,[t("div",lr,[t("div",nr,[t("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:a[5]||(a[5]=o=>{n.$emit("close"),$.value="add"})},l(n.$t("cancel")),1)]),t("div",ir,[t("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:a[6]||(a[6]=o=>{n.$emit("close")})},l(n.$t("yes")),1)])])])])])])):x("",!0)]),_:3}))}};const pr={key:0},br={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},cr={class:"ml-3 font-medium text-red-700 dark:text-red-800"},mr={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},yr={class:"overflow-hidden shadow-sm sm:rounded-lg"},gr={class:"border-b border-gray-200"},xr={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3 lg:gap-3"},fr={class:"pt-5 print:hidden"},vr={class:"pt-5 hidden"},hr={class:"pt-5 print:hidden"},kr={class:"px-4"},$r={class:"px-4"},wr={class:"mr-5 print:hidden"},_r={key:0},Nr={key:1},Cr={class:"mr-5 print:hidden"},Dr={class:"mr-5"},Tr={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3 lg:gap-3"},Ar={key:0},Mr={key:1},Er={key:2},Ur={key:3},Ir={key:0,class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3 lg:gap-3"},Sr={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-4 gap-3 lg:gap-3"},Br={class:"px-4"},Vr={class:"px-4"},Or={class:"relative w-full px-4"},Gr={class:"relative w-full px-4"},jr={class:"w-full text-sm text-center text-gray-100 border border-gray-700 rounded-lg overflow-hidden bg-slate-900"},Fr={class:"bg-slate-900"},Hr={class:"border border-gray-700 p-2 text-emerald-200 font-semibold"},Lr={class:"border border-gray-700 p-2 text-rose-200 font-semibold"},Rr={class:"border border-gray-700 p-2 font-semibold"},Wr={class:"bg-slate-900"},Zr={class:"border border-gray-700 p-2 text-emerald-200 font-semibold"},qr={class:"border border-gray-700 p-2 text-rose-200 font-semibold"},Pr={class:"border border-gray-700 p-2 font-semibold"},Yr={class:"overflow-x-auto shadow-lg mt-5 rounded-lg"},zr={class:"w-full text-right text-gray-100 dark:text-gray-100 text-center bg-slate-900 rounded-lg overflow-hidden"},Xr={class:"border border-transparent text-center px-2 py-1 whitespace-nowrap"},Jr={key:1},Kr={class:"border border-transparent text-center px-2 py-1 whitespace-nowrap"},Qr={class:"border border-transparent text-center px-2 py-1 align-top"},to={key:0,class:"space-y-2 text-right"},eo={class:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400"},so={key:0,class:"text-xs text-red-500"},ao={class:"flex justify-end gap-2"},ro=["disabled"],oo=["onClick","disabled"],lo={key:0},no={key:1},io={key:1,class:"space-y-1 text-center"},uo={class:"block whitespace-pre-line leading-6 pt-5"},po={key:0,class:"inline-flex items-center text-xs font-semibold text-green-600"},bo={class:"border border-transparent text-center px-2 py-1"},co={class:"border border-transparent text-center px-2 py-1"},mo={class:"border border-transparent text-center px-2 py-1"},yo={class:"action-group"},go=["onClick","disabled"],xo=["onClick"],fo=["onClick"],vo=["href"],ho=["href"],ko=["href"],$o=["href"],wo=["href"],_o=["src"],No={class:"spaner"},tt=1e3,qo={__name:"Index",props:{url:String,users:Array,accounts:Array,boxes:Array,flaggedWallets:{type:Array,default:()=>[]}},setup(m){const D=b({});b("");let $=b(!1),f=b(!1),p=b(!1),v=b(!1),y=b(!1),T=b(!1),M=b(!1),L=b(!1),O=b(!1),w=b(!1),u=b([]),n=b(0),a=b({}),o=b({}),h=b({}),U=b(!1),et=b(ht()),st=b(ht()),Mt=b(0),Et=b(0),Ut=b(0),It=b(0),St=b(0),Bt=b(0),Vt=b(0),Ot=b(0),Gt=b(0),dt=b(0),lt=b(0),nt=b(0),it=b(0),jt=b(0),Ft=b(0),mt=b(!1),yt=1,at="",gt=b([]);const rt=b(null),Z=b(""),q=b(!1),G=b(""),P=()=>{yt=0,u.value.length=0,mt.value=!mt.value},Ht=Me(P,500),Lt=async s=>{try{const k=(await C.get("/getIndexAccounting",{params:{limit:100,page:yt,q:at,user_id:Kt.boxes[0].id,from:et.value,to:st.value}})).data;k.transactions.data.length<100?(u.value.push(...k.transactions.data),s.complete()):(u.value.push(...k.transactions.data),s.loaded()),D.value=k,yt++}catch(e){console.log(e)}};(async()=>{C.get("/api/totalInfo").then(s=>{Mt.value=s.data.data.mainAccount,Et.value=s.data.data.onlineContracts,Ut.value=s.data.data.howler,It.value=s.data.data.shippingCoc,St.value=s.data.data.border,Bt.value=s.data.data.iran,Vt.value=s.data.data.dubai,Ot.value=s.data.data.debtOnlineContracts,jt.value=s.data.data.onlineContractsDinar,Ft.value=s.data.data.debtOnlineContractsDinar,Gt.value=s.data.data.allCars,dt.value=s.data.data.transactionInTodayDollar,nt.value=s.data.data.transactionOutTodayDollar,lt.value=s.data.data.transactionInTodayDinar,it.value=s.data.data.transactionOutTodayDinar}).catch(s=>{console.error(s)})})();function Rt(){$.value=!0}function Wt(){f.value=!0}function Zt(){p.value=!0}function qt(){$t(),M.value=!0}function Pt(){$t(),L.value=!0}function Yt(){y.value=!0}function zt(){T.value=!0}function Xt(s){a.value=s,O.value=!0}function Jt(s){a.value=s,w.value=!0}const Kt=m;ye(),b(!1);const R=b(0);function Qt(s){C.post("/api/receiptArrived",s).then(e=>{$.value=!1,window.location.reload()}).catch(e=>{R.value=e.response.data.errors})}function vt(s){C.post("/api/salesDebt",s).then(e=>{P(),f.value=!1,p.value=!1,window.location.reload()}).catch(e=>{R.value=e.response.data.errors})}function te(s){C.post("/api/convertDollarDinar",s).then(e=>{P(),y.value=!1}).catch(e=>{R.value=e.response.data.errors})}function ee(s){C.post("/api/convertDinarDollar",s).then(e=>{P(),T.value=!1}).catch(e=>{R.value=e.response.data.errors})}function ht(){const s=new Date,e=s.getFullYear(),k=String(s.getMonth()+1).padStart(2,"0"),_=String(s.getDate()).padStart(2,"0");return`${e}-${k}-${_}`}function se(s){C.post(`/api/delTransactions?id=${s.id}`).then(e=>{P(),O.value=!1}).catch(e=>{R.value=e.response.data.errors})}function ut(s){n.value=s,ae(),v.value=!0}function ae(){C.get(`/api/getGenExpenses?expenses_type_id=${n.value}`).then(s=>{h.value=s.data}).catch(s=>{R.value=s.response.data.errors})}function kt(s){var e,k,_;C.post(`/api/GenExpenses?amount=${(e=s.amount)!=null?e:0}&expenses_type_id=${n.value}&factor=${(k=s.factor)!=null?k:1}&note=${(_=s.note)!=null?_:""}`).then(E=>{P(),v.value=!1,console.log(E.data),window.open(`/api/getIndexAccountsSelas?user_id=${E.data.morphed_id}&print=3&transactions_id=${E.data.id}`,"_blank"),window.location.reload()}).catch(E=>{R.value=E.response.data.errors})}function $t(){C.get("/api/transfers").then(s=>{gt.value=s.data}).catch(s=>{R.value=s.response.data.errors})}function re(s){var e,k;C.post(`/api/addTransfers?amount=${(e=s.amount)!=null?e:0}&sender_note=${(k=s.note)!=null?k:""}`).then(_=>{window.location.reload(),M.value=!1}).catch(_=>{R.value=_.response.data.errors})}function oe(s){return`/public/uploadsResized/${s}`}function de(s){return`/public/uploads/${s}`}function le(){P()}function Y(s){return typeof s!="number"&&(s=parseFloat(s)||0),s.toLocaleString()}const wt=["in","inUser","inUserBox"],_t=["out","outUser","outUserBox","debt"];function pt(s,e){var _,E;if(!s)return"";const k=Number(s.amount);return Number.isNaN(k)?"":e==="in"&&wt.includes(s.type)?`${Y(Math.abs(k))} ${(_=s.currency)!=null?_:"$"}`.trim():e==="out"&&_t.includes(s.type)?`${Y(Math.abs(k))} ${(E=s.currency)!=null?E:"$"}`.trim():""}function Nt(s){return s==="in"?"amount-pill amount-pill--in dark:text-white text-xl font-bold":"amount-pill amount-pill--out dark:text-white text-xl font-bold"}function ne(s){const e=["transition-colors","duration-150","border-b","border-transparent","hover:shadow-md"];return s&&(wt.includes(s.type)?e.push("bg-gradient-to-l","from-emerald-700","to-emerald-600","text-white","hover:from-emerald-600","hover:to-emerald-500"):_t.includes(s.type)?e.push("bg-gradient-to-l","from-rose-700","to-rose-600","text-white","hover:from-rose-600","hover:to-rose-500"):e.push("bg-slate-800","text-white","hover:bg-slate-700")),e}function Ct(s){var z,r,j,F;if(!s)return null;const e=(z=s.morphed_type)!=null?z:"",k=(j=(r=s.morphed)==null?void 0:r.id)!=null?j:s.morphed_id,_=(F=s.type)!=null?F:"";return k?_==="inUserBox"||_==="outUserBox"?route("wallet",{id:k}):e.includes("User")?route("showClients",{id:k,q:""}):e.includes("Wallet")?route("wallet",{id:k}):null:null}function ie(s){var e;!s||q.value||(rt.value=s.id,Z.value=(e=s.description)!=null?e:"",G.value="")}function Dt(){q.value||(rt.value=null,Z.value="",G.value="")}async function ue(s){var k,_,E,z,r,j;if(!s||rt.value!==s.id)return;const e=Z.value?Z.value.trim():"";if(!e){G.value="\u0627\u0644\u0648\u0635\u0641 \u0645\u0637\u0644\u0648\u0628";return}if(e.length>tt){G.value=`\u0627\u0644\u0648\u0635\u0641 \u064A\u062C\u0628 \u0623\u0644\u0627 \u064A\u062A\u062C\u0627\u0648\u0632 ${tt} \u062D\u0631\u0641\u064B\u0627`;return}q.value=!0,G.value="";try{await C.post("/api/updateTransactionDescription",{transaction_id:s.id,description:e}),s.description=e,s._descriptionUpdated=!0,setTimeout(()=>{s&&(s._descriptionUpdated=!1)},3e3),Dt()}catch(F){(z=(E=(_=(k=F.response)==null?void 0:k.data)==null?void 0:_.errors)==null?void 0:E.description)!=null&&z.length?G.value=F.response.data.errors.description[0]:(j=(r=F.response)==null?void 0:r.data)!=null&&j.message?G.value=F.response.data.message:G.value="\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0641\u0638 \u0627\u0644\u0648\u0635\u0641"}finally{q.value=!1}}function pe(s){const e=["bg-orange-300","bg-orange-400","bg-orange-500","bg-orange-600","bg-orange-700","bg-orange-800","bg-orange-900"];return e[s%e.length]}return(s,e)=>(d(),i(V,null,[g(c(ge),{title:"Dashboard"}),g(fe,null,{header:N(()=>[...e[36]||(e[36]=[])]),default:N(()=>{var k,_,E,z;return[g(ve,{show:!!c(O),formData:c(a),onA:e[0]||(e[0]=r=>se(r)),onClose:e[1]||(e[1]=r=>I(O)?O.value=!1:O=!1)},{header:N(()=>[...e[37]||(e[37]=[t("h2",{class:"mb-5 dark:text-white text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0644\u062D\u0630\u0641 \u061F ",-1)])]),_:1},8,["show","formData"]),g(he,{show:!!c(w),formData:c(a),onA:e[2]||(e[2]=r=>le(r)),onClose:e[3]||(e[3]=r=>I(w)?w.value=!1:w=!1)},{header:N(()=>[...e[38]||(e[38]=[t("h2",{class:"mb-5 dark:text-white text-center"}," \u062A\u062D\u0645\u064A\u0644 \u0645\u0644\u0641\u0627\u062A ",-1)])]),_:1},8,["show","formData"]),g(xs,{formData:c(o),show:!!c(v),expenses_type_id:c(n),GenExpenses:c(h),onA:e[4]||(e[4]=r=>kt(r)),onClose:e[5]||(e[5]=r=>I(v)?v.value=!1:v=!1)},{header:N(()=>[...e[39]||(e[39]=[])]),_:1},8,["formData","show","expenses_type_id","GenExpenses"]),g(Xs,{formData:c(o),show:!!c(M),expenses_type_id:c(n),allTransfers:c(gt),onA:e[6]||(e[6]=r=>re(r)),onClose:e[7]||(e[7]=r=>I(M)?M.value=!1:M=!1)},{header:N(()=>[...e[40]||(e[40]=[])]),_:1},8,["formData","show","expenses_type_id","allTransfers"]),g(ur,{formData:c(o),show:!!c(L),expenses_type_id:c(n),GenExpenses:c(h),allTransfers:c(gt),onA:e[8]||(e[8]=r=>kt(r)),onClose:e[9]||(e[9]=r=>I(L)?L.value=!1:L=!1)},{header:N(()=>[...e[41]||(e[41]=[])]),_:1},8,["formData","show","expenses_type_id","GenExpenses","allTransfers"]),g(ke,{show:!!c($),data:m.users,accounts:m.accounts,onA:e[10]||(e[10]=r=>Qt(r)),onClose:e[11]||(e[11]=r=>I($)?$.value=!1:$=!1)},{header:N(()=>[...e[42]||(e[42]=[t("h3",{class:"text-center"},"\u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1)])]),_:1},8,["show","data","accounts"]),g(Ne,{show:!!c(f),data:m.users,accounts:m.accounts,onA:e[12]||(e[12]=r=>vt(r)),onClose:e[13]||(e[13]=r=>I(f)?f.value=!1:f=!1)},{header:N(()=>[...e[43]||(e[43]=[])]),_:1},8,["show","data","accounts"]),g(Ce,{show:!!c(p),boxes:m.boxes,onA:e[14]||(e[14]=r=>vt(r)),onClose:e[15]||(e[15]=r=>I(p)?p.value=!1:p=!1)},{header:N(()=>[...e[44]||(e[44]=[t("h3",{class:"text-center"},"\u0627\u062F\u062E\u0627\u0644 \u0645\u0635\u0627\u0631\u064A\u0641",-1)])]),_:1},8,["show","boxes"]),g($e,{show:!!c(y),boxes:m.boxes,onA:e[16]||(e[16]=r=>te(r)),onClose:e[17]||(e[17]=r=>I(y)?y.value=!1:y=!1)},{header:N(()=>[...e[45]||(e[45]=[t("h3",{class:"text-center"},"\u062A\u062D\u0648\u064A\u0644 \u0645\u0646 \u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0649 \u062F\u064A\u0646\u0627\u0631",-1)])]),_:1},8,["show","boxes"]),g(we,{show:!!c(T),boxes:m.boxes,onA:e[18]||(e[18]=r=>ee(r)),onClose:e[19]||(e[19]=r=>I(T)?T.value=!1:T=!1)},{header:N(()=>[...e[46]||(e[46]=[t("h3",{class:"text-center"},"\u062A\u062D\u0648\u064A\u0644 \u0645\u0646 \u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0649 \u062F\u0648\u0644\u0627\u0631",-1)])]),_:1},8,["show","boxes"]),s.$page.props.success?(d(),i("div",pr,[t("div",br,[t("div",cr,l(s.$page.props.success),1)])])):x("",!0),t("div",null,[t("div",mr,[t("div",yr,[t("div",gr,[t("div",xr,[t("div",fr,[s.$page.props.auth.user.type_id==1||s.$page.props.auth.user.type_id==2||s.$page.props.auth.user.type_id==5||s.$page.props.auth.user.type_id==6?(d(),i("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-green-500 rounded-md focus:outline-none",onClick:e[20]||(e[20]=r=>Rt())}," \u0648\u0635\u0644 \u0642\u0628\u0636 (\u0623\u0636\u0627\u0641\u0629) ")):x("",!0)]),t("div",vr,[s.$page.props.auth.user.type_id==1||s.$page.props.auth.user.type_id==2||s.$page.props.auth.user.type_id==5?(d(),i("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-yellow-500 rounded-md focus:outline-none",onClick:e[21]||(e[21]=r=>Wt())}," \u062A\u062D\u0648\u064A\u0644 \u0644\u062D\u0633\u0627\u0628 ")):x("",!0)]),t("div",hr,[s.$page.props.auth.user.type_id==1||s.$page.props.auth.user.type_id==2||s.$page.props.auth.user.type_id==5||s.$page.props.auth.user.type_id==6?(d(),i("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-rose-500 rounded-md focus:outline-none",onClick:e[22]||(e[22]=r=>Zt())}," \u0648\u0635\u0644 \u0635\u0631\u0641 (\u0633\u062D\u0628) ")):x("",!0)]),t("div",kr,[t("div",null,[g(X,{for:"from",value:"\u0645\u0646 \u062A\u0627\u0631\u064A\u062E"}),g(ot,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:c(et),"onUpdate:modelValue":e[23]||(e[23]=r=>I(et)?et.value=r:et=r)},null,8,["modelValue"])])]),t("div",$r,[t("div",null,[g(X,{for:"to",value:"\u062D\u062A\u0649 \u062A\u0627\u0631\u064A\u062E"}),g(ot,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:c(st),"onUpdate:modelValue":e[24]||(e[24]=r=>I(st)?st.value=r:st=r)},null,8,["modelValue"])])]),t("div",wr,[g(X,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),t("button",{onClick:e[25]||(e[25]=xe(r=>P(),["prevent"])),class:"px-6 mb-6 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},[c(U)?(d(),i("span",Nr,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(d(),i("span",_r,"\u0641\u0644\u062A\u0631\u0629"))])]),t("div",Cr,[g(X,{for:"pay",value:"\u0642\u0627\u0633\u0647"}),s.$page.props.auth.user.owner_id==1?(d(),Q(c(ct),{key:0,type:"button",href:"/wallet?id=2756",style:{"min-width":"150px"},class:"px-6 mb-6 py-2 font-bold text-white bg-orange-800 rounded w-full mt-1 text-center"},{default:N(()=>[...e[47]||(e[47]=[B(" \u062D\u0648\u0644\u0627\u062A \u062D\u0627\u062C\u0649 \u0639\u0645\u0631\u0627\u0646 ",-1)])]),_:1})):x("",!0)]),t("div",Dr,[g(X,{for:"to",value:"\u0645\u0635\u0627\u0631\u064A\u0641"}),s.$page.props.auth.user.owner_id==1?(d(),Q(c(ct),{key:0,type:"button",href:"/wallet?id=588",style:{"min-width":"150px"},class:"px-6 mb-6 py-2 font-bold text-white bg-red-500 rounded w-full mt-1 text-center"},{default:N(()=>[...e[48]||(e[48]=[B(" \u0645\u0635\u0627\u0631\u064A\u0641 \u0627\u0644\u0634\u0631\u0643\u0629 ",-1)])]),_:1})):x("",!0)])]),t("div",Tr,[t("div",null,[s.$page.props.auth.user.owner_id==1?(d(),i("button",{key:0,type:"button",onClick:e[26]||(e[26]=r=>Pt(1)),style:{"min-width":"150px"},className:"px-6 mb-6 py-2 font-bold text-white bg-red-500 rounded  w-full"}," \u062A\u062D\u0648\u064A\u0644\u0627\u062A \u0643\u0631\u0643\u0648\u0643 ")):x("",!0),s.$page.props.auth.user.type_id==6?(d(),i("button",{key:1,type:"button",onClick:e[27]||(e[27]=r=>qt(1)),style:{"min-width":"150px"},className:"px-6 mb-6 py-2 font-bold text-white bg-red-500 rounded  w-full"}," \u062A\u062D\u0648\u064A\u0644 \u0644\u0641\u0631\u0639 \u0623\u0631\u0628\u064A\u0644 ")):x("",!0)]),s.$page.props.auth.user.type_id==1?(d(),i("div",Ar,[t("button",{type:"button",onClick:e[28]||(e[28]=r=>ut(2)),style:{"min-width":"150px"},className:"px-6 mb-6 text-center py-2 font-bold text-white bg-blue-600 rounded  w-full"},l(s.$t("dubai")),1)])):x("",!0),s.$page.props.auth.user.type_id==1?(d(),i("div",Mr,[t("button",{type:"button",onClick:e[29]||(e[29]=r=>ut(3)),style:{"min-width":"150px"},className:"px-6 mb-6 text-center w-full py-2 font-bold text-white bg-blue-600 rounded"},l(s.$t("iran")),1)])):x("",!0),s.$page.props.auth.user.type_id==1?(d(),i("div",Er,[t("button",{type:"button",onClick:e[30]||(e[30]=r=>ut(4)),style:{"min-width":"150px"},className:"px-6 mb-6 w-full py-2 font-bold text-white bg-indigo-600 rounded"},l(s.$t("border")),1)])):x("",!0),s.$page.props.auth.user.type_id==1?(d(),i("div",Ur,[t("button",{type:"button",onClick:e[31]||(e[31]=r=>ut(5)),style:{"min-width":"150px"},className:"px-6 mb-6 w-full py-2 font-bold text-white bg-pink-600 rounded"},l(s.$t("shipping_coc")),1)])):x("",!0),t("div",null,[t("button",{type:"button",onClick:e[32]||(e[32]=r=>Yt()),style:{"min-width":"150px"},className:"px-6 mb-6 w-full py-2 font-bold text-white bg-teal-500 rounded"}," \u062A\u062D\u0648\u064A\u0644 \u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0649 \u062F\u064A\u0646\u0627\u0631 ")]),t("div",null,[t("button",{type:"button",onClick:e[33]||(e[33]=r=>zt()),style:{"min-width":"150px"},className:"px-6 mb-6 w-full py-2 font-bold text-white bg-yellow-500 rounded"}," \u062A\u062D\u0648\u064A\u0644 \u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0649 \u062F\u0648\u0644\u0627\u0631 ")])]),m.flaggedWallets&&m.flaggedWallets.length>0?(d(),i("div",Ir,[(d(!0),i(V,null,W(m.flaggedWallets,(r,j)=>(d(),i("div",{key:r.id},[s.$page.props.auth.user.owner_id==1?(d(),Q(c(ct),{key:0,type:"button",href:`/wallet?id=${r.id}`,style:{"min-width":"150px"},class:A(`px-6 mb-6 py-2 font-bold text-white ${pe(j)} rounded w-full mt-1 text-center`)},{default:N(()=>[B(l(r.name),1)]),_:2},1032,["href","class"])):x("",!0)]))),128))])):x("",!0),t("div",Sr,[t("div",Br,[g(X,{for:"to",value:"\u0631\u0635\u064A\u062F \u0627\u0644\u0635\u0646\u062F\u0648\u0642 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),g(ot,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:(_=(k=D.value)==null?void 0:k.user)==null?void 0:_.wallet.balance},null,8,["value"])]),t("div",Vr,[g(X,{for:"to",value:"\u0631\u0635\u064A\u062F \u0627\u0644\u0635\u0646\u062F\u0648\u0642 \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0639\u0631\u0627\u0642\u064A"}),g(ot,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:(z=(E=D.value)==null?void 0:E.user)==null?void 0:z.wallet.balance_dinar},null,8,["value"])]),t("div",Or,[g(X,{for:"to",value:"\u0628\u062D\u062B \u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644 \u0627\u0648 \u0627\u0644\u0648\u0635\u0641"}),g(ot,{id:"q",type:"text",class:"mt-1 block w-full",modelValue:c(at),"onUpdate:modelValue":e[34]||(e[34]=r=>I(at)?at.value=r:at=r),onInput:c(Ht)},null,8,["modelValue","onInput"])]),t("div",Gr,[t("table",jr,[e[51]||(e[51]=t("thead",{class:"bg-slate-800 text-gray-100"},[t("tr",null,[t("th",{class:"border p-2"},"\u0627\u0644\u0639\u0645\u0644\u0629"),t("th",{class:"border p-2"},"\u0627\u0644\u062F\u062E\u0644"),t("th",{class:"border p-2"},"\u0627\u0644\u062E\u0631\u0648\u062C"),t("th",{class:"border p-2"},"\u0627\u0644\u0641\u0631\u0642")])],-1)),t("tbody",null,[t("tr",Fr,[e[49]||(e[49]=t("td",{class:"border border-gray-700 p-2 font-bold text-emerald-300"},"\u062F\u0648\u0644\u0627\u0631",-1)),t("td",Hr,l(Y(c(dt))),1),t("td",Lr,l(Y(c(nt))),1),t("td",Rr,[t("span",{class:A(c(dt)+c(nt)>0?"text-emerald-300":"text-rose-300")},l(Y(c(dt)+c(nt))),3)])]),t("tr",Wr,[e[50]||(e[50]=t("td",{class:"border border-gray-700 p-2 font-bold text-indigo-300"},"\u062F\u064A\u0646\u0627\u0631",-1)),t("td",Zr,l(Y(c(lt))),1),t("td",qr,l(Y(c(it))),1),t("td",Pr,[t("span",{class:A(c(lt)+c(it)>0?"text-emerald-300":"text-rose-300")},l(Y(c(lt)+c(it))),3)])])])])])]),t("div",Yr,[t("table",zr,[e[52]||(e[52]=t("thead",{class:"uppercase bg-slate-800 text-gray-100 text-center"},[t("tr",{class:"rounded-l-lg mb-2 sm:mb-0"},[t("th",{className:"px-2 py-2",style:{width:"200px"}},"\u062D\u0633\u0627\u0628 "),t("th",{className:"px-2 py-2",style:{width:"180px"}},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),t("th",{className:"px-2 py-2"},"\u0627\u0644\u0648\u0635\u0641"),t("th",{className:"px-2 py-2"},"\u0627\u064A\u062F\u0627\u0639"),t("th",{className:"px-2 py-2"},"\u0633\u062D\u0628"),t("th",{className:"px-2 py-2",style:{width:"200px"}},"\u062A\u0646\u0641\u064A\u0630"),t("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"100px"}}," \u062A\u062E\u0632\u064A\u0646 ")])],-1)),t("tbody",null,[(d(!0),i(V,null,W(c(u),r=>{var j,F;return d(),i("tr",{key:r.id,class:A(ne(r))},[t("td",Xr,[Ct(r)?(d(),Q(c(ct),{key:0,href:Ct(r),class:"account-link"},{default:N(()=>{var S,bt;return[B(l((bt=(S=r.morphed)==null?void 0:S.name)!=null?bt:"\u2014"),1)]}),_:2},1032,["href"])):(d(),i("span",Jr,l((F=(j=r.morphed)==null?void 0:j.name)!=null?F:"\u2014"),1))]),t("td",Kr,l(c(Ee)(r==null?void 0:r.created_at)),1),t("th",Qr,[rt.value===r.id?(d(),i("div",to,[H(t("textarea",{"onUpdate:modelValue":e[35]||(e[35]=S=>Z.value=S),class:"w-full rounded border border-gray-300 dark:border-gray-700 dark:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm leading-6 p-2",rows:"3",maxlength:tt,placeholder:"\u0627\u0643\u062A\u0628 \u0627\u0644\u0648\u0635\u0641 \u0627\u0644\u062C\u062F\u064A\u062F \u0647\u0646\u0627"},null,512),[[K,Z.value]]),t("div",eo,[t("span",null,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 "+l(tt)+" \u062D\u0631\u0641\u064B\u0627"),t("span",{class:A(Z.value.length>tt?"text-red-500":"")},l(Z.value.length)+"/"+l(tt),3)]),G.value?(d(),i("p",so,l(G.value),1)):x("",!0),t("div",ao,[t("button",{type:"button",class:"px-3 py-1 text-sm font-semibold rounded bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-200",onClick:Dt,disabled:q.value}," \u0625\u0644\u063A\u0627\u0621 ",8,ro),t("button",{type:"button",class:"px-3 py-1 text-sm font-semibold text-white bg-green-600 rounded disabled:opacity-70",onClick:S=>ue(r),disabled:q.value},[q.value?(d(),i("span",lo,"\u062C\u0627\u0631\u064D \u0627\u0644\u062D\u0641\u0638...")):(d(),i("span",no,"\u062D\u0641\u0638"))],8,oo)])])):(d(),i("div",io,[t("span",uo,l(r.description),1),r._descriptionUpdated?(d(),i("span",po," \u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B ")):x("",!0)]))]),t("td",bo,[pt(r,"in")?(d(),i("span",{key:0,class:A(Nt("in"))},l(pt(r,"in")),3)):x("",!0)]),t("td",co,[pt(r,"out")?(d(),i("span",{key:0,class:A(Nt("out"))},l(pt(r,"out")),3)):x("",!0)]),t("td",mo,[t("div",yo,[t("button",{class:"action-btn action-btn--edit",title:"\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0648\u0635\u0641",onClick:S=>ie(r),disabled:q.value&&rt.value===r.id},[g(Te,{class:"w-4 h-4"})],8,go),t("button",{class:"action-btn action-btn--delete",onClick:S=>Xt(r),title:"\u062D\u0630\u0641 \u0627\u0644\u062D\u0631\u0643\u0629"},[g(De)],8,xo),t("button",{class:"action-btn action-btn--upload",onClick:S=>Jt(r),title:"\u0645\u0631\u0641\u0642\u0627\u062A \u0627\u0644\u062D\u0631\u0643\u0629"},[g(_e)],8,fo),r.type==="out"||r.type==="outUser"||r.type==="debt"?(d(),i("a",{key:0,href:`/api/getIndexAccountsSelas?user_id=${m.boxes[0].id}&print=2&transactions_id=${r.id}`,target:"_blank",class:"action-btn action-btn--print",title:"\u0637\u0628\u0627\u0639\u0629 \u0633\u0646\u062F \u0627\u0644\u0635\u0631\u0641"},[g(J,{class:"inline-flex"})],8,vo)):x("",!0),r.type==="in"||r.type==="inUser"?(d(),i("a",{key:1,href:`/api/getIndexAccountsSelas?user_id=${m.boxes[0].id}&print=3&transactions_id=${r.id}`,target:"_blank",class:"action-btn action-btn--print",title:"\u0637\u0628\u0627\u0639\u0629 \u0633\u0646\u062F \u0627\u0644\u0642\u0628\u0636"},[g(J,{class:"inline-flex"})],8,ho)):x("",!0),r.type==="inUserBox"?(d(),i("a",{key:2,href:`/api/getIndexAccountsSelas?user_id=${r.morphed_id}&print=3&transactions_id=${r.id}`,target:"_blank",class:"action-btn action-btn--print",title:"\u0637\u0628\u0627\u0639\u0629 \u0633\u0646\u062F \u0627\u0644\u0642\u0628\u0636"},[g(J,{class:"inline-flex"})],8,ko)):x("",!0),r.type==="outUserBox"?(d(),i("a",{key:3,href:`/api/getIndexAccountsSelas?user_id=${r.morphed_id}&print=2&transactions_id=${r.id}`,target:"_blank",class:"action-btn action-btn--print",title:"\u0637\u0628\u0627\u0639\u0629 \u0633\u0646\u062F \u0627\u0644\u0635\u0631\u0641"},[g(J,{class:"inline-flex"})],8,$o)):x("",!0)])]),t("td",null,[(d(!0),i(V,null,W(r.transactions_images,(S,bt)=>(d(),i("a",{key:bt,href:de(S.name),style:{cursor:"pointer"},target:"_blank"},[t("img",{src:oe(S.name),alt:"",class:"px-1",style:{"max-width":"80px","max-height":"50px",display:"inline"}},null,8,_o)],8,wo))),128))])],2)}),128))])])]),t("div",No,[g(c(Ae),{transactions:c(u),onInfinite:Lt,identifier:c(mt)},null,8,["transactions","identifier"])])])])])])]}),_:1})],64))}};export{qo as default};
