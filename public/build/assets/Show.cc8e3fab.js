import{I as ae,m as c,b as oe,a as r,f as l,u as p,e as C,F as I,o as d,H as le,i as T,h as e,t as o,g as h,w as re,y as de,z as O,k as q,n as ne,j as G}from"./app.c610f984.js";import{_ as ie}from"./AuthenticatedLayout.0b874a0c.js";import{M as ce}from"./Modal.a97d9231.js";import{t as ue}from"./laravel-vue-pagination.es.feb5d436.js";import{_ as i,a as u}from"./TextInput.a55a20f6.js";import{a as $}from"./index.6cc274a0.js";import{M as pe}from"./ModalDelCar.b660d049.js";import{_ as _e,p as me}from"./ModalEditCar_S.897893c0.js";import{_ as be}from"./ModalAddCarPayment.a94899c2.js";import{e as ve,t as he}from"./edit.3d12118b.js";/* empty css                                              */const ye=e("h2",{class:"font-semibold text-xl dark:text-gray-400 text-gray-800 leading-tight"}," \u0634\u0631\u0643\u0629 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 ",-1),xe=e("h2",{class:"mb-5 dark:text-gray-400 text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1),ge={key:0},fe={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},ke={class:"ml-3 text-sm font-medium text-red-700 dark:text-red-800"},$e={key:1,class:"py-4"},we={class:"text-center pb-2 dark:text-gray-400"},Ne={class:"max-w-9xl mx-auto sm:px-6 lg:px-8 p-6 dark:bg-gray-900"},Ce={class:"overflow-hidden shadow-sm sm:rounded-lg"},Ae={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 lg:gap-1"},De={class:"pr-4"},Se={value:"undefined",disabled:""},Ve=["value"],Me={className:"mb-4  mr-5"},Pe={class:"px-4"},Ie={className:"mb-4 mx-5"},Te={class:"px-4"},Ue={className:"mb-4 mx-5"},Fe={className:"mb-4  mr-5 print:hidden"},Be={key:0},Ee={key:1},Re={className:"mb-4  mr-5 print:hidden"},je=["href"],ze={key:0},He={key:1},Le={className:"mb-4  mr-5"},Oe={className:"mb-4  mr-5"},qe={className:"mb-4  mr-5"},Ge={className:"mb-4  mr-5"},Je={className:"mb-4  mr-5"},Ke={className:"mb-4  mr-5"},Qe={className:"mb-4  mr-5"},We={className:"mb-4  mr-5"},Xe={key:0,className:"mb-4  mr-5"},Ye={key:1,className:"mb-4  mr-5"},Ze={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 lg:gap-1"},et={key:0,className:"mb-4  mr-5 print:hidden"},tt=["disabled"],st={key:0},at={key:1},ot={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},lt={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},rt={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},dt={class:"rounded-l-lg mb-2 sm:mb-0"},nt={scope:"col",class:"px-1 py-2 text-base"},it={scope:"col",class:"px-1 py-2 text-base"},ct={scope:"col",class:"px-1 py-2 text-base"},ut={scope:"col",class:"px-1 py-2 text-base"},pt={scope:"col",class:"px-1 py-2 text-base"},_t={scope:"col",class:"px-1 py-2 text-base"},mt={scope:"col",class:"px-1 py-2 text-base"},bt={scope:"col",class:"px-1 py-2 text-base"},vt={scope:"col",class:"px-1 py-2 text-base print:hidden"},ht={scope:"col",class:"px-1 py-2 text-base print:hidden"},yt={scope:"col",class:"px-1 py-2 text-base"},xt={scope:"col",class:"px-1 py-2 text-base"},gt={scope:"col",class:"px-1 py-2 text-base"},ft={scope:"col",class:"px-1 py-2 text-base"},kt={scope:"col",class:"px-1 py-2 text-base"},$t={scope:"col",class:"px-1 py-2 text-base"},wt={scope:"col",class:"px-1 py-2 text-base"},Nt={scope:"col",class:"px-1 py-2 text-base"},Ct={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"150px"}},At={className:"border dark:border-gray-800 text-center px-2 py-1"},Dt={className:"border dark:border-gray-800 text-center px-2 py-1"},St={className:"border dark:border-gray-800 text-center px-2 py-1"},Vt={className:"border dark:border-gray-800 text-center px-2 py-1"},Mt={className:"border dark:border-gray-800 text-center px-2 py-1"},Pt={className:"border dark:border-gray-800 text-center px-2 py-1"},It={className:"border dark:border-gray-800 text-center px-2 py-1"},Tt={className:"border dark:border-gray-800 text-center px-2 py-1"},Ut={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},Ft={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},Bt={className:"border dark:border-gray-800 text-center px-2 py-1"},Et={className:"border dark:border-gray-800 text-center px-2 py-1"},Rt={className:"border dark:border-gray-800 text-center px-2 py-1"},jt={className:"border dark:border-gray-800 text-center px-2 py-1"},zt={className:"border dark:border-gray-800 text-center px-2 py-1"},Ht={className:"border dark:border-gray-800 text-center px-2 py-1"},Lt={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ot={className:"border dark:border-gray-800 text-center px-2 py-1"},qt={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},Gt=["onClick"],Jt=["onClick"],Kt=["onClick"],Qt={class:"mt-3 text-center",style:{direction:"ltr"}},Wt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 dark:text-gray-400 hidden print:block"},Xt={class:"flex flex-row"},Yt={class:"basis-1/2"},Zt=e("br",null,null,-1),es=e("div",{class:"basis-1/2 text-center"},"\u062A\u0648\u0642\u064A\u0639 \u0642\u0633\u0645 \u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1),ts=e("div",{class:"basis-1/2 text-end"},"\u062A\u0648\u0642\u064A\u0639 \u0627\u0644\u0645\u062F\u064A\u0631",-1),_s={__name:"Show",props:{url:String,clients:Array,client_id:String,client:Object},setup(U){const E=U,y=ae(),n=c({}),A=E.client_id,D=c(0),w=c(0),N=c(0);let x=c(!1),g=c(!1),b=c(!1);const S=c(0),f=c({}),F=c(0),V=c(0);c(0);const M=async(t=1)=>{$.get(`/api/getIndexAccountsSelas?page=${t}&user_id=${A}&from=${w.value}&to=${N.value}`).then(a=>{n.value=a.data,V.value=a.data.client.id}).catch(a=>{console.error(a)})},J=async(t=1)=>{$.get(`/api/getIndexAccountsSelas?page=${t}&user_id=${V.value}&from=${w.value}&to=${N.value}`).then(a=>{n.value=a.data}).catch(a=>{console.error(a)})};M();const K=oe();let _=c(!1);function Q(t){K.get(route("sentToCourt",t)),M(),_.value=!1}function W(t={}){f.value=t,g.value=!0}function X(t={}){f.value=t,x.value=!0}function Y(t={}){f.value=t,b.value=!0}function Z(t){$.post("/api/DelCar",t).then(a=>{g.value=!1,window.location.reload()}).catch(a=>{console.error(a)})}function ee(t){x.value=!1,$.post("/api/updateCarsS",t).then(a=>{_.value=!1,y.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})}).catch(a=>{y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function te(t){var a,m,v;$.get(`/api/addPaymentCar?car_id=${t.id}&discount=${(a=t.discount)!=null?a:0}&amount=${(m=t.amountPayment)!=null?m:0}&note=${(v=t.notePayment)!=null?v:""}`).then(k=>{b.value=!1,y.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+t.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0});let P=k.data;window.open(`/api/getIndexAccountsSelas?user_id=${E.client_id}&print=2&transactions_id=${P.id}`,"_blank")}).catch(k=>{_.value=!1,console.log(k),y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function se(t,a,m){$.get(`/api/addPaymentCarTotal?amount=${t!=null?t:0}&discount=${m!=null?m:0}&client_id=${a!=null?a:0}`).then(v=>{b.value=!1,y.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+t+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),window.location.reload()}).catch(v=>{_.value=!1,y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}return(t,a)=>(d(),r(I,null,[l(p(le),{title:"Dashboard"}),l(ie,null,{header:C(()=>[ye]),default:C(()=>{var m,v,k,P,R,j,z,H;return[l(_e,{formData:f.value,show:!!p(x),client:U.clients,onA:a[0]||(a[0]=s=>ee(s)),onClose:a[1]||(a[1]=s=>T(x)?x.value=!1:x=!1)},{header:C(()=>[]),_:1},8,["formData","show","client"]),l(be,{formData:f.value,show:!!p(b),onA:a[2]||(a[2]=s=>te(s)),onClose:a[3]||(a[3]=s=>T(b)?b.value=!1:b=!1)},{header:C(()=>[]),_:1},8,["formData","show"]),l(pe,{show:!!p(g),formData:f.value,onA:a[4]||(a[4]=s=>Z(s)),onClose:a[5]||(a[5]=s=>T(g)?g.value=!1:g=!1)},{header:C(()=>[xe]),_:1},8,["show","formData"]),l(ce,{show:!!p(_),data:p(_).toString(),onA:a[6]||(a[6]=s=>Q(s,t.arg1)),onClose:a[7]||(a[7]=s=>T(_)?_.value=!1:_=!1)},null,8,["show","data"]),t.$page.props.success?(d(),r("div",ge,[e("div",fe,[e("div",ke,o(t.$page.props.success),1)])])):h("",!0),t.$page.props.auth.user.type_id==1?(d(),r("div",$e,[e("h2",we,o(t.$t("sales_bill")),1),e("div",Ne,[e("div",Ce,[e("div",Ae,[e("div",De,[l(i,{class:"mb-1",for:"invoice_number",value:t.$t("Account")},null,8,["value"]),re(e("select",{onChange:a[8]||(a[8]=s=>J()),"onUpdate:modelValue":a[9]||(a[9]=s=>V.value=s),id:"default",class:"pr-8 border border-gray-300 text-gray-900 mb-6 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:border-gray-400 dark:placeholder-gray-400 dark:text-gray-600 dark:focus:ring-red-500 dark:focus:border-red-500"},[e("option",Se,o(t.$t("selectCustomer")),1),(d(!0),r(I,null,O(U.clients,(s,B)=>(d(),r(I,{key:B},[s.wallet.balance>0||s.id==p(A)?(d(),r("option",{key:0,value:s.id},o(s.name),9,Ve)):h("",!0)],64))),128))],544),[[de,V.value]])]),e("div",null,[e("div",Me,[l(i,{for:"totalAmount",value:t.$t("phoneNumber")},null,8,["value"]),l(u,{id:"totalAmount",type:"text",class:"mt-1 block w-full",value:(m=n.value.client)==null?void 0:m.phone,disabled:""},null,8,["value"])])]),e("div",Pe,[e("div",Ie,[l(i,{for:"from",value:t.$t("from_date")},null,8,["value"]),l(u,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:w.value,"onUpdate:modelValue":a[10]||(a[10]=s=>w.value=s)},null,8,["modelValue"])])]),e("div",Te,[e("div",Ue,[l(i,{for:"to",value:t.$t("to_date")},null,8,["value"]),l(u,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:N.value,"onUpdate:modelValue":a[11]||(a[11]=s=>N.value=s)},null,8,["modelValue"])])]),e("div",Fe,[l(i,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),e("button",{onClick:a[12]||(a[12]=q(s=>M(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},[D.value?(d(),r("span",Ee,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(d(),r("span",Be,"\u0641\u0644\u062A\u0631\u0629"))])]),e("div",Re,[l(i,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),e("a",{href:`/api/getIndexAccountsSelas?user_id=${p(A)}&from=${w.value}&to=${N.value}&print=1`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-orange-500 rounded block text-center",style:{width:"100%"}},[D.value?(d(),r("span",He,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(d(),r("span",ze,"\u0637\u0628\u0627\u0639\u0629"))],8,je)]),e("div",Le,[l(i,{for:"car_total",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A"}),l(u,{id:"car_total",type:"text",class:"mt-1 block w-full",value:n.value.car_total,disabled:""},null,8,["value"])]),e("div",Oe,[l(i,{for:"car_total_complete",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0645\u0643\u062A\u0645\u0644"}),l(u,{id:"car_total_complete",type:"text",class:"mt-1 block w-full",value:n.value.car_total_complete,disabled:""},null,8,["value"])]),e("div",qe,[l(i,{for:"car_total_unpaid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u063A\u064A\u0631 \u0645\u062F\u0641\u0648\u0639"}),l(u,{id:"car_total_unpaid",type:"text",class:"mt-1 block w-full",value:n.value.car_total_unpaid,disabled:""},null,8,["value"])]),e("div",Ge,[l(i,{for:"car_total_uncomplete",value:" \u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0645\u062F\u0641\u0648\u0639 \u0648\u063A\u064A\u0631 \u0645\u0643\u0645\u0644"}),l(u,{id:"car_total_uncomplete",type:"text",class:"mt-1 block w-full",value:n.value.car_total_uncomplete,disabled:""},null,8,["value"])]),e("div",Je,[l(i,{for:"cars_sum",value:t.$t("Total_in_dollars")},null,8,["value"]),l(u,{id:"cars_sum",type:"text",class:"mt-1 block w-full",value:(v=n.value)==null?void 0:v.cars_sum,disabled:""},null,8,["value"])]),e("div",Ke,[l(i,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u062F\u0641\u0648\u0639 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(u,{id:"cars_paid",type:"text",class:"mt-1 block w-full",value:(k=n.value)==null?void 0:k.cars_paid,disabled:""},null,8,["value"])]),e("div",Qe,[l(i,{for:"cars_discount",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(u,{id:"cars_discount",type:"text",class:"mt-1 block w-full",value:(P=n.value)==null?void 0:P.cars_discount,disabled:""},null,8,["value"])]),e("div",We,[l(i,{for:"cars_need_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u064A\u0646 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(u,{id:"cars_need_paid",type:"text",class:"mt-1 block w-full",value:(R=n.value)==null?void 0:R.cars_need_paid,disabled:""},null,8,["value"])]),(j=n.value)!=null&&j.cars_need_paid?(d(),r("div",Xe,[l(i,{for:"percentage",value:" \u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0645\u0631\u0627\u062F \u062F\u0641\u0639\u0647"}),l(u,{id:"percentage",type:"text",class:"mt-1 block w-full",modelValue:S.value,"onUpdate:modelValue":a[13]||(a[13]=s=>S.value=s)},null,8,["modelValue"])])):h("",!0),(z=n.value)!=null&&z.cars_need_paid?(d(),r("div",Ye,[l(i,{for:"discount",value:"\u0627\u0644\u062E\u0635\u0645"}),l(u,{id:"discount",type:"text",class:"mt-1 block w-full",modelValue:F.value,"onUpdate:modelValue":a[14]||(a[14]=s=>F.value=s)},null,8,["modelValue"])])):h("",!0)]),e("div",Ze,[S.value?(d(),r("div",et,[l(i,{for:"pay",value:"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062F\u0641\u0639"}),e("button",{onClick:a[15]||(a[15]=q(s=>se(S.value,p(A),F.value),["prevent"])),disabled:D.value||!parseInt(n.value.totalAmount),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},[D.value?(d(),r("span",at,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(d(),r("span",st,"\u062F\u0641\u0639"))],8,tt)])):h("",!0)]),e("div",null,[e("div",ot,[e("table",lt,[e("thead",rt,[e("tr",dt,[e("th",nt,o(t.$t("no")),1),e("th",it,o(t.$t("car_type")),1),e("th",ct,o(t.$t("year")),1),e("th",ut,o(t.$t("color")),1),e("th",pt,o(t.$t("vin")),1),e("th",_t,o(t.$t("car_number")),1),e("th",mt,o(t.$t("dinar")),1),e("th",bt,o(t.$t("dolar_price")),1),e("th",vt,o(t.$t("dolar_custom")),1),e("th",ht,o(t.$t("note")),1),e("th",yt,o(t.$t("shipping_dolar")),1),e("th",xt,o(t.$t("coc_dolar")),1),e("th",gt,o(t.$t("checkout")),1),e("th",ft,o(t.$t("expenses")),1),e("th",kt,o(t.$t("total")),1),e("th",$t,o(t.$t("paid")),1),e("th",wt,o(t.$t("discount")),1),e("th",Nt,o(t.$t("date")),1),e("th",Ct,o(t.$t("execute")),1)])]),e("tbody",null,[(d(!0),r(I,null,O(n.value.data,(s,B)=>(d(),r("tr",{key:s.id,class:ne([s.results==0?"":s.results==1?"bg-red-100 dark:bg-red-900":"bg-green-100 dark:bg-green-900","border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[e("td",At,o(B+1),1),e("td",Dt,o(s.car_type),1),e("td",St,o(s.year),1),e("td",Vt,o(s.car_color),1),e("td",Mt,o(s.vin),1),e("td",Pt,o(s.car_number),1),e("td",It,o(s.dinar_s),1),e("td",Tt,o(s.dolar_price_s),1),e("td",Ut,o((s.dinar_s/s.dolar_price_s*100).toFixed(0)||0),1),e("td",Ft,o(s.note),1),e("td",Bt,o(s.shipping_dolar_s),1),e("td",Et,o(s.coc_dolar_s),1),e("td",Rt,o(s.checkout_s),1),e("td",jt,o(s.expenses),1),e("td",zt,o(s.total_s.toFixed(0)),1),e("td",Ht,o(s.paid),1),e("td",Lt,o(s.discount),1),e("td",Ot,o(s.date),1),e("td",qt,[e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-slate-500 rounded",onClick:L=>X(s)},[l(ve)],8,Gt),e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-orange-500 rounded",onClick:L=>W(s)},[l(he)],8,Jt),s.total_s!=s.paid+s.discount?(d(),r("button",{key:0,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:L=>Y(s)},[l(me)],8,Kt)):h("",!0)])],2))),128))])])])]),e("div",Qt,[l(p(ue),{data:n.value,onPaginationChangePage:M,limit:2},null,8,["data"])])])])])):h("",!0),e("div",Wt,[e("div",Xt,[e("div",Yt,[G(" \u062A\u0648\u0642\u064A\u0639 \u0635\u0627\u062D\u0628 \u0627\u0644\u062D\u0633\u0627\u0628 "),Zt,G(" "+o((H=n.value.client)==null?void 0:H.name),1)]),es,ts])])]}),_:1})],64))}};export{_s as default};
