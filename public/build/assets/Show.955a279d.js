import{o as u,c as ce,w as D,a as c,b as e,f as rt,t as r,d as me,e as F,v as U,i as x,T as pe,y as ge,u as be,r as p,p as ye,g as l,k as s,F as W,j as $,H as fe,l as v,B as xe,h as st,m as X,x as ve,n as he}from"./app.706fd5d3.js";import{a as _e,_ as ke}from"./AuthenticatedLayout.83cd828f.js";import{M as we}from"./Modal.a6ebd742.js";import{t as $e}from"./laravel-vue-pagination.es.b460d4b5.js";import{_ as f}from"./InputLabel.ae486cf7.js";import{_}from"./TextInput.99f0e255.js";import{M as it}from"./ModalDelCar.bcb7ea21.js";import{_ as De}from"./ModalEditCar_S.7a448d89.js";import{_ as Ce}from"./ModalAddCarPayment.ffb50e4b.js";import{_ as Ne,a as Ae,b as Me,c as Se,e as Pe}from"./exit.43d553fe.js";import{p as ut}from"./print.15089cf3.js";import{p as Ft}from"./pay.e76fce65.js";import{t as Ie}from"./trash.ba7a0f1f.js";import{e as Fe}from"./edit.13ed1730.js";import{s as Te}from"./show.1232416f.js";import{n as Ee}from"./new.86a51f9d.js";/* empty css                                              *//* empty css                                                    */import"./Uploader.5602c980.js";/* empty css                                                                 *//* empty css                                                       */const Be={key:0,class:"modal-mask"},Ue={class:"modal-wrapper max-h-[80vh]"},Ve={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},je={class:"modal-header text-center py-4 dark:text-gray-300"},He={class:"modal-body"},Re={class:"grid grid-cols-2 gap-3 lg:gap-2"},qe={class:"mb-4 mx-5"},ze={class:"mb-4 mx-5"},Le={class:"mb-4 mx-5"},Oe={class:"mb-4 mx-5"},We={class:"mb-4 mx-5"},Ye={class:"mb-4 mx-5"},Ze={class:"mb-4 mx-5"},Ge={class:"mb-4 mx-5"},Je={class:"modal-footer my-2"},Ke={class:"flex flex-row"},Qe={class:"basis-1/2 px-4"},Xe={class:"basis-1/2 px-4"},to=["disabled"],eo={__name:"ModalShowDriving",props:{show:Boolean,formDriving:Object},setup(m){return(y,n)=>(u(),ce(pe,{name:"modal"},{default:D(()=>[m.show?(u(),c("div",Be,[e("div",Ue,[e("div",Ve,[e("div",je,[rt(" \u062A\u062E\u0648\u064A\u0644 \u0642\u064A\u0627\u062F\u0629 "+r(m.formDriving.car_typeDriving)+" "+r(m.formDriving.yearDriving)+" "+r(m.formDriving.car_colorDriving)+" \u0631\u0642\u0645 \u0634\u0627\u0646\u0635\u0649 "+r(m.formDriving.vinDriving)+" ",1),me(y.$slots,"header")]),e("div",He,[e("div",Re,[e("div",qe,[n[10]||(n[10]=e("label",{class:"dark:text-gray-200",for:"amountTotal"},"\u0627\u0644\u0627\u0633\u0645 \u0643\u0627\u0645\u0644",-1)),F(e("input",{id:"amountTotal",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":n[0]||(n[0]=h=>m.formDriving.nameDriving=h)},null,512),[[U,m.formDriving.nameDriving]])]),e("div",ze,[n[11]||(n[11]=e("label",{class:"dark:text-gray-200",for:"carType"},"\u0627\u0644\u0633\u064A\u0627\u0631\u0629",-1)),F(e("input",{id:"carType",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":n[1]||(n[1]=h=>m.formDriving.car_typeDriving=h)},null,512),[[U,m.formDriving.car_typeDriving]])]),e("div",Le,[n[12]||(n[12]=e("label",{class:"dark:text-gray-200",for:"vin"},"\u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0646\u0635\u064A",-1)),F(e("input",{id:"vin",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":n[2]||(n[2]=h=>m.formDriving.vinDriving=h)},null,512),[[U,m.formDriving.vinDriving]])]),e("div",Oe,[n[13]||(n[13]=e("label",{class:"dark:text-gray-200",for:"carNumber"},"\u0631\u0642\u0645 \u0627\u0644\u0633\u064A\u0627\u0631\u0629",-1)),F(e("input",{id:"carNumber",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":n[3]||(n[3]=h=>m.formDriving.car_numberDriving=h)},null,512),[[U,m.formDriving.car_numberDriving]])]),e("div",We,[n[14]||(n[14]=e("label",{class:"dark:text-gray-200",for:"color"},"\u0627\u0644\u0644\u0648\u0646",-1)),F(e("input",{id:"color",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":n[4]||(n[4]=h=>m.formDriving.car_colorDriving=h)},null,512),[[U,m.formDriving.car_colorDriving]])]),e("div",Ye,[n[15]||(n[15]=e("label",{class:"dark:text-gray-200",for:"model"},"\u0645\u0648\u062F\u064A\u0644",-1)),F(e("input",{id:"model",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":n[5]||(n[5]=h=>m.formDriving.yearDriving=h)},null,512),[[U,m.formDriving.yearDriving]])]),e("div",Ze,[n[16]||(n[16]=e("label",{class:"dark:text-gray-200",for:"exitDate"},"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062A\u062E\u0648\u064A\u0644",-1)),F(e("input",{id:"exitDate",type:"date",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":n[6]||(n[6]=h=>m.formDriving.createdDriving=h)},null,512),[[U,m.formDriving.createdDriving]])])]),e("div",Ge,[n[17]||(n[17]=e("label",{class:"dark:text-gray-200",for:"note"},"\u062A\u062E\u0648\u064A\u0644 \u0627\u0644\u0642\u064A\u0627\u062F\u0629",-1)),F(e("textarea",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":n[7]||(n[7]=h=>m.formDriving.noteDriving=h)},null,512),[[U,m.formDriving.noteDriving]])])]),e("div",Je,[e("div",Ke,[e("div",Qe,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:n[8]||(n[8]=h=>{y.$emit("close")})},r(y.$t("cancel")),1)]),e("div",Xe,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:n[9]||(n[9]=h=>y.$emit("a",m.formDriving)),disabled:!m.formDriving.noteDriving},r(y.$t("yes")),9,to)])])])])])])):x("",!0)]),_:3}))}},oo={},ao={class:"w-6 h-6 text-white dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"};function so(m,y){return u(),c("svg",ao,[...y[0]||(y[0]=[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7h1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V5a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h11.5M7 14h6m-6 3h6m0-10h.5m-.5 3h.5M7 7h3v3H7V7Z"},null,-1)])])}const ro=_e(oo,[["render",so]]);const lo={class:"mb-5 dark:text-gray-400 text-center"},no={class:"mb-5 dark:text-gray-400 text-center"},io={key:0},uo={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},co={class:"ml-3 text-sm font-medium text-red-700 dark:text-red-800"},mo={key:1,class:"py-4"},po={class:"text-center pb-2 dark:text-gray-400"},go={class:"max-w-9xl mx-auto sm:px-6 lg:px-8 p-6 dark:bg-gray-900"},bo={class:"overflow-hidden shadow-sm sm:rounded-lg"},yo={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 lg:gap-1"},fo={class:"pr-4"},xo={value:"undefined",disabled:""},vo=["value"],ho={className:"mb-4  mr-5"},_o={class:"flex items-center ps-4 rounded-lg border border-gray-300 text-gray-900 mt-1"},ko=["value","checked"],wo={for:"bordered-checkbox-1",class:"w-full pt-3 py-2 mx-4 text-sm font-medium text-gray-900 dark:text-gray-300"},$o={class:"px-4"},Do={className:"mb-4 mx-5"},Co={class:"px-4"},No={className:"mb-4 mx-5"},Ao={className:"mb-4  mr-5 print:hidden"},Mo={className:"mb-4  mr-5 print:hidden"},So=["href"],Po={className:"mb-4  mr-5 print:hidden"},Io=["href"],Fo={className:"mb-4  mr-5"},To={className:"mb-4  mr-5"},Eo={className:"mb-4  mr-5"},Bo={className:"mb-4  mr-5"},Uo={className:"mb-4  mr-5"},Vo={key:0,className:"mb-4  mr-5 print:hidden"},jo=["disabled"],Ho=["disabled"],Ro={className:"mb-4  mr-5 print:hidden"},qo=["disabled"],zo={key:1,className:"mb-4  mr-5"},Lo={className:"mb-4  mr-5"},Oo={className:"mb-4  mr-5"},Wo={className:"mb-4  mr-5"},Yo={className:"mb-4  mr-5"},Zo={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 lg:gap-1"},Go={className:"mb-4  mr-5"},Jo={className:"mb-4  mr-5"},Ko={className:"mb-4  mr-5"},Qo={className:"mb-4  mr-5 print:hidden"},Xo=["disabled"],ta={key:0},ea={key:1},oa={key:2},aa={key:1,class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},sa={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},ra={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},la={class:"bg-rose-500 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},na={className:"px-1 py-2 text-base"},da={className:"px-1 py-2 text-base"},ia={className:"px-1 py-2 text-base"},ua={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},ca={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ma={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},pa=["href"],ga={key:0,class:"text-center"},ba={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ya={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},fa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},xa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},va={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ha={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},_a=["href"],ka={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},wa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},$a={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},Da={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},Ca={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Na={class:"rounded-l-lg mb-2 sm:mb-0"},Aa={scope:"col",class:"px-1 py-2 text-base"},Ma={scope:"col",class:"px-1 py-2 text-base"},Sa={scope:"col",class:"px-1 py-2 text-base"},Pa={scope:"col",class:"px-1 py-2 text-base"},Ia={scope:"col",class:"px-1 py-2 text-base"},Fa={scope:"col",class:"px-1 py-2 text-base"},Ta={scope:"col",class:"px-1 py-2 text-base"},Ea={scope:"col",class:"px-1 py-2 text-base"},Ba={scope:"col",class:"px-1 py-2 text-base print:hidden"},Ua={scope:"col",class:"px-1 py-2 text-base print:hidden"},Va={scope:"col",class:"px-1 py-2 text-base"},ja={scope:"col",class:"px-1 py-2 text-base"},Ha={scope:"col",class:"px-1 py-2 text-base"},Ra={scope:"col",class:"px-1 py-2 text-base"},qa={scope:"col",class:"px-1 py-2 text-base"},za={scope:"col",class:"px-1 py-2 text-base"},La={scope:"col",class:"px-1 py-2 text-base"},Oa={scope:"col",class:"px-1 py-2 text-base"},Wa={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},Ya={className:"border dark:border-gray-800 text-center px-2 py-1"},Za={className:"border dark:border-gray-800 text-center px-2 py-1"},Ga={className:"border dark:border-gray-800 text-center px-2 py-1"},Ja={className:"border dark:border-gray-800 text-center px-2 py-1"},Ka={className:"border dark:border-gray-800 text-center px-2 py-1"},Qa={className:"border dark:border-gray-800 text-center px-2 py-1"},Xa={className:"border dark:border-gray-800 text-center px-2 py-1"},ts={className:"border dark:border-gray-800 text-center px-2 py-1"},es={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},os={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},as={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},ss={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},rs={className:"border dark:border-gray-800 text-center px-2 py-1"},ls={className:"border dark:border-gray-800 text-center px-2 py-1"},ns={className:"border dark:border-gray-800 text-center px-2 py-1"},ds={className:"border dark:border-gray-800 text-center px-2 py-1"},is={className:"border dark:border-gray-800 text-center px-2 py-1"},us={className:"border dark:border-gray-800 text-center px-2 py-1"},cs={className:"border dark:border-gray-800 text-center px-2 py-1"},ms={className:"border dark:border-gray-800 text-center px-1 py-2 "},ps={className:"border dark:border-gray-800 text-center px-2 py-1"},gs={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},bs=["onClick"],ys=["onClick"],fs=["onClick"],xs=["onClick"],vs=["onClick"],hs=["onClick"],_s=["onClick"],ks=["onClick"],ws=["href"],$s={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},Ds=["href"],Cs=["src"],Ns={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},As=["onClick"],Ms=["onClick"],Ss={class:"mt-3 text-center",style:{direction:"ltr"}},Ps={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 dark:text-gray-400 hidden print:block"},Is={class:"flex flex-row"},Fs={class:"basis-1/2"},er={__name:"Show",props:{url:String,clients:Array,client_id:String,client:Object,q:String},setup(m){const y=ge(),n=m,h=be();p(0);let d=p({}),E=p(0),A=p(0),M=p(0),lt=1,V=p(!1),Y=p(!1),Z=p(!1),j=p(!1),nt=p(!1),G=p(!1),k=p(!1),H=p(!1),R=p(!1),q=p(!1),et=p(!1),z=p(!1);p(0);let g=p({}),S=p({}),T=p(!1),L=p(0),J=p(""),P=p(0),C=p(0);p(0);let K=p(!1),Q=p(!1);const ot=async(a=1)=>{var t;$.get(`/api/getIndexAccountsSelas?page=${a}&user_id=${(t=n==null?void 0:n.client_id)!=null?t:0}&from=${A.value}&to=${M.value}`).then(i=>{d.value=i.data,C.value=i.data.client.id,le(i.data.cars_sum)}).catch(i=>{console.error(i)})};function I(){let a="",t="";try{a=d.value.transactions.filter(i=>i.type==="out"&&i.amount<0&&i.is_pay===1)}catch{}try{t=a.reduce((i,b)=>i+b.amount,0)}catch{}return{totalAmount:t}}function Tt(a={}){g.value=a,K.value=!0}function Et(a={}){g.value=a,Q.value=!0}function Bt(a){var t,i;a.balance=I().totalAmount*-1-((t=d.value)==null?void 0:t.cars_paid)-((i=d.value)==null?void 0:i.cars_discount),$.post("/api/AddPayFromBalanceCar",a).then(b=>{K.value=!1,window.location.reload()}).catch(b=>{console.error(b)})}function Ut(a){$.post("/api/DelPayFromBalanceCar",a).then(t=>{Q.value=!1,window.location.reload()}).catch(t=>{console.error(t)})}const B=async(a=1)=>{$.get(`/api/getIndexAccountsSelas?page=${a}&user_id=${C.value}&from=${A.value}&to=${M.value}`).then(t=>{d.value=t.data,C.value=t.data.client.id}).catch(t=>{console.error(t)})};ye(()=>{ot()});function Vt(a){h.get(route("sentToCourt",a)),ot(),T.value=!1}function jt(a={}){g.value=a,Z.value=!0}function Ht(a={}){g.value=a,g.value.dinar_s==0&&(g.value.dinar_s=g.value.dinar),Y.value=!0}function Rt(a={}){g.value=a,g.value.notePayment=" \u0628\u064A\u062F ",j.value=!0}function qt(a){$.post("/api/DelCar",a).then(t=>{Z.value=!1,window.location.reload()}).catch(t=>{console.error(t)})}function zt(a){Y.value=!1,$.post("/api/updateCarsS",a).then(t=>{T.value=!1,y.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),B()}).catch(t=>{y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),B()})}function Lt(a){var t,i;a.discountPayment||(a.discountPayment=0),$.get(`/api/addPaymentCar?car_id=${a.id}&discount=${a.discountPayment}&amount=${(t=a.amountPayment)!=null?t:0}&note=${(i=a.notePayment)!=null?i:""}`).then(b=>{j.value=!1,y.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+a.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),B();let w=b.data;window.open(`/api/getIndexAccountsSelas?user_id=${n.client_id}&print=2&transactions_id=${w.id}`,"_blank")}).catch(b=>{T.value=!1,console.log(b),y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Ot(a,t,i,b){E.value=!0,$.get(`/api/addPaymentCarTotal?amount=${a!=null?a:0}&discount=${i!=null?i:0}&note=${b}&client_id=${t!=null?t:0}`).then(w=>{j.value=!1,y.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+a+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),V.value=!1,E.value=!1,B(),Wt();let O=w.data;window.open(`/api/getIndexAccountsSelas?user_id=${n.client_id}&print=2&transactions_id=${O.id}`,"_blank")}).catch(w=>{console.log(w),T.value=!1,E.value=!1,y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Wt(){P.value=0,L.value=0,J.value=""}function Yt(){V.value=!0,G.value=!1}function Zt(){V.value=!1}function Gt(){G.value=!0,V.value=!1}function Jt(){G.value=!1}function Kt(a={}){g.value=a,g.value.prices=100,g.value.price_dinars=5e4,H.value=!0}function Qt(a={}){g.value=formshowModalShowExitCar,R.value=!0}function Xt(a={}){g.value=a,g.value.createdExit=mt(),q.value=!0}function te(a={}){g.value=a.value=!0}function ee(a={}){S.value.car_typeDriving=a.car_type,S.value.yearDriving=a.year,S.value.car_colorDriving=a.car_color,S.value.vinDriving=a.vin,S.value.nameDriving=n.client.name,S.value.clientIdDriving=C.value,S.value.car_numberDriving=a.car_number,S.value.createdDriving=mt(),S.value.noteDriving="\u0627\u0646\u0627 \u0643\u0627\u0631\u0632\u0627\u0646 \u0633\u0631\u0647\u0646\u0643 \u0645\u062D\u0645\u062F (\u0648\u0643\u064A\u0644 \u0639\u0627\u0645 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 \u0627\u064A\u0648\u0628 ) (\u0645\u062F\u064A\u0631 \u0645\u0641\u0648\u0636 \u0634\u0631\u0643\u0629 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 \u0627\u064A\u0648\u0628) \u0642\u062F \u062E\u0648\u0644\u062A \u0627\u0644\u0633\u064A\u062F(name) \u0628\u0642\u064A\u0627\u062F\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0630\u0627\u062A \u0627\u0644\u0645\u0648\u0627\u0635\u0641\u0627\u062A \u0627\u062F\u0646\u0627\u0647 \u0644\u0647 \u062D\u0642  \u0646\u0642\u0644\u0647\u0627  \u0645\u0646 \u0645\u062D\u0627\u0641\u0638\u0629 \u0627\u0644\u0649 \u0645\u062D\u0627\u0641\u0638\u0629 \u0627\u062E\u0631\u0649 \u0648\u062F\u0641\u0639 \u0627\u0644\u0631\u0633\u0648\u0645 \u0648\u0627\u0644\u063A\u0631\u0645\u0627\u062A \u0628\u064A\u0639 \u0648\u0634\u0631\u0627\u0621 \u0627\u0644\u0642\u0628\u0636 \u0627\u0644\u062B\u0645\u0646.",z.value=!0}function oe(){var t,i,b;let a=(b=(i=(t=d==null?void 0:d.value)==null?void 0:t.client)==null?void 0:i.wallet)==null?void 0:b.balance;P.value=a-L.value}function ae(){var t,i,b;let a=(b=(i=(t=d==null?void 0:d.value)==null?void 0:t.client)==null?void 0:i.wallet)==null?void 0:b.balance;console.log(a),P.value>a?(P.value=a,nt.value=!0,y.info(" \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u062F\u064A\u0646 \u0627\u0644\u0645\u0637\u0644\u0648\u0628 "+P.value,{timeout:4e3,position:"bottom-right",rtl:!0})):nt.value=!1}function se(a){var t,i,b,w,O,tt;$.get(`/api/addCarContracts?car_id=${a.id}&price=${(t=a.prices)!=null?t:0}&price_dinar=${(i=a.price_dinars)!=null?i:0}&paid=${(b=a.paids)!=null?b:0}&paid_dinar=${(w=a.paid_dinars)!=null?w:0}&phone=${(O=a.phone)!=null?O:""}&note=${(tt=a.note)!=null?tt:""}`).then(at=>{H.value=!1,y.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u0628\u0646\u062C\u0627\u062D ",{timeout:4e3,position:"bottom-right",rtl:!0}),B()}).catch(at=>{H.value=!1,y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function re(a){var t,i,b;$.get(`/api/editCarContracts?car_id=${a.id}&paid=${(t=a.paids)!=null?t:0}&paid_dinar=${(i=a.paid_dinars)!=null?i:0}&note=${(b=a.notePayment)!=null?b:""}`).then(w=>{R.value=!1,y.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+a.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),B()}).catch(w=>{R.value=!1,y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function ct(a){$.get(`/api/makeCarExit?car_id=${a.id}&created=${a.createdExit}&phone=${a.phoneExit}&note=${a.noteExit}`).then(t=>{q.value=!1,y.success("\u062A\u0645 \u0627\u0636\u0627\u0641\u0629 \u062E\u0631\u0648\u062C\u064A\u0629 \u0644\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:5e3,position:"bottom-right",rtl:!0}),B()}).catch(t=>{q.value=!1,y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function le(a){$.get(`/api/checkClientBalance?userId=${n.client_id}&currentBalance=${a+I().totalAmount}`).then(t=>{console.log(t),t.status==201&&y.success(" \u062A\u0645 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u062D\u0633\u0627\u0628 \u0628\u0646\u062C\u0627\u062D  "+t.data,{timeout:5e3,position:"bottom-right",rtl:!0})}).catch(t=>{y.error("\u0644\u0645 \u064A\u062A\u0645 \u0627\u0639\u0627\u062F\u0629 \u0641\u062D\u0635 \u0627\u0644\u062D\u0633\u0627\u0628  \u0628\u0646\u062C\u0627\u062D ",{timeout:5e3,position:"bottom-right",rtl:!0})})}function ne(a){$.post("/api/makeDrivingDocument",a).then(t=>{z.value=!1,window.open(`/api/makeDrivingDocumentPdf?doc_id=${t.data.id}`,"_blank")}).catch(t=>{z.value=!1,y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function mt(){const a=new Date,t=a.getFullYear(),i=String(a.getMonth()+1).padStart(2,"0"),b=String(a.getDate()).padStart(2,"0");return`${t}-${i}-${b}`}function de(a){return`/public/uploadsResized/${a}`}function ie(a){return`/public/uploads/${a}`}return(a,t)=>(u(),c(W,null,[l(s(fe),{title:"Dashboard"}),l(ke,null,{header:D(()=>[...t[36]||(t[36]=[e("h2",{class:"font-semibold text-xl dark:text-gray-400 text-gray-800 leading-tight"}," \u0634\u0631\u0643\u0629 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 ",-1)])]),default:D(()=>{var i,b,w,O,tt,at,pt,gt,bt,yt,ft,xt,vt,ht,_t,kt,wt,$t;return[l(Ne,{formData:s(g),show:!!s(H),onA:t[0]||(t[0]=o=>se(o)),onClose:t[1]||(t[1]=o=>v(H)?H.value=!1:H=!1)},{header:D(()=>[...t[37]||(t[37]=[])]),_:1},8,["formData","show"]),l(it,{show:!!s(K),formData:s(g),onA:t[2]||(t[2]=o=>Bt(o)),onClose:t[3]||(t[3]=o=>v(K)?K.value=!1:K=!1)},{header:D(()=>[e("h2",lo," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062F\u0641\u0639 "+r(s(g).car_type)+" \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",1)]),_:1},8,["show","formData"]),l(it,{show:!!s(Q),formData:s(g),onA:t[4]||(t[4]=o=>Ut(o)),onClose:t[5]||(t[5]=o=>v(Q)?Q.value=!1:Q=!1)},{header:D(()=>[e("h2",no," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0639\u0627\u062F\u0629 \u062F\u0641\u0639\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 "+r(s(g).car_type)+" \u0644\u0644\u0631\u0635\u064A\u062F \u061F ",1)]),_:1},8,["show","formData"]),l(Ae,{formData:s(g),show:!!s(R),onA:t[6]||(t[6]=o=>re(o)),onClose:t[7]||(t[7]=o=>v(R)?R.value=!1:R=!1)},{header:D(()=>[...t[38]||(t[38]=[])]),_:1},8,["formData","show"]),l(Me,{formData:s(g),show:!!s(q),onA:t[8]||(t[8]=o=>ct(o)),onClose:t[9]||(t[9]=o=>v(q)?q.value=!1:q=!1)},{header:D(()=>[...t[39]||(t[39]=[])]),_:1},8,["formData","show"]),l(Se,{formData:s(g),show:!!s(et),onA:t[10]||(t[10]=o=>ct(o)),onClose:t[11]||(t[11]=o=>v(et)?et.value=!1:et=!1)},{header:D(()=>[...t[40]||(t[40]=[])]),_:1},8,["formData","show"]),l(eo,{formDriving:s(S),show:!!s(z),onA:t[12]||(t[12]=o=>ne(o)),onClose:t[13]||(t[13]=o=>v(z)?z.value=!1:z=!1)},{header:D(()=>[...t[41]||(t[41]=[])]),_:1},8,["formDriving","show"]),l(De,{formData:s(g),show:!!s(Y),client:m.clients,onA:t[14]||(t[14]=o=>zt(o)),onClose:t[15]||(t[15]=o=>v(Y)?Y.value=!1:Y=!1)},{header:D(()=>[...t[42]||(t[42]=[])]),_:1},8,["formData","show","client"]),l(Ce,{formData:s(g),show:!!s(j),onA:t[16]||(t[16]=o=>Lt(o)),onClose:t[17]||(t[17]=o=>v(j)?j.value=!1:j=!1)},{header:D(()=>[...t[43]||(t[43]=[])]),_:1},8,["formData","show"]),l(it,{show:!!s(Z),formData:s(g),onA:t[18]||(t[18]=o=>qt(o)),onClose:t[19]||(t[19]=o=>v(Z)?Z.value=!1:Z=!1)},{header:D(()=>[...t[44]||(t[44]=[e("h2",{class:"mb-5 dark:text-gray-400 text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1)])]),_:1},8,["show","formData"]),l(we,{show:!!s(T),data:s(T).toString(),onA:t[20]||(t[20]=o=>Vt(o,a.arg1)),onClose:t[21]||(t[21]=o=>v(T)?T.value=!1:T=!1)},null,8,["show","data"]),a.$page.props.success?(u(),c("div",io,[e("div",uo,[e("div",co,r(a.$page.props.success),1)])])):x("",!0),a.$page.props.auth.user.type_id==1||a.$page.props.auth.user.type_id==6?(u(),c("div",mo,[e("h2",po,r(a.$t("sales_bill")),1),e("div",go,[e("div",bo,[e("div",yo,[e("div",fo,[l(f,{class:"mb-1",for:"invoice_number",value:a.$t("Account")},null,8,["value"]),F(e("select",{onChange:t[22]||(t[22]=o=>B()),"onUpdate:modelValue":t[23]||(t[23]=o=>v(C)?C.value=o:C=o),id:"default",class:"pr-8 border border-gray-300 text-gray-900 mb-6 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:border-gray-400 dark:placeholder-gray-400 dark:text-gray-600 dark:focus:ring-red-500 dark:focus:border-red-500"},[e("option",xo,r(a.$t("selectCustomer")),1),(u(!0),c(W,null,st(m.clients,(o,dt)=>(u(),c(W,{key:dt},[o.wallet.balance>0||o.id==s(C)?(u(),c("option",{key:0,value:o.id},r(o.name),9,vo)):x("",!0)],64))),128))],544),[[xe,s(C)]])]),e("div",null,[e("div",ho,[l(f,{for:"totalAmount",value:"\u0641\u0644\u062A\u0631\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u0643\u062A\u0645\u0644\u0629"}),e("div",_o,[e("input",{id:"bordered-checkbox-1",type:"checkbox",onChange:t[24]||(t[24]=o=>s(k)==!0?v(k)?k.value=!1:k=!1:v(k)?k.value=!0:k=!0),value:s(k),checked:!s(k),name:"bordered-checkbox",class:"w-4 h-4 mx-2 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,ko),e("label",wo,r(s(k)==!1?" \u062A\u0645 \u0627\u0644\u0641\u0644\u062A\u0631":"\u062A\u0645 \u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0629"),1)])])]),e("div",$o,[e("div",Do,[l(f,{for:"from",value:a.$t("from_date")},null,8,["value"]),l(_,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:s(A),"onUpdate:modelValue":t[25]||(t[25]=o=>v(A)?A.value=o:A=o)},null,8,["modelValue"])])]),e("div",Co,[e("div",No,[l(f,{for:"to",value:a.$t("to_date")},null,8,["value"]),l(_,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:s(M),"onUpdate:modelValue":t[26]||(t[26]=o=>v(M)?M.value=o:M=o)},null,8,["modelValue"])])]),e("div",Ao,[l(f,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),e("button",{onClick:t[27]||(t[27]=X(o=>ot(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},[...t[45]||(t[45]=[e("span",null,"\u0641\u0644\u062A\u0631\u0629",-1)])])]),e("div",Mo,[l(f,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),e("a",{href:`/api/getIndexAccountsSelas?user_id=${s(C)}&from=${s(A)}&to=${s(M)}&print=1&showComplatedCars=${s(k)?0:1}`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-orange-500 rounded block text-center",style:{width:"100%"}},[...t[46]||(t[46]=[e("span",null,"\u0637\u0628\u0627\u0639\u0629",-1)])],8,So)]),e("div",Po,[l(f,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),e("a",{href:`/api/getIndexAccountsSelas?user_id=${s(C)}&from=${s(A)}&to=${s(M)}&print=1&printExcel=1&showComplatedCars=${s(k)?0:1}`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded block text-center",style:{width:"100%"}},[...t[47]||(t[47]=[e("span",null,"Excel",-1)])],8,Io)]),e("div",Fo,[l(f,{for:"car_total",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A"}),l(_,{id:"car_total",type:"text",class:"mt-1 block w-full",value:s(d).car_total,disabled:""},null,8,["value"])]),e("div",To,[l(f,{for:"cars_sum",value:a.$t("Total_in_dollars")+" \u062C\u0645\u0631\u0643 "},null,8,["value"]),l(_,{id:"cars_sum",type:"text",class:"mt-1 block w-full",value:(i=s(d))==null?void 0:i.cars_sum,disabled:""},null,8,["value"])]),e("div",Eo,[l(f,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u062F\u0641\u0648\u0639  \u062C\u0645\u0631\u0643 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(_,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:parseFloat((b=s(d))==null?void 0:b.cars_sum)-(parseFloat((tt=(O=(w=s(d))==null?void 0:w.client)==null?void 0:O.wallet)==null?void 0:tt.balance)+parseFloat((at=s(d))==null?void 0:at.cars_discount)),disabled:""},null,8,["value"])]),e("div",Bo,[l(f,{for:"cars_discount",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A  \u062C\u0645\u0631\u0643 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(_,{id:"cars_discount",type:"text",class:"mt-1 block w-full",value:(pt=s(d))==null?void 0:pt.cars_discount,disabled:""},null,8,["value"])]),e("div",Uo,[l(f,{for:"cars_need_paid",value:"  \u0627\u0644\u0631\u0635\u064A\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(_,{id:"cars_need_paid",type:"number",class:"mt-1 block w-full",value:I().totalAmount*-1-((gt=s(d))==null?void 0:gt.cars_sum),disabled:""},null,8,["value"])]),I().totalAmount*-1-((bt=s(d))==null?void 0:bt.cars_sum)!=0?(u(),c("div",Vo,[l(f,{for:"pay",value:"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629"}),s(V)?x("",!0):(u(),c("button",{key:0,onClick:t[28]||(t[28]=X(o=>Yt(),["prevent"])),disabled:s(E),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},[...t[48]||(t[48]=[e("span",null,"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629",-1)])],8,jo)),s(V)?(u(),c("button",{key:1,onClick:t[29]||(t[29]=X(o=>Zt(),["prevent"])),disabled:s(E),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},[...t[49]||(t[49]=[e("span",null,"\u0627\u062E\u0641\u0627\u0621 \u062F\u0641\u0639\u0629",-1)])],8,Ho)):x("",!0)])):x("",!0),e("div",Ro,[l(f,{for:"pay",value:"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A"}),s(G)?x("",!0):(u(),c("button",{key:0,onClick:t[30]||(t[30]=X(o=>Gt(),["prevent"])),disabled:s(E),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-purple-500 rounded",style:{width:"100%"}},[...t[50]||(t[50]=[e("span",null,"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1)])],8,qo)),s(G)?(u(),c("button",{key:1,onClick:t[31]||(t[31]=X(o=>Jt(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},[...t[51]||(t[51]=[e("span",null,"\u0627\u062E\u0641\u0627\u0621 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1)])])):x("",!0)]),I().totalAmount*-1-((yt=s(d))==null?void 0:yt.cars_discount)-((ft=s(d))==null?void 0:ft.cars_paid)!=0?(u(),c("div",zo,[l(f,{for:"cars_need_paid",value:"\u0627\u0644\u0631\u0635\u064A\u062F \u063A\u064A\u0631 \u0645\u0648\u0632\u0639 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(_,{id:"cars_need_paid",type:"number",class:"mt-1 block w-full",value:I().totalAmount*-1-((xt=s(d))==null?void 0:xt.cars_discount)-((vt=s(d))==null?void 0:vt.cars_paid)},null,8,["value"])])):x("",!0),e("div",Lo,[l(f,{for:"contract_total",value:"\u0627\u0644\u0639\u0642\u0648\u062F \u0627\u0644\u0645\u0646\u062C\u0632\u0629"}),l(_,{id:"contract_total",type:"text",class:"mt-1 block w-full",value:s(d).contract_total,disabled:""},null,8,["value"])]),e("div",Oo,[l(f,{for:"exit_car_total",value:"\u0627\u0644\u062E\u0631\u0648\u062C\u064A\u0627\u062A \u0627\u0644\u0645\u0646\u062C\u0632\u0629"}),l(_,{id:"exit_car_total",type:"text",class:"mt-1 block w-full",value:s(d).exit_car_total,disabled:""},null,8,["value"])]),e("div",Wo,[l(f,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u064A\u0646 \u0639\u0642\u0648\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(_,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:(ht=s(d))==null?void 0:ht.contract_total_debit_Dollar,disabled:""},null,8,["value"])]),e("div",Yo,[l(f,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u064A\u0646 \u0639\u0642\u0648\u062F \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631"}),l(_,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:(_t=s(d))==null?void 0:_t.contract_total_debit_Dinar,disabled:""},null,8,["value"])])]),s(V)?(u(),c("div",Zo,[e("div",Go,[l(f,{for:"discount",value:"\u0627\u0644\u062E\u0635\u0645"}),l(_,{id:"discount",type:"number",onInput:oe,class:"mt-1 block w-full",modelValue:s(L),"onUpdate:modelValue":t[32]||(t[32]=o=>v(L)?L.value=o:L=o)},null,8,["modelValue"])]),e("div",Jo,[l(f,{for:"percentage",value:" \u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0645\u0631\u0627\u062F \u062F\u0641\u0639\u0647"}),l(_,{id:"percentage",type:"number",onInput:ae,class:"mt-1 block w-full",modelValue:s(P),"onUpdate:modelValue":t[33]||(t[33]=o=>v(P)?P.value=o:P=o)},null,8,["modelValue"])]),e("div",Ko,[l(f,{for:"discount",value:"\u0645\u0644\u0627\u062D\u0638\u0629"}),l(_,{id:"discount",type:"text",class:"mt-1 block w-full",modelValue:s(J),"onUpdate:modelValue":t[34]||(t[34]=o=>v(J)?J.value=o:J=o)},null,8,["modelValue"])]),e("div",Qo,[l(f,{for:"pay",value:"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062F\u0641\u0639"}),e("button",{onClick:t[35]||(t[35]=X(o=>Ot(s(P),s(C),s(L),s(J)),["prevent"])),disabled:s(E),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},[s(nt)?(u(),c("span",ta,"\u064A\u0631\u062C\u0649 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u0645\u0628\u0644\u063A \u0644")):x("",!0),s(E)?(u(),c("span",oa,"\u062C\u0627\u0631\u064A \u0627\u0644\u0637\u0628\u0627\u0639\u0629...")):(u(),c("span",ea,"\u062F\u0641\u0639"))],8,Xo)])])):x("",!0),s(G)?(u(),c("div",aa,[e("table",sa,[e("thead",ra,[e("tr",la,[t[52]||(t[52]=e("th",{className:"px-1 py-2 text-base"},"#",-1)),e("th",na,r(a.$t("date")),1),e("th",da,r(a.$t("description")),1),e("th",ia,r(a.$t("amount")),1),e("th",ua,r(a.$t("execute")),1)])]),e("tbody",null,[e("tr",ca,[t[54]||(t[54]=e("td",null,null,-1)),t[55]||(t[55]=e("td",null,null,-1)),t[56]||(t[56]=e("td",null,null,-1)),t[57]||(t[57]=e("td",null,null,-1)),e("td",ma,[e("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${s(d).client.id}&from=${s(A)}&to=${s(M)}&print=4`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-blue-500 rounded"},[t[53]||(t[53]=rt(" \u062C\u0645\u064A\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A ",-1)),l(ut)],8,pa)])]),(u(!0),c(W,null,st(s(d).transactions,o=>(u(),c(W,{key:o.id},[o.type=="out"&&o.amount<0&&o.is_pay==1?(u(),c("tr",ga,[e("td",ba,r(v(lt)?lt.value++:lt++),1),e("td",ya,r(o.id),1),e("td",fa,r(o.created),1),e("td",xa,r(o.description),1),e("td",va,r(o.amount*-1),1),e("td",ha,[o.type=="out"&&o.amount<0?(u(),c("a",{key:0,target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${s(d).client.id}&from=${s(A)}&to=${s(M)}&print=2&transactions_id=${o.id}`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-green-500 rounded"},[l(ut)],8,_a)):x("",!0)])])):x("",!0)],64))),128)),e("tr",ka,[t[58]||(t[58]=e("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A",-1)),e("td",null,r((kt=s(d))==null?void 0:kt.cars_discount),1),t[59]||(t[59]=e("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1)),e("td",wa,r(I().totalAmount*-1),1),e("td",null,"\u0627\u0644\u0646\u062A\u0627\u062A\u062C : "+r(I().totalAmount*-1-parseInt((wt=s(d))==null?void 0:wt.cars_discount)),1)])])])])):x("",!0),e("div",null,[e("div",$a,[e("table",Da,[e("thead",Ca,[e("tr",Na,[e("th",Aa,r(a.$t("no")),1),e("th",Ma,r(a.$t("car_type")),1),e("th",Sa,r(a.$t("year")),1),e("th",Pa,r(a.$t("color")),1),e("th",Ia,r(a.$t("vin")),1),e("th",Fa,r(a.$t("car_number")),1),e("th",Ta,r(a.$t("dinar")),1),e("th",Ea,r(a.$t("dolar_price")),1),e("th",Ba,r(a.$t("dolar_custom")),1),e("th",Ua,r(a.$t("note")),1),t[60]||(t[60]=e("th",{scope:"col",class:"px-1 py-2 text-base print:hidden"}," \u062C\u0645\u0631\u0643 \u0645\u0646\u0641\u0633\u062A ",-1)),t[61]||(t[61]=e("th",{scope:"col",class:"px-1 py-2 text-base print:hidden"}," \u062E\u0635\u0645 \u0645\u0628\u0627\u0634\u0631 ",-1)),e("th",Va,r(a.$t("shipping_dolar")),1),e("th",ja,r(a.$t("coc_dolar")),1),e("th",Ha,r(a.$t("checkout")),1),e("th",Ra,r(a.$t("expenses")),1),t[62]||(t[62]=e("th",{scope:"col",class:"px-1 py-2 text-base"}," \u0646\u0642\u0644 \u0628\u0631\u064A ",-1)),e("th",qa,r(a.$t("total")),1),e("th",za,r(a.$t("paid")),1),e("th",La,r(a.$t("discount")),1),e("th",Oa,r(a.$t("date")),1),e("th",Wa,r(a.$t("execute")),1),t[63]||(t[63]=e("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"100px"}}," \u062A\u062E\u0632\u064A\u0646 ",-1)),t[64]||(t[64]=e("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"120px"}}," \u0627\u0644\u0631\u0635\u064A\u062F ",-1))])]),e("tbody",null,[(u(!0),c(W,null,st(s(d).data,(o,dt)=>{var Dt,Ct,Nt,At,Mt,St,Pt,It;return F((u(),c("tr",{key:o.id,class:he([{"bg-red-100 dark:bg-red-900":o.results==0,"bg-red-100 dark:bg-red-900":o.results==1,"bg-green-100 dark:bg-green-900":o.results==2,"bg-yellow-100 dark:bg-yellow-900":o.vin.startsWith(m.q)||(o.car_number?o.car_number.toString().startsWith(m.q):"")},"border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[e("td",Ya,r(dt+1),1),e("td",Za,r(o.car_type),1),e("td",Ga,r(o.year),1),e("td",Ja,r(o.car_color),1),e("td",Ka,r(o.vin),1),e("td",Qa,r(o.car_number),1),e("td",Xa,r(o.dinar_s),1),e("td",ts,r(o.dolar_price_s),1),e("td",es,r((o.dinar_s/o.dolar_price_s*100).toFixed(0)||0),1),e("td",os,r(o.note),1),e("td",as,r((o.dinar_s/13e4*100).toFixed(0)||0),1),e("td",ss,r(((o.dinar_s/13e4*100).toFixed(0)||0)-((o.dinar_s/o.dolar_price_s*100).toFixed(0)||0)),1),e("td",rs,r(o.shipping_dolar_s),1),e("td",ls,r(o.coc_dolar_s),1),e("td",ns,r(o.checkout_s),1),e("td",ds,r(o.expenses_s),1),e("td",is,r(o.land_shipping_s),1),e("td",us,r(o.total_s.toFixed(0)),1),e("td",cs,r(o.paid),1),e("td",ms,r(o.discount),1),e("td",ps,r(o.date),1),e("td",gs,[e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-slate-500 rounded",onClick:N=>Ht(o)},[l(Fe)],8,bs),e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-orange-500 rounded",onClick:N=>jt(o)},[l(Ie)],8,ys),o.total_s!=o.paid+o.discount?(u(),c("button",{key:0,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:N=>Rt(o)},[l(Ft)],8,fs)):x("",!0),((Dt=o.contract)==null?void 0:Dt.price)!=((Ct=o.contract)==null?void 0:Ct.paid)||((Nt=o.contract)==null?void 0:Nt.price_dinar)!=((At=o.contract)==null?void 0:At.paid_dinar)?(u(),c("button",{key:1,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-pink-500 rounded",onClick:N=>Qt(o)},[l(Ft)],8,xs)):x("",!0),o.contract?x("",!0):(u(),c("button",{key:2,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-yellow-500 rounded",onClick:N=>Kt(o)},[l(Ee)],8,vs)),o.is_exit?x("",!0):(u(),c("button",{key:3,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-red-500 rounded",onClick:N=>Xt(o)},[l(Pe)],8,hs)),o.is_exit?(u(),c("button",{key:4,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-blue-500 rounded",onClick:N=>te(o)},[l(Te)],8,_s)):x("",!0),e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-violet-500 rounded",onClick:N=>ee(o)},[l(ro)],8,ks),e("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${s(d).client.id}&print=6&car_id=${o.id}`,tabIndex:"1",class:"px-1 py-1 text-white m-1 bg-gray-900 rounded"},[l(ut,{class:"inline-flex"})],8,ws)]),e("td",$s,[(u(!0),c(W,null,st(o.car_images,(N,ue)=>(u(),c("a",{key:ue,href:ie(N.name),style:{cursor:"pointer"},target:"_blank"},[e("img",{src:de(N.name),alt:"",class:"px-1",style:{"max-width":"80px","max-height":"50px",display:"inline"}},null,8,Cs)],8,Ds))),128))]),e("td",Ns,[I().totalAmount*-1-((Mt=s(d))==null?void 0:Mt.cars_discount)-((St=s(d))==null?void 0:St.cars_paid)!=0?(u(),c("button",{key:0,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:N=>Tt(o)}," \u062F\u0641\u0639 \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",8,As)):x("",!0),I().totalAmount*-1-((Pt=s(d))==null?void 0:Pt.cars_discount)-((It=s(d))==null?void 0:It.cars_sum)!=0&&o.paid?(u(),c("button",{key:1,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 mt-1 text-white mx-1 bg-red-500 rounded",onClick:N=>Et(o)}," \u0627\u0639\u0627\u062F\u0629 \u0644\u0644\u0631\u0635\u064A\u062F ",8,Ms)):x("",!0)])],2)),[[ve,o.results==2&&s(k)||o.results!=2]])}),128))])])])]),e("div",Ss,[l(s($e),{data:s(d),onPaginationChangePage:ot,limit:2},null,8,["data"])])])])])):x("",!0),e("div",Ps,[e("div",Is,[e("div",Fs,[t[65]||(t[65]=rt(" \u062A\u0648\u0642\u064A\u0639 \u0635\u0627\u062D\u0628 \u0627\u0644\u062D\u0633\u0627\u0628 ",-1)),t[66]||(t[66]=e("br",null,null,-1)),rt(" "+r(($t=s(d).client)==null?void 0:$t.name),1)]),t[67]||(t[67]=e("div",{class:"basis-1/2 text-center"},"\u062A\u0648\u0642\u064A\u0639 \u0642\u0633\u0645 \u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1)),t[68]||(t[68]=e("div",{class:"basis-1/2 text-end"},"\u062A\u0648\u0642\u064A\u0639 \u0627\u0644\u0645\u062F\u064A\u0631",-1))])])]}),_:1})],64))}};export{er as default};
