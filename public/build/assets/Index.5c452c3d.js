import{r as p,o as d,c as at,w as D,a as n,b as t,d as _t,n as M,t as l,e as Z,v as st,f as F,g as y,F as j,h as P,i as f,T as wt,j as be,k as It,u as me,l as Bt,m as St,p as ge,q as c,H as ye,s as S,x as xe,L as ft}from"./app.fc2b0fca.js";import{_ as fe}from"./AuthenticatedLayout.1245e9ad.js";/* empty css                                              */import{M as ve,_ as he,a as ke,b as $e,c as _e,i as we}from"./imags.0b63aeda.js";import{_ as Ne,a as Ce}from"./ModalAddExpenses.f06ca8e7.js";import{_ as tt}from"./InputLabel.63cad8a2.js";import{_ as lt}from"./TextInput.069939a7.js";import{p as et}from"./print.bf5a8828.js";/* empty css                                                            */import{a as T}from"./index.6d911890.js";import{t as De}from"./trash.1728b8ce.js";import{e as Te}from"./edit.f6c6c454.js";import{W as Ae}from"./v3-infinite-loading.es.88e65ab1.js";import{d as Ee}from"./debounce.b5d9842f.js";import{f as Me}from"./datetime.47733478.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./Uploader.39097f9b.js";/* empty css                                                                 *//* empty css                                                         */const Ue={key:0,class:"modal-mask"},Ie={class:"modal-wrapper max-h-[80vh]"},Be={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},Se={class:"modal-header"},Ve={class:"modal-body"},Ge={class:"text-sm font-medium text-center text-gray-500 border-b border-gray-200 dark:text-gray-400 dark:border-gray-700"},Oe={class:"flex flex-wrap -mb-px"},Fe={key:0},je={className:"mb-4 mx-5"},Re={class:"dark:text-gray-200",for:"expens_amount"},He={className:"mb-4 mx-5"},Le={class:"dark:text-gray-200",for:"expenses_id"},We={className:"mb-4 mx-5"},Ze={class:"dark:text-gray-200",for:"expens_amount"},qe=["value"],Pe={className:"mb-4 mx-5"},Ye={class:"dark:text-gray-200",for:"note"},ze={key:1},Xe={class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},Je={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},Ke={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Qe={class:"bg-rose-500 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},ts={className:"px-1 py-2 text-base"},es={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},ss={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},as={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},rs=["href"],os={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ds={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ls={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ns={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},is={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},us={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ps=["href"],cs={class:"modal-footer my-2"},bs={class:"flex flex-row"},ms={class:"basis-1/2 px-4"},gs={class:"basis-1/2 px-4"},ys=["disabled"],xs={__name:"ModalAddGenExpenses",props:{show:Boolean,company:Array,color:Array,carModel:Array,name:Array,client:Array,user:Array,expenses:Array,GenExpenses:Array,formData:Object},setup(b){const I=p("add"),_=v=>{I.value=v};return(v,u)=>(d(),at(wt,{name:"modal"},{default:D(()=>{var E;return[b.show?(d(),n("div",Ue,[t("div",Ie,[t("div",Be,[t("div",Se,[_t(v.$slots,"header")]),t("div",Ve,[t("div",Ge,[t("ul",Oe,[t("li",{class:"mr-2",onClick:u[0]||(u[0]=x=>_("add"))},[t("button",{class:M(["inline-block p-4 border-b-2 border-transparent rounded-t-lg",I.value=="add"?"dark:text-blue-500 dark:border-blue-500":"hover:text-gray-600 hover:border-gray-300"])}," \u0627\u0636\u0627\u0641\u0629 ",2)]),t("li",{class:"mr-2",onClick:u[1]||(u[1]=x=>_("record"))},[t("button",{class:M(["inline-block p-4 border-b-2 border-transparent rounded-t-lg",I.value=="record"?"dark:text-blue-500 dark:border-blue-500":"hover:text-gray-600 hover:border-gray-300"])}," \u0627\u0644\u0633\u062C\u0644 ",2)])])]),I.value=="add"?(d(),n("div",Fe,[t("div",null,[u[7]||(u[7]=t("h1",{class:"text-center dark:text-gray-200 mt-4"}," \u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629",-1)),t("div",je,[t("label",Re,l(v.$t("amount")),1),Z(t("input",{id:"expens_amount",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":u[2]||(u[2]=x=>b.formData.amount=x)},null,512),[[st,b.formData.amount]])]),t("div",He,[t("label",Le,l(v.$t("factor")),1),Z(t("input",{id:"note_expens",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":u[3]||(u[3]=x=>b.formData.factor=x)},null,512),[[st,b.formData.factor]])]),t("div",We,[t("label",Ze,l(v.$t("result")),1),t("input",{id:"expens_amount",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900",value:(b.formData.amount/b.formData.factor).toFixed(1)},null,8,qe)]),t("div",Pe,[t("label",Ye,l(v.$t("note")),1),Z(t("input",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":u[4]||(u[4]=x=>b.formData.note=x)},null,512),[[st,b.formData.note]])])])])):(d(),n("div",ze,[u[17]||(u[17]=t("h1",{class:"text-center dark:text-gray-200 mt-4"}," \u0633\u062C\u0644 \u0627\u0644\u062D\u0648\u0644\u0627\u062A",-1)),t("div",Xe,[t("table",Je,[t("thead",Ke,[t("tr",Qe,[u[8]||(u[8]=t("th",{className:"px-1 py-2 text-base"},"\u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644",-1)),t("th",ts,l(v.$t("date")),1),u[9]||(u[9]=t("th",{className:"px-1 py-2 text-base"},"\u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641",-1)),u[10]||(u[10]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1)),u[11]||(u[11]=t("th",{className:"px-1 py-2 text-base"},"\u0645\u0644\u0627\u062D\u0638\u0629",-1)),t("th",es,l(v.$t("execute")),1)])]),t("tbody",null,[t("tr",ss,[u[13]||(u[13]=t("td",null,null,-1)),u[14]||(u[14]=t("td",null,null,-1)),u[15]||(u[15]=t("td",null,null,-1)),u[16]||(u[16]=t("td",null,null,-1)),t("td",as,[t("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${(E=b.GenExpenses[0])==null?void 0:E.user_id}&print=5`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-blue-500 rounded"},[u[12]||(u[12]=F(" \u062C\u0645\u064A\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A ",-1)),y(et)],8,rs)])]),(d(!0),n(j,null,P(b.GenExpenses,x=>{var k;return d(),n("tr",{key:x.id,class:"text-center"},[t("td",os,l(x.id),1),t("td",ds,l((k=x==null?void 0:x.created_at)==null?void 0:k.slice(0,19).replace("T"," ")),1),t("td",ls,l(x.factor),1),t("td",ns,l(x.amount),1),t("td",is,l(x.reason),1),t("td",us,[t("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${x.user_id}&print=3&transactions_id=${x.transaction_id}`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-green-500 rounded"},[y(et)],8,ps)])])}),128))])])])]))]),t("div",cs,[t("div",bs,[t("div",ms,[t("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:u[5]||(u[5]=x=>{v.$emit("close"),I.value="add"})},l(v.$t("cancel")),1)]),t("div",gs,[t("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:u[6]||(u[6]=x=>{v.$emit("a",b.formData),b.formData=""}),disabled:!b.formData.amount},l(v.$t("yes")),9,ys)])])])])])])):f("",!0)]}),_:3}))}};const fs={key:0,class:"modal-mask"},vs={class:"modal-wrapper max-h-[80vh]"},hs={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},ks={class:"modal-header"},$s={class:"modal-body"},_s={class:"text-sm font-medium text-center text-gray-500 border-b border-gray-200 dark:text-gray-400 dark:border-gray-700"},ws={class:"flex flex-wrap -mb-px"},Ns={key:0},Cs={className:"mb-4 mx-5"},Ds={key:0,className:"mb-4 mx-5"},Ts=["value"],As={className:"mb-4 mx-5"},Es={className:"mb-4 mx-5"},Ms={class:"dark:text-gray-200",for:"note"},Us={key:1},Is={class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},Bs={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},Ss={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Vs={class:"bg-rose-500 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},Gs={className:"px-1 py-2 text-base"},Os={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Fs={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},js={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Rs={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Hs={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ls={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ws={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Zs={class:"modal-footer my-2"},qs={class:"flex flex-row"},Ps={class:"basis-1/2 px-4"},Ys={class:"basis-1/2 px-4"},zs=["disabled"],Xs={__name:"ModalAddExpensesToMainBransh",props:{show:Boolean,user:Array,allTransfers:Array,formData:Object},emits:["a","close"],setup(b,{emit:I}){const _=p("add"),v=w=>{_.value=w},u=b,E=I,x=p("local"),k=p([]),A=p(null);be(()=>{G()});function G(){T.get("/api/connected-systems").then(w=>{k.value=w.data}).catch(w=>{console.error("Error loading connected systems:",w)})}function R(){if(x.value==="external"){const w={amount:u.formData.amount,sender_note:u.formData.note||"",note:u.formData.note||"",external_system_id:A.value};T.post("/api/send-external-transfer",w).then(i=>{alert("\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062A\u062D\u0648\u064A\u0644 \u0627\u0644\u062E\u0627\u0631\u062C\u064A \u0628\u0646\u062C\u0627\u062D"),x.value="local",A.value=null,E("close")}).catch(i=>{var m,B;console.error("Error sending external transfer:",i),alert("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062A\u062D\u0648\u064A\u0644 \u0627\u0644\u062E\u0627\u0631\u062C\u064A: "+(((B=(m=i.response)==null?void 0:m.data)==null?void 0:B.error)||i.message))})}else E("a",u.formData)}return(w,i)=>(d(),at(wt,{name:"modal"},{default:D(()=>[b.show?(d(),n("div",fs,[t("div",vs,[t("div",hs,[t("div",ks,[_t(w.$slots,"header")]),t("div",$s,[t("div",_s,[t("ul",ws,[t("li",{class:"mr-2",onClick:i[0]||(i[0]=m=>v("add"))},[t("button",{class:M(["inline-block p-4 border-b-2 border-transparent rounded-t-lg",_.value=="add"?"dark:text-blue-500 dark:border-blue-500":"hover:text-gray-600 hover:border-gray-300"])}," \u0627\u0636\u0627\u0641\u0629 ",2)]),t("li",{class:"mr-2",onClick:i[1]||(i[1]=m=>v("record"))},[t("button",{class:M(["inline-block p-4 border-b-2 border-transparent rounded-t-lg",_.value=="record"?"dark:text-blue-500 dark:border-blue-500":"hover:text-gray-600 hover:border-gray-300"])}," \u0627\u0644\u0633\u062C\u0644 ",2)])])]),_.value=="add"?(d(),n("div",Ns,[t("div",null,[i[13]||(i[13]=t("h1",{class:"text-center dark:text-gray-200 mt-4"}," \u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629",-1)),t("div",Cs,[i[9]||(i[9]=t("label",{class:"dark:text-gray-200",for:"transfer_type"},"\u0646\u0648\u0639 \u0627\u0644\u062A\u062D\u0648\u064A\u0644",-1)),Z(t("select",{id:"transfer_type","onUpdate:modelValue":i[2]||(i[2]=m=>x.value=m),class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900",onChange:i[3]||(i[3]=m=>A.value=null)},[...i[8]||(i[8]=[t("option",{value:"local"},"\u062A\u062D\u0648\u064A\u0644 \u0645\u062D\u0644\u064A",-1),t("option",{value:"external"},"\u062A\u062D\u0648\u064A\u0644 \u062E\u0627\u0631\u062C\u064A",-1)])],544),[[It,x.value]])]),x.value==="external"?(d(),n("div",Ds,[i[11]||(i[11]=t("label",{class:"dark:text-gray-200",for:"external_system"},"\u0627\u062E\u062A\u0631 \u0627\u0644\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u0633\u062A\u0642\u0628\u0644",-1)),Z(t("select",{id:"external_system","onUpdate:modelValue":i[4]||(i[4]=m=>A.value=m),class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900"},[i[10]||(i[10]=t("option",{value:""},"-- \u0627\u062E\u062A\u0631 \u0627\u0644\u0646\u0638\u0627\u0645 --",-1)),(d(!0),n(j,null,P(k.value,m=>(d(),n("option",{key:m.id,value:m.id},l(m.name)+" ("+l(m.domain)+") ",9,Ts))),128))],512),[[It,A.value]])])):f("",!0),t("div",As,[i[12]||(i[12]=t("label",{class:"dark:text-gray-200",for:"expens_amount"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1)),Z(t("input",{id:"expens_amount",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":i[5]||(i[5]=m=>b.formData.amount=m)},null,512),[[st,b.formData.amount]])]),t("div",Es,[t("label",Ms,l(w.$t("note")),1),Z(t("input",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":i[6]||(i[6]=m=>b.formData.note=m)},null,512),[[st,b.formData.note]])])])])):(d(),n("div",Us,[i[20]||(i[20]=t("h1",{class:"text-center dark:text-gray-200 mt-4"}," \u0633\u062C\u0644 \u0627\u0644\u062D\u0648\u0644\u0627\u062A",-1)),t("div",Is,[t("table",Bs,[t("thead",Ss,[t("tr",Vs,[i[14]||(i[14]=t("th",{className:"px-1 py-2 text-base"},"\u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644",-1)),t("th",Gs,l(w.$t("date")),1),i[15]||(i[15]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1)),i[16]||(i[16]=t("th",{className:"px-1 py-2 text-base"},"\u0623\u062C\u0648\u0631 \u0627\u0644\u062D\u0648\u0644\u0627\u062A",-1)),i[17]||(i[17]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0635\u0627\u0641\u064A",-1)),i[18]||(i[18]=t("th",{className:"px-1 py-2 text-base"},"\u0645\u0644\u0627\u062D\u0638\u0629",-1)),i[19]||(i[19]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u062D\u0627\u0644\u0629",-1))])]),t("tbody",null,[(d(!0),n(j,null,P(b.allTransfers,m=>{var B;return d(),n("tr",{key:m.id,class:"text-center"},[t("td",Os,l(m.id),1),t("td",Fs,l((B=m==null?void 0:m.created_at)==null?void 0:B.slice(0,19).replace("T"," ")),1),t("td",js,l(m.amount),1),t("td",Rs,l(m.fee),1),t("td",Hs,l(m.amount-m.fee),1),t("td",Ls,l(m.note),1),t("td",Ws,l(m.stauts),1)])}),128))])])])]))]),t("div",Zs,[t("div",qs,[t("div",Ps,[t("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:i[7]||(i[7]=m=>{w.$emit("close"),_.value="add"})},l(w.$t("cancel")),1)]),t("div",Ys,[t("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:R,disabled:!b.formData.amount||x.value==="external"&&!A.value},l(w.$t("yes")),9,zs)])])])])])])):f("",!0)]),_:3}))}};const Js={key:0,class:"modal-mask"},Ks={class:"modal-wrapper max-h-[80vh]"},Qs={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},ta={class:"modal-header"},ea={class:"modal-body"},sa={class:"text-sm font-medium text-center text-gray-500 border-b border-gray-200 dark:text-gray-400 dark:border-gray-700"},aa={class:"flex flex-wrap -mb-px"},ra={key:0},oa={key:0,id:"alert-additional-content-4 my-3",class:"p-4 mb-4 text-yellow-800 border border-yellow-300 rounded-lg bg-yellow-50 dark:bg-gray-800 dark:text-yellow-300 dark:border-yellow-800",role:"alert"},da={class:"flex items-center"},la={class:"text-lg font-medium"},na={class:"mt-2 mb-4 text-sm px-4"},ia=["onUpdate:modelValue"],ua=["onUpdate:modelValue"],pa={class:"flex items-center py-3"},ca={class:"text-lg font-medium"},ba={class:"flex mt-5"},ma=["onClick"],ga=["onClick","disabled"],ya={key:1},xa={class:"flex justify-between items-center mt-4 mb-2"},fa={class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},va={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},ha={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},ka={class:"bg-rose-500 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},$a={className:"px-1 py-2 text-base"},_a={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},wa={key:0,class:"ml-2 text-xs text-blue-600 dark:text-blue-300",title:"\u062A\u062D\u0648\u064A\u0644 \u062E\u0627\u0631\u062C\u064A"},Na={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ca={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Da={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ta={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Aa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ea={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},Ma={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ua={key:0,class:"px-2 py-1 text-xs font-semibold text-blue-700 bg-blue-100 dark:bg-blue-800 dark:text-blue-200 rounded"},Ia={key:1,class:"px-2 py-1 text-xs font-semibold text-gray-700 bg-gray-100 dark:bg-gray-800 dark:text-gray-200 rounded"},Ba={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Sa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Va=["onClick"],Ga={key:0,class:"text-center"},Oa={key:2},Fa={class:"flex justify-between items-center mt-4 mb-2"},ja={class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},Ra={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},Ha={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},La={class:"bg-gray-600 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},Wa={className:"px-1 py-2 text-base"},Za={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},qa={key:0,class:"ml-2 text-xs text-blue-600 dark:text-blue-300",title:"\u062A\u062D\u0648\u064A\u0644 \u062E\u0627\u0631\u062C\u064A"},Pa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ya={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},za={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Xa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ja={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ka={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},Qa={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},tr={key:0,class:"px-2 py-1 text-xs font-semibold text-blue-700 bg-blue-100 dark:bg-blue-800 dark:text-blue-200 rounded"},er={key:1,class:"px-2 py-1 text-xs font-semibold text-gray-700 bg-gray-100 dark:bg-gray-800 dark:text-gray-200 rounded"},sr={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ar={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},rr=["onClick"],or={key:0,class:"text-center"},dr={class:"modal-footer my-2"},lr={class:"flex flex-row"},nr={class:"basis-1/2 px-4"},ir={class:"basis-1/2 px-4"},ur={__name:"ModalExpensesFromOtherBransh",props:{show:Boolean,user:Array,allTransfers:Array,formData:Object},emits:["close","refresh"],setup(b,{emit:I}){const _=me(),v=p("add"),u=g=>{v.value=g},E=b,x=I,k=p([...E.allTransfers]);Bt(()=>E.allTransfers,g=>{k.value=[...g]},{deep:!0,immediate:!0}),Bt(()=>E.show,async g=>{var a,o,h,N,nt,it,ut;if(g)try{const Y="/api/check-pending-external-transfers";console.log("\u{1F50D} [DEBUG] ModalExpensesFromOtherBransh - Checking pending transfers",{apiUrl:Y,timestamp:new Date().toISOString()});const V=await T.post(Y);console.log("\u2705 [DEBUG] Response received",{status:V.status,data:V.data,total_received:(a=V.data)==null?void 0:a.total_received,errors:(o=V.data)==null?void 0:o.errors,success:(h=V.data)==null?void 0:h.success}),V.data.success&&V.data.total_received>0?(_.success(`\u062A\u0645 \u0627\u0633\u062A\u0642\u0628\u0627\u0644 ${V.data.total_received} \u062A\u062D\u0648\u064A\u0644 \u0645\u0639\u0644\u0642`,{timeout:3e3,position:"bottom-right",rtl:!0}),x("refresh")):console.log("\u2139\uFE0F [DEBUG] No transfers received",{total_received:(N=V.data)==null?void 0:N.total_received,errors:(nt=V.data)==null?void 0:nt.errors})}catch(Y){console.error("\u274C [DEBUG] Error checking pending transfers:",{message:Y.message,response:(it=Y.response)==null?void 0:it.data,status:(ut=Y.response)==null?void 0:ut.status})}});const A=St(()=>k.value.filter(g=>!g.is_archived)),G=St(()=>k.value.filter(g=>g.is_archived));function R(g){T.post("/api/confirmTransfers",g).then(a=>{const o=k.value.findIndex(h=>h.id===g.id);o!==-1&&(k.value[o]=a.data)}).catch(a=>{console.error("Error confirming transfer:",a),alert("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062A\u062D\u0648\u064A\u0644")})}function w(g){T.post("/api/cancelTransfers",g).then(a=>{k.value=k.value.filter(o=>o.id!==g.id)}).catch(a=>{console.error("Error canceling transfer:",a)})}async function i(g){try{const a=await T.post("/api/archiveTransfer",{id:g.id}),o=k.value.findIndex(h=>h.id===g.id);if(o!==-1){const h=a.data.transfer||{...k.value[o],is_archived:!0};k.value.splice(o,1,h),_.success("\u062A\u0645 \u0623\u0631\u0634\u0641\u0629 \u0627\u0644\u062A\u062D\u0648\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})}}catch(a){console.error("Error archiving transfer:",a),_.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0623\u0631\u0634\u0641\u0629 \u0627\u0644\u062A\u062D\u0648\u064A\u0644",{timeout:3e3,position:"bottom-right",rtl:!0})}}async function m(g){try{const a=await T.post("/api/unarchiveTransfer",{id:g.id}),o=k.value.findIndex(h=>h.id===g.id);if(o!==-1){const h=a.data.transfer||{...k.value[o],is_archived:!1};k.value.splice(o,1,h),_.success("\u062A\u0645 \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u062A\u062D\u0648\u064A\u0644 \u0644\u0644\u0633\u062C\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})}}catch(a){console.error("Error unarchiving transfer:",a),_.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u062A\u062D\u0648\u064A\u0644 \u0644\u0644\u0633\u062C\u0644",{timeout:3e3,position:"bottom-right",rtl:!0})}}function B(g){const a=g==="archive"?G.value:A.value;if(a.length===0){_.warning("\u0644\u0627 \u062A\u0648\u062C\u062F \u062A\u062D\u0648\u064A\u0644\u0627\u062A \u0644\u0644\u0637\u0628\u0627\u0639\u0629",{timeout:2e3,position:"bottom-right",rtl:!0});return}const o=window.open("","_blank"),h=`
    <html>
      <head>
        <title>${g==="archive"?"\u0623\u0631\u0634\u064A\u0641 \u0627\u0644\u062D\u0648\u0644\u0627\u062A":"\u0633\u062C\u0644 \u0627\u0644\u062D\u0648\u0644\u0627\u062A"}</title>
        <style>
          body { font-family: Arial, sans-serif; direction: rtl; }
          table { width: 100%; border-collapse: collapse; margin-top: 20px; }
          th, td { border: 1px solid #ddd; padding: 8px; text-align: center; }
          th { background-color: #f2f2f2; }
          h1 { text-align: center; }
        </style>
      </head>
      <body>
        <h1>${g==="archive"?"\u0623\u0631\u0634\u064A\u0641 \u0627\u0644\u062D\u0648\u0644\u0627\u062A":"\u0633\u062C\u0644 \u0627\u0644\u062D\u0648\u0644\u0627\u062A"}</h1>
        <table>
          <thead>
            <tr>
              <th>\u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644</th>
              <th>\u0627\u0644\u062A\u0627\u0631\u064A\u062E</th>
              <th>\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631</th>
              <th>\u0623\u062C\u0648\u0631 \u0627\u0644\u062D\u0648\u0644\u0627\u062A</th>
              <th>\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0635\u0627\u0641\u064A</th>
              <th>\u0645\u0644\u0627\u062D\u0638\u0629</th>
              <th>\u0627\u0644\u062D\u0627\u0644\u0629</th>
            </tr>
          </thead>
          <tbody>
            ${a.map(N=>`
              <tr>
                <td>${N.id}</td>
                <td>${N.created_at?N.created_at.slice(0,19).replace("T"," "):""}</td>
                <td>${N.amount||0}</td>
                <td>${N.fee||0}</td>
                <td>${(N.amount||0)-(N.fee||0)}</td>
                <td>${N.note||""}</td>
                <td>${N.stauts||""}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>
      </body>
    </html>
  `;o.document.write(h),o.document.close(),o.print()}return(g,a)=>(d(),at(wt,{name:"modal"},{default:D(()=>[b.show?(d(),n("div",Js,[t("div",Ks,[t("div",Qs,[t("div",ta,[_t(g.$slots,"header")]),t("div",ea,[t("div",sa,[t("ul",aa,[t("li",{class:"mr-2",onClick:a[0]||(a[0]=o=>u("add"))},[t("button",{class:M(["inline-block p-4 border-b-2 border-transparent rounded-t-lg",v.value=="add"?"dark:text-blue-500 dark:border-blue-500":"hover:text-gray-600 hover:border-gray-300"])}," \u0637\u0644\u0628\u0627\u062A \u0642\u064A\u062F \u0627\u0644\u062A\u062D\u0648\u064A\u0644 ",2)]),t("li",{class:"mr-2",onClick:a[1]||(a[1]=o=>u("record"))},[t("button",{class:M(["inline-block p-4 border-b-2 border-transparent rounded-t-lg",v.value=="record"?"dark:text-blue-500 dark:border-blue-500":"hover:text-gray-600 hover:border-gray-300"])}," \u0627\u0644\u0633\u062C\u0644 ",2)]),t("li",{class:"mr-2",onClick:a[2]||(a[2]=o=>u("archive"))},[t("button",{class:M(["inline-block p-4 border-b-2 border-transparent rounded-t-lg",v.value=="archive"?"dark:text-blue-500 dark:border-blue-500":"hover:text-gray-600 hover:border-gray-300"])}," \u0627\u0644\u0623\u0631\u0634\u064A\u0641 ",2)])])]),v.value=="add"?(d(),n("div",ra,[a[14]||(a[14]=t("h2",{class:"text-center py-3"},"\u0637\u0644\u0628\u0627\u062A \u0642\u064A\u062F \u0627\u0644\u062A\u062D\u0648\u064A\u0644",-1)),(d(!0),n(j,null,P(k.value,o=>(d(),n(j,{key:o.id},[o.stauts!="\u062A\u0645 \u0627\u0644\u0623\u0633\u062A\u0644\u0627\u0645"?(d(),n("div",oa,[t("div",da,[a[7]||(a[7]=t("svg",{class:"flex-shrink-0 w-4 h-4 me-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})],-1)),a[8]||(a[8]=t("span",{class:"sr-only"},"Info",-1)),a[9]||(a[9]=t("h3",{class:"text-lg font-medium px-2"},"\u0637\u0644\u0628 \u062D\u0648\u0627\u0644\u0629 \u0645\u0646 \u0641\u0631\u0639 \u0643\u0631\u0643\u0648\u0643",-1)),t("h3",la," \u0645\u0628\u0644\u063A "+l(o.amount)+" \u062F\u0648\u0644\u0627\u0631 ",1)]),t("div",na,l(o.note),1),a[13]||(a[13]=t("label",{class:"dark:text-gray-200 px-4",for:"note"},"\u0623\u062C\u0648\u0631 \u0627\u0644\u062D\u0648\u0627\u0644\u0629 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1)),Z(t("input",{type:"number",class:"mt-3 mx-3 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":h=>o.inputValue=h},null,8,ia),[[st,o.inputValue]]),Z(t("input",{type:"text",class:"mt-3 mx-3 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":h=>o.receiver=h},null,8,ua),[[st,o.receiver]]),t("div",pa,[a[10]||(a[10]=t("svg",{class:"flex-shrink-0 w-4 h-4 me-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})],-1)),a[11]||(a[11]=t("span",{class:"sr-only"},"Info",-1)),a[12]||(a[12]=t("h3",{class:"text-lg font-medium px-2"}," \u0635\u0627\u0641\u064A \u0627\u0644\u062D\u0648\u0627\u0644\u0629 \u0628\u0639\u062F \u062E\u0635\u0645 \u0623\u062C\u0631 \u0627\u0644\u062A\u062D\u0648\u064A\u0644",-1)),t("h3",ca," \u0645\u0628\u0644\u063A "+l(o.amount-o.inputValue)+" \u062F\u0648\u0644\u0627\u0631 ",1)]),t("div",ba,[t("button",{onClick:h=>R(o),type:"button",class:"mx-2 text-white bg-yellow-800 hover:bg-yellow-900 focus:ring-4 focus:outline-none focus:ring-yellow-300 font-medium rounded-lg text-xs px-3 py-1.5 me-2 text-center inline-flex items-center dark:bg-yellow-300 dark:text-gray-800 dark:hover:bg-yellow-400 dark:focus:ring-yellow-800"}," \u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062D\u0648\u0627\u0644\u0627\u062A ",8,ma),t("button",{onClick:h=>w(o),type:"button",class:"text-yellow-800 bg-transparent border border-yellow-800 hover:bg-yellow-900 hover:text-white focus:ring-4 focus:outline-none focus:ring-yellow-300 font-medium rounded-lg text-xs px-3 py-1.5 text-center dark:hover:bg-yellow-300 dark:border-yellow-300 dark:text-yellow-300 dark:hover:text-gray-800 dark:focus:ring-yellow-800","data-dismiss-target":"#alert-additional-content-4","aria-label":"Close",disabled:!b.formData.fee}," \u0625\u0644\u063A\u0627\u0621 ",8,ga)])])):f("",!0)],64))),128))])):v.value=="record"?(d(),n("div",ya,[t("div",xa,[a[16]||(a[16]=t("h1",{class:"text-center dark:text-gray-200"}," \u0633\u062C\u0644 \u0627\u0644\u062D\u0648\u0644\u0627\u062A",-1)),t("button",{onClick:a[3]||(a[3]=o=>B("record")),class:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700 flex items-center gap-2",title:"\u0637\u0628\u0627\u0639\u0629 \u0627\u0644\u0633\u062C\u0644"},[y(et,{class:"w-4 h-4"}),a[15]||(a[15]=F(" \u0637\u0628\u0627\u0639\u0629 ",-1))])]),t("div",fa,[t("table",va,[t("thead",ha,[t("tr",ka,[a[17]||(a[17]=t("th",{className:"px-1 py-2 text-base"},"\u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644",-1)),t("th",$a,l(g.$t("date")),1),a[18]||(a[18]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1)),a[19]||(a[19]=t("th",{className:"px-1 py-2 text-base"},"\u0623\u062C\u0648\u0631 \u0627\u0644\u062D\u0648\u0644\u0627\u062A",-1)),a[20]||(a[20]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0635\u0627\u0641\u064A",-1)),a[21]||(a[21]=t("th",{className:"px-1 py-2 text-base"},"\u0645\u0644\u0627\u062D\u0638\u0629",-1)),a[22]||(a[22]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0646\u0648\u0639",-1)),a[23]||(a[23]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u062D\u0627\u0644\u0629",-1)),a[24]||(a[24]=t("th",{className:"px-1 py-2 text-base"},"\u062A\u0646\u0641\u064A\u0630",-1))])]),t("tbody",null,[(d(!0),n(j,null,P(A.value,o=>{var h;return d(),n("tr",{key:o.id,class:M(["text-center",o.is_external?"bg-blue-50 dark:bg-blue-900":""])},[t("td",_a,[F(l(o.id)+" ",1),o.is_external?(d(),n("span",wa,"\u{1F310}")):f("",!0)]),t("td",Na,l((h=o==null?void 0:o.created_at)==null?void 0:h.slice(0,19).replace("T"," ")),1),t("td",Ca,l(o.amount),1),t("td",Da,l(o.fee),1),t("td",Ta,l(o.amount-o.fee),1),t("td",Aa,[F(l(o.note)+" ",1),o.is_external&&o.external_system_domain?(d(),n("div",Ea," \u0645\u0646: "+l(o.external_system_domain),1)):f("",!0)]),t("td",Ma,[o.is_external?(d(),n("span",Ua," \u062E\u0627\u0631\u062C\u064A ")):(d(),n("span",Ia," \u0645\u062D\u0644\u064A "))]),t("td",Ba,l(o.stauts),1),t("td",Sa,[t("button",{onClick:N=>i(o),class:"px-3 py-1 text-sm font-semibold text-white bg-gray-600 rounded hover:bg-gray-700",title:"\u0623\u0631\u0634\u0641\u0629 \u0627\u0644\u062A\u062D\u0648\u064A\u0644"}," \u0623\u0631\u0634\u0641\u0629 ",8,Va)])],2)}),128)),A.value.length===0?(d(),n("tr",Ga,[...a[25]||(a[25]=[t("td",{colspan:"9",class:"px-4 py-4 border dark:border-gray-800 dark:text-gray-200"},"\u0644\u0627 \u062A\u0648\u062C\u062F \u062A\u062D\u0648\u064A\u0644\u0627\u062A",-1)])])):f("",!0)])])])])):v.value=="archive"?(d(),n("div",Oa,[t("div",Fa,[a[27]||(a[27]=t("h1",{class:"text-center dark:text-gray-200"}," \u0623\u0631\u0634\u064A\u0641 \u0627\u0644\u062D\u0648\u0644\u0627\u062A",-1)),t("button",{onClick:a[4]||(a[4]=o=>B("archive")),class:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700 flex items-center gap-2",title:"\u0637\u0628\u0627\u0639\u0629 \u0627\u0644\u0623\u0631\u0634\u064A\u0641"},[y(et,{class:"w-4 h-4"}),a[26]||(a[26]=F(" \u0637\u0628\u0627\u0639\u0629 ",-1))])]),t("div",ja,[t("table",Ra,[t("thead",Ha,[t("tr",La,[a[28]||(a[28]=t("th",{className:"px-1 py-2 text-base"},"\u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644",-1)),t("th",Wa,l(g.$t("date")),1),a[29]||(a[29]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631",-1)),a[30]||(a[30]=t("th",{className:"px-1 py-2 text-base"},"\u0623\u062C\u0648\u0631 \u0627\u0644\u062D\u0648\u0644\u0627\u062A",-1)),a[31]||(a[31]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0635\u0627\u0641\u064A",-1)),a[32]||(a[32]=t("th",{className:"px-1 py-2 text-base"},"\u0645\u0644\u0627\u062D\u0638\u0629",-1)),a[33]||(a[33]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u0646\u0648\u0639",-1)),a[34]||(a[34]=t("th",{className:"px-1 py-2 text-base"},"\u0627\u0644\u062D\u0627\u0644\u0629",-1)),a[35]||(a[35]=t("th",{className:"px-1 py-2 text-base"},"\u062A\u0646\u0641\u064A\u0630",-1))])]),t("tbody",null,[(d(!0),n(j,null,P(G.value,o=>{var h;return d(),n("tr",{key:o.id,class:M(["text-center",o.is_external?"bg-blue-50 dark:bg-blue-900":""])},[t("td",Za,[F(l(o.id)+" ",1),o.is_external?(d(),n("span",qa,"\u{1F310}")):f("",!0)]),t("td",Pa,l((h=o==null?void 0:o.created_at)==null?void 0:h.slice(0,19).replace("T"," ")),1),t("td",Ya,l(o.amount),1),t("td",za,l(o.fee),1),t("td",Xa,l(o.amount-o.fee),1),t("td",Ja,[F(l(o.note)+" ",1),o.is_external&&o.external_system_domain?(d(),n("div",Ka," \u0645\u0646: "+l(o.external_system_domain),1)):f("",!0)]),t("td",Qa,[o.is_external?(d(),n("span",tr," \u062E\u0627\u0631\u062C\u064A ")):(d(),n("span",er," \u0645\u062D\u0644\u064A "))]),t("td",sr,l(o.stauts),1),t("td",ar,[t("button",{onClick:N=>m(o),class:"px-3 py-1 text-sm font-semibold text-white bg-green-600 rounded hover:bg-green-700",title:"\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u062A\u062D\u0648\u064A\u0644 \u0644\u0644\u0633\u062C\u0644"}," \u0625\u0639\u0627\u062F\u0629 \u0644\u0644\u0633\u062C\u0644 ",8,rr)])],2)}),128)),G.value.length===0?(d(),n("tr",or,[...a[36]||(a[36]=[t("td",{colspan:"9",class:"px-4 py-4 border dark:border-gray-800 dark:text-gray-200"},"\u0644\u0627 \u062A\u0648\u062C\u062F \u062A\u062D\u0648\u064A\u0644\u0627\u062A \u0645\u0624\u0631\u0634\u0641\u0629",-1)])])):f("",!0)])])])])):f("",!0)]),t("div",dr,[t("div",lr,[t("div",nr,[t("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:a[5]||(a[5]=o=>{g.$emit("close"),v.value="add"})},l(g.$t("cancel")),1)]),t("div",ir,[t("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:a[6]||(a[6]=o=>{g.$emit("close")})},l(g.$t("yes")),1)])])])])])])):f("",!0)]),_:3}))}};const pr={key:0},cr={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},br={class:"ml-3 font-medium text-red-700 dark:text-red-800"},mr={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},gr={class:"overflow-hidden shadow-sm sm:rounded-lg"},yr={class:"border-b border-gray-200"},xr={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3 lg:gap-3"},fr={class:"pt-5 print:hidden"},vr={class:"pt-5 hidden"},hr={class:"pt-5 print:hidden"},kr={class:"px-4"},$r={class:"px-4"},_r={class:"mr-5 print:hidden"},wr={key:0},Nr={key:1},Cr={class:"mr-5 print:hidden"},Dr={class:"mr-5"},Tr={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3 lg:gap-3"},Ar={key:0},Er={key:1},Mr={key:2},Ur={key:3},Ir={key:0,class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3 lg:gap-3"},Br={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-4 gap-3 lg:gap-3"},Sr={class:"px-4"},Vr={class:"px-4"},Gr={class:"relative w-full px-4"},Or={class:"relative w-full px-4"},Fr={class:"w-full text-sm text-center text-gray-100 border border-gray-700 rounded-lg overflow-hidden bg-slate-900"},jr={class:"bg-slate-900"},Rr={class:"border border-gray-700 p-2 text-emerald-200 font-semibold"},Hr={class:"border border-gray-700 p-2 text-rose-200 font-semibold"},Lr={class:"border border-gray-700 p-2 font-semibold"},Wr={class:"bg-slate-900"},Zr={class:"border border-gray-700 p-2 text-emerald-200 font-semibold"},qr={class:"border border-gray-700 p-2 text-rose-200 font-semibold"},Pr={class:"border border-gray-700 p-2 font-semibold"},Yr={class:"overflow-x-auto shadow-lg mt-5 rounded-lg"},zr={class:"w-full text-right text-gray-100 dark:text-gray-100 text-center bg-slate-900 rounded-lg overflow-hidden"},Xr={class:"border border-transparent text-center px-2 py-1 whitespace-nowrap"},Jr={key:1},Kr={class:"border border-transparent text-center px-2 py-1 whitespace-nowrap"},Qr={class:"border border-transparent text-center px-2 py-1 align-top"},to={key:0,class:"space-y-2 text-right"},eo={class:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400"},so={key:0,class:"text-xs text-red-500"},ao={class:"flex justify-end gap-2"},ro=["disabled"],oo=["onClick","disabled"],lo={key:0},no={key:1},io={key:1,class:"space-y-1 text-center"},uo={class:"block whitespace-pre-line leading-6 pt-5"},po={key:0,class:"inline-flex items-center text-xs font-semibold text-green-600"},co={class:"border border-transparent text-center px-2 py-1"},bo={class:"border border-transparent text-center px-2 py-1"},mo={class:"border border-transparent text-center px-2 py-1"},go={class:"action-group"},yo=["onClick","disabled"],xo=["onClick"],fo=["onClick"],vo=["href"],ho=["href"],ko=["href"],$o=["href"],_o=["href"],wo=["src"],No={class:"spaner"},rt=1e3,qo={__name:"Index",props:{url:String,users:Array,accounts:Array,boxes:Array,flaggedWallets:{type:Array,default:()=>[]}},setup(b){const I=p({});p("");let _=p(!1),v=p(!1),u=p(!1),E=p(!1),x=p(!1),k=p(!1),A=p(!1),G=p(!1),R=p(!1),w=p(!1),i=p([]),m=p(0),B=p({}),g=p({}),a=p({}),o=p(!1),h=p(Ct()),N=p(Ct()),nt=p(0),it=p(0),ut=p(0),Y=p(0),V=p(0),Vt=p(0),Gt=p(0),Ot=p(0),Ft=p(0),pt=p(0),ct=p(0),bt=p(0),mt=p(0),jt=p(0),Rt=p(0),vt=p(!1),ht=1,ot="",kt=p([]);const dt=p(null),z=p(""),X=p(!1),H=p(""),J=()=>{ht=0,i.value.length=0,vt.value=!vt.value},Ht=Ee(J,500),Lt=async s=>{try{const $=(await T.get("/getIndexAccounting",{params:{limit:100,page:ht,q:ot,user_id:Qt.boxes[0].id,from:h.value,to:N.value}})).data;$.transactions.data.length<100?(i.value.push(...$.transactions.data),s.complete()):(i.value.push(...$.transactions.data),s.loaded()),I.value=$,ht++}catch(e){console.log(e)}};(async()=>{T.get("/api/totalInfo").then(s=>{nt.value=s.data.data.mainAccount,it.value=s.data.data.onlineContracts,ut.value=s.data.data.howler,Y.value=s.data.data.shippingCoc,V.value=s.data.data.border,Vt.value=s.data.data.iran,Gt.value=s.data.data.dubai,Ot.value=s.data.data.debtOnlineContracts,jt.value=s.data.data.onlineContractsDinar,Rt.value=s.data.data.debtOnlineContractsDinar,Ft.value=s.data.data.allCars,pt.value=s.data.data.transactionInTodayDollar,bt.value=s.data.data.transactionOutTodayDollar,ct.value=s.data.data.transactionInTodayDinar,mt.value=s.data.data.transactionOutTodayDinar}).catch(s=>{console.error(s)})})();function Wt(){_.value=!0}function Zt(){v.value=!0}function qt(){u.value=!0}function Pt(){$t(),A.value=!0}function Yt(){$t(),G.value=!0}function zt(){x.value=!0}function Xt(){k.value=!0}function Jt(s){B.value=s,R.value=!0}function Kt(s){B.value=s,w.value=!0}const Qt=b;ge(),p(!1);const q=p(0);function te(s){T.post("/api/receiptArrived",s).then(e=>{_.value=!1,window.location.reload()}).catch(e=>{q.value=e.response.data.errors})}function Nt(s){T.post("/api/salesDebt",s).then(e=>{J(),v.value=!1,u.value=!1,window.location.reload()}).catch(e=>{q.value=e.response.data.errors})}function ee(s){T.post("/api/convertDollarDinar",s).then(e=>{J(),x.value=!1}).catch(e=>{q.value=e.response.data.errors})}function se(s){T.post("/api/convertDinarDollar",s).then(e=>{J(),k.value=!1}).catch(e=>{q.value=e.response.data.errors})}function Ct(){const s=new Date,e=s.getFullYear(),$=String(s.getMonth()+1).padStart(2,"0"),C=String(s.getDate()).padStart(2,"0");return`${e}-${$}-${C}`}function ae(s){T.post(`/api/delTransactions?id=${s.id}`).then(e=>{J(),R.value=!1}).catch(e=>{q.value=e.response.data.errors})}function gt(s){m.value=s,re(),E.value=!0}function re(){T.get(`/api/getGenExpenses?expenses_type_id=${m.value}`).then(s=>{a.value=s.data}).catch(s=>{q.value=s.response.data.errors})}function Dt(s){var e,$,C;T.post(`/api/GenExpenses?amount=${(e=s.amount)!=null?e:0}&expenses_type_id=${m.value}&factor=${($=s.factor)!=null?$:1}&note=${(C=s.note)!=null?C:""}`).then(U=>{J(),E.value=!1,console.log(U.data),window.open(`/api/getIndexAccountsSelas?user_id=${U.data.morphed_id}&print=3&transactions_id=${U.data.id}`,"_blank"),window.location.reload()}).catch(U=>{q.value=U.response.data.errors})}function $t(){T.get("/api/transfers").then(s=>{kt.value=s.data}).catch(s=>{q.value=s.response.data.errors})}function oe(s){var e,$;T.post(`/api/addTransfers?amount=${(e=s.amount)!=null?e:0}&sender_note=${($=s.note)!=null?$:""}`).then(C=>{window.location.reload(),A.value=!1}).catch(C=>{q.value=C.response.data.errors})}function de(s){return`/public/uploadsResized/${s}`}function le(s){return`/public/uploads/${s}`}function ne(){J()}function K(s){return typeof s!="number"&&(s=parseFloat(s)||0),s.toLocaleString()}const Tt=["in","inUser","inUserBox"],At=["out","outUser","outUserBox","debt"];function yt(s,e){var C,U;if(!s)return"";const $=Number(s.amount);return Number.isNaN($)?"":e==="in"&&Tt.includes(s.type)?`${K(Math.abs($))} ${(C=s.currency)!=null?C:"$"}`.trim():e==="out"&&At.includes(s.type)?`${K(Math.abs($))} ${(U=s.currency)!=null?U:"$"}`.trim():""}function Et(s){return s==="in"?"amount-pill amount-pill--in dark:text-white text-xl font-bold":"amount-pill amount-pill--out dark:text-white text-xl font-bold"}function ie(s){const e=["transition-colors","duration-150","border-b","border-transparent","hover:shadow-md"];return s&&(Tt.includes(s.type)?e.push("bg-gradient-to-l","from-emerald-700","to-emerald-600","text-white","hover:from-emerald-600","hover:to-emerald-500"):At.includes(s.type)?e.push("bg-gradient-to-l","from-rose-700","to-rose-600","text-white","hover:from-rose-600","hover:to-rose-500"):e.push("bg-slate-800","text-white","hover:bg-slate-700")),e}function Mt(s){var Q,r,L,W;if(!s)return null;const e=(Q=s.morphed_type)!=null?Q:"",$=(L=(r=s.morphed)==null?void 0:r.id)!=null?L:s.morphed_id,C=(W=s.type)!=null?W:"";return $?C==="inUserBox"||C==="outUserBox"?route("wallet",{id:$}):e.includes("User")?route("showClients",{id:$,q:""}):e.includes("Wallet")?route("wallet",{id:$}):null:null}function ue(s){var e;!s||X.value||(dt.value=s.id,z.value=(e=s.description)!=null?e:"",H.value="")}function Ut(){X.value||(dt.value=null,z.value="",H.value="")}async function pe(s){var $,C,U,Q,r,L;if(!s||dt.value!==s.id)return;const e=z.value?z.value.trim():"";if(!e){H.value="\u0627\u0644\u0648\u0635\u0641 \u0645\u0637\u0644\u0648\u0628";return}if(e.length>rt){H.value=`\u0627\u0644\u0648\u0635\u0641 \u064A\u062C\u0628 \u0623\u0644\u0627 \u064A\u062A\u062C\u0627\u0648\u0632 ${rt} \u062D\u0631\u0641\u064B\u0627`;return}X.value=!0,H.value="";try{await T.post("/api/updateTransactionDescription",{transaction_id:s.id,description:e}),s.description=e,s._descriptionUpdated=!0,setTimeout(()=>{s&&(s._descriptionUpdated=!1)},3e3),Ut()}catch(W){(Q=(U=(C=($=W.response)==null?void 0:$.data)==null?void 0:C.errors)==null?void 0:U.description)!=null&&Q.length?H.value=W.response.data.errors.description[0]:(L=(r=W.response)==null?void 0:r.data)!=null&&L.message?H.value=W.response.data.message:H.value="\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0641\u0638 \u0627\u0644\u0648\u0635\u0641"}finally{X.value=!1}}function ce(s){const e=["bg-orange-300","bg-orange-400","bg-orange-500","bg-orange-600","bg-orange-700","bg-orange-800","bg-orange-900"];return e[s%e.length]}return(s,e)=>(d(),n(j,null,[y(c(ye),{title:"Dashboard"}),y(fe,null,{header:D(()=>[...e[36]||(e[36]=[])]),default:D(()=>{var $,C,U,Q;return[y(ve,{show:!!c(R),formData:c(B),onA:e[0]||(e[0]=r=>ae(r)),onClose:e[1]||(e[1]=r=>S(R)?R.value=!1:R=!1)},{header:D(()=>[...e[37]||(e[37]=[t("h2",{class:"mb-5 dark:text-white text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0644\u062D\u0630\u0641 \u061F ",-1)])]),_:1},8,["show","formData"]),y(he,{show:!!c(w),formData:c(B),onA:e[2]||(e[2]=r=>ne(r)),onClose:e[3]||(e[3]=r=>S(w)?w.value=!1:w=!1)},{header:D(()=>[...e[38]||(e[38]=[t("h2",{class:"mb-5 dark:text-white text-center"}," \u062A\u062D\u0645\u064A\u0644 \u0645\u0644\u0641\u0627\u062A ",-1)])]),_:1},8,["show","formData"]),y(xs,{formData:c(g),show:!!c(E),expenses_type_id:c(m),GenExpenses:c(a),onA:e[4]||(e[4]=r=>Dt(r)),onClose:e[5]||(e[5]=r=>S(E)?E.value=!1:E=!1)},{header:D(()=>[...e[39]||(e[39]=[])]),_:1},8,["formData","show","expenses_type_id","GenExpenses"]),y(Xs,{formData:c(g),show:!!c(A),expenses_type_id:c(m),allTransfers:c(kt),onA:e[6]||(e[6]=r=>oe(r)),onClose:e[7]||(e[7]=r=>S(A)?A.value=!1:A=!1)},{header:D(()=>[...e[40]||(e[40]=[])]),_:1},8,["formData","show","expenses_type_id","allTransfers"]),y(ur,{formData:c(g),show:!!c(G),expenses_type_id:c(m),GenExpenses:c(a),allTransfers:c(kt),onA:e[8]||(e[8]=r=>Dt(r)),onRefresh:$t,onClose:e[9]||(e[9]=r=>S(G)?G.value=!1:G=!1)},{header:D(()=>[...e[41]||(e[41]=[])]),_:1},8,["formData","show","expenses_type_id","GenExpenses","allTransfers"]),y(ke,{show:!!c(_),data:b.users,accounts:b.accounts,onA:e[10]||(e[10]=r=>te(r)),onClose:e[11]||(e[11]=r=>S(_)?_.value=!1:_=!1)},{header:D(()=>[...e[42]||(e[42]=[t("h3",{class:"text-center"},"\u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1)])]),_:1},8,["show","data","accounts"]),y(Ne,{show:!!c(v),data:b.users,accounts:b.accounts,onA:e[12]||(e[12]=r=>Nt(r)),onClose:e[13]||(e[13]=r=>S(v)?v.value=!1:v=!1)},{header:D(()=>[...e[43]||(e[43]=[])]),_:1},8,["show","data","accounts"]),y(Ce,{show:!!c(u),boxes:b.boxes,onA:e[14]||(e[14]=r=>Nt(r)),onClose:e[15]||(e[15]=r=>S(u)?u.value=!1:u=!1)},{header:D(()=>[...e[44]||(e[44]=[t("h3",{class:"text-center"},"\u0627\u062F\u062E\u0627\u0644 \u0645\u0635\u0627\u0631\u064A\u0641",-1)])]),_:1},8,["show","boxes"]),y($e,{show:!!c(x),boxes:b.boxes,onA:e[16]||(e[16]=r=>ee(r)),onClose:e[17]||(e[17]=r=>S(x)?x.value=!1:x=!1)},{header:D(()=>[...e[45]||(e[45]=[t("h3",{class:"text-center"},"\u062A\u062D\u0648\u064A\u0644 \u0645\u0646 \u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0649 \u062F\u064A\u0646\u0627\u0631",-1)])]),_:1},8,["show","boxes"]),y(_e,{show:!!c(k),boxes:b.boxes,onA:e[18]||(e[18]=r=>se(r)),onClose:e[19]||(e[19]=r=>S(k)?k.value=!1:k=!1)},{header:D(()=>[...e[46]||(e[46]=[t("h3",{class:"text-center"},"\u062A\u062D\u0648\u064A\u0644 \u0645\u0646 \u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0649 \u062F\u0648\u0644\u0627\u0631",-1)])]),_:1},8,["show","boxes"]),s.$page.props.success?(d(),n("div",pr,[t("div",cr,[t("div",br,l(s.$page.props.success),1)])])):f("",!0),t("div",null,[t("div",mr,[t("div",gr,[t("div",yr,[t("div",xr,[t("div",fr,[s.$page.props.auth.user.type_id==1||s.$page.props.auth.user.type_id==2||s.$page.props.auth.user.type_id==5||s.$page.props.auth.user.type_id==6?(d(),n("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-green-500 rounded-md focus:outline-none",onClick:e[20]||(e[20]=r=>Wt())}," \u0648\u0635\u0644 \u0642\u0628\u0636 (\u0623\u0636\u0627\u0641\u0629) ")):f("",!0)]),t("div",vr,[s.$page.props.auth.user.type_id==1||s.$page.props.auth.user.type_id==2||s.$page.props.auth.user.type_id==5?(d(),n("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-yellow-500 rounded-md focus:outline-none",onClick:e[21]||(e[21]=r=>Zt())}," \u062A\u062D\u0648\u064A\u0644 \u0644\u062D\u0633\u0627\u0628 ")):f("",!0)]),t("div",hr,[s.$page.props.auth.user.type_id==1||s.$page.props.auth.user.type_id==2||s.$page.props.auth.user.type_id==5||s.$page.props.auth.user.type_id==6?(d(),n("button",{key:0,style:{width:"100%","margin-top":"4px"},className:"px-4 py-2 text-white bg-rose-500 rounded-md focus:outline-none",onClick:e[22]||(e[22]=r=>qt())}," \u0648\u0635\u0644 \u0635\u0631\u0641 (\u0633\u062D\u0628) ")):f("",!0)]),t("div",kr,[t("div",null,[y(tt,{for:"from",value:"\u0645\u0646 \u062A\u0627\u0631\u064A\u062E"}),y(lt,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:c(h),"onUpdate:modelValue":e[23]||(e[23]=r=>S(h)?h.value=r:h=r)},null,8,["modelValue"])])]),t("div",$r,[t("div",null,[y(tt,{for:"to",value:"\u062D\u062A\u0649 \u062A\u0627\u0631\u064A\u062E"}),y(lt,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:c(N),"onUpdate:modelValue":e[24]||(e[24]=r=>S(N)?N.value=r:N=r)},null,8,["modelValue"])])]),t("div",_r,[y(tt,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),t("button",{onClick:e[25]||(e[25]=xe(r=>J(),["prevent"])),class:"px-6 mb-6 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},[c(o)?(d(),n("span",Nr,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(d(),n("span",wr,"\u0641\u0644\u062A\u0631\u0629"))])]),t("div",Cr,[y(tt,{for:"pay",value:"\u0642\u0627\u0633\u0647"}),s.$page.props.auth.user.owner_id==1?(d(),at(c(ft),{key:0,type:"button",href:"/wallet?id=2756",style:{"min-width":"150px"},class:"px-6 mb-6 py-2 font-bold text-white bg-orange-800 rounded w-full mt-1 text-center"},{default:D(()=>[...e[47]||(e[47]=[F(" \u062D\u0648\u0644\u0627\u062A \u062D\u0627\u062C\u0649 \u0639\u0645\u0631\u0627\u0646 ",-1)])]),_:1})):f("",!0)]),t("div",Dr,[y(tt,{for:"to",value:"\u0645\u0635\u0627\u0631\u064A\u0641"}),s.$page.props.auth.user.owner_id==1?(d(),at(c(ft),{key:0,type:"button",href:"/wallet?id=588",style:{"min-width":"150px"},class:"px-6 mb-6 py-2 font-bold text-white bg-red-500 rounded w-full mt-1 text-center"},{default:D(()=>[...e[48]||(e[48]=[F(" \u0645\u0635\u0627\u0631\u064A\u0641 \u0627\u0644\u0634\u0631\u0643\u0629 ",-1)])]),_:1})):f("",!0)])]),t("div",Tr,[t("div",null,[s.$page.props.auth.user.owner_id==1?(d(),n("button",{key:0,type:"button",onClick:e[26]||(e[26]=r=>Yt(1)),style:{"min-width":"150px"},className:"px-6 mb-6 py-2 font-bold text-white bg-red-500 rounded  w-full"}," \u062A\u062D\u0648\u064A\u0644\u0627\u062A \u0643\u0631\u0643\u0648\u0643 ")):f("",!0),s.$page.props.auth.user.type_id==6?(d(),n("button",{key:1,type:"button",onClick:e[27]||(e[27]=r=>Pt(1)),style:{"min-width":"150px"},className:"px-6 mb-6 py-2 font-bold text-white bg-red-500 rounded  w-full"}," \u062A\u062D\u0648\u064A\u0644 \u0644\u0641\u0631\u0639 \u0623\u0631\u0628\u064A\u0644 ")):f("",!0)]),s.$page.props.auth.user.type_id==1?(d(),n("div",Ar,[t("button",{type:"button",onClick:e[28]||(e[28]=r=>gt(2)),style:{"min-width":"150px"},className:"px-6 mb-6 text-center py-2 font-bold text-white bg-blue-600 rounded  w-full"},l(s.$t("dubai")),1)])):f("",!0),s.$page.props.auth.user.type_id==1?(d(),n("div",Er,[t("button",{type:"button",onClick:e[29]||(e[29]=r=>gt(3)),style:{"min-width":"150px"},className:"px-6 mb-6 text-center w-full py-2 font-bold text-white bg-blue-600 rounded"},l(s.$t("iran")),1)])):f("",!0),s.$page.props.auth.user.type_id==1?(d(),n("div",Mr,[t("button",{type:"button",onClick:e[30]||(e[30]=r=>gt(4)),style:{"min-width":"150px"},className:"px-6 mb-6 w-full py-2 font-bold text-white bg-indigo-600 rounded"},l(s.$t("border")),1)])):f("",!0),s.$page.props.auth.user.type_id==1?(d(),n("div",Ur,[t("button",{type:"button",onClick:e[31]||(e[31]=r=>gt(5)),style:{"min-width":"150px"},className:"px-6 mb-6 w-full py-2 font-bold text-white bg-pink-600 rounded"},l(s.$t("shipping_coc")),1)])):f("",!0),t("div",null,[t("button",{type:"button",onClick:e[32]||(e[32]=r=>zt()),style:{"min-width":"150px"},className:"px-6 mb-6 w-full py-2 font-bold text-white bg-teal-500 rounded"}," \u062A\u062D\u0648\u064A\u0644 \u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0649 \u062F\u064A\u0646\u0627\u0631 ")]),t("div",null,[t("button",{type:"button",onClick:e[33]||(e[33]=r=>Xt()),style:{"min-width":"150px"},className:"px-6 mb-6 w-full py-2 font-bold text-white bg-yellow-500 rounded"}," \u062A\u062D\u0648\u064A\u0644 \u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0649 \u062F\u0648\u0644\u0627\u0631 ")])]),b.flaggedWallets&&b.flaggedWallets.length>0?(d(),n("div",Ir,[(d(!0),n(j,null,P(b.flaggedWallets,(r,L)=>(d(),n("div",{key:r.id},[s.$page.props.auth.user.owner_id==1?(d(),at(c(ft),{key:0,type:"button",href:`/wallet?id=${r.id}`,style:{"min-width":"150px"},class:M(`px-6 mb-6 py-2 font-bold text-white ${ce(L)} rounded w-full mt-1 text-center`)},{default:D(()=>[F(l(r.name),1)]),_:2},1032,["href","class"])):f("",!0)]))),128))])):f("",!0),t("div",Br,[t("div",Sr,[y(tt,{for:"to",value:"\u0631\u0635\u064A\u062F \u0627\u0644\u0635\u0646\u062F\u0648\u0642 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),y(lt,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:(C=($=I.value)==null?void 0:$.user)==null?void 0:C.wallet.balance},null,8,["value"])]),t("div",Vr,[y(tt,{for:"to",value:"\u0631\u0635\u064A\u062F \u0627\u0644\u0635\u0646\u062F\u0648\u0642 \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0627\u0644\u0639\u0631\u0627\u0642\u064A"}),y(lt,{id:"to",type:"number",disabled:"",class:"mt-1 block w-full",value:(Q=(U=I.value)==null?void 0:U.user)==null?void 0:Q.wallet.balance_dinar},null,8,["value"])]),t("div",Gr,[y(tt,{for:"to",value:"\u0628\u062D\u062B \u0631\u0642\u0645 \u0627\u0644\u0648\u0635\u0644 \u0627\u0648 \u0627\u0644\u0648\u0635\u0641"}),y(lt,{id:"q",type:"text",class:"mt-1 block w-full",modelValue:c(ot),"onUpdate:modelValue":e[34]||(e[34]=r=>S(ot)?ot.value=r:ot=r),onInput:c(Ht)},null,8,["modelValue","onInput"])]),t("div",Or,[t("table",Fr,[e[51]||(e[51]=t("thead",{class:"bg-slate-800 text-gray-100"},[t("tr",null,[t("th",{class:"border p-2"},"\u0627\u0644\u0639\u0645\u0644\u0629"),t("th",{class:"border p-2"},"\u0627\u0644\u062F\u062E\u0644"),t("th",{class:"border p-2"},"\u0627\u0644\u062E\u0631\u0648\u062C"),t("th",{class:"border p-2"},"\u0627\u0644\u0641\u0631\u0642")])],-1)),t("tbody",null,[t("tr",jr,[e[49]||(e[49]=t("td",{class:"border border-gray-700 p-2 font-bold text-emerald-300"},"\u062F\u0648\u0644\u0627\u0631",-1)),t("td",Rr,l(K(c(pt))),1),t("td",Hr,l(K(c(bt))),1),t("td",Lr,[t("span",{class:M(c(pt)+c(bt)>0?"text-emerald-300":"text-rose-300")},l(K(c(pt)+c(bt))),3)])]),t("tr",Wr,[e[50]||(e[50]=t("td",{class:"border border-gray-700 p-2 font-bold text-indigo-300"},"\u062F\u064A\u0646\u0627\u0631",-1)),t("td",Zr,l(K(c(ct))),1),t("td",qr,l(K(c(mt))),1),t("td",Pr,[t("span",{class:M(c(ct)+c(mt)>0?"text-emerald-300":"text-rose-300")},l(K(c(ct)+c(mt))),3)])])])])])]),t("div",Yr,[t("table",zr,[e[52]||(e[52]=t("thead",{class:"uppercase bg-slate-800 text-gray-100 text-center"},[t("tr",{class:"rounded-l-lg mb-2 sm:mb-0"},[t("th",{className:"px-2 py-2",style:{width:"200px"}},"\u062D\u0633\u0627\u0628 "),t("th",{className:"px-2 py-2",style:{width:"180px"}},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),t("th",{className:"px-2 py-2"},"\u0627\u0644\u0648\u0635\u0641"),t("th",{className:"px-2 py-2"},"\u0627\u064A\u062F\u0627\u0639"),t("th",{className:"px-2 py-2"},"\u0633\u062D\u0628"),t("th",{className:"px-2 py-2",style:{width:"200px"}},"\u062A\u0646\u0641\u064A\u0630"),t("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"100px"}}," \u062A\u062E\u0632\u064A\u0646 ")])],-1)),t("tbody",null,[(d(!0),n(j,null,P(c(i),r=>{var L,W;return d(),n("tr",{key:r.id,class:M(ie(r))},[t("td",Xr,[Mt(r)?(d(),at(c(ft),{key:0,href:Mt(r),class:"account-link"},{default:D(()=>{var O,xt;return[F(l((xt=(O=r.morphed)==null?void 0:O.name)!=null?xt:"\u2014"),1)]}),_:2},1032,["href"])):(d(),n("span",Jr,l((W=(L=r.morphed)==null?void 0:L.name)!=null?W:"\u2014"),1))]),t("td",Kr,l(c(Me)(r==null?void 0:r.created_at)),1),t("th",Qr,[dt.value===r.id?(d(),n("div",to,[Z(t("textarea",{"onUpdate:modelValue":e[35]||(e[35]=O=>z.value=O),class:"w-full rounded border border-gray-300 dark:border-gray-700 dark:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm leading-6 p-2",rows:"3",maxlength:rt,placeholder:"\u0627\u0643\u062A\u0628 \u0627\u0644\u0648\u0635\u0641 \u0627\u0644\u062C\u062F\u064A\u062F \u0647\u0646\u0627"},null,512),[[st,z.value]]),t("div",eo,[t("span",null,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 "+l(rt)+" \u062D\u0631\u0641\u064B\u0627"),t("span",{class:M(z.value.length>rt?"text-red-500":"")},l(z.value.length)+"/"+l(rt),3)]),H.value?(d(),n("p",so,l(H.value),1)):f("",!0),t("div",ao,[t("button",{type:"button",class:"px-3 py-1 text-sm font-semibold rounded bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-200",onClick:Ut,disabled:X.value}," \u0625\u0644\u063A\u0627\u0621 ",8,ro),t("button",{type:"button",class:"px-3 py-1 text-sm font-semibold text-white bg-green-600 rounded disabled:opacity-70",onClick:O=>pe(r),disabled:X.value},[X.value?(d(),n("span",lo,"\u062C\u0627\u0631\u064D \u0627\u0644\u062D\u0641\u0638...")):(d(),n("span",no,"\u062D\u0641\u0638"))],8,oo)])])):(d(),n("div",io,[t("span",uo,l(r.description),1),r._descriptionUpdated?(d(),n("span",po," \u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B ")):f("",!0)]))]),t("td",co,[yt(r,"in")?(d(),n("span",{key:0,class:M(Et("in"))},l(yt(r,"in")),3)):f("",!0)]),t("td",bo,[yt(r,"out")?(d(),n("span",{key:0,class:M(Et("out"))},l(yt(r,"out")),3)):f("",!0)]),t("td",mo,[t("div",go,[t("button",{class:"action-btn action-btn--edit",title:"\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0648\u0635\u0641",onClick:O=>ue(r),disabled:X.value&&dt.value===r.id},[y(Te,{class:"w-4 h-4"})],8,yo),t("button",{class:"action-btn action-btn--delete",onClick:O=>Jt(r),title:"\u062D\u0630\u0641 \u0627\u0644\u062D\u0631\u0643\u0629"},[y(De)],8,xo),t("button",{class:"action-btn action-btn--upload",onClick:O=>Kt(r),title:"\u0645\u0631\u0641\u0642\u0627\u062A \u0627\u0644\u062D\u0631\u0643\u0629"},[y(we)],8,fo),r.type==="out"||r.type==="outUser"||r.type==="debt"?(d(),n("a",{key:0,href:`/api/getIndexAccountsSelas?user_id=${b.boxes[0].id}&print=2&transactions_id=${r.id}`,target:"_blank",class:"action-btn action-btn--print",title:"\u0637\u0628\u0627\u0639\u0629 \u0633\u0646\u062F \u0627\u0644\u0635\u0631\u0641"},[y(et,{class:"inline-flex"})],8,vo)):f("",!0),r.type==="in"||r.type==="inUser"?(d(),n("a",{key:1,href:`/api/getIndexAccountsSelas?user_id=${b.boxes[0].id}&print=3&transactions_id=${r.id}`,target:"_blank",class:"action-btn action-btn--print",title:"\u0637\u0628\u0627\u0639\u0629 \u0633\u0646\u062F \u0627\u0644\u0642\u0628\u0636"},[y(et,{class:"inline-flex"})],8,ho)):f("",!0),r.type==="inUserBox"?(d(),n("a",{key:2,href:`/api/getIndexAccountsSelas?user_id=${r.morphed_id}&print=3&transactions_id=${r.id}`,target:"_blank",class:"action-btn action-btn--print",title:"\u0637\u0628\u0627\u0639\u0629 \u0633\u0646\u062F \u0627\u0644\u0642\u0628\u0636"},[y(et,{class:"inline-flex"})],8,ko)):f("",!0),r.type==="outUserBox"?(d(),n("a",{key:3,href:`/api/getIndexAccountsSelas?user_id=${r.morphed_id}&print=2&transactions_id=${r.id}`,target:"_blank",class:"action-btn action-btn--print",title:"\u0637\u0628\u0627\u0639\u0629 \u0633\u0646\u062F \u0627\u0644\u0635\u0631\u0641"},[y(et,{class:"inline-flex"})],8,$o)):f("",!0)])]),t("td",null,[(d(!0),n(j,null,P(r.transactions_images,(O,xt)=>(d(),n("a",{key:xt,href:le(O.name),style:{cursor:"pointer"},target:"_blank"},[t("img",{src:de(O.name),alt:"",class:"px-1",style:{"max-width":"80px","max-height":"50px",display:"inline"}},null,8,wo)],8,_o))),128))])],2)}),128))])])]),t("div",No,[y(c(Ae),{transactions:c(i),onInfinite:Lt,identifier:c(vt)},null,8,["transactions","identifier"])])])])])])]}),_:1})],64))}};export{qo as default};
