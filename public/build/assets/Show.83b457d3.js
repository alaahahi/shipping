import{o as i,c as ye,w as C,a as u,b as e,f as dt,t as d,d as xe,e as B,v as R,i as f,T as fe,x as ve,r as p,q as gt,m as he,E as Et,u as ke,g as l,j as o,F as L,H as _e,k as _,A as we,h as ut,l as et,s as $e,n as yt}from"./app.2a54146a.js";import{a as De,_ as Ce}from"./AuthenticatedLayout.32b34639.js";import{M as Ne}from"./Modal.e7550786.js";import{t as Ae}from"./laravel-vue-pagination.es.a24c8b35.js";import{_ as v}from"./InputLabel.7d3d3564.js";import{_ as w}from"./TextInput.76e007b0.js";import{a as D}from"./index.049f1d56.js";import{M as xt}from"./ModalDelCar.bd7685f5.js";import{_ as Se}from"./ModalEditCar_S.c91a2d42.js";import{_ as Me}from"./ModalAddCarPayment.b31de4df.js";import{_ as Pe,a as Ie,b as Fe,c as Te,e as Ee}from"./exit.4c65032f.js";import{p as ct}from"./print.cb572e73.js";import{p as Bt}from"./pay.61f84850.js";import{t as Be}from"./trash.f2518066.js";import{e as Ue}from"./edit.94080678.js";import{s as Ve}from"./show.e4b147f4.js";import{n as je}from"./new.4d37dfc5.js";import"./lodash.900673f7.js";/* empty css                                              *//* empty css                                                    */import"./Uploader.399865f1.js";/* empty css                                                                 *//* empty css                                                       */const qe={key:0,class:"modal-mask"},He={class:"modal-wrapper max-h-[80vh]"},Re={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},Le={class:"modal-header text-center py-4 dark:text-gray-300"},ze={class:"modal-body"},Oe={class:"grid grid-cols-2 gap-3 lg:gap-2"},We={class:"mb-4 mx-5"},Ye={class:"mb-4 mx-5"},Ze={class:"mb-4 mx-5"},Ge={class:"mb-4 mx-5"},Je={class:"mb-4 mx-5"},Ke={class:"mb-4 mx-5"},Qe={class:"mb-4 mx-5"},Xe={class:"mb-4 mx-5"},ta={class:"modal-footer my-2"},ea={class:"flex flex-row"},aa={class:"basis-1/2 px-4"},ra={class:"basis-1/2 px-4"},oa=["disabled"],sa={__name:"ModalShowDriving",props:{show:Boolean,formDriving:Object},setup(m){return(b,s)=>(i(),ye(fe,{name:"modal"},{default:C(()=>[m.show?(i(),u("div",qe,[e("div",He,[e("div",Re,[e("div",Le,[dt(" \u062A\u062E\u0648\u064A\u0644 \u0642\u064A\u0627\u062F\u0629 "+d(m.formDriving.car_typeDriving)+" "+d(m.formDriving.yearDriving)+" "+d(m.formDriving.car_colorDriving)+" \u0631\u0642\u0645 \u0634\u0627\u0646\u0635\u0649 "+d(m.formDriving.vinDriving)+" ",1),xe(b.$slots,"header")]),e("div",ze,[e("div",Oe,[e("div",We,[s[10]||(s[10]=e("label",{class:"dark:text-gray-200",for:"amountTotal"},"\u0627\u0644\u0627\u0633\u0645 \u0643\u0627\u0645\u0644",-1)),B(e("input",{id:"amountTotal",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[0]||(s[0]=x=>m.formDriving.nameDriving=x)},null,512),[[R,m.formDriving.nameDriving]])]),e("div",Ye,[s[11]||(s[11]=e("label",{class:"dark:text-gray-200",for:"carType"},"\u0627\u0644\u0633\u064A\u0627\u0631\u0629",-1)),B(e("input",{id:"carType",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[1]||(s[1]=x=>m.formDriving.car_typeDriving=x)},null,512),[[R,m.formDriving.car_typeDriving]])]),e("div",Ze,[s[12]||(s[12]=e("label",{class:"dark:text-gray-200",for:"vin"},"\u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0646\u0635\u064A",-1)),B(e("input",{id:"vin",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[2]||(s[2]=x=>m.formDriving.vinDriving=x)},null,512),[[R,m.formDriving.vinDriving]])]),e("div",Ge,[s[13]||(s[13]=e("label",{class:"dark:text-gray-200",for:"carNumber"},"\u0631\u0642\u0645 \u0627\u0644\u0633\u064A\u0627\u0631\u0629",-1)),B(e("input",{id:"carNumber",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[3]||(s[3]=x=>m.formDriving.car_numberDriving=x)},null,512),[[R,m.formDriving.car_numberDriving]])]),e("div",Je,[s[14]||(s[14]=e("label",{class:"dark:text-gray-200",for:"color"},"\u0627\u0644\u0644\u0648\u0646",-1)),B(e("input",{id:"color",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[4]||(s[4]=x=>m.formDriving.car_colorDriving=x)},null,512),[[R,m.formDriving.car_colorDriving]])]),e("div",Ke,[s[15]||(s[15]=e("label",{class:"dark:text-gray-200",for:"model"},"\u0645\u0648\u062F\u064A\u0644",-1)),B(e("input",{id:"model",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[5]||(s[5]=x=>m.formDriving.yearDriving=x)},null,512),[[R,m.formDriving.yearDriving]])]),e("div",Qe,[s[16]||(s[16]=e("label",{class:"dark:text-gray-200",for:"exitDate"},"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062A\u062E\u0648\u064A\u0644",-1)),B(e("input",{id:"exitDate",type:"date",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[6]||(s[6]=x=>m.formDriving.createdDriving=x)},null,512),[[R,m.formDriving.createdDriving]])])]),e("div",Xe,[s[17]||(s[17]=e("label",{class:"dark:text-gray-200",for:"note"},"\u062A\u062E\u0648\u064A\u0644 \u0627\u0644\u0642\u064A\u0627\u062F\u0629",-1)),B(e("textarea",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":s[7]||(s[7]=x=>m.formDriving.noteDriving=x)},null,512),[[R,m.formDriving.noteDriving]])])]),e("div",ta,[e("div",ea,[e("div",aa,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:s[8]||(s[8]=x=>{b.$emit("close")})},d(b.$t("cancel")),1)]),e("div",ra,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:s[9]||(s[9]=x=>b.$emit("a",m.formDriving)),disabled:!m.formDriving.noteDriving},d(b.$t("yes")),9,oa)])])])])])])):f("",!0)]),_:3}))}},da={},la={class:"w-6 h-6 text-white dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"};function na(m,b){return i(),u("svg",la,[...b[0]||(b[0]=[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7h1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V5a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h11.5M7 14h6m-6 3h6m0-10h.5m-.5 3h.5M7 7h3v3H7V7Z"},null,-1)])])}const ia=De(da,[["render",na]]);const ua={class:"mb-5 dark:text-gray-400 text-center"},ca={class:"mb-5 dark:text-gray-400 text-center"},pa={key:0},ma={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},ba={class:"ml-3 text-sm font-medium text-red-700 dark:text-red-800"},ga={key:1,class:"py-4"},ya={class:"text-center pb-2 dark:text-gray-400"},xa={class:"max-w-9xl mx-auto sm:px-6 lg:px-8 p-6 dark:bg-gray-900"},fa={class:"overflow-hidden shadow-sm sm:rounded-lg"},va={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 lg:gap-1"},ha={class:"pr-4"},ka={value:"undefined",disabled:""},_a=["value"],wa={className:"mb-4 mr-5"},$a={class:"space-y-2 p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800"},Da={class:"flex items-center justify-between"},Ca={class:"relative inline-flex items-center cursor-pointer"},Na=["checked"],Aa={class:"px-4"},Sa={className:"mb-4 mx-5"},Ma={class:"px-4"},Pa={className:"mb-4 mx-5"},Ia={className:"mb-4  mr-5 print:hidden"},Fa={className:"mb-4  mr-5 print:hidden"},Ta=["href"],Ea={className:"mb-4  mr-5 print:hidden"},Ba=["href"],Ua={className:"mb-4  mr-5"},Va={className:"mb-4  mr-5"},ja={className:"mb-4  mr-5"},qa={className:"mb-4  mr-5"},Ha={className:"mb-4  mr-5"},Ra={key:0,className:"mb-4  mr-5 print:hidden"},La=["disabled"],za=["disabled"],Oa={className:"mb-4  mr-5 print:hidden"},Wa=["disabled"],Ya={key:1,className:"mb-4  mr-5"},Za={className:"mb-4  mr-5"},Ga={className:"mb-4  mr-5"},Ja={className:"mb-4  mr-5"},Ka={className:"mb-4  mr-5"},Qa={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 lg:gap-1"},Xa={className:"mb-4  mr-5"},tr={className:"mb-4  mr-5"},er={className:"mb-4  mr-5"},ar={className:"mb-4  mr-5 print:hidden"},rr=["disabled"],or={key:0},sr={key:1},dr={key:2},lr={key:1,class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},nr={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},ir={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},ur={class:"bg-rose-500 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},cr={className:"px-1 py-2 text-base"},pr={className:"px-1 py-2 text-base"},mr={className:"px-1 py-2 text-base"},br={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},gr={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},yr={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},xr=["href"],fr={key:0,class:"text-center"},vr={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},hr={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},kr={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},_r={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},wr={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},$r={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Dr=["href"],Cr={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Nr={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ar={key:0,class:"text-center py-10"},Sr={key:1,class:"relative overflow-x-auto shadow-md sm:rounded-lg"},Mr={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},Pr={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Ir={class:"rounded-l-lg mb-2 sm:mb-0"},Fr={scope:"col",class:"px-1 py-2 text-base"},Tr={scope:"col",class:"px-1 py-2 text-base"},Er={scope:"col",class:"px-1 py-2 text-base"},Br={scope:"col",class:"px-1 py-2 text-base"},Ur={scope:"col",class:"px-1 py-2 text-base"},Vr={scope:"col",class:"px-1 py-2 text-base"},jr={scope:"col",class:"px-1 py-2 text-base"},qr={scope:"col",class:"px-1 py-2 text-base"},Hr={scope:"col",class:"px-1 py-2 text-base print:hidden"},Rr={scope:"col",class:"px-1 py-2 text-base print:hidden"},Lr={scope:"col",class:"px-1 py-2 text-base"},zr={scope:"col",class:"px-1 py-2 text-base"},Or={scope:"col",class:"px-1 py-2 text-base"},Wr={scope:"col",class:"px-1 py-2 text-base"},Yr={scope:"col",class:"px-1 py-2 text-base"},Zr={scope:"col",class:"px-1 py-2 text-base"},Gr={scope:"col",class:"px-1 py-2 text-base"},Jr={scope:"col",class:"px-1 py-2 text-base"},Kr={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},Qr={className:"border dark:border-gray-800 text-center px-2 py-1"},Xr={className:"border dark:border-gray-800 text-center px-2 py-1"},to={className:"border dark:border-gray-800 text-center px-2 py-1"},eo={className:"border dark:border-gray-800 text-center px-2 py-1"},ao={className:"border dark:border-gray-800 text-center px-2 py-1"},ro={className:"border dark:border-gray-800 text-center px-2 py-1"},oo={className:"border dark:border-gray-800 text-center px-2 py-1"},so={className:"border dark:border-gray-800 text-center px-2 py-1"},lo={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},no={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},io={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},uo={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},co={className:"border dark:border-gray-800 text-center px-2 py-1"},po={className:"border dark:border-gray-800 text-center px-2 py-1"},mo={className:"border dark:border-gray-800 text-center px-2 py-1"},bo={className:"border dark:border-gray-800 text-center px-2 py-1"},go={className:"border dark:border-gray-800 text-center px-2 py-1"},yo={className:"border dark:border-gray-800 text-center px-2 py-1"},xo={className:"border dark:border-gray-800 text-center px-2 py-1"},fo={className:"border dark:border-gray-800 text-center px-1 py-2 "},vo={className:"border dark:border-gray-800 text-center px-2 py-1"},ho={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},ko=["onClick"],_o=["onClick"],wo=["onClick"],$o=["onClick"],Do=["onClick"],Co=["onClick"],No=["onClick"],Ao=["onClick"],So=["href"],Mo={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},Po=["href"],Io=["src"],Fo={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},To=["onClick"],Eo=["onClick"],Bo={key:1,class:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/30 dark:to-pink-900/30 border-b dark:border-gray-700"},Uo={colspan:"5",className:"border dark:border-gray-800 text-start px-3 py-2"},Vo={class:"font-semibold mr-2"},jo={className:"border dark:border-gray-800 text-center px-2 py-2 font-bold text-red-700 dark:text-red-300 text-base bg-red-50 dark:bg-red-900/20"},qo={className:"border dark:border-gray-800 text-center px-2 py-2 text-sm"},Ho={className:"border dark:border-gray-800 text-center px-2 py-2 print:hidden"},Ro=["href"],Lo={key:0,class:"bg-gradient-to-r from-yellow-100 to-amber-100 dark:from-yellow-900/30 dark:to-amber-900/30 border-t-4 border-amber-500"},zo={className:"border dark:border-gray-800 text-center px-2 py-3 font-bold text-xl bg-amber-200 dark:bg-amber-800 text-amber-900 dark:text-amber-100"},Oo={class:"mt-3 text-center",style:{direction:"ltr"}},Wo={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 dark:text-gray-400 hidden print:block"},Yo={class:"flex flex-row"},Zo={class:"basis-1/2"},fs={__name:"Show",props:{url:String,clients:Array,client_id:String,client:Object,q:String},setup(m){let b=ve();p(0);let s=p({}),x=p(0),S=p(0),M=p(0),lt=1,j=p(!1),K=p(!1),Q=p(!1),z=p(!1),pt=p(!1),O=p(!1),P=p(!1),nt=p(!1),at=p(!1),W=p(!1),Y=p(!1),Z=p(!1),it=p(!1),G=p(!1);p(0);let g=p({}),T=p({}),q=p(0),J=p(""),I=p(0),N=p(0);p(0);let X=p(!1),tt=p(!1);const U=m;let rt=async(a=1)=>{at.value=!1,D.get(`/api/getIndexAccountsSelas?page=${a}&user_id=${U.client_id}&from=${S.value}&to=${M.value}`).then(t=>{s.value=t.data,N.value=t.data.client.id,ue(t.data.cars_sum),at.value=!0}).catch(t=>{console.error(t),at.value=!0})};function H(){let a="",t="";try{a=s.value.transactions.filter(n=>n.type==="out"&&n.amount<0&&n.is_pay===1)}catch{}try{t=a.reduce((n,c)=>n+c.amount,0)}catch{}return{totalAmount:t}}gt(()=>{var a,t;try{return((t=(a=s.value)==null?void 0:a.transactions)==null?void 0:t.filter(n=>n.type==="out"&&n.amount<0&&n.is_pay===1).length)||0}catch{return 0}});function Ut(a={}){g.value=a,X.value=!0}function Vt(a={}){g.value=a,tt.value=!0}function jt(a){var t,n;a.balance=H().totalAmount*-1-((t=s.value)==null?void 0:t.cars_paid)-((n=s.value)==null?void 0:n.cars_discount),D.post("/api/AddPayFromBalanceCar",a).then(c=>{X.value=!1,F()}).catch(c=>{console.error(c)})}function qt(a){D.post("/api/DelPayFromBalanceCar",a).then(t=>{tt.value=!1,F()}).catch(t=>{console.error(t)})}const F=async(a=1)=>{D.get(`/api/getIndexAccountsSelas?page=${a}&user_id=${N.value}&from=${S.value}&to=${M.value}`).then(t=>{s.value=t.data,N.value=t.data.client.id}).catch(t=>{console.error(t)})};he(()=>{rt()}),Et(()=>U.client_id,(a,t)=>{a&&a!==t&&(S.value=0,M.value=0,j.value=!1,O.value=!1,P.value=!1,nt.value=!1,I.value=0,q.value=0,J.value="",lt=1,rt())},{immediate:!1});const Ht=ke();let V=p(!1);function Rt(a){Ht.get(route("sentToCourt",a)),rt(),V.value=!1}function Lt(a={}){g.value=a,Q.value=!0}function zt(a={}){g.value=a,g.value.dinar_s==0&&(g.value.dinar_s=g.value.dinar),K.value=!0}function Ot(a={}){g.value=a,g.value.notePayment=" \u0628\u064A\u062F ",z.value=!0}function Wt(a){D.post("/api/DelCar",a).then(t=>{Q.value=!1,b.success("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),F()}).catch(t=>{console.error(t),b.error("\u0641\u0634\u0644 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Yt(a){K.value=!1,D.post("/api/updateCarsS",a).then(t=>{V.value=!1,b.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),F()}).catch(t=>{b.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),F()})}function Zt(a){var t,n;a.discountPayment||(a.discountPayment=0),D.get(`/api/addPaymentCar?car_id=${a.id}&discount=${a.discountPayment}&amount=${(t=a.amountPayment)!=null?t:0}&note=${(n=a.notePayment)!=null?n:""}`).then(c=>{z.value=!1,b.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+a.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),F();let h=c.data;window.open(`/api/getIndexAccountsSelas?user_id=${U.client_id}&print=2&transactions_id=${h.id}`,"_blank")}).catch(c=>{V.value=!1,console.log(c),b.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Gt(a,t,n,c){x.value=!0,D.get(`/api/addPaymentCarTotal?amount=${a!=null?a:0}&discount=${n!=null?n:0}&note=${c}&client_id=${t!=null?t:0}`).then(h=>{z.value=!1,b.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+a+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),j.value=!1,x.value=!1,F(),Jt();let E=h.data;window.open(`/api/getIndexAccountsSelas?user_id=${U.client_id}&print=2&transactions_id=${E.id}`,"_blank")}).catch(h=>{console.log(h),V.value=!1,x.value=!1,b.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Jt(){I.value=0,q.value=0,J.value=""}function Kt(){j.value=!0,O.value=!1}function Qt(){j.value=!1}function Xt(){O.value=!0,j.value=!1}function te(){O.value=!1}function ee(a={}){g.value=a,g.value.prices=100,g.value.price_dinars=5e4,W.value=!0}function ae(a={}){g.value=formshowModalShowExitCar,Y.value=!0}function re(a={}){g.value=a,g.value.createdExit=vt(),Z.value=!0}function oe(a={}){g.value=a.value=!0}function se(a={}){T.value.car_typeDriving=a.car_type,T.value.yearDriving=a.year,T.value.car_colorDriving=a.car_color,T.value.vinDriving=a.vin,T.value.nameDriving=U.client.name,T.value.clientIdDriving=N.value,T.value.car_numberDriving=a.car_number,T.value.createdDriving=vt(),T.value.noteDriving="\u0627\u0646\u0627 \u0643\u0627\u0631\u0632\u0627\u0646 \u0633\u0631\u0647\u0646\u0643 \u0645\u062D\u0645\u062F (\u0648\u0643\u064A\u0644 \u0639\u0627\u0645 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 \u0627\u064A\u0648\u0628 ) (\u0645\u062F\u064A\u0631 \u0645\u0641\u0648\u0636 \u0634\u0631\u0643\u0629 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 \u0627\u064A\u0648\u0628) \u0642\u062F \u062E\u0648\u0644\u062A \u0627\u0644\u0633\u064A\u062F(name) \u0628\u0642\u064A\u0627\u062F\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0630\u0627\u062A \u0627\u0644\u0645\u0648\u0627\u0635\u0641\u0627\u062A \u0627\u062F\u0646\u0627\u0647 \u0644\u0647 \u062D\u0642  \u0646\u0642\u0644\u0647\u0627  \u0645\u0646 \u0645\u062D\u0627\u0641\u0638\u0629 \u0627\u0644\u0649 \u0645\u062D\u0627\u0641\u0638\u0629 \u0627\u062E\u0631\u0649 \u0648\u062F\u0641\u0639 \u0627\u0644\u0631\u0633\u0648\u0645 \u0648\u0627\u0644\u063A\u0631\u0645\u0627\u062A \u0628\u064A\u0639 \u0648\u0634\u0631\u0627\u0621 \u0627\u0644\u0642\u0628\u0636 \u0627\u0644\u062B\u0645\u0646.",G.value=!0}function de(){var t,n,c;let a=(c=(n=(t=s==null?void 0:s.value)==null?void 0:t.client)==null?void 0:n.wallet)==null?void 0:c.balance;I.value=a-q.value}function le(){var t,n,c;let a=(c=(n=(t=s==null?void 0:s.value)==null?void 0:t.client)==null?void 0:n.wallet)==null?void 0:c.balance;console.log(a),I.value>a?(I.value=a,pt.value=!0,b.info(" \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u062F\u064A\u0646 \u0627\u0644\u0645\u0637\u0644\u0648\u0628 "+I.value,{timeout:4e3,position:"bottom-right",rtl:!0})):pt.value=!1}function ne(a){var t,n,c,h,E,k;D.get(`/api/addCarContracts?car_id=${a.id}&price=${(t=a.prices)!=null?t:0}&price_dinar=${(n=a.price_dinars)!=null?n:0}&paid=${(c=a.paids)!=null?c:0}&paid_dinar=${(h=a.paid_dinars)!=null?h:0}&phone=${(E=a.phone)!=null?E:""}&note=${(k=a.note)!=null?k:""}`).then(y=>{W.value=!1,b.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u0628\u0646\u062C\u0627\u062D ",{timeout:4e3,position:"bottom-right",rtl:!0}),F()}).catch(y=>{W.value=!1,b.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function ie(a){var t,n,c;D.get(`/api/editCarContracts?car_id=${a.id}&paid=${(t=a.paids)!=null?t:0}&paid_dinar=${(n=a.paid_dinars)!=null?n:0}&note=${(c=a.notePayment)!=null?c:""}`).then(h=>{Y.value=!1,b.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+a.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),F()}).catch(h=>{Y.value=!1,b.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function ft(a){D.get(`/api/makeCarExit?car_id=${a.id}&created=${a.createdExit}&phone=${a.phoneExit}&note=${a.noteExit}`).then(t=>{Z.value=!1,b.success("\u062A\u0645 \u0627\u0636\u0627\u0641\u0629 \u062E\u0631\u0648\u062C\u064A\u0629 \u0644\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:5e3,position:"bottom-right",rtl:!0}),F()}).catch(t=>{Z.value=!1,b.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function ue(a){D.get(`/api/checkClientBalance?userId=${U.client_id}&currentBalance=${a+H().totalAmount}`).then(t=>{console.log(t),t.status==201&&b.success(" \u062A\u0645 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u062D\u0633\u0627\u0628 \u0628\u0646\u062C\u0627\u062D  "+t.data,{timeout:5e3,position:"bottom-right",rtl:!0})}).catch(t=>{b.error("\u0644\u0645 \u064A\u062A\u0645 \u0627\u0639\u0627\u062F\u0629 \u0641\u062D\u0635 \u0627\u0644\u062D\u0633\u0627\u0628  \u0628\u0646\u062C\u0627\u062D ",{timeout:5e3,position:"bottom-right",rtl:!0})})}function ce(a){D.post("/api/makeDrivingDocument",a).then(t=>{G.value=!1,window.open(`/api/makeDrivingDocumentPdf?doc_id=${t.data.id}`,"_blank")}).catch(t=>{G.value=!1,b.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function vt(){const a=new Date,t=a.getFullYear(),n=String(a.getMonth()+1).padStart(2,"0"),c=String(a.getDate()).padStart(2,"0");return`${t}-${n}-${c}`}function ht(a){return a?a.results==2?P.value:!0:!1}const pe=gt(()=>{if(!at.value||!s.value)return[];try{const a=s.value.data||[],t=s.value.transactions||[],n=[];if(Array.isArray(a))for(let k=0;k<a.length;k++){const y=a[k];n.push({type:"car",data:y,date:new Date(y.created_at||y.date||0),id:`car-${y.id||k}`})}if(nt.value&&Array.isArray(t)){const k=t.filter(y=>y&&y.type==="out"&&Number(y.amount)<0&&y.is_pay===1);for(let y=0;y<k.length;y++){const $=k[y];n.push({type:"payment",data:$,date:new Date($.created_at||$.created||0),id:`payment-${$.id||y}`})}}n.sort((k,y)=>k.date-y.date);let c=0,h=0;const E=[];for(let k=0;k<n.length;k++){const y=n[k];if(y.type==="car"){const $=y.data;if(ht($)){const st=Number($.total_s)||0;c+=st,h+=st}}else if(y.type==="payment"){const $=Number(y.data.amount)||0;c+=$,h+=$}E.push({...y,balance:c,totalSum:h})}return E}catch(a){return console.error("\u274C Error in mergedData:",a),[]}});function me(a){return`/public/uploadsResized/${a}`}function be(a){return`/public/uploads/${a}`}const ot=gt(()=>{var a,t;try{const n=Number(H().totalAmount||0),c=Number(((a=s.value)==null?void 0:a.cars_discount)||0),h=Number(((t=s.value)==null?void 0:t.cars_paid)||0);return n*-1-c-h}catch{return 0}});return Et(P,a=>{nt.value=a}),(a,t)=>(i(),u(L,null,[l(o(_e),{title:"Dashboard"}),l(Ce,null,{header:C(()=>[...t[36]||(t[36]=[e("h2",{class:"font-semibold text-xl dark:text-gray-400 text-gray-800 leading-tight"}," \u0634\u0631\u0643\u0629 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 ",-1)])]),default:C(()=>{var n,c,h,E,k,y,$,mt,st,kt,_t,wt,$t,Dt,Ct;return[l(Pe,{formData:o(g),show:!!o(W),onA:t[0]||(t[0]=r=>ne(r)),onClose:t[1]||(t[1]=r=>_(W)?W.value=!1:W=!1)},{header:C(()=>[...t[37]||(t[37]=[])]),_:1},8,["formData","show"]),l(xt,{show:!!o(X),formData:o(g),onA:t[2]||(t[2]=r=>jt(r)),onClose:t[3]||(t[3]=r=>_(X)?X.value=!1:X=!1)},{header:C(()=>[e("h2",ua," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062F\u0641\u0639 "+d(o(g).car_type)+" \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",1)]),_:1},8,["show","formData"]),l(xt,{show:!!o(tt),formData:o(g),onA:t[4]||(t[4]=r=>qt(r)),onClose:t[5]||(t[5]=r=>_(tt)?tt.value=!1:tt=!1)},{header:C(()=>[e("h2",ca," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0639\u0627\u062F\u0629 \u062F\u0641\u0639\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 "+d(o(g).car_type)+" \u0644\u0644\u0631\u0635\u064A\u062F \u061F ",1)]),_:1},8,["show","formData"]),l(Ie,{formData:o(g),show:!!o(Y),onA:t[6]||(t[6]=r=>ie(r)),onClose:t[7]||(t[7]=r=>_(Y)?Y.value=!1:Y=!1)},{header:C(()=>[...t[38]||(t[38]=[])]),_:1},8,["formData","show"]),l(Fe,{formData:o(g),show:!!o(Z),onA:t[8]||(t[8]=r=>ft(r)),onClose:t[9]||(t[9]=r=>_(Z)?Z.value=!1:Z=!1)},{header:C(()=>[...t[39]||(t[39]=[])]),_:1},8,["formData","show"]),l(Te,{formData:o(g),show:!!o(it),onA:t[10]||(t[10]=r=>ft(r)),onClose:t[11]||(t[11]=r=>_(it)?it.value=!1:it=!1)},{header:C(()=>[...t[40]||(t[40]=[])]),_:1},8,["formData","show"]),l(sa,{formDriving:o(T),show:!!o(G),onA:t[12]||(t[12]=r=>ce(r)),onClose:t[13]||(t[13]=r=>_(G)?G.value=!1:G=!1)},{header:C(()=>[...t[41]||(t[41]=[])]),_:1},8,["formDriving","show"]),l(Se,{formData:o(g),show:!!o(K),client:m.clients,onA:t[14]||(t[14]=r=>Yt(r)),onClose:t[15]||(t[15]=r=>_(K)?K.value=!1:K=!1)},{header:C(()=>[...t[42]||(t[42]=[])]),_:1},8,["formData","show","client"]),l(Me,{formData:o(g),show:!!o(z),onA:t[16]||(t[16]=r=>Zt(r)),onClose:t[17]||(t[17]=r=>_(z)?z.value=!1:z=!1)},{header:C(()=>[...t[43]||(t[43]=[])]),_:1},8,["formData","show"]),l(xt,{show:!!o(Q),formData:o(g),onA:t[18]||(t[18]=r=>Wt(r)),onClose:t[19]||(t[19]=r=>_(Q)?Q.value=!1:Q=!1)},{header:C(()=>[...t[44]||(t[44]=[e("h2",{class:"mb-5 dark:text-gray-400 text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1)])]),_:1},8,["show","formData"]),l(Ne,{show:!!o(V),data:o(V).toString(),onA:t[20]||(t[20]=r=>Rt(r,a.arg1)),onClose:t[21]||(t[21]=r=>_(V)?V.value=!1:V=!1)},null,8,["show","data"]),a.$page.props.success?(i(),u("div",pa,[e("div",ma,[e("div",ba,d(a.$page.props.success),1)])])):f("",!0),a.$page.props.auth.user.type_id==1||a.$page.props.auth.user.type_id==6?(i(),u("div",ga,[e("h2",ya,d(a.$t("sales_bill")),1),e("div",xa,[e("div",fa,[e("div",va,[e("div",ha,[l(v,{class:"mb-1",for:"invoice_number",value:a.$t("Account")},null,8,["value"]),B(e("select",{onChange:t[22]||(t[22]=r=>F()),"onUpdate:modelValue":t[23]||(t[23]=r=>_(N)?N.value=r:N=r),id:"default",class:"pr-8 border border-gray-300 text-gray-900 mb-6 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:border-gray-400 dark:placeholder-gray-400 dark:text-gray-600 dark:focus:ring-red-500 dark:focus:border-red-500"},[e("option",ka,d(a.$t("selectCustomer")),1),(i(!0),u(L,null,ut(m.clients,(r,bt)=>(i(),u(L,{key:bt},[r.wallet.balance>0||r.id==o(N)?(i(),u("option",{key:0,value:r.id},d(r.name),9,_a)):f("",!0)],64))),128))],544),[[we,o(N)]])]),e("div",null,[e("div",wa,[l(v,{for:"filters",value:"\u062E\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0639\u0631\u0636",class:"mb-2"}),e("div",$a,[e("div",Da,[t[46]||(t[46]=e("label",{for:"switch-completed",class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," \u{1F697} \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u0643\u062A\u0645\u0644\u0629 ",-1)),e("label",Ca,[e("input",{type:"checkbox",id:"switch-completed",onChange:t[24]||(t[24]=r=>_(P)?P.value=!o(P):P=!o(P)),checked:!o(P),class:"sr-only peer"},null,40,Na),t[45]||(t[45]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])])])]),e("div",Aa,[e("div",Sa,[l(v,{for:"from",value:a.$t("from_date")},null,8,["value"]),l(w,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:o(S),"onUpdate:modelValue":t[25]||(t[25]=r=>_(S)?S.value=r:S=r)},null,8,["modelValue"])])]),e("div",Ma,[e("div",Pa,[l(v,{for:"to",value:a.$t("to_date")},null,8,["value"]),l(w,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:o(M),"onUpdate:modelValue":t[26]||(t[26]=r=>_(M)?M.value=r:M=r)},null,8,["modelValue"])])]),e("div",Ia,[l(v,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),e("button",{onClick:t[27]||(t[27]=et(r=>o(rt)(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},[...t[47]||(t[47]=[e("span",null,"\u0641\u0644\u062A\u0631\u0629",-1)])])]),e("div",Fa,[l(v,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),e("a",{href:`/api/getIndexAccountsSelas?user_id=${o(N)}&from=${o(S)}&to=${o(M)}&print=1&showComplatedCars=${o(P)?0:1}`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-orange-500 rounded block text-center",style:{width:"100%"}},[...t[48]||(t[48]=[e("span",null,"\u0637\u0628\u0627\u0639\u0629",-1)])],8,Ta)]),e("div",Ea,[l(v,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),e("a",{href:`/api/getIndexAccountsSelas?user_id=${o(N)}&from=${o(S)}&to=${o(M)}&print=1&printExcel=1&showComplatedCars=${o(P)?0:1}`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded block text-center",style:{width:"100%"}},[...t[49]||(t[49]=[e("span",null,"Excel",-1)])],8,Ba)]),e("div",Ua,[l(v,{for:"car_total",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A"}),l(w,{id:"car_total",type:"text",class:"mt-1 block w-full",value:o(s).car_total,disabled:""},null,8,["value"])]),e("div",Va,[l(v,{for:"cars_sum",value:a.$t("Total_in_dollars")+" \u062C\u0645\u0631\u0643 "},null,8,["value"]),l(w,{id:"cars_sum",type:"text",class:"mt-1 block w-full",value:(n=o(s))==null?void 0:n.cars_sum,disabled:""},null,8,["value"])]),e("div",ja,[l(v,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u062F\u0641\u0648\u0639  \u062C\u0645\u0631\u0643 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(w,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:parseFloat((c=o(s))==null?void 0:c.cars_sum)-(parseFloat((k=(E=(h=o(s))==null?void 0:h.client)==null?void 0:E.wallet)==null?void 0:k.balance)+parseFloat((y=o(s))==null?void 0:y.cars_discount)),disabled:""},null,8,["value"])]),e("div",qa,[l(v,{for:"cars_discount",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A  \u062C\u0645\u0631\u0643 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(w,{id:"cars_discount",type:"text",class:"mt-1 block w-full",value:($=o(s))==null?void 0:$.cars_discount,disabled:""},null,8,["value"])]),e("div",Ha,[l(v,{for:"cars_need_paid",value:"  \u0627\u0644\u0631\u0635\u064A\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(w,{id:"cars_need_paid",type:"number",class:"mt-1 block w-full",value:H().totalAmount*-1-((mt=o(s))==null?void 0:mt.cars_sum),disabled:""},null,8,["value"])]),H().totalAmount*-1-((st=o(s))==null?void 0:st.cars_sum)!=0?(i(),u("div",Ra,[l(v,{for:"pay",value:"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629"}),o(j)?f("",!0):(i(),u("button",{key:0,onClick:t[28]||(t[28]=et(r=>Kt(),["prevent"])),disabled:o(x),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},[...t[50]||(t[50]=[e("span",null,"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629",-1)])],8,La)),o(j)?(i(),u("button",{key:1,onClick:t[29]||(t[29]=et(r=>Qt(),["prevent"])),disabled:o(x),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},[...t[51]||(t[51]=[e("span",null,"\u0627\u062E\u0641\u0627\u0621 \u062F\u0641\u0639\u0629",-1)])],8,za)):f("",!0)])):f("",!0),e("div",Oa,[l(v,{for:"pay",value:"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A"}),o(O)?f("",!0):(i(),u("button",{key:0,onClick:t[30]||(t[30]=et(r=>Xt(),["prevent"])),disabled:o(x),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-purple-500 rounded",style:{width:"100%"}},[...t[52]||(t[52]=[e("span",null,"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1)])],8,Wa)),o(O)?(i(),u("button",{key:1,onClick:t[31]||(t[31]=et(r=>te(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},[...t[53]||(t[53]=[e("span",null,"\u0627\u062E\u0641\u0627\u0621 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1)])])):f("",!0)]),ot.value!=0?(i(),u("div",Ya,[l(v,{for:"cars_need_paid",value:"\u0627\u0644\u0631\u0635\u064A\u062F \u063A\u064A\u0631 \u0645\u0648\u0632\u0639 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(w,{id:"cars_need_paid",type:"number",class:"mt-1 block w-full",value:ot.value},null,8,["value"])])):f("",!0),e("div",Za,[l(v,{for:"contract_total",value:"\u0627\u0644\u0639\u0642\u0648\u062F \u0627\u0644\u0645\u0646\u062C\u0632\u0629"}),l(w,{id:"contract_total",type:"text",class:"mt-1 block w-full",value:o(s).contract_total,disabled:""},null,8,["value"])]),e("div",Ga,[l(v,{for:"exit_car_total",value:"\u0627\u0644\u062E\u0631\u0648\u062C\u064A\u0627\u062A \u0627\u0644\u0645\u0646\u062C\u0632\u0629"}),l(w,{id:"exit_car_total",type:"text",class:"mt-1 block w-full",value:o(s).exit_car_total,disabled:""},null,8,["value"])]),e("div",Ja,[l(v,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u064A\u0646 \u0639\u0642\u0648\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(w,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:(kt=o(s))==null?void 0:kt.contract_total_debit_Dollar,disabled:""},null,8,["value"])]),e("div",Ka,[l(v,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u064A\u0646 \u0639\u0642\u0648\u062F \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631"}),l(w,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:(_t=o(s))==null?void 0:_t.contract_total_debit_Dinar,disabled:""},null,8,["value"])])]),o(j)?(i(),u("div",Qa,[e("div",Xa,[l(v,{for:"discount",value:"\u0627\u0644\u062E\u0635\u0645"}),l(w,{id:"discount",type:"number",onInput:de,class:"mt-1 block w-full",modelValue:o(q),"onUpdate:modelValue":t[32]||(t[32]=r=>_(q)?q.value=r:q=r)},null,8,["modelValue"])]),e("div",tr,[l(v,{for:"percentage",value:" \u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0645\u0631\u0627\u062F \u062F\u0641\u0639\u0647"}),l(w,{id:"percentage",type:"number",onInput:le,class:"mt-1 block w-full",modelValue:o(I),"onUpdate:modelValue":t[33]||(t[33]=r=>_(I)?I.value=r:I=r)},null,8,["modelValue"])]),e("div",er,[l(v,{for:"discount",value:"\u0645\u0644\u0627\u062D\u0638\u0629"}),l(w,{id:"discount",type:"text",class:"mt-1 block w-full",modelValue:o(J),"onUpdate:modelValue":t[34]||(t[34]=r=>_(J)?J.value=r:J=r)},null,8,["modelValue"])]),e("div",ar,[l(v,{for:"pay",value:"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062F\u0641\u0639"}),e("button",{onClick:t[35]||(t[35]=et(r=>Gt(o(I),o(N),o(q),o(J)),["prevent"])),disabled:o(x),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},[o(pt)?(i(),u("span",or,"\u064A\u0631\u062C\u0649 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u0645\u0628\u0644\u063A \u0644")):f("",!0),o(x)?(i(),u("span",dr,"\u062C\u0627\u0631\u064A \u0627\u0644\u0637\u0628\u0627\u0639\u0629...")):(i(),u("span",sr,"\u062F\u0641\u0639"))],8,rr)])])):f("",!0),o(O)?(i(),u("div",lr,[e("table",nr,[e("thead",ir,[e("tr",ur,[t[54]||(t[54]=e("th",{className:"px-1 py-2 text-base"},"#",-1)),t[55]||(t[55]=e("th",{className:"px-1 py-2 text-base"},"no",-1)),e("th",cr,d(a.$t("date")),1),e("th",pr,d(a.$t("description")),1),e("th",mr,d(a.$t("amount")),1),e("th",br,d(a.$t("execute")),1)])]),e("tbody",null,[e("tr",gr,[t[57]||(t[57]=e("td",null,null,-1)),t[58]||(t[58]=e("td",null,null,-1)),t[59]||(t[59]=e("td",null,null,-1)),t[60]||(t[60]=e("td",null,null,-1)),e("td",yr,[e("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${o(s).client.id}&from=${o(S)}&to=${o(M)}&print=4`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-blue-500 rounded"},[t[56]||(t[56]=dt(" \u062C\u0645\u064A\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A ",-1)),l(ct)],8,xr)])]),(i(!0),u(L,null,ut(((wt=o(s))==null?void 0:wt.transactions)||[],r=>(i(),u(L,{key:r.id},[r.type=="out"&&r.amount<0&&r.is_pay==1?(i(),u("tr",fr,[e("td",vr,d(_(lt)?lt.value++:lt++),1),e("td",hr,d(r.id),1),e("td",kr,d(r.created),1),e("td",_r,d(r.description),1),e("td",wr,d(r.amount*-1),1),e("td",$r,[r.type=="out"&&r.amount<0?(i(),u("a",{key:0,target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${o(s).client.id}&from=${o(S)}&to=${o(M)}&print=2&transactions_id=${r.id}`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-green-500 rounded"},[l(ct)],8,Dr)):f("",!0)])])):f("",!0)],64))),128)),e("tr",Cr,[t[61]||(t[61]=e("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A",-1)),e("td",null,d(($t=o(s))==null?void 0:$t.cars_discount),1),t[62]||(t[62]=e("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1)),e("td",Nr,d(H().totalAmount*-1),1),e("td",null,"\u0627\u0644\u0646\u062A\u0627\u062A\u062C : "+d(H().totalAmount*-1-parseInt((Dt=o(s))==null?void 0:Dt.cars_discount)),1)])])])])):f("",!0),e("div",null,[o(at)?(i(),u("div",Sr,[e("table",Mr,[e("thead",Pr,[e("tr",Ir,[e("th",Fr,d(a.$t("no")),1),e("th",Tr,d(a.$t("car_type")),1),e("th",Er,d(a.$t("year")),1),e("th",Br,d(a.$t("color")),1),e("th",Ur,d(a.$t("vin")),1),e("th",Vr,d(a.$t("car_number")),1),e("th",jr,d(a.$t("dinar")),1),e("th",qr,d(a.$t("dolar_price")),1),e("th",Hr,d(a.$t("dolar_custom")),1),e("th",Rr,d(a.$t("note")),1),t[64]||(t[64]=e("th",{scope:"col",class:"px-1 py-2 text-base print:hidden"}," \u062C\u0645\u0631\u0643 \u0645\u0646\u0641\u0633\u062A ",-1)),t[65]||(t[65]=e("th",{scope:"col",class:"px-1 py-2 text-base print:hidden"}," \u062E\u0635\u0645 \u0645\u0628\u0627\u0634\u0631 ",-1)),e("th",Lr,d(a.$t("shipping_dolar")),1),e("th",zr,d(a.$t("coc_dolar")),1),e("th",Or,d(a.$t("checkout")),1),e("th",Wr,d(a.$t("expenses")),1),t[66]||(t[66]=e("th",{scope:"col",class:"px-1 py-2 text-base"}," \u0646\u0642\u0644 \u0628\u0631\u064A ",-1)),e("th",Yr,d(a.$t("total")),1),e("th",Zr,d(a.$t("paid")),1),e("th",Gr,d(a.$t("discount")),1),t[67]||(t[67]=e("th",{scope:"col",class:"px-1 py-2 text-base bg-gradient-to-r from-blue-500 to-indigo-500 text-white dark:from-blue-600 dark:to-indigo-600"}," \u0627\u0644\u0631\u0635\u064A\u062F ",-1)),e("th",Jr,d(a.$t("date")),1),e("th",Kr,d(a.$t("execute")),1),t[68]||(t[68]=e("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"100px"}}," \u062A\u062E\u0632\u064A\u0646 ",-1)),t[69]||(t[69]=e("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"120px"}}," \u0627\u0644\u0631\u0635\u064A\u062F ",-1))])]),e("tbody",null,[(i(!0),u(L,null,ut(pe.value,(r,bt)=>{var Nt,At,St,Mt,Pt,It,Ft,Tt;return i(),u(L,{key:r.id},[r.type==="car"?B((i(),u("tr",{key:0,class:yt([{"bg-red-100 dark:bg-red-900":r.data.results==0,"bg-red-100 dark:bg-red-900":r.data.results==1,"bg-green-100 dark:bg-green-900":r.data.results==2,"bg-yellow-100 dark:bg-yellow-900":U.q&&(r.data.vin.startsWith(U.q)||(r.data.car_number?r.data.car_number.toString().startsWith(U.q):!1))},"border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[e("td",Qr,d(bt+1),1),e("td",Xr,d(r.data.car_type),1),e("td",to,d(r.data.year),1),e("td",eo,d(r.data.car_color),1),e("td",ao,d(r.data.vin),1),e("td",ro,d(r.data.car_number),1),e("td",oo,d(r.data.dinar_s),1),e("td",so,d(r.data.dolar_price_s),1),e("td",lo,d((r.data.dinar_s/r.data.dolar_price_s*100).toFixed(0)||0),1),e("td",no,d(r.data.note),1),e("td",io,d((r.data.dinar_s/13e4*100).toFixed(0)||0),1),e("td",uo,d(((r.data.dinar_s/13e4*100).toFixed(0)||0)-((r.data.dinar_s/r.data.dolar_price_s*100).toFixed(0)||0)),1),e("td",co,d(r.data.shipping_dolar_s),1),e("td",po,d(r.data.coc_dolar_s),1),e("td",mo,d(r.data.checkout_s),1),e("td",bo,d(r.data.expenses_s),1),e("td",go,d(r.data.land_shipping_s),1),e("td",yo,d(r.data.total_s.toFixed(0)),1),e("td",xo,d(r.data.paid),1),e("td",fo,d(r.data.discount),1),e("td",{className:"border dark:border-gray-800 text-center px-2 py-1 font-bold",class:yt({"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":r.totalSum>0,"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":r.totalSum<=0})},d(((Nt=r.totalSum)==null?void 0:Nt.toFixed(0))||0),3),e("td",vo,d(r.data.date),1),e("td",ho,[e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-slate-500 rounded",onClick:A=>zt(r.data)},[l(Ue)],8,ko),e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-orange-500 rounded",onClick:A=>Lt(r.data)},[l(Be)],8,_o),r.data.total_s!=r.data.paid+r.data.discount?(i(),u("button",{key:0,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:A=>Ot(r.data)},[l(Bt)],8,wo)):f("",!0),((At=r.data.contract)==null?void 0:At.price)!=((St=r.data.contract)==null?void 0:St.paid)||((Mt=r.data.contract)==null?void 0:Mt.price_dinar)!=((Pt=r.data.contract)==null?void 0:Pt.paid_dinar)?(i(),u("button",{key:1,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-pink-500 rounded",onClick:A=>ae(r.data)},[l(Bt)],8,$o)):f("",!0),r.data.contract?f("",!0):(i(),u("button",{key:2,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-yellow-500 rounded",onClick:A=>ee(r.data)},[l(je)],8,Do)),r.data.is_exit?f("",!0):(i(),u("button",{key:3,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-red-500 rounded",onClick:A=>re(r.data)},[l(Ee)],8,Co)),r.data.is_exit?(i(),u("button",{key:4,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-blue-500 rounded",onClick:A=>oe(r.data)},[l(Ve)],8,No)):f("",!0),e("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-violet-500 rounded",onClick:A=>se(r.data)},[l(ia)],8,Ao),e("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${o(s).client.id}&print=6&car_id=${r.data.id}`,tabIndex:"1",class:"px-1 py-1 text-white m-1 bg-gray-900 rounded"},[l(ct,{class:"inline-flex"})],8,So)]),e("td",Mo,[(i(!0),u(L,null,ut(r.data.car_images,(A,ge)=>(i(),u("a",{key:ge,href:be(A.name),style:{cursor:"pointer"},target:"_blank"},[e("img",{src:me(A.name),alt:"",class:"px-1",style:{"max-width":"80px","max-height":"50px",display:"inline"}},null,8,Io)],8,Po))),128))]),e("td",Fo,[ot.value!=0?(i(),u("button",{key:0,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:A=>Ut(r.data)}," \u062F\u0641\u0639 \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",8,To)):f("",!0),H().totalAmount*-1-((It=o(s))==null?void 0:It.cars_discount)-((Ft=o(s))==null?void 0:Ft.cars_sum)!=0&&r.data.paid?(i(),u("button",{key:1,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 mt-1 text-white mx-1 bg-red-500 rounded",onClick:A=>Vt(r.data)}," \u0627\u0639\u0627\u062F\u0629 \u0644\u0644\u0631\u0635\u064A\u062F ",8,Eo)):f("",!0)])],2)),[[$e,ht(r.data)]]):f("",!0),r.type==="payment"?(i(),u("tr",Bo,[t[71]||(t[71]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-2 font-bold text-purple-800 dark:text-purple-200"}," \u{1F4B3} ",-1)),e("td",Uo,[e("span",Vo,d(r.data.description),1)]),t[72]||(t[72]=e("td",{colspan:"2",className:"border dark:border-gray-800 text-center px-2 py-2"},null,-1)),t[73]||(t[73]=e("td",{colspan:"4",className:"border dark:border-gray-800 text-center px-2 py-2 print:hidden"},null,-1)),t[74]||(t[74]=e("td",{colspan:"5",className:"border dark:border-gray-800 text-center px-2 py-2"},null,-1)),e("td",jo,[t[70]||(t[70]=e("span",{class:"text-red-600 dark:text-red-400"},"\u2B07\uFE0F -",-1)),dt(" "+d((r.data.amount*-1).toFixed(0)),1)]),t[75]||(t[75]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-2 bg-red-50 dark:bg-red-900/20"},null,-1)),t[76]||(t[76]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-2 bg-red-50 dark:bg-red-900/20"},null,-1)),e("td",{className:"border dark:border-gray-800 text-center px-2 py-2 font-bold text-base",class:yt({"bg-purple-600 text-white dark:bg-purple-700":r.totalSum>0,"bg-green-600 text-white dark:bg-green-700":r.totalSum<=0})},d(((Tt=r.totalSum)==null?void 0:Tt.toFixed(0))||0),3),e("td",qo,d(r.data.created),1),e("td",Ho,[e("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${o(s).client.id}&print=2&transactions_id=${r.data.id}`,tabIndex:"1",class:"px-2 py-1 text-white bg-purple-600 rounded hover:bg-purple-700"},[l(ct,{class:"inline-flex"})],8,Ro)]),t[77]||(t[77]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-2 print:hidden"},null,-1)),t[78]||(t[78]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-2 print:hidden"},null,-1))])):f("",!0)],64)}),128)),!o(nt)&&ot.value!=0?(i(),u("tr",Lo,[t[79]||(t[79]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-3 font-bold"},null,-1)),t[80]||(t[80]=e("td",{colspan:"16",className:"border dark:border-gray-800 text-start px-4 py-3"},[e("span",{class:"text-xl font-bold text-amber-800 dark:text-amber-200"},"\u{1F4B0} \u0627\u0644\u0631\u0635\u064A\u062F \u063A\u064A\u0631 \u0627\u0644\u0645\u0648\u0632\u0639 \u0639\u0644\u0649 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A:")],-1)),t[81]||(t[81]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-3"},null,-1)),t[82]||(t[82]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-3"},null,-1)),t[83]||(t[83]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-3"},null,-1)),e("td",zo,d(ot.value.toFixed(0)),1),t[84]||(t[84]=e("td",{className:"border dark:border-gray-800 text-center px-2 py-3"},null,-1)),t[85]||(t[85]=e("td",{colspan:"3",className:"border dark:border-gray-800 text-center px-2 py-3 print:hidden"},null,-1))])):f("",!0)])])])):(i(),u("div",Ar,[...t[63]||(t[63]=[e("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"},null,-1),e("p",{class:"mt-4 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...",-1)])]))]),e("div",Oo,[l(o(Ae),{data:o(s),onPaginationChangePage:o(rt),limit:2},null,8,["data","onPaginationChangePage"])])])])])):f("",!0),e("div",Wo,[e("div",Yo,[e("div",Zo,[t[86]||(t[86]=dt(" \u062A\u0648\u0642\u064A\u0639 \u0635\u0627\u062D\u0628 \u0627\u0644\u062D\u0633\u0627\u0628 ",-1)),t[87]||(t[87]=e("br",null,null,-1)),dt(" "+d((Ct=o(s).client)==null?void 0:Ct.name),1)]),t[88]||(t[88]=e("div",{class:"basis-1/2 text-center"},"\u062A\u0648\u0642\u064A\u0639 \u0642\u0633\u0645 \u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1)),t[89]||(t[89]=e("div",{class:"basis-1/2 text-end"},"\u062A\u0648\u0642\u064A\u0639 \u0627\u0644\u0645\u062F\u064A\u0631",-1))])])]}),_:1})],64))}};export{fs as default};
