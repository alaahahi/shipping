import{u as Y,r as y,m as G,l as A,o as d,c as J,w as K,a as n,b as t,d as W,n as p,t as s,q as w,e as i,k as X,F as U,h as V,i as b,v as g,g as Z,T as ee}from"./app.d50bacd7.js";import{a as N}from"./index.21a4cadb.js";import{U as te}from"./Uploader.40cd4d40.js";/* empty css                                                       */const ae={key:0,class:"modal-mask"},re={class:"modal-wrapper max-h-[80vh]"},oe={class:"modal-container dark:bg-gray-900 overflow-auto max-h-[80vh]"},se={class:"modal-header"},de={class:"text-center dark:text-gray-200"},ne={class:"border-b border-gray-200 dark:border-gray-700 mb-4"},le={class:"flex space-x-8",style:{direction:"rtl"}},ie={key:0,class:"modal-body"},ge={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},ue={class:"mb-4 mx-1"},ce={class:"dark:text-gray-200",for:"color_id"},me={class:"relative"},be={selected:"",disabled:""},ye=["value"],fe={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-1 lg:gap-2"},xe={className:"mb-4 mx-1"},pe={class:"dark:text-gray-200",for:"pin"},ke={className:"mb-4 mx-1"},ve={class:"dark:text-gray-200",for:"pin"},he={className:"mb-4 mx-1"},_e={class:"dark:text-gray-200",for:"pin"},we={className:"mb-4 mx-1"},De={class:"dark:text-gray-200",for:"pin"},$e={key:0,class:"text-red-700"},Ce={className:"mb-4 mx-1"},Ue={class:"dark:text-gray-200",for:"car_number"},Ve={className:"mb-4 mx-1"},Ne={class:"dark:text-gray-200",for:"expenses"},Re={className:"mb-4 mx-1"},Me={class:"dark:text-gray-200",for:"dinar_s"},Fe={className:"mb-4 mx-1"},Te={class:"dark:text-gray-200",for:"dolar_price_s"},Ee={key:0,class:"text-red-500"},je={className:"mb-4 mx-1"},Ae={class:"dark:text-gray-200",for:"shipping_dolar_s"},Se={className:"mb-4 mx-1"},Ie={class:"dark:text-gray-200",for:"coc_dolar_s"},Le={className:"mb-4 mx-1"},Be={class:"dark:text-gray-200",for:"checkout_s"},Oe={className:"mb-4 mx-1"},He={className:"mb-4 mx-1"},ze={class:"dark:text-gray-200",for:"date"},Pe={className:"mb-4 mx-1"},qe={class:"dark:text-gray-200",for:"note"},Qe={key:1,class:"modal-body"},Ye={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ge={class:"mb-4"},Je={class:"mb-4"},Ke={class:"mb-4"},We={class:"mb-4"},Xe={class:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg mt-4"},Ze={class:"flex items-center justify-between"},et={class:"text-3xl font-bold text-green-600 dark:text-green-400"},tt={class:"mt-6"},at=["disabled"],rt={class:"text-xs text-gray-500 dark:text-gray-400 text-center mt-2"},ot={key:2,class:"modal-body"},st={class:"max-h-[60vh] overflow-y-auto"},dt={key:0,class:"text-center py-8"},nt={key:1,class:"text-center py-8"},lt={key:2,class:"space-y-4"},it={class:"flex items-start justify-between"},gt={class:"flex-1"},ut={class:"flex items-center gap-2 mb-2"},ct={class:"text-2xl"},mt={class:"font-semibold text-gray-900 dark:text-gray-100"},bt={class:"text-xs px-2 py-1 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300"},yt={class:"text-sm text-gray-700 dark:text-gray-300 mb-2"},ft={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},xt={key:1,class:"mt-3 p-3 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 text-xs"},pt={class:"space-y-2"},kt={class:"font-medium text-gray-700 dark:text-gray-300 min-w-[120px]"},vt={class:"flex items-center gap-2 flex-1"},ht={class:"text-red-600 dark:text-red-400 line-through bg-red-50 dark:bg-red-900/20 px-2 py-0.5 rounded text-xs font-medium"},_t={class:"text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/20 px-2 py-0.5 rounded text-xs font-medium"},wt={key:0,class:"flex justify-center items-center gap-2 mt-4"},Dt=["disabled"],$t={class:"text-sm text-gray-600 dark:text-gray-400"},Ct=["disabled"],Ut={key:3,class:"modal-footer my-2"},Vt={class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 lg:gap-2"},Nt={class:"mb-4"},Rt={class:"mt-3"},Mt={key:0,class:"text-danger"},Ft={class:"flex flex-row"},Tt={class:"basis-1/2 px-4"},Et={class:"basis-1/2 px-4"},jt=["disabled"],At={key:4,class:"modal-footer my-2"},St={class:"flex flex-row"},It={class:"basis-full px-4"},zt={__name:"ModalEditCar_S",props:{show:Boolean,formData:Object,client:Array,systemConfig:Object},setup(o){const R=Y(),u=o,c=y({fee:0,expenses:0,companyContract:2e5,exchangeRate:0,totalUSD:0}),x=G(()=>{const a=parseFloat(c.value.fee||0)+parseFloat(c.value.expenses||0)+parseFloat(c.value.companyContract||0),e=parseFloat(c.value.exchangeRate||1);if(e>0){const l=a/(e/100);return Math.round(l)}return 0});function S(){const a=x.value;if(a>0){u.formData.expenses=Math.round(parseFloat(u.formData.expenses||0)+a),u.formData.expenses_s=Math.round(parseFloat(u.formData.expenses_s||0)+a);const e=`+ \u0631\u0633\u0648\u0645 \u062A\u0633\u062C\u064A\u0644 \u0648\u0645\u0635\u0627\u0631\u064A\u0641 ${a}$`;u.formData.note?u.formData.note+=" "+e:u.formData.note=e,c.value={fee:0,expenses:0,companyContract:2e5,exchangeRate:c.value.exchangeRate,totalUSD:0},m.value="edit",alert("\u2705 \u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0631\u0633\u0648\u0645 \u0627\u0644\u062A\u0633\u062C\u064A\u0644 \u0628\u0646\u062C\u0627\u062D!")}}function I(){const a=new Date,e=a.getFullYear(),l=String(a.getMonth()+1).padStart(2,"0"),_=String(a.getDate()).padStart(2,"0");return`${e}-${l}-${_}`}function L(a){a&&N.get(`/api/check_vin?car_vin=${a}`).then(e=>{M.value=e.data}).catch(e=>{console.error(e)})}let B=y(!1),M=y(!1),D=y(!1);const m=y("edit"),k=y([]),$=y(!1),f=y(1),v=y(1);function O(a){const e=u.formData.dolar_price_s;/^\d{6}$/.test(e)?D.value=!1:D.value=!0}function H(a){N.get("/api/carsAnnualImageDel?img_type=contract&name="+a.name).then(e=>{R.success("\u062A\u0645  \u062D\u0630\u0641 \u0627\u0644\u0635\u0648\u0631\u0629 \u0628\u0646\u062C\u0627\u062D",{timeout:5e3,position:"bottom-right",rtl:!0})}).catch(e=>{console.error(e)})}async function h(a=1){var e;if(!!((e=u.formData)!=null&&e.id)){$.value=!0;try{const l=await N.get(`/api/car/${u.formData.id}/history`,{params:{page:a}});k.value=l.data.data||[],f.value=l.data.current_page||1,v.value=l.data.last_page||1}catch(l){console.error("Error loading car history:",l),R.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u0645\u064A\u0644 \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0633\u064A\u0627\u0631\u0629",{timeout:3e3,position:"bottom-right",rtl:!0})}finally{$.value=!1}}}function z(a){return{create:"\u2795",update:"\u270F\uFE0F",delete:"\u{1F5D1}\uFE0F",restore:"\u267B\uFE0F",sale:"\u{1F4B0}",purchase:"\u{1F6D2}"}[a]||"\u{1F4DD}"}function P(a){return{create:"\u0625\u0636\u0627\u0641\u0629",update:"\u062A\u062D\u062F\u064A\u062B",delete:"\u062D\u0630\u0641",restore:"\u0627\u0633\u062A\u0639\u0627\u062F\u0629",sale:"\u0628\u064A\u0639",purchase:"\u0634\u0631\u0627\u0621"}[a]||a}function q(a){if(!a||a==="null"||a===null)return"";try{const e=new Date(a);return isNaN(e.getTime())?a:e.toLocaleString("ar-IQ",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Error formatting date:",e),a}}function F(a){if(!a)return{};const e={};return Object.keys(a).forEach(l=>{l!=="created_at"&&l!=="updated_at"&&(e[l]=a[l])}),e}function Q(a){return{dinar:"\u062F\u064A\u0646\u0627\u0631",dolar_price:"\u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641",dolar_custom:"\u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641 \u0645\u062E\u0635\u0635",checkout:"\u062A\u062E\u0644\u064A\u0635",shipping_dolar:"\u0646\u0642\u0644 \u0645\u0634\u062A\u0631\u064A\u0627\u062A",coc_dolar:"\u0634\u0647\u0627\u062F\u0629 \u0627\u0644\u0645\u0646\u0634\u0623",total:"\u0627\u0644\u0645\u062C\u0645\u0648\u0639",paid:"\u0627\u0644\u0645\u062F\u0641\u0648\u0639",profit:"\u0627\u0644\u0631\u0628\u062D",expenses:"\u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A",land_shipping:"\u0646\u0642\u0644 \u0628\u0631\u064A \u0645\u0634\u062A\u0631\u064A\u0627\u062A",land_shipping_dinar:"\u0646\u0642\u0644 \u0628\u0631\u064A \u062F\u064A\u0646\u0627\u0631 \u0645\u0634\u062A\u0631\u064A\u0627\u062A",dinar_s:"\u062F\u064A\u0646\u0627\u0631 \u0645\u0628\u064A\u0639\u0627\u062A",dolar_price_s:"\u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641 \u0645\u0628\u064A\u0639\u0627\u062A",dolar_custom_s:"\u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641 \u0645\u062E\u0635\u0635 \u0645\u0628\u064A\u0639\u0627\u062A",checkout_s:"\u062A\u062E\u0644\u064A\u0635 \u0645\u0628\u064A\u0639\u0627\u062A",shipping_dolar_s:"\u0646\u0642\u0644 \u0645\u0628\u064A\u0639\u0627\u062A",coc_dolar_s:"\u0634\u0647\u0627\u062F\u0629 \u0627\u0644\u0645\u0646\u0634\u0623 \u0645\u0628\u064A\u0639\u0627\u062A",total_s:"\u0627\u0644\u0645\u062C\u0645\u0648\u0639 \u0645\u0628\u064A\u0639\u0627\u062A",expenses_s:"\u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A \u0645\u0628\u064A\u0639\u0627\u062A",land_shipping_s:"\u0646\u0642\u0644 \u0628\u0631\u064A \u0645\u0628\u064A\u0639\u0627\u062A",land_shipping_dinar_s:"\u0646\u0642\u0644 \u0628\u0631\u064A \u062F\u064A\u0646\u0627\u0631 \u0645\u0628\u064A\u0639\u0627\u062A",car_type:"\u0646\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0629",year:"\u0627\u0644\u0633\u0646\u0629",car_color:"\u0627\u0644\u0644\u0648\u0646",vin:"\u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0635\u064A",car_number:"\u0631\u0642\u0645 \u0627\u0644\u0633\u064A\u0627\u0631\u0629",date:"\u0627\u0644\u062A\u0627\u0631\u064A\u062E",note:"\u0645\u0644\u0627\u062D\u0638\u0629",client_id:"\u0627\u0644\u0632\u0628\u0648\u0646",discount:"\u0627\u0644\u062E\u0635\u0645",car_price:"\u0633\u0639\u0631 \u0627\u0644\u0633\u064A\u0627\u0631\u0629"}[a]||a}return A(()=>u.show,a=>{var e,l;a&&((e=u.formData)==null?void 0:e.id)&&(m.value==="history"&&h(),(l=u.systemConfig)!=null&&l.usd_to_aed_rate&&(c.value.exchangeRate=u.systemConfig.usd_to_aed_rate))}),A(()=>m.value,a=>{var e;a==="history"&&((e=u.formData)==null?void 0:e.id)&&k.value.length===0&&h()}),(a,e)=>(d(),J(ee,{name:"modal"},{default:K(()=>{var l,_,T;return[o.show?(d(),n("div",ae,[t("div",re,[t("div",oe,[t("div",se,[W(a.$slots,"header",{},()=>[t("h2",de,s(a.$t("edit_car")),1)])]),t("div",ne,[t("div",le,[t("button",{onClick:e[0]||(e[0]=r=>m.value="edit"),class:p(["py-2 px-4 text-sm font-medium border-b-2 transition-colors",m.value==="edit"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"])}," \u270F\uFE0F \u062A\u0639\u062F\u064A\u0644 ",2),t("button",{onClick:e[1]||(e[1]=r=>m.value="registration"),class:p(["py-2 px-4 text-sm font-medium border-b-2 transition-colors",m.value==="registration"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"])}," \u{1F4DD} \u062A\u0633\u062C\u064A\u0644 ",2),t("button",{onClick:e[2]||(e[2]=r=>m.value="history"),class:p(["py-2 px-4 text-sm font-medium border-b-2 transition-colors",m.value==="history"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"])}," \u{1F4DC} \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0633\u064A\u0627\u0631\u0629 ",2)])]),m.value==="edit"?(d(),n("div",ie,[t("div",ge,[t("div",ue,[t("label",ce,s(a.$t("car_owner")),1),t("div",me,[w(B)?b("",!0):i((d(),n("select",{key:0,"onUpdate:modelValue":e[3]||(e[3]=r=>o.formData.client_id=r),id:"color_id",class:"pr-8 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",disabled:""},[t("option",be,s(a.$t("selectCustomer")),1),(d(!0),n(U,null,V(o.client,(r,C)=>(d(),n("option",{key:C,value:r.id},s(r.name),9,ye))),128))],512)),[[X,o.formData.client_id]])])])]),t("div",fe,[t("div",xe,[t("label",pe,s(a.$t("car_type")),1),i(t("input",{id:"car_type",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[4]||(e[4]=r=>o.formData.car_type=r)},null,512),[[g,o.formData.car_type]])]),t("div",ke,[t("label",ve,s(a.$t("year")),1),i(t("input",{id:"year",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[5]||(e[5]=r=>o.formData.year=r)},null,512),[[g,o.formData.year]])]),t("div",he,[t("label",_e,s(a.$t("color")),1),i(t("input",{id:"car_color",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[6]||(e[6]=r=>o.formData.car_color=r)},null,512),[[g,o.formData.car_color]])]),t("div",we,[t("label",De,s(a.$t("vin")),1),i(t("input",{id:"vin",type:"text",onChange:e[7]||(e[7]=r=>L(o.formData.vin)),class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[8]||(e[8]=r=>o.formData.vin=r)},null,544),[[g,o.formData.vin]]),w(M)?(d(),n("div",$e," \u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0635\u064A \u0645\u0633\u062A\u062E\u062F\u0645 ")):b("",!0)]),t("div",Ce,[t("label",Ue,s(a.$t("car_number")),1),i(t("input",{id:"car_number",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[9]||(e[9]=r=>o.formData.car_number=r)},null,512),[[g,o.formData.car_number]])]),t("div",Ve,[t("label",Ne,s(a.$t("expenses")),1),i(t("input",{id:"expenses",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[10]||(e[10]=r=>o.formData.expenses_s=r)},null,512),[[g,o.formData.expenses_s]])]),t("div",Re,[t("label",Me,s(a.$t("dinar")),1),i(t("input",{id:"dinar_s",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[11]||(e[11]=r=>o.formData.dinar_s=r)},null,512),[[g,o.formData.dinar_s]])]),t("div",Fe,[t("label",Te,s(a.$t("dolar_price")),1),i(t("input",{id:"dolar_price_s",onChange:O,type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[12]||(e[12]=r=>o.formData.dolar_price_s=r)},null,544),[[g,o.formData.dolar_price_s]]),w(D)?(d(),n("div",Ee," \u0645\u0637\u0644\u0648\u0628 \u0631\u0642\u0645 \u0645\u0646 6 \u062E\u0627\u0646\u0629 \u0641\u0642\u0637 ")):b("",!0)]),t("div",je,[t("label",Ae,s(a.$t("shipping_dolar")),1),i(t("input",{id:"shipping_dolar",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[13]||(e[13]=r=>o.formData.shipping_dolar_s=r)},null,512),[[g,o.formData.shipping_dolar_s]])]),t("div",Se,[t("label",Ie,s(a.$t("coc_dolar")),1),i(t("input",{id:"coc_dolar_s",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[14]||(e[14]=r=>o.formData.coc_dolar_s=r)},null,512),[[g,o.formData.coc_dolar_s]])]),t("div",Le,[t("label",Be,s(a.$t("checkout")),1),i(t("input",{id:"checkout_s",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[15]||(e[15]=r=>o.formData.checkout_s=r)},null,512),[[g,o.formData.checkout_s]])]),t("div",Oe,[e[28]||(e[28]=t("label",{class:"dark:text-gray-200",for:"expenses"}," \u0646\u0642\u0644 \u0628\u0631\u064A ",-1)),i(t("input",{id:"expenses",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[16]||(e[16]=r=>o.formData.land_shipping_s=r)},null,512),[[g,o.formData.land_shipping_s]])]),t("div",He,[t("label",ze,s(a.$t("date")),1),i(t("input",{id:"date",type:"date",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[17]||(e[17]=r=>o.formData.date=r)},null,512),[[g,o.formData.date]])])]),t("div",Pe,[t("label",qe,s(a.$t("note")),1),i(t("input",{id:"note",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[18]||(e[18]=r=>o.formData.note=r)},null,512),[[g,o.formData.note]])])])):b("",!0),m.value==="registration"?(d(),n("div",Qe,[e[36]||(e[36]=t("div",{class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg mb-4"},[t("h3",{class:"text-lg font-semibold text-blue-800 dark:text-blue-300 mb-2"}," \u{1F4CB} \u062D\u0633\u0627\u0628 \u0631\u0633\u0648\u0645 \u0627\u0644\u062A\u0633\u062C\u064A\u0644 \u0648\u0627\u0644\u0645\u0635\u0627\u0631\u064A\u0641 "),t("p",{class:"text-sm text-blue-600 dark:text-blue-400"},' \u0627\u0645\u0644\u0623 \u0627\u0644\u062D\u0642\u0648\u0644 \u0623\u062F\u0646\u0627\u0647\u060C \u0633\u064A\u062A\u0645 \u0627\u0644\u062D\u0633\u0627\u0628 \u062A\u0644\u0642\u0627\u0626\u064A\u0627\u064B \u0648\u0639\u0646\u062F \u0627\u0644\u0636\u063A\u0637 \u0639\u0644\u0649 "\u062A\u0637\u0628\u064A\u0642 \u0627\u0644\u0631\u0633\u0648\u0645" \u0633\u064A\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0628\u0644\u063A \u0639\u0644\u0649 \u0627\u0644\u0645\u0635\u0627\u0631\u064A\u0641 \u0648\u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0629 ')],-1)),t("div",Ye,[t("div",Ge,[e[29]||(e[29]=t("label",{class:"dark:text-gray-200 font-medium",for:"reg_fee_s"}," \u0627\u0644\u062A\u0633\u062C\u064A\u0644 (\u062F\u064A\u0646\u0627\u0631) ",-1)),i(t("input",{id:"reg_fee_s",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[19]||(e[19]=r=>c.value.fee=r),placeholder:"0"},null,512),[[g,c.value.fee,void 0,{number:!0}]])]),t("div",Je,[e[30]||(e[30]=t("label",{class:"dark:text-gray-200 font-medium",for:"reg_expenses_s"}," \u0627\u0644\u0645\u0635\u0631\u0648\u0641 (\u062F\u064A\u0646\u0627\u0631) ",-1)),i(t("input",{id:"reg_expenses_s",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[20]||(e[20]=r=>c.value.expenses=r),placeholder:"0"},null,512),[[g,c.value.expenses,void 0,{number:!0}]])]),t("div",Ke,[e[31]||(e[31]=t("label",{class:"dark:text-gray-200 font-medium",for:"reg_contract_s"}," \u0639\u0642\u062F \u0627\u0644\u0634\u0631\u0643\u0629 (\u062F\u064A\u0646\u0627\u0631) ",-1)),i(t("input",{id:"reg_contract_s",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[21]||(e[21]=r=>c.value.companyContract=r)},null,512),[[g,c.value.companyContract,void 0,{number:!0}]]),e[32]||(e[32]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," \u0627\u0644\u0642\u064A\u0645\u0629 \u0627\u0644\u0627\u0641\u062A\u0631\u0627\u0636\u064A\u0629: 200,000 \u062F\u064A\u0646\u0627\u0631 ",-1))]),t("div",We,[e[33]||(e[33]=t("label",{class:"dark:text-gray-200 font-medium",for:"reg_exchange_s"}," \u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641 ",-1)),i(t("input",{id:"reg_exchange_s",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-900","onUpdate:modelValue":e[22]||(e[22]=r=>c.value.exchangeRate=r),placeholder:"\u0645\u0646 \u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641 \u0627\u0644\u0627\u0641\u062A\u0631\u0627\u0636\u064A"},null,512),[[g,c.value.exchangeRate,void 0,{number:!0}]]),e[34]||(e[34]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," \u{1F4A1} \u064A\u0623\u062A\u064A \u0645\u0646 \u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641 \u0627\u0644\u0627\u0641\u062A\u0631\u0627\u0636\u064A ",-1))])]),t("div",Xe,[t("div",Ze,[e[35]||(e[35]=t("div",null,[t("h4",{class:"text-lg font-bold text-green-800 dark:text-green-300"}," \u0627\u0644\u0645\u062C\u0645\u0648\u0639 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 (\u0639\u062F\u062F \u0635\u062D\u064A\u062D) "),t("p",{class:"text-sm text-green-600 dark:text-green-400 mt-1"}," \u0627\u0644\u062D\u0633\u0627\u0628: (\u0627\u0644\u062A\u0633\u062C\u064A\u0644 + \u0627\u0644\u0645\u0635\u0631\u0648\u0641 + \u0639\u0642\u062F \u0627\u0644\u0634\u0631\u0643\u0629) \xF7 (\u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641 \xF7 100) ")],-1)),t("div",et,s(x.value)+" $ ",1)])]),t("div",tt,[t("button",{onClick:S,disabled:x.value<=0,class:p(["w-full py-3 px-4 rounded-lg font-semibold text-white transition-all",x.value>0?"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 shadow-lg":"bg-gray-400 cursor-not-allowed"])}," \u2705 \u062A\u0637\u0628\u064A\u0642 \u0627\u0644\u0631\u0633\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0645\u0635\u0627\u0631\u064A\u0641 \u0648\u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0629 ",10,at),t("p",rt," \u0633\u064A\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 "+s(x.value)+"$ \u0639\u0644\u0649 \u0627\u0644\u0645\u0635\u0627\u0631\u064A\u0641 \u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0629 ",1)])])):b("",!0),m.value==="history"?(d(),n("div",ot,[t("div",st,[$.value?(d(),n("div",dt,[...e[37]||(e[37]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),t("p",{class:"mt-4 text-gray-600 dark:text-gray-400"},"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062A\u0627\u0631\u064A\u062E...",-1)])])):k.value.length===0?(d(),n("div",nt,[...e[38]||(e[38]=[t("div",{class:"text-5xl mb-2"},"\u{1F4ED}",-1),t("p",{class:"text-lg text-gray-500 dark:text-gray-400"},"\u0644\u0627 \u064A\u0648\u062C\u062F \u062A\u0627\u0631\u064A\u062E \u0644\u0644\u0633\u064A\u0627\u0631\u0629",-1)])])):(d(),n("div",lt,[(d(!0),n(U,null,V(k.value,(r,C)=>(d(),n("div",{key:r.id||C,class:p(["bg-gray-50 dark:bg-gray-800 rounded-lg p-4 border-r-4",{"border-green-500":r.action==="create","border-blue-500":r.action==="update","border-red-500":r.action==="delete","border-yellow-500":r.action==="restore","border-purple-500":r.action==="sale"||r.action==="purchase"}])},[t("div",it,[t("div",gt,[t("div",ut,[t("span",ct,s(z(r.action)),1),t("span",mt,s(P(r.action)),1),t("span",bt,s(q(r.created_at)),1)]),t("p",yt,s(r.description||"\u0644\u0627 \u064A\u0648\u062C\u062F \u0648\u0635\u0641"),1),r.user?(d(),n("div",ft," \u{1F464} "+s(r.user.name||"\u0645\u0633\u062A\u062E\u062F\u0645 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)):b("",!0),r.changes&&Object.keys(F(r.changes)).length>0?(d(),n("div",xt,[e[40]||(e[40]=t("div",{class:"font-semibold mb-2 text-gray-700 dark:text-gray-300 text-sm"},"\u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A:",-1)),t("div",pt,[(d(!0),n(U,null,V(F(r.changes),(E,j)=>(d(),n("div",{key:j,class:"flex items-center gap-2 py-1 px-2 rounded bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},[t("span",kt,s(Q(j))+":",1),t("div",vt,[t("span",ht,s(E.old||"\u0641\u0627\u0631\u063A"),1),e[39]||(e[39]=t("span",{class:"text-blue-500 dark:text-blue-400 text-lg font-bold"},"\u27F5",-1)),t("span",_t,s(E.new||"\u0641\u0627\u0631\u063A"),1)])]))),128))])])):b("",!0)])])],2))),128)),v.value>1?(d(),n("div",wt,[t("button",{onClick:e[23]||(e[23]=r=>h(f.value-1)),disabled:f.value===1,class:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed"}," \u0627\u0644\u0633\u0627\u0628\u0642 ",8,Dt),t("span",$t," \u0635\u0641\u062D\u0629 "+s(f.value)+" \u0645\u0646 "+s(v.value),1),t("button",{onClick:e[24]||(e[24]=r=>h(f.value+1)),disabled:f.value>=v.value,class:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed"}," \u0627\u0644\u062A\u0627\u0644\u064A ",8,Ct)])):b("",!0)]))])])):b("",!0),m.value==="edit"?(d(),n("div",Ut,[t("div",Vt,[t("div",Nt,[e[41]||(e[41]=t("label",{class:"form-label"},"\u0627\u0644\u0635\u0648\u0631",-1)),t("div",Rt,[Z(w(te),{server:"/api/carsAnnualUpload?img_type=contract&carId="+o.formData.id,"is-invalid":!!((l=a.errors)!=null&&l.media),onChange:a.changeMedia,onInitMedia:a.media,location:"/public/uploadsResized",media:o.formData.car_images,onAdd:a.addMedia,onRemove:H},null,8,["server","is-invalid","onChange","onInitMedia","media","onAdd"])]),(_=a.errors)!=null&&_.media?(d(),n("p",Mt,s((T=a.errors)==null?void 0:T.media[0]),1)):b("",!0)])]),t("div",Ft,[t("div",Tt,[t("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:e[25]||(e[25]=r=>a.$emit("close"))},s(a.$t("cancel")),1)]),t("div",Et,[t("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:e[26]||(e[26]=r=>{o.formData.date=o.formData.date?o.formData.date:I(),a.$emit("a",o.formData),o.formData=""}),disabled:!o.formData.client_id&&!o.formData.client_name},s(a.$t("yes")),9,jt)])])])):b("",!0),m.value==="history"?(d(),n("div",At,[t("div",St,[t("div",It,[t("button",{class:"modal-default-button py-3 bg-gray-500 rounded w-full",onClick:e[27]||(e[27]=r=>a.$emit("close"))},s(a.$t("cancel")),1)])])])):b("",!0)])])])):b("",!0)]}),_:3}))}};export{zt as _};
